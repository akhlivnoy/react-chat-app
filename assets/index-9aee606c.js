var j8=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var zve=j8((Jve,gm)=>{function B8(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function z8(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mm={},H8={get exports(){return mm},set exports(t){mm=t}},Y_={},X={},G8={get exports(){return X},set exports(t){X=t}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fd=Symbol.for("react.element"),q8=Symbol.for("react.portal"),Y8=Symbol.for("react.fragment"),K8=Symbol.for("react.strict_mode"),Q8=Symbol.for("react.profiler"),X8=Symbol.for("react.provider"),J8=Symbol.for("react.context"),Z8=Symbol.for("react.forward_ref"),eG=Symbol.for("react.suspense"),tG=Symbol.for("react.memo"),nG=Symbol.for("react.lazy"),lb=Symbol.iterator;function rG(t){return t===null||typeof t!="object"?null:(t=lb&&t[lb]||t["@@iterator"],typeof t=="function"?t:null)}var _L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vL=Object.assign,yL={};function dc(t,e,n){this.props=t,this.context=e,this.refs=yL,this.updater=n||_L}dc.prototype.isReactComponent={};dc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};dc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wL(){}wL.prototype=dc.prototype;function RT(t,e,n){this.props=t,this.context=e,this.refs=yL,this.updater=n||_L}var AT=RT.prototype=new wL;AT.constructor=RT;vL(AT,dc.prototype);AT.isPureReactComponent=!0;var cb=Array.isArray,EL=Object.prototype.hasOwnProperty,PT={current:null},SL={key:!0,ref:!0,__self:!0,__source:!0};function TL(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)EL.call(e,r)&&!SL.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var l=Array(u),h=0;h<u;h++)l[h]=arguments[h+2];i.children=l}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:fd,type:t,key:s,ref:o,props:i,_owner:PT.current}}function iG(t,e){return{$$typeof:fd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function kT(t){return typeof t=="object"&&t!==null&&t.$$typeof===fd}function sG(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var hb=/\/+/g;function gw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sG(""+t.key):e.toString(36)}function Lg(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case fd:case q8:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+gw(o,0):r,cb(i)?(n="",t!=null&&(n=t.replace(hb,"$&/")+"/"),Lg(i,e,n,"",function(h){return h})):i!=null&&(kT(i)&&(i=iG(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(hb,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",cb(t))for(var u=0;u<t.length;u++){s=t[u];var l=r+gw(s,u);o+=Lg(s,e,n,l,i)}else if(l=rG(t),typeof l=="function")for(t=l.call(t),u=0;!(s=t.next()).done;)s=s.value,l=r+gw(s,u++),o+=Lg(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Gp(t,e,n){if(t==null)return t;var r=[],i=0;return Lg(t,r,"","",function(s){return e.call(n,s,i++)}),r}function oG(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ir={current:null},Mg={transition:null},aG={ReactCurrentDispatcher:ir,ReactCurrentBatchConfig:Mg,ReactCurrentOwner:PT};je.Children={map:Gp,forEach:function(t,e,n){Gp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Gp(t,function(){e++}),e},toArray:function(t){return Gp(t,function(e){return e})||[]},only:function(t){if(!kT(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=dc;je.Fragment=Y8;je.Profiler=Q8;je.PureComponent=RT;je.StrictMode=K8;je.Suspense=eG;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aG;je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=vL({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=PT.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(l in e)EL.call(e,l)&&!SL.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&u!==void 0?u[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){u=Array(l);for(var h=0;h<l;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:fd,type:t.type,key:i,ref:s,props:r,_owner:o}};je.createContext=function(t){return t={$$typeof:J8,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:X8,_context:t},t.Consumer=t};je.createElement=TL;je.createFactory=function(t){var e=TL.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:Z8,render:t}};je.isValidElement=kT;je.lazy=function(t){return{$$typeof:nG,_payload:{_status:-1,_result:t},_init:oG}};je.memo=function(t,e){return{$$typeof:tG,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=Mg.transition;Mg.transition={};try{t()}finally{Mg.transition=e}};je.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};je.useCallback=function(t,e){return ir.current.useCallback(t,e)};je.useContext=function(t){return ir.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return ir.current.useDeferredValue(t)};je.useEffect=function(t,e){return ir.current.useEffect(t,e)};je.useId=function(){return ir.current.useId()};je.useImperativeHandle=function(t,e,n){return ir.current.useImperativeHandle(t,e,n)};je.useInsertionEffect=function(t,e){return ir.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return ir.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return ir.current.useMemo(t,e)};je.useReducer=function(t,e,n){return ir.current.useReducer(t,e,n)};je.useRef=function(t){return ir.current.useRef(t)};je.useState=function(t){return ir.current.useState(t)};je.useSyncExternalStore=function(t,e,n){return ir.current.useSyncExternalStore(t,e,n)};je.useTransition=function(){return ir.current.useTransition()};je.version="18.2.0";(function(t){t.exports=je})(G8);const bT=z8(X),e1=B8({__proto__:null,default:bT},[X]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uG=X,lG=Symbol.for("react.element"),cG=Symbol.for("react.fragment"),hG=Object.prototype.hasOwnProperty,fG=uG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dG={key:!0,ref:!0,__self:!0,__source:!0};function IL(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)hG.call(e,r)&&!dG.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:lG,type:t,key:s,ref:o,props:i,_owner:fG.current}}Y_.Fragment=cG;Y_.jsx=IL;Y_.jsxs=IL;(function(t){t.exports=Y_})(H8);const te=mm.jsx,ot=mm.jsxs;var t1={},_m={},pG={get exports(){return _m},set exports(t){_m=t}},Dr={},n1={},gG={get exports(){return n1},set exports(t){n1=t}},CL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,B){var H=M.length;M.push(B);e:for(;0<H;){var ue=H-1>>>1,fe=M[ue];if(0<i(fe,B))M[ue]=B,M[H]=fe,H=ue;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var B=M[0],H=M.pop();if(H!==B){M[0]=H;e:for(var ue=0,fe=M.length,Se=fe>>>1;ue<Se;){var fs=2*(ue+1)-1,$i=M[fs],$r=fs+1,Pu=M[$r];if(0>i($i,H))$r<fe&&0>i(Pu,$i)?(M[ue]=Pu,M[$r]=H,ue=$r):(M[ue]=$i,M[fs]=H,ue=fs);else if($r<fe&&0>i(Pu,H))M[ue]=Pu,M[$r]=H,ue=$r;else break e}}return B}function i(M,B){var H=M.sortIndex-B.sortIndex;return H!==0?H:M.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var l=[],h=[],d=1,p=null,g=3,v=!1,E=!1,R=!1,C=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(M){for(var B=n(h);B!==null;){if(B.callback===null)r(h);else if(B.startTime<=M)r(h),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(h)}}function b(M){if(R=!1,k(M),!E)if(n(l)!==null)E=!0,D(F);else{var B=n(h);B!==null&&O(b,B.startTime-M)}}function F(M,B){E=!1,R&&(R=!1,S(q),q=-1),v=!0;var H=g;try{for(k(B),p=n(l);p!==null&&(!(p.expirationTime>B)||M&&!Ne());){var ue=p.callback;if(typeof ue=="function"){p.callback=null,g=p.priorityLevel;var fe=ue(p.expirationTime<=B);B=t.unstable_now(),typeof fe=="function"?p.callback=fe:p===n(l)&&r(l),k(B)}else r(l);p=n(l)}if(p!==null)var Se=!0;else{var fs=n(h);fs!==null&&O(b,fs.startTime-B),Se=!1}return Se}finally{p=null,g=H,v=!1}}var V=!1,W=null,q=-1,ie=5,re=-1;function Ne(){return!(t.unstable_now()-re<ie)}function I(){if(W!==null){var M=t.unstable_now();re=M;var B=!0;try{B=W(!0,M)}finally{B?_():(V=!1,W=null)}}else V=!1}var _;if(typeof T=="function")_=function(){T(I)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,N=w.port2;w.port1.onmessage=I,_=function(){N.postMessage(null)}}else _=function(){C(I,0)};function D(M){W=M,V||(V=!0,_())}function O(M,B){q=C(function(){M(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){E||v||(E=!0,D(F))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(g){case 1:case 2:case 3:var B=3;break;default:B=g}var H=g;g=B;try{return M()}finally{g=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,B){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var H=g;g=M;try{return B()}finally{g=H}},t.unstable_scheduleCallback=function(M,B,H){var ue=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ue+H:ue):H=ue,M){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=H+fe,M={id:d++,callback:B,priorityLevel:M,startTime:H,expirationTime:fe,sortIndex:-1},H>ue?(M.sortIndex=H,e(h,M),n(l)===null&&M===n(h)&&(R?(S(q),q=-1):R=!0,O(b,H-ue))):(M.sortIndex=fe,e(l,M),E||v||(E=!0,D(F))),M},t.unstable_shouldYield=Ne,t.unstable_wrapCallback=function(M){var B=g;return function(){var H=g;g=B;try{return M.apply(this,arguments)}finally{g=H}}}})(CL);(function(t){t.exports=CL})(gG);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RL=X,br=n1;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var AL=new Set,hf={};function mu(t,e){jl(t,e),jl(t+"Capture",e)}function jl(t,e){for(hf[t]=e,t=0;t<e.length;t++)AL.add(e[t])}var Ws=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),r1=Object.prototype.hasOwnProperty,mG=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fb={},db={};function _G(t){return r1.call(db,t)?!0:r1.call(fb,t)?!1:mG.test(t)?db[t]=!0:(fb[t]=!0,!1)}function vG(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yG(t,e,n,r){if(e===null||typeof e>"u"||vG(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var In={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){In[t]=new sr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];In[e]=new sr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){In[t]=new sr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){In[t]=new sr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){In[t]=new sr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){In[t]=new sr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){In[t]=new sr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){In[t]=new sr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){In[t]=new sr(t,5,!1,t.toLowerCase(),null,!1,!1)});var OT=/[\-:]([a-z])/g;function NT(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(OT,NT);In[e]=new sr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(OT,NT);In[e]=new sr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(OT,NT);In[e]=new sr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){In[t]=new sr(t,1,!1,t.toLowerCase(),null,!1,!1)});In.xlinkHref=new sr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){In[t]=new sr(t,1,!1,t.toLowerCase(),null,!0,!0)});function xT(t,e,n,r){var i=In.hasOwnProperty(e)?In[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(yG(e,n,i,r)&&(n=null),r||i===null?_G(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var to=RL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qp=Symbol.for("react.element"),rl=Symbol.for("react.portal"),il=Symbol.for("react.fragment"),DT=Symbol.for("react.strict_mode"),i1=Symbol.for("react.profiler"),PL=Symbol.for("react.provider"),kL=Symbol.for("react.context"),LT=Symbol.for("react.forward_ref"),s1=Symbol.for("react.suspense"),o1=Symbol.for("react.suspense_list"),MT=Symbol.for("react.memo"),mo=Symbol.for("react.lazy"),bL=Symbol.for("react.offscreen"),pb=Symbol.iterator;function ah(t){return t===null||typeof t!="object"?null:(t=pb&&t[pb]||t["@@iterator"],typeof t=="function"?t:null)}var bt=Object.assign,mw;function Ch(t){if(mw===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);mw=e&&e[1]||""}return`
`+mw+t}var _w=!1;function vw(t,e){if(!t||_w)return"";_w=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,u=s.length-1;1<=o&&0<=u&&i[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==s[u]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=u);break}}}finally{_w=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ch(t):""}function wG(t){switch(t.tag){case 5:return Ch(t.type);case 16:return Ch("Lazy");case 13:return Ch("Suspense");case 19:return Ch("SuspenseList");case 0:case 2:case 15:return t=vw(t.type,!1),t;case 11:return t=vw(t.type.render,!1),t;case 1:return t=vw(t.type,!0),t;default:return""}}function a1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case il:return"Fragment";case rl:return"Portal";case i1:return"Profiler";case DT:return"StrictMode";case s1:return"Suspense";case o1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case kL:return(t.displayName||"Context")+".Consumer";case PL:return(t._context.displayName||"Context")+".Provider";case LT:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case MT:return e=t.displayName||null,e!==null?e:a1(t.type)||"Memo";case mo:e=t._payload,t=t._init;try{return a1(t(e))}catch{}}return null}function EG(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return a1(e);case 8:return e===DT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ta(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function OL(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function SG(t){var e=OL(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Yp(t){t._valueTracker||(t._valueTracker=SG(t))}function NL(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=OL(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function vm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function u1(t,e){var n=e.checked;return bt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function gb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ta(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xL(t,e){e=e.checked,e!=null&&xT(t,"checked",e,!1)}function l1(t,e){xL(t,e);var n=ta(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?c1(t,e.type,n):e.hasOwnProperty("defaultValue")&&c1(t,e.type,ta(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function mb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function c1(t,e,n){(e!=="number"||vm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Rh=Array.isArray;function wl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ta(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function h1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return bt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _b(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(Rh(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ta(n)}}function DL(t,e){var n=ta(e.value),r=ta(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function vb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function LL(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function f1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?LL(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Kp,ML=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Kp=Kp||document.createElement("div"),Kp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Kp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ff(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Uh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TG=["Webkit","ms","Moz","O"];Object.keys(Uh).forEach(function(t){TG.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Uh[e]=Uh[t]})});function UL(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Uh.hasOwnProperty(t)&&Uh[t]?(""+e).trim():e+"px"}function FL(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=UL(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var IG=bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function d1(t,e){if(e){if(IG[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function p1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var g1=null;function UT(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var m1=null,El=null,Sl=null;function yb(t){if(t=gd(t)){if(typeof m1!="function")throw Error(J(280));var e=t.stateNode;e&&(e=Z_(e),m1(t.stateNode,t.type,e))}}function $L(t){El?Sl?Sl.push(t):Sl=[t]:El=t}function VL(){if(El){var t=El,e=Sl;if(Sl=El=null,yb(t),e)for(t=0;t<e.length;t++)yb(e[t])}}function WL(t,e){return t(e)}function jL(){}var yw=!1;function BL(t,e,n){if(yw)return t(e,n);yw=!0;try{return WL(t,e,n)}finally{yw=!1,(El!==null||Sl!==null)&&(jL(),VL())}}function df(t,e){var n=t.stateNode;if(n===null)return null;var r=Z_(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var _1=!1;if(Ws)try{var uh={};Object.defineProperty(uh,"passive",{get:function(){_1=!0}}),window.addEventListener("test",uh,uh),window.removeEventListener("test",uh,uh)}catch{_1=!1}function CG(t,e,n,r,i,s,o,u,l){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(d){this.onError(d)}}var Fh=!1,ym=null,wm=!1,v1=null,RG={onError:function(t){Fh=!0,ym=t}};function AG(t,e,n,r,i,s,o,u,l){Fh=!1,ym=null,CG.apply(RG,arguments)}function PG(t,e,n,r,i,s,o,u,l){if(AG.apply(this,arguments),Fh){if(Fh){var h=ym;Fh=!1,ym=null}else throw Error(J(198));wm||(wm=!0,v1=h)}}function _u(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function zL(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wb(t){if(_u(t)!==t)throw Error(J(188))}function kG(t){var e=t.alternate;if(!e){if(e=_u(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return wb(i),t;if(s===r)return wb(i),e;s=s.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=s;break}if(u===r){o=!0,r=i,n=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===n){o=!0,n=s,r=i;break}if(u===r){o=!0,r=s,n=i;break}u=u.sibling}if(!o)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function HL(t){return t=kG(t),t!==null?GL(t):null}function GL(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=GL(t);if(e!==null)return e;t=t.sibling}return null}var qL=br.unstable_scheduleCallback,Eb=br.unstable_cancelCallback,bG=br.unstable_shouldYield,OG=br.unstable_requestPaint,jt=br.unstable_now,NG=br.unstable_getCurrentPriorityLevel,FT=br.unstable_ImmediatePriority,YL=br.unstable_UserBlockingPriority,Em=br.unstable_NormalPriority,xG=br.unstable_LowPriority,KL=br.unstable_IdlePriority,K_=null,Zi=null;function DG(t){if(Zi&&typeof Zi.onCommitFiberRoot=="function")try{Zi.onCommitFiberRoot(K_,t,void 0,(t.current.flags&128)===128)}catch{}}var Ci=Math.clz32?Math.clz32:UG,LG=Math.log,MG=Math.LN2;function UG(t){return t>>>=0,t===0?32:31-(LG(t)/MG|0)|0}var Qp=64,Xp=4194304;function Ah(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var u=o&~i;u!==0?r=Ah(u):(s&=o,s!==0&&(r=Ah(s)))}else o=n&~i,o!==0?r=Ah(o):s!==0&&(r=Ah(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ci(e),i=1<<n,r|=t[n],e&=~i;return r}function FG(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $G(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ci(s),u=1<<o,l=i[o];l===-1?(!(u&n)||u&r)&&(i[o]=FG(u,e)):l<=e&&(t.expiredLanes|=u),s&=~u}}function y1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function QL(){var t=Qp;return Qp<<=1,!(Qp&4194240)&&(Qp=64),t}function ww(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function dd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ci(e),t[e]=n}function VG(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ci(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function $T(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ci(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var nt=0;function XL(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var JL,VT,ZL,e2,t2,w1=!1,Jp=[],Mo=null,Uo=null,Fo=null,pf=new Map,gf=new Map,vo=[],WG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sb(t,e){switch(t){case"focusin":case"focusout":Mo=null;break;case"dragenter":case"dragleave":Uo=null;break;case"mouseover":case"mouseout":Fo=null;break;case"pointerover":case"pointerout":pf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gf.delete(e.pointerId)}}function lh(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=gd(e),e!==null&&VT(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function jG(t,e,n,r,i){switch(e){case"focusin":return Mo=lh(Mo,t,e,n,r,i),!0;case"dragenter":return Uo=lh(Uo,t,e,n,r,i),!0;case"mouseover":return Fo=lh(Fo,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return pf.set(s,lh(pf.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,gf.set(s,lh(gf.get(s)||null,t,e,n,r,i)),!0}return!1}function n2(t){var e=Fa(t.target);if(e!==null){var n=_u(e);if(n!==null){if(e=n.tag,e===13){if(e=zL(n),e!==null){t.blockedOn=e,t2(t.priority,function(){ZL(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ug(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=E1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);g1=r,n.target.dispatchEvent(r),g1=null}else return e=gd(n),e!==null&&VT(e),t.blockedOn=n,!1;e.shift()}return!0}function Tb(t,e,n){Ug(t)&&n.delete(e)}function BG(){w1=!1,Mo!==null&&Ug(Mo)&&(Mo=null),Uo!==null&&Ug(Uo)&&(Uo=null),Fo!==null&&Ug(Fo)&&(Fo=null),pf.forEach(Tb),gf.forEach(Tb)}function ch(t,e){t.blockedOn===e&&(t.blockedOn=null,w1||(w1=!0,br.unstable_scheduleCallback(br.unstable_NormalPriority,BG)))}function mf(t){function e(i){return ch(i,t)}if(0<Jp.length){ch(Jp[0],t);for(var n=1;n<Jp.length;n++){var r=Jp[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Mo!==null&&ch(Mo,t),Uo!==null&&ch(Uo,t),Fo!==null&&ch(Fo,t),pf.forEach(e),gf.forEach(e),n=0;n<vo.length;n++)r=vo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<vo.length&&(n=vo[0],n.blockedOn===null);)n2(n),n.blockedOn===null&&vo.shift()}var Tl=to.ReactCurrentBatchConfig,Tm=!0;function zG(t,e,n,r){var i=nt,s=Tl.transition;Tl.transition=null;try{nt=1,WT(t,e,n,r)}finally{nt=i,Tl.transition=s}}function HG(t,e,n,r){var i=nt,s=Tl.transition;Tl.transition=null;try{nt=4,WT(t,e,n,r)}finally{nt=i,Tl.transition=s}}function WT(t,e,n,r){if(Tm){var i=E1(t,e,n,r);if(i===null)bw(t,e,r,Im,n),Sb(t,r);else if(jG(i,t,e,n,r))r.stopPropagation();else if(Sb(t,r),e&4&&-1<WG.indexOf(t)){for(;i!==null;){var s=gd(i);if(s!==null&&JL(s),s=E1(t,e,n,r),s===null&&bw(t,e,r,Im,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else bw(t,e,r,null,n)}}var Im=null;function E1(t,e,n,r){if(Im=null,t=UT(r),t=Fa(t),t!==null)if(e=_u(t),e===null)t=null;else if(n=e.tag,n===13){if(t=zL(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Im=t,null}function r2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NG()){case FT:return 1;case YL:return 4;case Em:case xG:return 16;case KL:return 536870912;default:return 16}default:return 16}}var Po=null,jT=null,Fg=null;function i2(){if(Fg)return Fg;var t,e=jT,n=e.length,r,i="value"in Po?Po.value:Po.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Fg=i.slice(t,1<r?1-r:void 0)}function $g(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zp(){return!0}function Ib(){return!1}function Lr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Zp:Ib,this.isPropagationStopped=Ib,this}return bt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zp)},persist:function(){},isPersistent:Zp}),e}var pc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},BT=Lr(pc),pd=bt({},pc,{view:0,detail:0}),GG=Lr(pd),Ew,Sw,hh,Q_=bt({},pd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hh&&(hh&&t.type==="mousemove"?(Ew=t.screenX-hh.screenX,Sw=t.screenY-hh.screenY):Sw=Ew=0,hh=t),Ew)},movementY:function(t){return"movementY"in t?t.movementY:Sw}}),Cb=Lr(Q_),qG=bt({},Q_,{dataTransfer:0}),YG=Lr(qG),KG=bt({},pd,{relatedTarget:0}),Tw=Lr(KG),QG=bt({},pc,{animationName:0,elapsedTime:0,pseudoElement:0}),XG=Lr(QG),JG=bt({},pc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ZG=Lr(JG),eq=bt({},pc,{data:0}),Rb=Lr(eq),tq={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nq={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iq(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rq[t])?!!e[t]:!1}function zT(){return iq}var sq=bt({},pd,{key:function(t){if(t.key){var e=tq[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$g(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nq[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zT,charCode:function(t){return t.type==="keypress"?$g(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$g(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),oq=Lr(sq),aq=bt({},Q_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ab=Lr(aq),uq=bt({},pd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zT}),lq=Lr(uq),cq=bt({},pc,{propertyName:0,elapsedTime:0,pseudoElement:0}),hq=Lr(cq),fq=bt({},Q_,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dq=Lr(fq),pq=[9,13,27,32],HT=Ws&&"CompositionEvent"in window,$h=null;Ws&&"documentMode"in document&&($h=document.documentMode);var gq=Ws&&"TextEvent"in window&&!$h,s2=Ws&&(!HT||$h&&8<$h&&11>=$h),Pb=String.fromCharCode(32),kb=!1;function o2(t,e){switch(t){case"keyup":return pq.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function a2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var sl=!1;function mq(t,e){switch(t){case"compositionend":return a2(e);case"keypress":return e.which!==32?null:(kb=!0,Pb);case"textInput":return t=e.data,t===Pb&&kb?null:t;default:return null}}function _q(t,e){if(sl)return t==="compositionend"||!HT&&o2(t,e)?(t=i2(),Fg=jT=Po=null,sl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return s2&&e.locale!=="ko"?null:e.data;default:return null}}var vq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!vq[t.type]:e==="textarea"}function u2(t,e,n,r){$L(r),e=Cm(e,"onChange"),0<e.length&&(n=new BT("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Vh=null,_f=null;function yq(t){y2(t,0)}function X_(t){var e=ul(t);if(NL(e))return t}function wq(t,e){if(t==="change")return e}var l2=!1;if(Ws){var Iw;if(Ws){var Cw="oninput"in document;if(!Cw){var Ob=document.createElement("div");Ob.setAttribute("oninput","return;"),Cw=typeof Ob.oninput=="function"}Iw=Cw}else Iw=!1;l2=Iw&&(!document.documentMode||9<document.documentMode)}function Nb(){Vh&&(Vh.detachEvent("onpropertychange",c2),_f=Vh=null)}function c2(t){if(t.propertyName==="value"&&X_(_f)){var e=[];u2(e,_f,t,UT(t)),BL(yq,e)}}function Eq(t,e,n){t==="focusin"?(Nb(),Vh=e,_f=n,Vh.attachEvent("onpropertychange",c2)):t==="focusout"&&Nb()}function Sq(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return X_(_f)}function Tq(t,e){if(t==="click")return X_(e)}function Iq(t,e){if(t==="input"||t==="change")return X_(e)}function Cq(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pi=typeof Object.is=="function"?Object.is:Cq;function vf(t,e){if(Pi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!r1.call(e,i)||!Pi(t[i],e[i]))return!1}return!0}function xb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Db(t,e){var n=xb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xb(n)}}function h2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?h2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function f2(){for(var t=window,e=vm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=vm(t.document)}return e}function GT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Rq(t){var e=f2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&h2(n.ownerDocument.documentElement,n)){if(r!==null&&GT(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Db(n,s);var o=Db(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Aq=Ws&&"documentMode"in document&&11>=document.documentMode,ol=null,S1=null,Wh=null,T1=!1;function Lb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;T1||ol==null||ol!==vm(r)||(r=ol,"selectionStart"in r&&GT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wh&&vf(Wh,r)||(Wh=r,r=Cm(S1,"onSelect"),0<r.length&&(e=new BT("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ol)))}function eg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var al={animationend:eg("Animation","AnimationEnd"),animationiteration:eg("Animation","AnimationIteration"),animationstart:eg("Animation","AnimationStart"),transitionend:eg("Transition","TransitionEnd")},Rw={},d2={};Ws&&(d2=document.createElement("div").style,"AnimationEvent"in window||(delete al.animationend.animation,delete al.animationiteration.animation,delete al.animationstart.animation),"TransitionEvent"in window||delete al.transitionend.transition);function J_(t){if(Rw[t])return Rw[t];if(!al[t])return t;var e=al[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in d2)return Rw[t]=e[n];return t}var p2=J_("animationend"),g2=J_("animationiteration"),m2=J_("animationstart"),_2=J_("transitionend"),v2=new Map,Mb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function da(t,e){v2.set(t,e),mu(e,[t])}for(var Aw=0;Aw<Mb.length;Aw++){var Pw=Mb[Aw],Pq=Pw.toLowerCase(),kq=Pw[0].toUpperCase()+Pw.slice(1);da(Pq,"on"+kq)}da(p2,"onAnimationEnd");da(g2,"onAnimationIteration");da(m2,"onAnimationStart");da("dblclick","onDoubleClick");da("focusin","onFocus");da("focusout","onBlur");da(_2,"onTransitionEnd");jl("onMouseEnter",["mouseout","mouseover"]);jl("onMouseLeave",["mouseout","mouseover"]);jl("onPointerEnter",["pointerout","pointerover"]);jl("onPointerLeave",["pointerout","pointerover"]);mu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mu("onBeforeInput",["compositionend","keypress","textInput","paste"]);mu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ph="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bq=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ph));function Ub(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,PG(r,e,void 0,t),t.currentTarget=null}function y2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var u=r[o],l=u.instance,h=u.currentTarget;if(u=u.listener,l!==s&&i.isPropagationStopped())break e;Ub(i,u,h),s=l}else for(o=0;o<r.length;o++){if(u=r[o],l=u.instance,h=u.currentTarget,u=u.listener,l!==s&&i.isPropagationStopped())break e;Ub(i,u,h),s=l}}}if(wm)throw t=v1,wm=!1,v1=null,t}function gt(t,e){var n=e[P1];n===void 0&&(n=e[P1]=new Set);var r=t+"__bubble";n.has(r)||(w2(e,t,2,!1),n.add(r))}function kw(t,e,n){var r=0;e&&(r|=4),w2(n,t,r,e)}var tg="_reactListening"+Math.random().toString(36).slice(2);function yf(t){if(!t[tg]){t[tg]=!0,AL.forEach(function(n){n!=="selectionchange"&&(bq.has(n)||kw(n,!1,t),kw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[tg]||(e[tg]=!0,kw("selectionchange",!1,e))}}function w2(t,e,n,r){switch(r2(e)){case 1:var i=zG;break;case 4:i=HG;break;default:i=WT}n=i.bind(null,e,n,t),i=void 0,!_1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function bw(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;u!==null;){if(o=Fa(u),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}u=u.parentNode}}r=r.return}BL(function(){var h=s,d=UT(n),p=[];e:{var g=v2.get(t);if(g!==void 0){var v=BT,E=t;switch(t){case"keypress":if($g(n)===0)break e;case"keydown":case"keyup":v=oq;break;case"focusin":E="focus",v=Tw;break;case"focusout":E="blur",v=Tw;break;case"beforeblur":case"afterblur":v=Tw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Cb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=YG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=lq;break;case p2:case g2:case m2:v=XG;break;case _2:v=hq;break;case"scroll":v=GG;break;case"wheel":v=dq;break;case"copy":case"cut":case"paste":v=ZG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ab}var R=(e&4)!==0,C=!R&&t==="scroll",S=R?g!==null?g+"Capture":null:g;R=[];for(var T=h,k;T!==null;){k=T;var b=k.stateNode;if(k.tag===5&&b!==null&&(k=b,S!==null&&(b=df(T,S),b!=null&&R.push(wf(T,b,k)))),C)break;T=T.return}0<R.length&&(g=new v(g,E,null,n,d),p.push({event:g,listeners:R}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",g&&n!==g1&&(E=n.relatedTarget||n.fromElement)&&(Fa(E)||E[js]))break e;if((v||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,v?(E=n.relatedTarget||n.toElement,v=h,E=E?Fa(E):null,E!==null&&(C=_u(E),E!==C||E.tag!==5&&E.tag!==6)&&(E=null)):(v=null,E=h),v!==E)){if(R=Cb,b="onMouseLeave",S="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(R=Ab,b="onPointerLeave",S="onPointerEnter",T="pointer"),C=v==null?g:ul(v),k=E==null?g:ul(E),g=new R(b,T+"leave",v,n,d),g.target=C,g.relatedTarget=k,b=null,Fa(d)===h&&(R=new R(S,T+"enter",E,n,d),R.target=k,R.relatedTarget=C,b=R),C=b,v&&E)t:{for(R=v,S=E,T=0,k=R;k;k=zu(k))T++;for(k=0,b=S;b;b=zu(b))k++;for(;0<T-k;)R=zu(R),T--;for(;0<k-T;)S=zu(S),k--;for(;T--;){if(R===S||S!==null&&R===S.alternate)break t;R=zu(R),S=zu(S)}R=null}else R=null;v!==null&&Fb(p,g,v,R,!1),E!==null&&C!==null&&Fb(p,C,E,R,!0)}}e:{if(g=h?ul(h):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var F=wq;else if(bb(g))if(l2)F=Iq;else{F=Sq;var V=Eq}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(F=Tq);if(F&&(F=F(t,h))){u2(p,F,n,d);break e}V&&V(t,g,h),t==="focusout"&&(V=g._wrapperState)&&V.controlled&&g.type==="number"&&c1(g,"number",g.value)}switch(V=h?ul(h):window,t){case"focusin":(bb(V)||V.contentEditable==="true")&&(ol=V,S1=h,Wh=null);break;case"focusout":Wh=S1=ol=null;break;case"mousedown":T1=!0;break;case"contextmenu":case"mouseup":case"dragend":T1=!1,Lb(p,n,d);break;case"selectionchange":if(Aq)break;case"keydown":case"keyup":Lb(p,n,d)}var W;if(HT)e:{switch(t){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else sl?o2(t,n)&&(q="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(q="onCompositionStart");q&&(s2&&n.locale!=="ko"&&(sl||q!=="onCompositionStart"?q==="onCompositionEnd"&&sl&&(W=i2()):(Po=d,jT="value"in Po?Po.value:Po.textContent,sl=!0)),V=Cm(h,q),0<V.length&&(q=new Rb(q,t,null,n,d),p.push({event:q,listeners:V}),W?q.data=W:(W=a2(n),W!==null&&(q.data=W)))),(W=gq?mq(t,n):_q(t,n))&&(h=Cm(h,"onBeforeInput"),0<h.length&&(d=new Rb("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:h}),d.data=W))}y2(p,e)})}function wf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Cm(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=df(t,n),s!=null&&r.unshift(wf(t,s,i)),s=df(t,e),s!=null&&r.push(wf(t,s,i))),t=t.return}return r}function zu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Fb(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var u=n,l=u.alternate,h=u.stateNode;if(l!==null&&l===r)break;u.tag===5&&h!==null&&(u=h,i?(l=df(n,s),l!=null&&o.unshift(wf(n,l,u))):i||(l=df(n,s),l!=null&&o.push(wf(n,l,u)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Oq=/\r\n?/g,Nq=/\u0000|\uFFFD/g;function $b(t){return(typeof t=="string"?t:""+t).replace(Oq,`
`).replace(Nq,"")}function ng(t,e,n){if(e=$b(e),$b(t)!==e&&n)throw Error(J(425))}function Rm(){}var I1=null,C1=null;function R1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var A1=typeof setTimeout=="function"?setTimeout:void 0,xq=typeof clearTimeout=="function"?clearTimeout:void 0,Vb=typeof Promise=="function"?Promise:void 0,Dq=typeof queueMicrotask=="function"?queueMicrotask:typeof Vb<"u"?function(t){return Vb.resolve(null).then(t).catch(Lq)}:A1;function Lq(t){setTimeout(function(){throw t})}function Ow(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),mf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);mf(e)}function $o(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Wb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var gc=Math.random().toString(36).slice(2),Hi="__reactFiber$"+gc,Ef="__reactProps$"+gc,js="__reactContainer$"+gc,P1="__reactEvents$"+gc,Mq="__reactListeners$"+gc,Uq="__reactHandles$"+gc;function Fa(t){var e=t[Hi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[js]||n[Hi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Wb(t);t!==null;){if(n=t[Hi])return n;t=Wb(t)}return e}t=n,n=t.parentNode}return null}function gd(t){return t=t[Hi]||t[js],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ul(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function Z_(t){return t[Ef]||null}var k1=[],ll=-1;function pa(t){return{current:t}}function vt(t){0>ll||(t.current=k1[ll],k1[ll]=null,ll--)}function dt(t,e){ll++,k1[ll]=t.current,t.current=e}var na={},Bn=pa(na),dr=pa(!1),Za=na;function Bl(t,e){var n=t.type.contextTypes;if(!n)return na;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function pr(t){return t=t.childContextTypes,t!=null}function Am(){vt(dr),vt(Bn)}function jb(t,e,n){if(Bn.current!==na)throw Error(J(168));dt(Bn,e),dt(dr,n)}function E2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,EG(t)||"Unknown",i));return bt({},n,r)}function Pm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||na,Za=Bn.current,dt(Bn,t),dt(dr,dr.current),!0}function Bb(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=E2(t,e,Za),r.__reactInternalMemoizedMergedChildContext=t,vt(dr),vt(Bn),dt(Bn,t)):vt(dr),dt(dr,n)}var As=null,ev=!1,Nw=!1;function S2(t){As===null?As=[t]:As.push(t)}function Fq(t){ev=!0,S2(t)}function ga(){if(!Nw&&As!==null){Nw=!0;var t=0,e=nt;try{var n=As;for(nt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}As=null,ev=!1}catch(i){throw As!==null&&(As=As.slice(t+1)),qL(FT,ga),i}finally{nt=e,Nw=!1}}return null}var cl=[],hl=0,km=null,bm=0,Yr=[],Kr=0,eu=null,ks=1,bs="";function ba(t,e){cl[hl++]=bm,cl[hl++]=km,km=t,bm=e}function T2(t,e,n){Yr[Kr++]=ks,Yr[Kr++]=bs,Yr[Kr++]=eu,eu=t;var r=ks;t=bs;var i=32-Ci(r)-1;r&=~(1<<i),n+=1;var s=32-Ci(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ks=1<<32-Ci(e)+i|n<<i|r,bs=s+t}else ks=1<<s|n<<i|r,bs=t}function qT(t){t.return!==null&&(ba(t,1),T2(t,1,0))}function YT(t){for(;t===km;)km=cl[--hl],cl[hl]=null,bm=cl[--hl],cl[hl]=null;for(;t===eu;)eu=Yr[--Kr],Yr[Kr]=null,bs=Yr[--Kr],Yr[Kr]=null,ks=Yr[--Kr],Yr[Kr]=null}var Pr=null,Rr=null,Rt=!1,vi=null;function I2(t,e){var n=Zr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function zb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pr=t,Rr=$o(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pr=t,Rr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=eu!==null?{id:ks,overflow:bs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pr=t,Rr=null,!0):!1;default:return!1}}function b1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function O1(t){if(Rt){var e=Rr;if(e){var n=e;if(!zb(t,e)){if(b1(t))throw Error(J(418));e=$o(n.nextSibling);var r=Pr;e&&zb(t,e)?I2(r,n):(t.flags=t.flags&-4097|2,Rt=!1,Pr=t)}}else{if(b1(t))throw Error(J(418));t.flags=t.flags&-4097|2,Rt=!1,Pr=t}}}function Hb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pr=t}function rg(t){if(t!==Pr)return!1;if(!Rt)return Hb(t),Rt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!R1(t.type,t.memoizedProps)),e&&(e=Rr)){if(b1(t))throw C2(),Error(J(418));for(;e;)I2(t,e),e=$o(e.nextSibling)}if(Hb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Rr=$o(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Rr=null}}else Rr=Pr?$o(t.stateNode.nextSibling):null;return!0}function C2(){for(var t=Rr;t;)t=$o(t.nextSibling)}function zl(){Rr=Pr=null,Rt=!1}function KT(t){vi===null?vi=[t]:vi.push(t)}var $q=to.ReactCurrentBatchConfig;function mi(t,e){if(t&&t.defaultProps){e=bt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Om=pa(null),Nm=null,fl=null,QT=null;function XT(){QT=fl=Nm=null}function JT(t){var e=Om.current;vt(Om),t._currentValue=e}function N1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Il(t,e){Nm=t,QT=fl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(fr=!0),t.firstContext=null)}function ri(t){var e=t._currentValue;if(QT!==t)if(t={context:t,memoizedValue:e,next:null},fl===null){if(Nm===null)throw Error(J(308));fl=t,Nm.dependencies={lanes:0,firstContext:t}}else fl=fl.next=t;return e}var $a=null;function ZT(t){$a===null?$a=[t]:$a.push(t)}function R2(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ZT(e)):(n.next=i.next,i.next=n),e.interleaved=n,Bs(t,r)}function Bs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _o=!1;function eI(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function A2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Us(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,qe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Bs(t,n)}return i=r.interleaved,i===null?(e.next=e,ZT(r)):(e.next=i.next,i.next=e),r.interleaved=e,Bs(t,n)}function Vg(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$T(t,n)}}function Gb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function xm(t,e,n,r){var i=t.updateQueue;_o=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var l=u,h=l.next;l.next=null,o===null?s=h:o.next=h,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,u=d.lastBaseUpdate,u!==o&&(u===null?d.firstBaseUpdate=h:u.next=h,d.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;o=0,d=h=l=null,u=s;do{var g=u.lane,v=u.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:v,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var E=t,R=u;switch(g=e,v=n,R.tag){case 1:if(E=R.payload,typeof E=="function"){p=E.call(v,p,g);break e}p=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=R.payload,g=typeof E=="function"?E.call(v,p,g):E,g==null)break e;p=bt({},p,g);break e;case 2:_o=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[u]:g.push(u))}else v={eventTime:v,lane:g,tag:u.tag,payload:u.payload,callback:u.callback,next:null},d===null?(h=d=v,l=p):d=d.next=v,o|=g;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;g=u,u=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(1);if(d===null&&(l=p),i.baseState=l,i.firstBaseUpdate=h,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);nu|=o,t.lanes=o,t.memoizedState=p}}function qb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var P2=new RL.Component().refs;function x1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:bt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var tv={isMounted:function(t){return(t=t._reactInternals)?_u(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=nr(),i=jo(t),s=Us(r,i);s.payload=e,n!=null&&(s.callback=n),e=Vo(t,s,i),e!==null&&(Ri(e,t,i,r),Vg(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=nr(),i=jo(t),s=Us(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Vo(t,s,i),e!==null&&(Ri(e,t,i,r),Vg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nr(),r=jo(t),i=Us(n,r);i.tag=2,e!=null&&(i.callback=e),e=Vo(t,i,r),e!==null&&(Ri(e,t,r,n),Vg(e,t,r))}};function Yb(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!vf(n,r)||!vf(i,s):!0}function k2(t,e,n){var r=!1,i=na,s=e.contextType;return typeof s=="object"&&s!==null?s=ri(s):(i=pr(e)?Za:Bn.current,r=e.contextTypes,s=(r=r!=null)?Bl(t,i):na),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=tv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Kb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&tv.enqueueReplaceState(e,e.state,null)}function D1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=P2,eI(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ri(s):(s=pr(e)?Za:Bn.current,i.context=Bl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(x1(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&tv.enqueueReplaceState(i,i.state,null),xm(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function fh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var u=i.refs;u===P2&&(u=i.refs={}),o===null?delete u[s]:u[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function ig(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Qb(t){var e=t._init;return e(t._payload)}function b2(t){function e(S,T){if(t){var k=S.deletions;k===null?(S.deletions=[T],S.flags|=16):k.push(T)}}function n(S,T){if(!t)return null;for(;T!==null;)e(S,T),T=T.sibling;return null}function r(S,T){for(S=new Map;T!==null;)T.key!==null?S.set(T.key,T):S.set(T.index,T),T=T.sibling;return S}function i(S,T){return S=Bo(S,T),S.index=0,S.sibling=null,S}function s(S,T,k){return S.index=k,t?(k=S.alternate,k!==null?(k=k.index,k<T?(S.flags|=2,T):k):(S.flags|=2,T)):(S.flags|=1048576,T)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function u(S,T,k,b){return T===null||T.tag!==6?(T=$w(k,S.mode,b),T.return=S,T):(T=i(T,k),T.return=S,T)}function l(S,T,k,b){var F=k.type;return F===il?d(S,T,k.props.children,b,k.key):T!==null&&(T.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===mo&&Qb(F)===T.type)?(b=i(T,k.props),b.ref=fh(S,T,k),b.return=S,b):(b=Gg(k.type,k.key,k.props,null,S.mode,b),b.ref=fh(S,T,k),b.return=S,b)}function h(S,T,k,b){return T===null||T.tag!==4||T.stateNode.containerInfo!==k.containerInfo||T.stateNode.implementation!==k.implementation?(T=Vw(k,S.mode,b),T.return=S,T):(T=i(T,k.children||[]),T.return=S,T)}function d(S,T,k,b,F){return T===null||T.tag!==7?(T=qa(k,S.mode,b,F),T.return=S,T):(T=i(T,k),T.return=S,T)}function p(S,T,k){if(typeof T=="string"&&T!==""||typeof T=="number")return T=$w(""+T,S.mode,k),T.return=S,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case qp:return k=Gg(T.type,T.key,T.props,null,S.mode,k),k.ref=fh(S,null,T),k.return=S,k;case rl:return T=Vw(T,S.mode,k),T.return=S,T;case mo:var b=T._init;return p(S,b(T._payload),k)}if(Rh(T)||ah(T))return T=qa(T,S.mode,k,null),T.return=S,T;ig(S,T)}return null}function g(S,T,k,b){var F=T!==null?T.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return F!==null?null:u(S,T,""+k,b);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case qp:return k.key===F?l(S,T,k,b):null;case rl:return k.key===F?h(S,T,k,b):null;case mo:return F=k._init,g(S,T,F(k._payload),b)}if(Rh(k)||ah(k))return F!==null?null:d(S,T,k,b,null);ig(S,k)}return null}function v(S,T,k,b,F){if(typeof b=="string"&&b!==""||typeof b=="number")return S=S.get(k)||null,u(T,S,""+b,F);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case qp:return S=S.get(b.key===null?k:b.key)||null,l(T,S,b,F);case rl:return S=S.get(b.key===null?k:b.key)||null,h(T,S,b,F);case mo:var V=b._init;return v(S,T,k,V(b._payload),F)}if(Rh(b)||ah(b))return S=S.get(k)||null,d(T,S,b,F,null);ig(T,b)}return null}function E(S,T,k,b){for(var F=null,V=null,W=T,q=T=0,ie=null;W!==null&&q<k.length;q++){W.index>q?(ie=W,W=null):ie=W.sibling;var re=g(S,W,k[q],b);if(re===null){W===null&&(W=ie);break}t&&W&&re.alternate===null&&e(S,W),T=s(re,T,q),V===null?F=re:V.sibling=re,V=re,W=ie}if(q===k.length)return n(S,W),Rt&&ba(S,q),F;if(W===null){for(;q<k.length;q++)W=p(S,k[q],b),W!==null&&(T=s(W,T,q),V===null?F=W:V.sibling=W,V=W);return Rt&&ba(S,q),F}for(W=r(S,W);q<k.length;q++)ie=v(W,S,q,k[q],b),ie!==null&&(t&&ie.alternate!==null&&W.delete(ie.key===null?q:ie.key),T=s(ie,T,q),V===null?F=ie:V.sibling=ie,V=ie);return t&&W.forEach(function(Ne){return e(S,Ne)}),Rt&&ba(S,q),F}function R(S,T,k,b){var F=ah(k);if(typeof F!="function")throw Error(J(150));if(k=F.call(k),k==null)throw Error(J(151));for(var V=F=null,W=T,q=T=0,ie=null,re=k.next();W!==null&&!re.done;q++,re=k.next()){W.index>q?(ie=W,W=null):ie=W.sibling;var Ne=g(S,W,re.value,b);if(Ne===null){W===null&&(W=ie);break}t&&W&&Ne.alternate===null&&e(S,W),T=s(Ne,T,q),V===null?F=Ne:V.sibling=Ne,V=Ne,W=ie}if(re.done)return n(S,W),Rt&&ba(S,q),F;if(W===null){for(;!re.done;q++,re=k.next())re=p(S,re.value,b),re!==null&&(T=s(re,T,q),V===null?F=re:V.sibling=re,V=re);return Rt&&ba(S,q),F}for(W=r(S,W);!re.done;q++,re=k.next())re=v(W,S,q,re.value,b),re!==null&&(t&&re.alternate!==null&&W.delete(re.key===null?q:re.key),T=s(re,T,q),V===null?F=re:V.sibling=re,V=re);return t&&W.forEach(function(I){return e(S,I)}),Rt&&ba(S,q),F}function C(S,T,k,b){if(typeof k=="object"&&k!==null&&k.type===il&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case qp:e:{for(var F=k.key,V=T;V!==null;){if(V.key===F){if(F=k.type,F===il){if(V.tag===7){n(S,V.sibling),T=i(V,k.props.children),T.return=S,S=T;break e}}else if(V.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===mo&&Qb(F)===V.type){n(S,V.sibling),T=i(V,k.props),T.ref=fh(S,V,k),T.return=S,S=T;break e}n(S,V);break}else e(S,V);V=V.sibling}k.type===il?(T=qa(k.props.children,S.mode,b,k.key),T.return=S,S=T):(b=Gg(k.type,k.key,k.props,null,S.mode,b),b.ref=fh(S,T,k),b.return=S,S=b)}return o(S);case rl:e:{for(V=k.key;T!==null;){if(T.key===V)if(T.tag===4&&T.stateNode.containerInfo===k.containerInfo&&T.stateNode.implementation===k.implementation){n(S,T.sibling),T=i(T,k.children||[]),T.return=S,S=T;break e}else{n(S,T);break}else e(S,T);T=T.sibling}T=Vw(k,S.mode,b),T.return=S,S=T}return o(S);case mo:return V=k._init,C(S,T,V(k._payload),b)}if(Rh(k))return E(S,T,k,b);if(ah(k))return R(S,T,k,b);ig(S,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,T!==null&&T.tag===6?(n(S,T.sibling),T=i(T,k),T.return=S,S=T):(n(S,T),T=$w(k,S.mode,b),T.return=S,S=T),o(S)):n(S,T)}return C}var Hl=b2(!0),O2=b2(!1),md={},es=pa(md),Sf=pa(md),Tf=pa(md);function Va(t){if(t===md)throw Error(J(174));return t}function tI(t,e){switch(dt(Tf,e),dt(Sf,t),dt(es,md),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:f1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=f1(e,t)}vt(es),dt(es,e)}function Gl(){vt(es),vt(Sf),vt(Tf)}function N2(t){Va(Tf.current);var e=Va(es.current),n=f1(e,t.type);e!==n&&(dt(Sf,t),dt(es,n))}function nI(t){Sf.current===t&&(vt(es),vt(Sf))}var Pt=pa(0);function Dm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xw=[];function rI(){for(var t=0;t<xw.length;t++)xw[t]._workInProgressVersionPrimary=null;xw.length=0}var Wg=to.ReactCurrentDispatcher,Dw=to.ReactCurrentBatchConfig,tu=0,kt=null,Qt=null,an=null,Lm=!1,jh=!1,If=0,Vq=0;function kn(){throw Error(J(321))}function iI(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pi(t[n],e[n]))return!1;return!0}function sI(t,e,n,r,i,s){if(tu=s,kt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wg.current=t===null||t.memoizedState===null?zq:Hq,t=n(r,i),jh){s=0;do{if(jh=!1,If=0,25<=s)throw Error(J(301));s+=1,an=Qt=null,e.updateQueue=null,Wg.current=Gq,t=n(r,i)}while(jh)}if(Wg.current=Mm,e=Qt!==null&&Qt.next!==null,tu=0,an=Qt=kt=null,Lm=!1,e)throw Error(J(300));return t}function oI(){var t=If!==0;return If=0,t}function zi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?kt.memoizedState=an=t:an=an.next=t,an}function ii(){if(Qt===null){var t=kt.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var e=an===null?kt.memoizedState:an.next;if(e!==null)an=e,Qt=t;else{if(t===null)throw Error(J(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},an===null?kt.memoizedState=an=t:an=an.next=t}return an}function Cf(t,e){return typeof e=="function"?e(t):e}function Lw(t){var e=ii(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=Qt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var u=o=null,l=null,h=s;do{var d=h.lane;if((tu&d)===d)l!==null&&(l=l.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var p={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};l===null?(u=l=p,o=r):l=l.next=p,kt.lanes|=d,nu|=d}h=h.next}while(h!==null&&h!==s);l===null?o=r:l.next=u,Pi(r,e.memoizedState)||(fr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,kt.lanes|=s,nu|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Mw(t){var e=ii(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Pi(s,e.memoizedState)||(fr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function x2(){}function D2(t,e){var n=kt,r=ii(),i=e(),s=!Pi(r.memoizedState,i);if(s&&(r.memoizedState=i,fr=!0),r=r.queue,aI(U2.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||an!==null&&an.memoizedState.tag&1){if(n.flags|=2048,Rf(9,M2.bind(null,n,r,i,e),void 0,null),un===null)throw Error(J(349));tu&30||L2(n,e,i)}return i}function L2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=kt.updateQueue,e===null?(e={lastEffect:null,stores:null},kt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function M2(t,e,n,r){e.value=n,e.getSnapshot=r,F2(e)&&$2(t)}function U2(t,e,n){return n(function(){F2(e)&&$2(t)})}function F2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pi(t,n)}catch{return!0}}function $2(t){var e=Bs(t,1);e!==null&&Ri(e,t,1,-1)}function Xb(t){var e=zi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cf,lastRenderedState:t},e.queue=t,t=t.dispatch=Bq.bind(null,kt,t),[e.memoizedState,t]}function Rf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=kt.updateQueue,e===null?(e={lastEffect:null,stores:null},kt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function V2(){return ii().memoizedState}function jg(t,e,n,r){var i=zi();kt.flags|=t,i.memoizedState=Rf(1|e,n,void 0,r===void 0?null:r)}function nv(t,e,n,r){var i=ii();r=r===void 0?null:r;var s=void 0;if(Qt!==null){var o=Qt.memoizedState;if(s=o.destroy,r!==null&&iI(r,o.deps)){i.memoizedState=Rf(e,n,s,r);return}}kt.flags|=t,i.memoizedState=Rf(1|e,n,s,r)}function Jb(t,e){return jg(8390656,8,t,e)}function aI(t,e){return nv(2048,8,t,e)}function W2(t,e){return nv(4,2,t,e)}function j2(t,e){return nv(4,4,t,e)}function B2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function z2(t,e,n){return n=n!=null?n.concat([t]):null,nv(4,4,B2.bind(null,e,t),n)}function uI(){}function H2(t,e){var n=ii();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&iI(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function G2(t,e){var n=ii();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&iI(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function q2(t,e,n){return tu&21?(Pi(n,e)||(n=QL(),kt.lanes|=n,nu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,fr=!0),t.memoizedState=n)}function Wq(t,e){var n=nt;nt=n!==0&&4>n?n:4,t(!0);var r=Dw.transition;Dw.transition={};try{t(!1),e()}finally{nt=n,Dw.transition=r}}function Y2(){return ii().memoizedState}function jq(t,e,n){var r=jo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},K2(t))Q2(e,n);else if(n=R2(t,e,n,r),n!==null){var i=nr();Ri(n,t,r,i),X2(n,e,r)}}function Bq(t,e,n){var r=jo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(K2(t))Q2(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,u=s(o,n);if(i.hasEagerState=!0,i.eagerState=u,Pi(u,o)){var l=e.interleaved;l===null?(i.next=i,ZT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=R2(t,e,i,r),n!==null&&(i=nr(),Ri(n,t,r,i),X2(n,e,r))}}function K2(t){var e=t.alternate;return t===kt||e!==null&&e===kt}function Q2(t,e){jh=Lm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function X2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$T(t,n)}}var Mm={readContext:ri,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useInsertionEffect:kn,useLayoutEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useMutableSource:kn,useSyncExternalStore:kn,useId:kn,unstable_isNewReconciler:!1},zq={readContext:ri,useCallback:function(t,e){return zi().memoizedState=[t,e===void 0?null:e],t},useContext:ri,useEffect:Jb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,jg(4194308,4,B2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return jg(4194308,4,t,e)},useInsertionEffect:function(t,e){return jg(4,2,t,e)},useMemo:function(t,e){var n=zi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=zi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=jq.bind(null,kt,t),[r.memoizedState,t]},useRef:function(t){var e=zi();return t={current:t},e.memoizedState=t},useState:Xb,useDebugValue:uI,useDeferredValue:function(t){return zi().memoizedState=t},useTransition:function(){var t=Xb(!1),e=t[0];return t=Wq.bind(null,t[1]),zi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=kt,i=zi();if(Rt){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),un===null)throw Error(J(349));tu&30||L2(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Jb(U2.bind(null,r,s,t),[t]),r.flags|=2048,Rf(9,M2.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=zi(),e=un.identifierPrefix;if(Rt){var n=bs,r=ks;n=(r&~(1<<32-Ci(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=If++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Vq++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Hq={readContext:ri,useCallback:H2,useContext:ri,useEffect:aI,useImperativeHandle:z2,useInsertionEffect:W2,useLayoutEffect:j2,useMemo:G2,useReducer:Lw,useRef:V2,useState:function(){return Lw(Cf)},useDebugValue:uI,useDeferredValue:function(t){var e=ii();return q2(e,Qt.memoizedState,t)},useTransition:function(){var t=Lw(Cf)[0],e=ii().memoizedState;return[t,e]},useMutableSource:x2,useSyncExternalStore:D2,useId:Y2,unstable_isNewReconciler:!1},Gq={readContext:ri,useCallback:H2,useContext:ri,useEffect:aI,useImperativeHandle:z2,useInsertionEffect:W2,useLayoutEffect:j2,useMemo:G2,useReducer:Mw,useRef:V2,useState:function(){return Mw(Cf)},useDebugValue:uI,useDeferredValue:function(t){var e=ii();return Qt===null?e.memoizedState=t:q2(e,Qt.memoizedState,t)},useTransition:function(){var t=Mw(Cf)[0],e=ii().memoizedState;return[t,e]},useMutableSource:x2,useSyncExternalStore:D2,useId:Y2,unstable_isNewReconciler:!1};function ql(t,e){try{var n="",r=e;do n+=wG(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Uw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function L1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var qq=typeof WeakMap=="function"?WeakMap:Map;function J2(t,e,n){n=Us(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Fm||(Fm=!0,H1=r),L1(t,e)},n}function Z2(t,e,n){n=Us(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){L1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){L1(t,e),typeof r!="function"&&(Wo===null?Wo=new Set([this]):Wo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Zb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new qq;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=a7.bind(null,t,e,n),e.then(t,t))}function eO(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function tO(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Us(-1,1),e.tag=2,Vo(n,e,1))),n.lanes|=1),t)}var Yq=to.ReactCurrentOwner,fr=!1;function Jn(t,e,n,r){e.child=t===null?O2(e,null,n,r):Hl(e,t.child,n,r)}function nO(t,e,n,r,i){n=n.render;var s=e.ref;return Il(e,i),r=sI(t,e,n,r,s,i),n=oI(),t!==null&&!fr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zs(t,e,i)):(Rt&&n&&qT(e),e.flags|=1,Jn(t,e,r,i),e.child)}function rO(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!mI(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,eM(t,e,s,r,i)):(t=Gg(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:vf,n(o,r)&&t.ref===e.ref)return zs(t,e,i)}return e.flags|=1,t=Bo(s,r),t.ref=e.ref,t.return=e,e.child=t}function eM(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(vf(s,r)&&t.ref===e.ref)if(fr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(fr=!0);else return e.lanes=t.lanes,zs(t,e,i)}return M1(t,e,n,r,i)}function tM(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(pl,Tr),Tr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,dt(pl,Tr),Tr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,dt(pl,Tr),Tr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,dt(pl,Tr),Tr|=r;return Jn(t,e,i,n),e.child}function nM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function M1(t,e,n,r,i){var s=pr(n)?Za:Bn.current;return s=Bl(e,s),Il(e,i),n=sI(t,e,n,r,s,i),r=oI(),t!==null&&!fr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zs(t,e,i)):(Rt&&r&&qT(e),e.flags|=1,Jn(t,e,n,i),e.child)}function iO(t,e,n,r,i){if(pr(n)){var s=!0;Pm(e)}else s=!1;if(Il(e,i),e.stateNode===null)Bg(t,e),k2(e,n,r),D1(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var l=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=ri(h):(h=pr(n)?Za:Bn.current,h=Bl(e,h));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||l!==h)&&Kb(e,o,r,h),_o=!1;var g=e.memoizedState;o.state=g,xm(e,r,o,i),l=e.memoizedState,u!==r||g!==l||dr.current||_o?(typeof d=="function"&&(x1(e,n,d,r),l=e.memoizedState),(u=_o||Yb(e,n,u,r,g,l,h))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=h,r=u):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,A2(t,e),u=e.memoizedProps,h=e.type===e.elementType?u:mi(e.type,u),o.props=h,p=e.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ri(l):(l=pr(n)?Za:Bn.current,l=Bl(e,l));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==p||g!==l)&&Kb(e,o,r,l),_o=!1,g=e.memoizedState,o.state=g,xm(e,r,o,i);var E=e.memoizedState;u!==p||g!==E||dr.current||_o?(typeof v=="function"&&(x1(e,n,v,r),E=e.memoizedState),(h=_o||Yb(e,n,h,r,g,E,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=h):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return U1(t,e,n,r,s,i)}function U1(t,e,n,r,i,s){nM(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Bb(e,n,!1),zs(t,e,s);r=e.stateNode,Yq.current=e;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Hl(e,t.child,null,s),e.child=Hl(e,null,u,s)):Jn(t,e,u,s),e.memoizedState=r.state,i&&Bb(e,n,!0),e.child}function rM(t){var e=t.stateNode;e.pendingContext?jb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&jb(t,e.context,!1),tI(t,e.containerInfo)}function sO(t,e,n,r,i){return zl(),KT(i),e.flags|=256,Jn(t,e,n,r),e.child}var F1={dehydrated:null,treeContext:null,retryLane:0};function $1(t){return{baseLanes:t,cachePool:null,transitions:null}}function iM(t,e,n){var r=e.pendingProps,i=Pt.current,s=!1,o=(e.flags&128)!==0,u;if((u=o)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),dt(Pt,i&1),t===null)return O1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=sv(o,r,0,null),t=qa(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=$1(n),e.memoizedState=F1,t):lI(e,o));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return Kq(t,e,o,r,u,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,u=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Bo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=Bo(u,s):(s=qa(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?$1(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=F1,r}return s=t.child,t=s.sibling,r=Bo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function lI(t,e){return e=sv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function sg(t,e,n,r){return r!==null&&KT(r),Hl(e,t.child,null,n),t=lI(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Kq(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Uw(Error(J(422))),sg(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=sv({mode:"visible",children:r.children},i,0,null),s=qa(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Hl(e,t.child,null,o),e.child.memoizedState=$1(o),e.memoizedState=F1,s);if(!(e.mode&1))return sg(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(J(419)),r=Uw(s,r,void 0),sg(t,e,o,r)}if(u=(o&t.childLanes)!==0,fr||u){if(r=un,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Bs(t,i),Ri(r,t,i,-1))}return gI(),r=Uw(Error(J(421))),sg(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=u7.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Rr=$o(i.nextSibling),Pr=e,Rt=!0,vi=null,t!==null&&(Yr[Kr++]=ks,Yr[Kr++]=bs,Yr[Kr++]=eu,ks=t.id,bs=t.overflow,eu=e),e=lI(e,r.children),e.flags|=4096,e)}function oO(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),N1(t.return,e,n)}function Fw(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function sM(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Jn(t,e,r.children,n),r=Pt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&oO(t,n,e);else if(t.tag===19)oO(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(dt(Pt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Dm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Fw(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Dm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Fw(e,!0,n,null,s);break;case"together":Fw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Bg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),nu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=Bo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Qq(t,e,n){switch(e.tag){case 3:rM(e),zl();break;case 5:N2(e);break;case 1:pr(e.type)&&Pm(e);break;case 4:tI(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;dt(Om,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(dt(Pt,Pt.current&1),e.flags|=128,null):n&e.child.childLanes?iM(t,e,n):(dt(Pt,Pt.current&1),t=zs(t,e,n),t!==null?t.sibling:null);dt(Pt,Pt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return sM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),dt(Pt,Pt.current),r)break;return null;case 22:case 23:return e.lanes=0,tM(t,e,n)}return zs(t,e,n)}var oM,V1,aM,uM;oM=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};V1=function(){};aM=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Va(es.current);var s=null;switch(n){case"input":i=u1(t,i),r=u1(t,r),s=[];break;case"select":i=bt({},i,{value:void 0}),r=bt({},r,{value:void 0}),s=[];break;case"textarea":i=h1(t,i),r=h1(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Rm)}d1(n,r);var o;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var u=i[h];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(hf.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var l=r[h];if(u=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&l!==u&&(l!=null||u!=null))if(h==="style")if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(h,n)),n=l;else h==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,u=u?u.__html:void 0,l!=null&&u!==l&&(s=s||[]).push(h,l)):h==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(h,""+l):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(hf.hasOwnProperty(h)?(l!=null&&h==="onScroll"&&gt("scroll",t),s||u===l||(s=[])):(s=s||[]).push(h,l))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};uM=function(t,e,n,r){n!==r&&(e.flags|=4)};function dh(t,e){if(!Rt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function bn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Xq(t,e,n){var r=e.pendingProps;switch(YT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bn(e),null;case 1:return pr(e.type)&&Am(),bn(e),null;case 3:return r=e.stateNode,Gl(),vt(dr),vt(Bn),rI(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(rg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vi!==null&&(Y1(vi),vi=null))),V1(t,e),bn(e),null;case 5:nI(e);var i=Va(Tf.current);if(n=e.type,t!==null&&e.stateNode!=null)aM(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return bn(e),null}if(t=Va(es.current),rg(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Hi]=e,r[Ef]=s,t=(e.mode&1)!==0,n){case"dialog":gt("cancel",r),gt("close",r);break;case"iframe":case"object":case"embed":gt("load",r);break;case"video":case"audio":for(i=0;i<Ph.length;i++)gt(Ph[i],r);break;case"source":gt("error",r);break;case"img":case"image":case"link":gt("error",r),gt("load",r);break;case"details":gt("toggle",r);break;case"input":gb(r,s),gt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},gt("invalid",r);break;case"textarea":_b(r,s),gt("invalid",r)}d1(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&ng(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&ng(r.textContent,u,t),i=["children",""+u]):hf.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&gt("scroll",r)}switch(n){case"input":Yp(r),mb(r,s,!0);break;case"textarea":Yp(r),vb(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Rm)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=LL(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Hi]=e,t[Ef]=r,oM(t,e,!1,!1),e.stateNode=t;e:{switch(o=p1(n,r),n){case"dialog":gt("cancel",t),gt("close",t),i=r;break;case"iframe":case"object":case"embed":gt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ph.length;i++)gt(Ph[i],t);i=r;break;case"source":gt("error",t),i=r;break;case"img":case"image":case"link":gt("error",t),gt("load",t),i=r;break;case"details":gt("toggle",t),i=r;break;case"input":gb(t,r),i=u1(t,r),gt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=bt({},r,{value:void 0}),gt("invalid",t);break;case"textarea":_b(t,r),i=h1(t,r),gt("invalid",t);break;default:i=r}d1(n,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var l=u[s];s==="style"?FL(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ML(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ff(t,l):typeof l=="number"&&ff(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(hf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&gt("scroll",t):l!=null&&xT(t,s,l,o))}switch(n){case"input":Yp(t),mb(t,r,!1);break;case"textarea":Yp(t),vb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ta(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?wl(t,!!r.multiple,s,!1):r.defaultValue!=null&&wl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Rm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return bn(e),null;case 6:if(t&&e.stateNode!=null)uM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=Va(Tf.current),Va(es.current),rg(e)){if(r=e.stateNode,n=e.memoizedProps,r[Hi]=e,(s=r.nodeValue!==n)&&(t=Pr,t!==null))switch(t.tag){case 3:ng(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ng(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Hi]=e,e.stateNode=r}return bn(e),null;case 13:if(vt(Pt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Rt&&Rr!==null&&e.mode&1&&!(e.flags&128))C2(),zl(),e.flags|=98560,s=!1;else if(s=rg(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(J(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(J(317));s[Hi]=e}else zl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bn(e),s=!1}else vi!==null&&(Y1(vi),vi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Pt.current&1?en===0&&(en=3):gI())),e.updateQueue!==null&&(e.flags|=4),bn(e),null);case 4:return Gl(),V1(t,e),t===null&&yf(e.stateNode.containerInfo),bn(e),null;case 10:return JT(e.type._context),bn(e),null;case 17:return pr(e.type)&&Am(),bn(e),null;case 19:if(vt(Pt),s=e.memoizedState,s===null)return bn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)dh(s,!1);else{if(en!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Dm(t),o!==null){for(e.flags|=128,dh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return dt(Pt,Pt.current&1|2),e.child}t=t.sibling}s.tail!==null&&jt()>Yl&&(e.flags|=128,r=!0,dh(s,!1),e.lanes=4194304)}else{if(!r)if(t=Dm(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),dh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Rt)return bn(e),null}else 2*jt()-s.renderingStartTime>Yl&&n!==1073741824&&(e.flags|=128,r=!0,dh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=jt(),e.sibling=null,n=Pt.current,dt(Pt,r?n&1|2:n&1),e):(bn(e),null);case 22:case 23:return pI(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Tr&1073741824&&(bn(e),e.subtreeFlags&6&&(e.flags|=8192)):bn(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function Jq(t,e){switch(YT(e),e.tag){case 1:return pr(e.type)&&Am(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gl(),vt(dr),vt(Bn),rI(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nI(e),null;case 13:if(vt(Pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));zl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return vt(Pt),null;case 4:return Gl(),null;case 10:return JT(e.type._context),null;case 22:case 23:return pI(),null;case 24:return null;default:return null}}var og=!1,Mn=!1,Zq=typeof WeakSet=="function"?WeakSet:Set,he=null;function dl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xt(t,e,r)}else n.current=null}function W1(t,e,n){try{n()}catch(r){xt(t,e,r)}}var aO=!1;function e7(t,e){if(I1=Tm,t=f2(),GT(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,u=-1,l=-1,h=0,d=0,p=t,g=null;t:for(;;){for(var v;p!==n||i!==0&&p.nodeType!==3||(u=o+i),p!==s||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(v=p.firstChild)!==null;)g=p,p=v;for(;;){if(p===t)break t;if(g===n&&++h===i&&(u=o),g===s&&++d===r&&(l=o),(v=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=v}n=u===-1||l===-1?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(C1={focusedElem:t,selectionRange:n},Tm=!1,he=e;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var R=E.memoizedProps,C=E.memoizedState,S=e.stateNode,T=S.getSnapshotBeforeUpdate(e.elementType===e.type?R:mi(e.type,R),C);S.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(b){xt(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return E=aO,aO=!1,E}function Bh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&W1(e,n,s)}i=i.next}while(i!==r)}}function rv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function j1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function lM(t){var e=t.alternate;e!==null&&(t.alternate=null,lM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Hi],delete e[Ef],delete e[P1],delete e[Mq],delete e[Uq])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function cM(t){return t.tag===5||t.tag===3||t.tag===4}function uO(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function B1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Rm));else if(r!==4&&(t=t.child,t!==null))for(B1(t,e,n),t=t.sibling;t!==null;)B1(t,e,n),t=t.sibling}function z1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(z1(t,e,n),t=t.sibling;t!==null;)z1(t,e,n),t=t.sibling}var mn=null,_i=!1;function po(t,e,n){for(n=n.child;n!==null;)hM(t,e,n),n=n.sibling}function hM(t,e,n){if(Zi&&typeof Zi.onCommitFiberUnmount=="function")try{Zi.onCommitFiberUnmount(K_,n)}catch{}switch(n.tag){case 5:Mn||dl(n,e);case 6:var r=mn,i=_i;mn=null,po(t,e,n),mn=r,_i=i,mn!==null&&(_i?(t=mn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):mn.removeChild(n.stateNode));break;case 18:mn!==null&&(_i?(t=mn,n=n.stateNode,t.nodeType===8?Ow(t.parentNode,n):t.nodeType===1&&Ow(t,n),mf(t)):Ow(mn,n.stateNode));break;case 4:r=mn,i=_i,mn=n.stateNode.containerInfo,_i=!0,po(t,e,n),mn=r,_i=i;break;case 0:case 11:case 14:case 15:if(!Mn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&W1(n,e,o),i=i.next}while(i!==r)}po(t,e,n);break;case 1:if(!Mn&&(dl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){xt(n,e,u)}po(t,e,n);break;case 21:po(t,e,n);break;case 22:n.mode&1?(Mn=(r=Mn)||n.memoizedState!==null,po(t,e,n),Mn=r):po(t,e,n);break;default:po(t,e,n)}}function lO(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Zq),e.forEach(function(r){var i=l7.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function gi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,u=o;e:for(;u!==null;){switch(u.tag){case 5:mn=u.stateNode,_i=!1;break e;case 3:mn=u.stateNode.containerInfo,_i=!0;break e;case 4:mn=u.stateNode.containerInfo,_i=!0;break e}u=u.return}if(mn===null)throw Error(J(160));hM(s,o,i),mn=null,_i=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(h){xt(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fM(e,t),e=e.sibling}function fM(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gi(e,t),Bi(t),r&4){try{Bh(3,t,t.return),rv(3,t)}catch(R){xt(t,t.return,R)}try{Bh(5,t,t.return)}catch(R){xt(t,t.return,R)}}break;case 1:gi(e,t),Bi(t),r&512&&n!==null&&dl(n,n.return);break;case 5:if(gi(e,t),Bi(t),r&512&&n!==null&&dl(n,n.return),t.flags&32){var i=t.stateNode;try{ff(i,"")}catch(R){xt(t,t.return,R)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,u=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&xL(i,s),p1(u,o);var h=p1(u,s);for(o=0;o<l.length;o+=2){var d=l[o],p=l[o+1];d==="style"?FL(i,p):d==="dangerouslySetInnerHTML"?ML(i,p):d==="children"?ff(i,p):xT(i,d,p,h)}switch(u){case"input":l1(i,s);break;case"textarea":DL(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?wl(i,!!s.multiple,v,!1):g!==!!s.multiple&&(s.defaultValue!=null?wl(i,!!s.multiple,s.defaultValue,!0):wl(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ef]=s}catch(R){xt(t,t.return,R)}}break;case 6:if(gi(e,t),Bi(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(R){xt(t,t.return,R)}}break;case 3:if(gi(e,t),Bi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{mf(e.containerInfo)}catch(R){xt(t,t.return,R)}break;case 4:gi(e,t),Bi(t);break;case 13:gi(e,t),Bi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(fI=jt())),r&4&&lO(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Mn=(h=Mn)||d,gi(e,t),Mn=h):gi(e,t),Bi(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!d&&t.mode&1)for(he=t,d=t.child;d!==null;){for(p=he=d;he!==null;){switch(g=he,v=g.child,g.tag){case 0:case 11:case 14:case 15:Bh(4,g,g.return);break;case 1:dl(g,g.return);var E=g.stateNode;if(typeof E.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(R){xt(r,n,R)}}break;case 5:dl(g,g.return);break;case 22:if(g.memoizedState!==null){hO(p);continue}}v!==null?(v.return=g,he=v):hO(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,u.style.display=UL("display",o))}catch(R){xt(t,t.return,R)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(R){xt(t,t.return,R)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:gi(e,t),Bi(t),r&4&&lO(t);break;case 21:break;default:gi(e,t),Bi(t)}}function Bi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(cM(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ff(i,""),r.flags&=-33);var s=uO(t);z1(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,u=uO(t);B1(t,u,o);break;default:throw Error(J(161))}}catch(l){xt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function t7(t,e,n){he=t,dM(t)}function dM(t,e,n){for(var r=(t.mode&1)!==0;he!==null;){var i=he,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||og;if(!o){var u=i.alternate,l=u!==null&&u.memoizedState!==null||Mn;u=og;var h=Mn;if(og=o,(Mn=l)&&!h)for(he=i;he!==null;)o=he,l=o.child,o.tag===22&&o.memoizedState!==null?fO(i):l!==null?(l.return=o,he=l):fO(i);for(;s!==null;)he=s,dM(s),s=s.sibling;he=i,og=u,Mn=h}cO(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,he=s):cO(t)}}function cO(t){for(;he!==null;){var e=he;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Mn||rv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Mn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:mi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&qb(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}qb(e,o,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var d=h.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&mf(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Mn||e.flags&512&&j1(e)}catch(g){xt(e,e.return,g)}}if(e===t){he=null;break}if(n=e.sibling,n!==null){n.return=e.return,he=n;break}he=e.return}}function hO(t){for(;he!==null;){var e=he;if(e===t){he=null;break}var n=e.sibling;if(n!==null){n.return=e.return,he=n;break}he=e.return}}function fO(t){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rv(4,e)}catch(l){xt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){xt(e,i,l)}}var s=e.return;try{j1(e)}catch(l){xt(e,s,l)}break;case 5:var o=e.return;try{j1(e)}catch(l){xt(e,o,l)}}}catch(l){xt(e,e.return,l)}if(e===t){he=null;break}var u=e.sibling;if(u!==null){u.return=e.return,he=u;break}he=e.return}}var n7=Math.ceil,Um=to.ReactCurrentDispatcher,cI=to.ReactCurrentOwner,ti=to.ReactCurrentBatchConfig,qe=0,un=null,Ht=null,Sn=0,Tr=0,pl=pa(0),en=0,Af=null,nu=0,iv=0,hI=0,zh=null,hr=null,fI=0,Yl=1/0,Cs=null,Fm=!1,H1=null,Wo=null,ag=!1,ko=null,$m=0,Hh=0,G1=null,zg=-1,Hg=0;function nr(){return qe&6?jt():zg!==-1?zg:zg=jt()}function jo(t){return t.mode&1?qe&2&&Sn!==0?Sn&-Sn:$q.transition!==null?(Hg===0&&(Hg=QL()),Hg):(t=nt,t!==0||(t=window.event,t=t===void 0?16:r2(t.type)),t):1}function Ri(t,e,n,r){if(50<Hh)throw Hh=0,G1=null,Error(J(185));dd(t,n,r),(!(qe&2)||t!==un)&&(t===un&&(!(qe&2)&&(iv|=n),en===4&&yo(t,Sn)),gr(t,r),n===1&&qe===0&&!(e.mode&1)&&(Yl=jt()+500,ev&&ga()))}function gr(t,e){var n=t.callbackNode;$G(t,e);var r=Sm(t,t===un?Sn:0);if(r===0)n!==null&&Eb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Eb(n),e===1)t.tag===0?Fq(dO.bind(null,t)):S2(dO.bind(null,t)),Dq(function(){!(qe&6)&&ga()}),n=null;else{switch(XL(r)){case 1:n=FT;break;case 4:n=YL;break;case 16:n=Em;break;case 536870912:n=KL;break;default:n=Em}n=EM(n,pM.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function pM(t,e){if(zg=-1,Hg=0,qe&6)throw Error(J(327));var n=t.callbackNode;if(Cl()&&t.callbackNode!==n)return null;var r=Sm(t,t===un?Sn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Vm(t,r);else{e=r;var i=qe;qe|=2;var s=mM();(un!==t||Sn!==e)&&(Cs=null,Yl=jt()+500,Ga(t,e));do try{s7();break}catch(u){gM(t,u)}while(1);XT(),Um.current=s,qe=i,Ht!==null?e=0:(un=null,Sn=0,e=en)}if(e!==0){if(e===2&&(i=y1(t),i!==0&&(r=i,e=q1(t,i))),e===1)throw n=Af,Ga(t,0),yo(t,r),gr(t,jt()),n;if(e===6)yo(t,r);else{if(i=t.current.alternate,!(r&30)&&!r7(i)&&(e=Vm(t,r),e===2&&(s=y1(t),s!==0&&(r=s,e=q1(t,s))),e===1))throw n=Af,Ga(t,0),yo(t,r),gr(t,jt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:Oa(t,hr,Cs);break;case 3:if(yo(t,r),(r&130023424)===r&&(e=fI+500-jt(),10<e)){if(Sm(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){nr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=A1(Oa.bind(null,t,hr,Cs),e);break}Oa(t,hr,Cs);break;case 4:if(yo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ci(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=jt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*n7(r/1960))-r,10<r){t.timeoutHandle=A1(Oa.bind(null,t,hr,Cs),r);break}Oa(t,hr,Cs);break;case 5:Oa(t,hr,Cs);break;default:throw Error(J(329))}}}return gr(t,jt()),t.callbackNode===n?pM.bind(null,t):null}function q1(t,e){var n=zh;return t.current.memoizedState.isDehydrated&&(Ga(t,e).flags|=256),t=Vm(t,e),t!==2&&(e=hr,hr=n,e!==null&&Y1(e)),t}function Y1(t){hr===null?hr=t:hr.push.apply(hr,t)}function r7(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Pi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function yo(t,e){for(e&=~hI,e&=~iv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ci(e),r=1<<n;t[n]=-1,e&=~r}}function dO(t){if(qe&6)throw Error(J(327));Cl();var e=Sm(t,0);if(!(e&1))return gr(t,jt()),null;var n=Vm(t,e);if(t.tag!==0&&n===2){var r=y1(t);r!==0&&(e=r,n=q1(t,r))}if(n===1)throw n=Af,Ga(t,0),yo(t,e),gr(t,jt()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Oa(t,hr,Cs),gr(t,jt()),null}function dI(t,e){var n=qe;qe|=1;try{return t(e)}finally{qe=n,qe===0&&(Yl=jt()+500,ev&&ga())}}function ru(t){ko!==null&&ko.tag===0&&!(qe&6)&&Cl();var e=qe;qe|=1;var n=ti.transition,r=nt;try{if(ti.transition=null,nt=1,t)return t()}finally{nt=r,ti.transition=n,qe=e,!(qe&6)&&ga()}}function pI(){Tr=pl.current,vt(pl)}function Ga(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xq(n)),Ht!==null)for(n=Ht.return;n!==null;){var r=n;switch(YT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Am();break;case 3:Gl(),vt(dr),vt(Bn),rI();break;case 5:nI(r);break;case 4:Gl();break;case 13:vt(Pt);break;case 19:vt(Pt);break;case 10:JT(r.type._context);break;case 22:case 23:pI()}n=n.return}if(un=t,Ht=t=Bo(t.current,null),Sn=Tr=e,en=0,Af=null,hI=iv=nu=0,hr=zh=null,$a!==null){for(e=0;e<$a.length;e++)if(n=$a[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}$a=null}return t}function gM(t,e){do{var n=Ht;try{if(XT(),Wg.current=Mm,Lm){for(var r=kt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Lm=!1}if(tu=0,an=Qt=kt=null,jh=!1,If=0,cI.current=null,n===null||n.return===null){en=1,Af=e,Ht=null;break}e:{var s=t,o=n.return,u=n,l=e;if(e=Sn,u.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=l,d=u,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=eO(o);if(v!==null){v.flags&=-257,tO(v,o,u,s,e),v.mode&1&&Zb(s,h,e),e=v,l=h;var E=e.updateQueue;if(E===null){var R=new Set;R.add(l),e.updateQueue=R}else E.add(l);break e}else{if(!(e&1)){Zb(s,h,e),gI();break e}l=Error(J(426))}}else if(Rt&&u.mode&1){var C=eO(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),tO(C,o,u,s,e),KT(ql(l,u));break e}}s=l=ql(l,u),en!==4&&(en=2),zh===null?zh=[s]:zh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=J2(s,l,e);Gb(s,S);break e;case 1:u=l;var T=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof T.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Wo===null||!Wo.has(k)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=Z2(s,u,e);Gb(s,b);break e}}s=s.return}while(s!==null)}vM(n)}catch(F){e=F,Ht===n&&n!==null&&(Ht=n=n.return);continue}break}while(1)}function mM(){var t=Um.current;return Um.current=Mm,t===null?Mm:t}function gI(){(en===0||en===3||en===2)&&(en=4),un===null||!(nu&268435455)&&!(iv&268435455)||yo(un,Sn)}function Vm(t,e){var n=qe;qe|=2;var r=mM();(un!==t||Sn!==e)&&(Cs=null,Ga(t,e));do try{i7();break}catch(i){gM(t,i)}while(1);if(XT(),qe=n,Um.current=r,Ht!==null)throw Error(J(261));return un=null,Sn=0,en}function i7(){for(;Ht!==null;)_M(Ht)}function s7(){for(;Ht!==null&&!bG();)_M(Ht)}function _M(t){var e=wM(t.alternate,t,Tr);t.memoizedProps=t.pendingProps,e===null?vM(t):Ht=e,cI.current=null}function vM(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Jq(n,e),n!==null){n.flags&=32767,Ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{en=6,Ht=null;return}}else if(n=Xq(n,e,Tr),n!==null){Ht=n;return}if(e=e.sibling,e!==null){Ht=e;return}Ht=e=t}while(e!==null);en===0&&(en=5)}function Oa(t,e,n){var r=nt,i=ti.transition;try{ti.transition=null,nt=1,o7(t,e,n,r)}finally{ti.transition=i,nt=r}return null}function o7(t,e,n,r){do Cl();while(ko!==null);if(qe&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(VG(t,s),t===un&&(Ht=un=null,Sn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ag||(ag=!0,EM(Em,function(){return Cl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ti.transition,ti.transition=null;var o=nt;nt=1;var u=qe;qe|=4,cI.current=null,e7(t,n),fM(n,t),Rq(C1),Tm=!!I1,C1=I1=null,t.current=n,t7(n),OG(),qe=u,nt=o,ti.transition=s}else t.current=n;if(ag&&(ag=!1,ko=t,$m=i),s=t.pendingLanes,s===0&&(Wo=null),DG(n.stateNode),gr(t,jt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Fm)throw Fm=!1,t=H1,H1=null,t;return $m&1&&t.tag!==0&&Cl(),s=t.pendingLanes,s&1?t===G1?Hh++:(Hh=0,G1=t):Hh=0,ga(),null}function Cl(){if(ko!==null){var t=XL($m),e=ti.transition,n=nt;try{if(ti.transition=null,nt=16>t?16:t,ko===null)var r=!1;else{if(t=ko,ko=null,$m=0,qe&6)throw Error(J(331));var i=qe;for(qe|=4,he=t.current;he!==null;){var s=he,o=s.child;if(he.flags&16){var u=s.deletions;if(u!==null){for(var l=0;l<u.length;l++){var h=u[l];for(he=h;he!==null;){var d=he;switch(d.tag){case 0:case 11:case 15:Bh(8,d,s)}var p=d.child;if(p!==null)p.return=d,he=p;else for(;he!==null;){d=he;var g=d.sibling,v=d.return;if(lM(d),d===h){he=null;break}if(g!==null){g.return=v,he=g;break}he=v}}}var E=s.alternate;if(E!==null){var R=E.child;if(R!==null){E.child=null;do{var C=R.sibling;R.sibling=null,R=C}while(R!==null)}}he=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,he=o;else e:for(;he!==null;){if(s=he,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Bh(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,he=S;break e}he=s.return}}var T=t.current;for(he=T;he!==null;){o=he;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,he=k;else e:for(o=T;he!==null;){if(u=he,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:rv(9,u)}}catch(F){xt(u,u.return,F)}if(u===o){he=null;break e}var b=u.sibling;if(b!==null){b.return=u.return,he=b;break e}he=u.return}}if(qe=i,ga(),Zi&&typeof Zi.onPostCommitFiberRoot=="function")try{Zi.onPostCommitFiberRoot(K_,t)}catch{}r=!0}return r}finally{nt=n,ti.transition=e}}return!1}function pO(t,e,n){e=ql(n,e),e=J2(t,e,1),t=Vo(t,e,1),e=nr(),t!==null&&(dd(t,1,e),gr(t,e))}function xt(t,e,n){if(t.tag===3)pO(t,t,n);else for(;e!==null;){if(e.tag===3){pO(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wo===null||!Wo.has(r))){t=ql(n,t),t=Z2(e,t,1),e=Vo(e,t,1),t=nr(),e!==null&&(dd(e,1,t),gr(e,t));break}}e=e.return}}function a7(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=nr(),t.pingedLanes|=t.suspendedLanes&n,un===t&&(Sn&n)===n&&(en===4||en===3&&(Sn&130023424)===Sn&&500>jt()-fI?Ga(t,0):hI|=n),gr(t,e)}function yM(t,e){e===0&&(t.mode&1?(e=Xp,Xp<<=1,!(Xp&130023424)&&(Xp=4194304)):e=1);var n=nr();t=Bs(t,e),t!==null&&(dd(t,e,n),gr(t,n))}function u7(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),yM(t,n)}function l7(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),yM(t,n)}var wM;wM=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||dr.current)fr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return fr=!1,Qq(t,e,n);fr=!!(t.flags&131072)}else fr=!1,Rt&&e.flags&1048576&&T2(e,bm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Bg(t,e),t=e.pendingProps;var i=Bl(e,Bn.current);Il(e,n),i=sI(null,e,r,t,i,n);var s=oI();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pr(r)?(s=!0,Pm(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,eI(e),i.updater=tv,e.stateNode=i,i._reactInternals=e,D1(e,r,t,n),e=U1(null,e,r,!0,s,n)):(e.tag=0,Rt&&s&&qT(e),Jn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Bg(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=h7(r),t=mi(r,t),i){case 0:e=M1(null,e,r,t,n);break e;case 1:e=iO(null,e,r,t,n);break e;case 11:e=nO(null,e,r,t,n);break e;case 14:e=rO(null,e,r,mi(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mi(r,i),M1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mi(r,i),iO(t,e,r,i,n);case 3:e:{if(rM(e),t===null)throw Error(J(387));r=e.pendingProps,s=e.memoizedState,i=s.element,A2(t,e),xm(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ql(Error(J(423)),e),e=sO(t,e,r,n,i);break e}else if(r!==i){i=ql(Error(J(424)),e),e=sO(t,e,r,n,i);break e}else for(Rr=$o(e.stateNode.containerInfo.firstChild),Pr=e,Rt=!0,vi=null,n=O2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zl(),r===i){e=zs(t,e,n);break e}Jn(t,e,r,n)}e=e.child}return e;case 5:return N2(e),t===null&&O1(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,R1(r,i)?o=null:s!==null&&R1(r,s)&&(e.flags|=32),nM(t,e),Jn(t,e,o,n),e.child;case 6:return t===null&&O1(e),null;case 13:return iM(t,e,n);case 4:return tI(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Hl(e,null,r,n):Jn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mi(r,i),nO(t,e,r,i,n);case 7:return Jn(t,e,e.pendingProps,n),e.child;case 8:return Jn(t,e,e.pendingProps.children,n),e.child;case 12:return Jn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,dt(Om,r._currentValue),r._currentValue=o,s!==null)if(Pi(s.value,o)){if(s.children===i.children&&!dr.current){e=zs(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){o=s.child;for(var l=u.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Us(-1,n&-n),l.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var d=h.pending;d===null?l.next=l:(l.next=d.next,d.next=l),h.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),N1(s.return,n,e),u.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(J(341));o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),N1(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Jn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Il(e,n),i=ri(i),r=r(i),e.flags|=1,Jn(t,e,r,n),e.child;case 14:return r=e.type,i=mi(r,e.pendingProps),i=mi(r.type,i),rO(t,e,r,i,n);case 15:return eM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mi(r,i),Bg(t,e),e.tag=1,pr(r)?(t=!0,Pm(e)):t=!1,Il(e,n),k2(e,r,i),D1(e,r,i,n),U1(null,e,r,!0,t,n);case 19:return sM(t,e,n);case 22:return tM(t,e,n)}throw Error(J(156,e.tag))};function EM(t,e){return qL(t,e)}function c7(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(t,e,n,r){return new c7(t,e,n,r)}function mI(t){return t=t.prototype,!(!t||!t.isReactComponent)}function h7(t){if(typeof t=="function")return mI(t)?1:0;if(t!=null){if(t=t.$$typeof,t===LT)return 11;if(t===MT)return 14}return 2}function Bo(t,e){var n=t.alternate;return n===null?(n=Zr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Gg(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")mI(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case il:return qa(n.children,i,s,e);case DT:o=8,i|=8;break;case i1:return t=Zr(12,n,e,i|2),t.elementType=i1,t.lanes=s,t;case s1:return t=Zr(13,n,e,i),t.elementType=s1,t.lanes=s,t;case o1:return t=Zr(19,n,e,i),t.elementType=o1,t.lanes=s,t;case bL:return sv(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case PL:o=10;break e;case kL:o=9;break e;case LT:o=11;break e;case MT:o=14;break e;case mo:o=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=Zr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function qa(t,e,n,r){return t=Zr(7,t,r,e),t.lanes=n,t}function sv(t,e,n,r){return t=Zr(22,t,r,e),t.elementType=bL,t.lanes=n,t.stateNode={isHidden:!1},t}function $w(t,e,n){return t=Zr(6,t,null,e),t.lanes=n,t}function Vw(t,e,n){return e=Zr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function f7(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ww(0),this.expirationTimes=ww(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ww(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function _I(t,e,n,r,i,s,o,u,l){return t=new f7(t,e,n,u,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Zr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},eI(s),t}function d7(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function SM(t){if(!t)return na;t=t._reactInternals;e:{if(_u(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(pr(n))return E2(t,n,e)}return e}function TM(t,e,n,r,i,s,o,u,l){return t=_I(n,r,!0,t,i,s,o,u,l),t.context=SM(null),n=t.current,r=nr(),i=jo(n),s=Us(r,i),s.callback=e??null,Vo(n,s,i),t.current.lanes=i,dd(t,i,r),gr(t,r),t}function ov(t,e,n,r){var i=e.current,s=nr(),o=jo(i);return n=SM(n),e.context===null?e.context=n:e.pendingContext=n,e=Us(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Vo(i,e,o),t!==null&&(Ri(t,i,o,s),Vg(t,i,o)),o}function Wm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gO(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function vI(t,e){gO(t,e),(t=t.alternate)&&gO(t,e)}function p7(){return null}var IM=typeof reportError=="function"?reportError:function(t){console.error(t)};function yI(t){this._internalRoot=t}av.prototype.render=yI.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));ov(t,e,null,null)};av.prototype.unmount=yI.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ru(function(){ov(null,t,null,null)}),e[js]=null}};function av(t){this._internalRoot=t}av.prototype.unstable_scheduleHydration=function(t){if(t){var e=e2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<vo.length&&e!==0&&e<vo[n].priority;n++);vo.splice(n,0,t),n===0&&n2(t)}};function wI(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function uv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function mO(){}function g7(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=Wm(o);s.call(h)}}var o=TM(e,r,t,0,null,!1,!1,"",mO);return t._reactRootContainer=o,t[js]=o.current,yf(t.nodeType===8?t.parentNode:t),ru(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var h=Wm(l);u.call(h)}}var l=_I(t,0,!1,null,null,!1,!1,"",mO);return t._reactRootContainer=l,t[js]=l.current,yf(t.nodeType===8?t.parentNode:t),ru(function(){ov(e,l,n,r)}),l}function lv(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var u=i;i=function(){var l=Wm(o);u.call(l)}}ov(e,o,t,i)}else o=g7(n,e,t,i,r);return Wm(o)}JL=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ah(e.pendingLanes);n!==0&&($T(e,n|1),gr(e,jt()),!(qe&6)&&(Yl=jt()+500,ga()))}break;case 13:ru(function(){var r=Bs(t,1);if(r!==null){var i=nr();Ri(r,t,1,i)}}),vI(t,1)}};VT=function(t){if(t.tag===13){var e=Bs(t,134217728);if(e!==null){var n=nr();Ri(e,t,134217728,n)}vI(t,134217728)}};ZL=function(t){if(t.tag===13){var e=jo(t),n=Bs(t,e);if(n!==null){var r=nr();Ri(n,t,e,r)}vI(t,e)}};e2=function(){return nt};t2=function(t,e){var n=nt;try{return nt=t,e()}finally{nt=n}};m1=function(t,e,n){switch(e){case"input":if(l1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Z_(r);if(!i)throw Error(J(90));NL(r),l1(r,i)}}}break;case"textarea":DL(t,n);break;case"select":e=n.value,e!=null&&wl(t,!!n.multiple,e,!1)}};WL=dI;jL=ru;var m7={usingClientEntryPoint:!1,Events:[gd,ul,Z_,$L,VL,dI]},ph={findFiberByHostInstance:Fa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},_7={bundleType:ph.bundleType,version:ph.version,rendererPackageName:ph.rendererPackageName,rendererConfig:ph.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:to.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=HL(t),t===null?null:t.stateNode},findFiberByHostInstance:ph.findFiberByHostInstance||p7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ug=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ug.isDisabled&&ug.supportsFiber)try{K_=ug.inject(_7),Zi=ug}catch{}}Dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m7;Dr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wI(e))throw Error(J(200));return d7(t,e,null,n)};Dr.createRoot=function(t,e){if(!wI(t))throw Error(J(299));var n=!1,r="",i=IM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=_I(t,1,!1,null,null,n,!1,r,i),t[js]=e.current,yf(t.nodeType===8?t.parentNode:t),new yI(e)};Dr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=HL(e),t=t===null?null:t.stateNode,t};Dr.flushSync=function(t){return ru(t)};Dr.hydrate=function(t,e,n){if(!uv(e))throw Error(J(200));return lv(null,t,e,!0,n)};Dr.hydrateRoot=function(t,e,n){if(!wI(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=IM;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=TM(e,null,t,1,n??null,i,!1,s,o),t[js]=e.current,yf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new av(e)};Dr.render=function(t,e,n){if(!uv(e))throw Error(J(200));return lv(null,t,e,!1,n)};Dr.unmountComponentAtNode=function(t){if(!uv(t))throw Error(J(40));return t._reactRootContainer?(ru(function(){lv(null,null,t,!1,function(){t._reactRootContainer=null,t[js]=null})}),!0):!1};Dr.unstable_batchedUpdates=dI;Dr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!uv(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return lv(t,e,n,!1,r)};Dr.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Dr})(pG);var _O=_m;t1.createRoot=_O.createRoot,t1.hydrateRoot=_O.hydrateRoot;function v7(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const vO={};function K1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&vO[e[0]]||(typeof e[0]=="string"&&(vO[e[0]]=new Date),v7(...e))}const CM=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}};function yO(t,e,n){t.loadNamespaces(e,CM(t,n))}function wO(t,e,n,r){typeof n=="string"&&(n=[n]),n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,CM(t,r))}function y7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=e.languages[0],i=e.options?e.options.fallbackLng:!1,s=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(u,l)=>{const h=e.services.backendConnector.state[`${u}|${l}`];return h===-1||h===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(r,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(r,t)&&(!i||o(s,t)))}function w7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(K1("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:n.lng,precheck:(i,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!s(i.isLanguageChangingTo,t))return!1}}):y7(t,e,n)}const E7=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,S7={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},T7=t=>S7[t],I7=t=>t.replace(E7,T7);let Q1={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:I7};function C7(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Q1={...Q1,...t}}function R7(){return Q1}let RM;function A7(t){RM=t}function P7(){return RM}const k7={type:"3rdParty",init(t){C7(t.options.react),A7(t)}},AM=X.createContext();class b7{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const O7=(t,e)=>{const n=X.useRef();return X.useEffect(()=>{n.current=e?n.current:t},[t,e]),n.current};function PM(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=e,{i18n:r,defaultNS:i}=X.useContext(AM)||{},s=n||r||P7();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new b7),!s){K1("You will need to pass in an i18next instance by using initReactI18next");const k=(F,V)=>typeof V=="string"?V:V&&typeof V=="object"&&typeof V.defaultValue=="string"?V.defaultValue:Array.isArray(F)?F[F.length-1]:F,b=[k,{},!1];return b.t=k,b.i18n={},b.ready=!1,b}s.options.react&&s.options.react.wait!==void 0&&K1("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...R7(),...s.options.react,...e},{useSuspense:u,keyPrefix:l}=o;let h=t||i||s.options&&s.options.defaultNS;h=typeof h=="string"?[h]:h||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(h);const d=(s.isInitialized||s.initializedStoreOnce)&&h.every(k=>w7(k,s,o));function p(){return s.getFixedT(e.lng||null,o.nsMode==="fallback"?h:h[0],l)}const[g,v]=X.useState(p);let E=h.join();e.lng&&(E=`${e.lng}${E}`);const R=O7(E),C=X.useRef(!0);X.useEffect(()=>{const{bindI18n:k,bindI18nStore:b}=o;C.current=!0,!d&&!u&&(e.lng?wO(s,e.lng,h,()=>{C.current&&v(p)}):yO(s,h,()=>{C.current&&v(p)})),d&&R&&R!==E&&C.current&&v(p);function F(){C.current&&v(p)}return k&&s&&s.on(k,F),b&&s&&s.store.on(b,F),()=>{C.current=!1,k&&s&&k.split(" ").forEach(V=>s.off(V,F)),b&&s&&b.split(" ").forEach(V=>s.store.off(V,F))}},[s,E]);const S=X.useRef(!0);X.useEffect(()=>{C.current&&!S.current&&v(p),S.current=!1},[s,l]);const T=[g,s,d];if(T.t=g,T.i18n=s,T.ready=d,d||!d&&!u)return T;throw new Promise(k=>{e.lng?wO(s,e.lng,h,()=>k()):yO(s,h,()=>k())})}function N7(t){let{i18n:e,defaultNS:n,children:r}=t;const i=X.useMemo(()=>({i18n:e,defaultNS:n}),[e,n]);return X.createElement(AM.Provider,{value:i},r)}var X1={},x7={get exports(){return X1},set exports(t){X1=t}},kM={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kl=X;function D7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var L7=typeof Object.is=="function"?Object.is:D7,M7=Kl.useState,U7=Kl.useEffect,F7=Kl.useLayoutEffect,$7=Kl.useDebugValue;function V7(t,e){var n=e(),r=M7({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return F7(function(){i.value=n,i.getSnapshot=e,Ww(i)&&s({inst:i})},[t,n,e]),U7(function(){return Ww(i)&&s({inst:i}),t(function(){Ww(i)&&s({inst:i})})},[t]),$7(n),n}function Ww(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!L7(t,n)}catch{return!0}}function W7(t,e){return e()}var j7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?W7:V7;kM.useSyncExternalStore=Kl.useSyncExternalStore!==void 0?Kl.useSyncExternalStore:j7;(function(t){t.exports=kM})(x7);var J1={},B7={get exports(){return J1},set exports(t){J1=t}},bM={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv=X,z7=X1;function H7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var G7=typeof Object.is=="function"?Object.is:H7,q7=z7.useSyncExternalStore,Y7=cv.useRef,K7=cv.useEffect,Q7=cv.useMemo,X7=cv.useDebugValue;bM.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=Y7(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Q7(function(){function l(v){if(!h){if(h=!0,d=v,v=r(v),i!==void 0&&o.hasValue){var E=o.value;if(i(E,v))return p=E}return p=v}if(E=p,G7(d,v))return E;var R=r(v);return i!==void 0&&i(E,R)?E:(d=v,p=R)}var h=!1,d,p,g=n===void 0?null:n;return[function(){return l(e())},g===null?void 0:function(){return l(g())}]},[e,n,r,i]);var u=q7(t,s[0],s[1]);return K7(function(){o.hasValue=!0,o.value=u},[u]),X7(u),u};(function(t){t.exports=bM})(B7);function J7(t){t()}let OM=J7;const Z7=t=>OM=t,eY=()=>OM,ra=X.createContext(null);function NM(){return X.useContext(ra)}const tY=()=>{throw new Error("uSES not initialized!")};let xM=tY;const nY=t=>{xM=t},rY=(t,e)=>t===e;function iY(t=ra){const e=t===ra?NM:()=>X.useContext(t);return function(r,i=rY){const{store:s,subscription:o,getServerState:u}=e(),l=xM(o.addNestedSub,s.getState,u||s.getState,r,i);return X.useDebugValue(l),l}}const sY=iY();function jm(){return jm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jm.apply(this,arguments)}function oY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Z1={},aY={get exports(){return Z1},set exports(t){Z1=t}},it={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cn=typeof Symbol=="function"&&Symbol.for,EI=cn?Symbol.for("react.element"):60103,SI=cn?Symbol.for("react.portal"):60106,hv=cn?Symbol.for("react.fragment"):60107,fv=cn?Symbol.for("react.strict_mode"):60108,dv=cn?Symbol.for("react.profiler"):60114,pv=cn?Symbol.for("react.provider"):60109,gv=cn?Symbol.for("react.context"):60110,TI=cn?Symbol.for("react.async_mode"):60111,mv=cn?Symbol.for("react.concurrent_mode"):60111,_v=cn?Symbol.for("react.forward_ref"):60112,vv=cn?Symbol.for("react.suspense"):60113,uY=cn?Symbol.for("react.suspense_list"):60120,yv=cn?Symbol.for("react.memo"):60115,wv=cn?Symbol.for("react.lazy"):60116,lY=cn?Symbol.for("react.block"):60121,cY=cn?Symbol.for("react.fundamental"):60117,hY=cn?Symbol.for("react.responder"):60118,fY=cn?Symbol.for("react.scope"):60119;function Mr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case EI:switch(t=t.type,t){case TI:case mv:case hv:case dv:case fv:case vv:return t;default:switch(t=t&&t.$$typeof,t){case gv:case _v:case wv:case yv:case pv:return t;default:return e}}case SI:return e}}}function DM(t){return Mr(t)===mv}it.AsyncMode=TI;it.ConcurrentMode=mv;it.ContextConsumer=gv;it.ContextProvider=pv;it.Element=EI;it.ForwardRef=_v;it.Fragment=hv;it.Lazy=wv;it.Memo=yv;it.Portal=SI;it.Profiler=dv;it.StrictMode=fv;it.Suspense=vv;it.isAsyncMode=function(t){return DM(t)||Mr(t)===TI};it.isConcurrentMode=DM;it.isContextConsumer=function(t){return Mr(t)===gv};it.isContextProvider=function(t){return Mr(t)===pv};it.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===EI};it.isForwardRef=function(t){return Mr(t)===_v};it.isFragment=function(t){return Mr(t)===hv};it.isLazy=function(t){return Mr(t)===wv};it.isMemo=function(t){return Mr(t)===yv};it.isPortal=function(t){return Mr(t)===SI};it.isProfiler=function(t){return Mr(t)===dv};it.isStrictMode=function(t){return Mr(t)===fv};it.isSuspense=function(t){return Mr(t)===vv};it.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===hv||t===mv||t===dv||t===fv||t===vv||t===uY||typeof t=="object"&&t!==null&&(t.$$typeof===wv||t.$$typeof===yv||t.$$typeof===pv||t.$$typeof===gv||t.$$typeof===_v||t.$$typeof===cY||t.$$typeof===hY||t.$$typeof===fY||t.$$typeof===lY)};it.typeOf=Mr;(function(t){t.exports=it})(aY);var LM=Z1,dY={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},pY={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},MM={};MM[LM.ForwardRef]=dY;MM[LM.Memo]=pY;var EO={},gY={get exports(){return EO},set exports(t){EO=t}},st={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var II=Symbol.for("react.element"),CI=Symbol.for("react.portal"),Ev=Symbol.for("react.fragment"),Sv=Symbol.for("react.strict_mode"),Tv=Symbol.for("react.profiler"),Iv=Symbol.for("react.provider"),Cv=Symbol.for("react.context"),mY=Symbol.for("react.server_context"),Rv=Symbol.for("react.forward_ref"),Av=Symbol.for("react.suspense"),Pv=Symbol.for("react.suspense_list"),kv=Symbol.for("react.memo"),bv=Symbol.for("react.lazy"),_Y=Symbol.for("react.offscreen"),UM;UM=Symbol.for("react.module.reference");function oi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case II:switch(t=t.type,t){case Ev:case Tv:case Sv:case Av:case Pv:return t;default:switch(t=t&&t.$$typeof,t){case mY:case Cv:case Rv:case bv:case kv:case Iv:return t;default:return e}}case CI:return e}}}st.ContextConsumer=Cv;st.ContextProvider=Iv;st.Element=II;st.ForwardRef=Rv;st.Fragment=Ev;st.Lazy=bv;st.Memo=kv;st.Portal=CI;st.Profiler=Tv;st.StrictMode=Sv;st.Suspense=Av;st.SuspenseList=Pv;st.isAsyncMode=function(){return!1};st.isConcurrentMode=function(){return!1};st.isContextConsumer=function(t){return oi(t)===Cv};st.isContextProvider=function(t){return oi(t)===Iv};st.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===II};st.isForwardRef=function(t){return oi(t)===Rv};st.isFragment=function(t){return oi(t)===Ev};st.isLazy=function(t){return oi(t)===bv};st.isMemo=function(t){return oi(t)===kv};st.isPortal=function(t){return oi(t)===CI};st.isProfiler=function(t){return oi(t)===Tv};st.isStrictMode=function(t){return oi(t)===Sv};st.isSuspense=function(t){return oi(t)===Av};st.isSuspenseList=function(t){return oi(t)===Pv};st.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ev||t===Tv||t===Sv||t===Av||t===Pv||t===_Y||typeof t=="object"&&t!==null&&(t.$$typeof===bv||t.$$typeof===kv||t.$$typeof===Iv||t.$$typeof===Cv||t.$$typeof===Rv||t.$$typeof===UM||t.getModuleId!==void 0)};st.typeOf=oi;(function(t){t.exports=st})(gY);function vY(){const t=eY();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const SO={notify(){},get:()=>[]};function yY(t,e){let n,r=SO;function i(p){return l(),r.subscribe(p)}function s(){r.notify()}function o(){d.onStateChange&&d.onStateChange()}function u(){return Boolean(n)}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=vY())}function h(){n&&(n(),n=void 0,r.clear(),r=SO)}const d={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:u,trySubscribe:l,tryUnsubscribe:h,getListeners:()=>r};return d}const wY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",EY=wY?X.useLayoutEffect:X.useEffect;function SY({store:t,context:e,children:n,serverState:r}){const i=X.useMemo(()=>{const u=yY(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0}},[t,r]),s=X.useMemo(()=>t.getState(),[t]);EY(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,s]);const o=e||ra;return bT.createElement(o.Provider,{value:i},n)}function FM(t=ra){const e=t===ra?NM:()=>X.useContext(t);return function(){const{store:r}=e();return r}}const TY=FM();function IY(t=ra){const e=t===ra?TY:FM(t);return function(){return e().dispatch}}const CY=IY();nY(J1.useSyncExternalStoreWithSelector);Z7(_m.unstable_batchedUpdates);function qg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qg=function(n){return typeof n}:qg=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},qg(t)}function RY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function AY(t,e,n){return e&&TO(t.prototype,e),n&&TO(t,n),t}function PY(t,e){return e&&(qg(e)==="object"||typeof e=="function")?e:Yg(t)}function eS(t){return eS=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},eS(t)}function Yg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tS(t,e)}function tS(t,e){return tS=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},tS(t,e)}function Kg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $M=function(t){kY(e,t);function e(){var n,r;RY(this,e);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=PY(this,(n=eS(e)).call.apply(n,[this].concat(s))),Kg(Yg(r),"state",{bootstrapped:!1}),Kg(Yg(r),"_unsubscribe",void 0),Kg(Yg(r),"handlePersistorState",function(){var u=r.props.persistor,l=u.getState(),h=l.bootstrapped;h&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return AY(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(X.PureComponent);Kg($M,"defaultProps",{children:null,loading:null});/**
 * @remix-run/router v1.3.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pf(){return Pf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pf.apply(this,arguments)}var bo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bo||(bo={}));const IO="popstate";function bY(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:u="",hash:l=""}=vu(i.location.hash.substr(1));return nS("",{pathname:o,search:u,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),u="";if(o&&o.getAttribute("href")){let l=i.location.href,h=l.indexOf("#");u=h===-1?l:l.slice(0,h)}return u+"#"+(typeof s=="string"?s:Bm(s))}function r(i,s){OY(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return xY(e,n,r,t)}function qt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function OY(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function NY(){return Math.random().toString(36).substr(2,8)}function CO(t,e){return{usr:t.state,key:t.key,idx:e}}function nS(t,e,n,r){return n===void 0&&(n=null),Pf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?vu(e):e,{state:n,key:e&&e.key||r||NY()})}function Bm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function vu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function xY(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,u=bo.Pop,l=null,h=d();h==null&&(h=0,o.replaceState(Pf({},o.state,{idx:h}),""));function d(){return(o.state||{idx:null}).idx}function p(){u=bo.Pop;let C=d(),S=C==null?null:C-h;h=C,l&&l({action:u,location:R.location,delta:S})}function g(C,S){u=bo.Push;let T=nS(R.location,C,S);n&&n(T,C),h=d()+1;let k=CO(T,h),b=R.createHref(T);try{o.pushState(k,"",b)}catch{i.location.assign(b)}s&&l&&l({action:u,location:R.location,delta:1})}function v(C,S){u=bo.Replace;let T=nS(R.location,C,S);n&&n(T,C),h=d();let k=CO(T,h),b=R.createHref(T);o.replaceState(k,"",b),s&&l&&l({action:u,location:R.location,delta:0})}function E(C){let S=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof C=="string"?C:Bm(C);return qt(S,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,S)}let R={get action(){return u},get location(){return t(i,o)},listen(C){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(IO,p),l=C,()=>{i.removeEventListener(IO,p),l=null}},createHref(C){return e(i,C)},createURL:E,encodeLocation(C){let S=E(C);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:v,go(C){return o.go(C)}};return R}var RO;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(RO||(RO={}));function DY(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?vu(e):e,i=jM(r.pathname||"/",n);if(i==null)return null;let s=VM(t);LY(s);let o=null;for(let u=0;o==null&&u<s.length;++u)o=zY(s[u],qY(i));return o}function VM(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,u)=>{let l={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(qt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let h=zo([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(qt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),VM(s.children,e,d,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:jY(h,s.index),routesMeta:d})};return t.forEach((s,o)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,o);else for(let l of WM(s.path))i(s,o,l)}),e}function WM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=WM(r.join("/")),u=[];return u.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&u.push(...o),u.map(l=>t.startsWith("/")&&l===""?"/":l)}function LY(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:BY(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const MY=/^:\w+$/,UY=3,FY=2,$Y=1,VY=10,WY=-2,AO=t=>t==="*";function jY(t,e){let n=t.split("/"),r=n.length;return n.some(AO)&&(r+=WY),e&&(r+=FY),n.filter(i=>!AO(i)).reduce((i,s)=>i+(MY.test(s)?UY:s===""?$Y:VY),r)}function BY(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function zY(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let u=n[o],l=o===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",d=HY({path:u.relativePath,caseSensitive:u.caseSensitive,end:l},h);if(!d)return null;Object.assign(r,d.params);let p=u.route;s.push({params:r,pathname:zo([i,d.pathname]),pathnameBase:XY(zo([i,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(i=zo([i,d.pathnameBase]))}return s}function HY(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=GY(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,d,p)=>{if(d==="*"){let g=u[p]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}return h[d]=YY(u[p]||"",d),h},{}),pathname:s,pathnameBase:o,pattern:t}}function GY(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),RI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,u)=>(r.push(u),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function qY(t){try{return decodeURI(t)}catch(e){return RI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function YY(t,e){try{return decodeURIComponent(t)}catch(n){return RI(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function jM(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function RI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KY(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?vu(t):t;return{pathname:n?n.startsWith("/")?n:QY(n,e):e,search:JY(r),hash:ZY(i)}}function QY(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function jw(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function BM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zM(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=vu(t):(i=Pf({},t),qt(!i.pathname||!i.pathname.includes("?"),jw("?","pathname","search",i)),qt(!i.pathname||!i.pathname.includes("#"),jw("#","pathname","hash",i)),qt(!i.search||!i.search.includes("#"),jw("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,u;if(r||o==null)u=n;else{let p=e.length-1;if(o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}u=p>=0?e[p]:"/"}let l=KY(i,u),h=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(h||d)&&(l.pathname+="/"),l}const zo=t=>t.join("/").replace(/\/\/+/g,"/"),XY=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),JY=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ZY=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function eK(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const tK=["post","put","patch","delete"];[...tK];/**
 * React Router v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rS(){return rS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rS.apply(this,arguments)}function nK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const rK=typeof Object.is=="function"?Object.is:nK,{useState:iK,useEffect:sK,useLayoutEffect:oK,useDebugValue:aK}=e1;function uK(t,e,n){const r=e(),[{inst:i},s]=iK({inst:{value:r,getSnapshot:e}});return oK(()=>{i.value=r,i.getSnapshot=e,Bw(i)&&s({inst:i})},[t,r,e]),sK(()=>(Bw(i)&&s({inst:i}),t(()=>{Bw(i)&&s({inst:i})})),[t]),aK(r),r}function Bw(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!rK(n,r)}catch{return!0}}function lK(t,e,n){return e()}const cK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hK=!cK,fK=hK?lK:uK;"useSyncExternalStore"in e1&&(t=>t.useSyncExternalStore)(e1);const HM=X.createContext(null),AI=X.createContext(null),Ov=X.createContext(null),Nv=X.createContext(null),yu=X.createContext({outlet:null,matches:[]}),GM=X.createContext(null);function dK(t,e){let{relative:n}=e===void 0?{}:e;mc()||qt(!1);let{basename:r,navigator:i}=X.useContext(Ov),{hash:s,pathname:o,search:u}=qM(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:zo([r,o])),i.createHref({pathname:l,search:u,hash:s})}function mc(){return X.useContext(Nv)!=null}function _d(){return mc()||qt(!1),X.useContext(Nv).location}function PI(){mc()||qt(!1);let{basename:t,navigator:e}=X.useContext(Ov),{matches:n}=X.useContext(yu),{pathname:r}=_d(),i=JSON.stringify(BM(n).map(u=>u.pathnameBase)),s=X.useRef(!1);return X.useEffect(()=>{s.current=!0}),X.useCallback(function(u,l){if(l===void 0&&(l={}),!s.current)return;if(typeof u=="number"){e.go(u);return}let h=zM(u,JSON.parse(i),r,l.relative==="path");t!=="/"&&(h.pathname=h.pathname==="/"?t:zo([t,h.pathname])),(l.replace?e.replace:e.push)(h,l.state,l)},[t,e,i,r])}const pK=X.createContext(null);function gK(t){let e=X.useContext(yu).outlet;return e&&X.createElement(pK.Provider,{value:t},e)}function qM(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=X.useContext(yu),{pathname:i}=_d(),s=JSON.stringify(BM(r).map(o=>o.pathnameBase));return X.useMemo(()=>zM(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function mK(t,e){mc()||qt(!1);let{navigator:n}=X.useContext(Ov),r=X.useContext(AI),{matches:i}=X.useContext(yu),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let l=_d(),h;if(e){var d;let R=typeof e=="string"?vu(e):e;u==="/"||(d=R.pathname)!=null&&d.startsWith(u)||qt(!1),h=R}else h=l;let p=h.pathname||"/",g=u==="/"?p:p.slice(u.length)||"/",v=DY(t,{pathname:g}),E=wK(v&&v.map(R=>Object.assign({},R,{params:Object.assign({},o,R.params),pathname:zo([u,n.encodeLocation?n.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?u:zo([u,n.encodeLocation?n.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),i,r||void 0);return e&&E?X.createElement(Nv.Provider,{value:{location:rS({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:bo.Pop}},E):E}function _K(){let t=IK(),e=eK(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),n?X.createElement("pre",{style:i},n):null,s)}class vK extends X.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?X.createElement(yu.Provider,{value:this.props.routeContext},X.createElement(GM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yK(t){let{routeContext:e,match:n,children:r}=t,i=X.useContext(HM);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),X.createElement(yu.Provider,{value:e},r)}function wK(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||qt(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,u)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,h=n?o.route.errorElement||X.createElement(_K,null):null,d=e.concat(r.slice(0,u+1)),p=()=>X.createElement(yK,{match:o,routeContext:{outlet:s,matches:d}},l?h:o.route.element!==void 0?o.route.element:s);return n&&(o.route.errorElement||u===0)?X.createElement(vK,{location:n.location,component:h,error:l,children:p(),routeContext:{outlet:null,matches:d}}):p()},null)}var PO;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(PO||(PO={}));var zm;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(zm||(zm={}));function EK(t){let e=X.useContext(AI);return e||qt(!1),e}function SK(t){let e=X.useContext(yu);return e||qt(!1),e}function TK(t){let e=SK(),n=e.matches[e.matches.length-1];return n.route.id||qt(!1),n.route.id}function IK(){var t;let e=X.useContext(GM),n=EK(zm.UseRouteError),r=TK(zm.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function CK(t){let{to:e,replace:n,state:r,relative:i}=t;mc()||qt(!1);let s=X.useContext(AI),o=PI();return X.useEffect(()=>{s&&s.navigation.state!=="idle"||o(e,{replace:n,state:r,relative:i})}),null}function YM(t){return gK(t.context)}function Na(t){qt(!1)}function RK(t){let{basename:e="/",children:n=null,location:r,navigationType:i=bo.Pop,navigator:s,static:o=!1}=t;mc()&&qt(!1);let u=e.replace(/^\/*/,"/"),l=X.useMemo(()=>({basename:u,navigator:s,static:o}),[u,s,o]);typeof r=="string"&&(r=vu(r));let{pathname:h="/",search:d="",hash:p="",state:g=null,key:v="default"}=r,E=X.useMemo(()=>{let R=jM(h,u);return R==null?null:{pathname:R,search:d,hash:p,state:g,key:v}},[u,h,d,p,g,v]);return E==null?null:X.createElement(Ov.Provider,{value:l},X.createElement(Nv.Provider,{children:n,value:{location:E,navigationType:i}}))}function AK(t){let{children:e,location:n}=t,r=X.useContext(HM),i=r&&!e?r.router.routes:iS(e);return mK(i,n)}var kO;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(kO||(kO={}));new Promise(()=>{});function iS(t,e){e===void 0&&(e=[]);let n=[];return X.Children.forEach(t,(r,i)=>{if(!X.isValidElement(r))return;if(r.type===X.Fragment){n.push.apply(n,iS(r.props.children,e));return}r.type!==Na&&qt(!1),!r.props.index||!r.props.children||qt(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=iS(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sS(){return sS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sS.apply(this,arguments)}function PK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function kK(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bK(t,e){return t.button===0&&(!e||e==="_self")&&!kK(t)}const OK=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function NK(t){let{basename:e,children:n,window:r}=t,i=X.useRef();i.current==null&&(i.current=bY({window:r,v5Compat:!0}));let s=i.current,[o,u]=X.useState({action:s.action,location:s.location});return X.useLayoutEffect(()=>s.listen(u),[s]),X.createElement(RK,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}const xK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xv=X.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:u,target:l,to:h,preventScrollReset:d}=e,p=PK(e,OK),g,v=!1;if(xK&&typeof h=="string"&&/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(h)){g=h;let S=new URL(window.location.href),T=h.startsWith("//")?new URL(S.protocol+h):new URL(h);T.origin===S.origin?h=T.pathname+T.search+T.hash:v=!0}let E=dK(h,{relative:i}),R=DK(h,{replace:o,state:u,target:l,preventScrollReset:d,relative:i});function C(S){r&&r(S),S.defaultPrevented||R(S)}return X.createElement("a",sS({},p,{href:g||E,onClick:v||s?r:C,ref:n,target:l}))});var bO;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(bO||(bO={}));var OO;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(OO||(OO={}));function DK(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,u=PI(),l=_d(),h=qM(t,{relative:o});return X.useCallback(d=>{if(bK(d,n)){d.preventDefault();let p=r!==void 0?r:Bm(l)===Bm(h);u(t,{replace:p,state:i,preventScrollReset:s,relative:o})}},[l,u,h,r,i,n,t,s,o])}var LK=function(e){var n=e.width,r=n===void 0?36:n,i=e.height,s=i===void 0?36:i;return te("svg",{height:s,viewBox:"0 0 24 24",width:r,children:te("g",{children:te("path",{d:"M23 4v2h-3v3h-2V6h-3V4h3V1h2v3h3zm-8.5 7c.828 0 1.5-.672 1.5-1.5S15.328 8 14.5 8 13 8.672 13 9.5s.672 1.5 1.5 1.5zm3.5 3.234l-.513-.57c-.794-.885-2.18-.885-2.976 0l-.655.73L9 9l-3 3.333V6h7V4H6c-1.105 0-2 .895-2 2v12c0 1.105.895 2 2 2h12c1.105 0 2-.895 2-2v-7h-2v3.234z",fill:"#8da4f1"})})})},MK=function(e){var n=e.width,r=n===void 0?24:n,i=e.height,s=i===void 0?24:i,o=e.color,u=o===void 0?"#ddddf7":o;return te("svg",{fill:u,height:s,viewBox:"0 0 26.676 26.676",width:r,children:te("path",{d:"M26.105,21.891c-0.229,0-0.439-0.131-0.529-0.346l0,0c-0.066-0.156-1.716-3.857-7.885-4.59 c-1.285-0.156-2.824-0.236-4.693-0.25v4.613c0,0.213-0.115,0.406-0.304,0.508c-0.188,0.098-0.413,0.084-0.588-0.033L0.254,13.815 C0.094,13.708,0,13.528,0,13.339c0-0.191,0.094-0.365,0.254-0.477l11.857-7.979c0.175-0.121,0.398-0.129,0.588-0.029 c0.19,0.102,0.303,0.295,0.303,0.502v4.293c2.578,0.336,13.674,2.33,13.674,11.674c0,0.271-0.191,0.508-0.459,0.562 C26.18,21.891,26.141,21.891,26.105,21.891z"})})},UK=function(e){var n=e.width,r=n===void 0?24:n,i=e.height,s=i===void 0?24:i,o=e.color,u=o===void 0?"#ddddf7":o;return te("svg",{fill:u,height:s,viewBox:"0 0 32 32",width:r,children:te("path",{d:"M12.15 28.012v-0.85c0.019-0.069 0.050-0.131 0.063-0.2 0.275-1.788 1.762-3.2 3.506-3.319 1.95-0.137 3.6 0.975 4.137 2.787 0.069 0.238 0.119 0.488 0.181 0.731v0.85c-0.019 0.056-0.050 0.106-0.056 0.169-0.269 1.65-1.456 2.906-3.081 3.262-0.125 0.025-0.25 0.063-0.375 0.094h-0.85c-0.056-0.019-0.113-0.050-0.169-0.056-1.625-0.262-2.862-1.419-3.237-3.025-0.037-0.156-0.081-0.3-0.119-0.444zM20.038 3.988l-0 0.85c-0.019 0.069-0.050 0.131-0.056 0.2-0.281 1.8-1.775 3.206-3.538 3.319-1.944 0.125-3.588-1-4.119-2.819-0.069-0.231-0.119-0.469-0.175-0.7v-0.85c0.019-0.056 0.050-0.106 0.063-0.162 0.3-1.625 1.244-2.688 2.819-3.194 0.206-0.069 0.425-0.106 0.637-0.162h0.85c0.056 0.019 0.113 0.050 0.169 0.056 1.631 0.269 2.863 1.419 3.238 3.025 0.038 0.15 0.075 0.294 0.113 0.437zM20.037 15.575v0.85c-0.019 0.069-0.050 0.131-0.063 0.2-0.281 1.794-1.831 3.238-3.581 3.313-1.969 0.087-3.637-1.1-4.106-2.931-0.050-0.194-0.094-0.387-0.137-0.581v-0.85c0.019-0.069 0.050-0.131 0.063-0.2 0.275-1.794 1.831-3.238 3.581-3.319 1.969-0.094 3.637 1.1 4.106 2.931 0.050 0.2 0.094 0.394 0.137 0.588z"})})},Hm={AddAvatar:LK,BackArrow:MK,Options:UK},_c=function(){return CY()},Or=sY,kI=function(e){return X.useEffect(e,[])},En;(function(t){t.Root="/",t.Chat="chat",t.Login="login",t.Register="register"})(En||(En={}));var oS;(function(t){t.ChatId="chatId"})(oS||(oS={}));const FK="IBm",$K="IxK",NO={container:FK,info:$K};var VK=function(){var e=Or(function(r){return r.user}),n=e.chat;return ot("div",{className:NO.container,children:[ot("div",{className:NO.info,children:[te(xv,{to:En.Root,children:te(Hm.BackArrow,{})}),te("span",{children:n==null?void 0:n.interlocutorInfo.nickname}),te(Hm.Options,{})]}),te(Ipe,{}),te(ace,{})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne=function(t,e){if(!t)throw vc(e)},vc=function(t){return new Error("Firebase Database ("+KM.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},WK=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],u=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},bI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,u=o?t[i+1]:0,l=i+2<t.length,h=l?t[i+2]:0,d=s>>2,p=(s&3)<<4|u>>4;let g=(u&15)<<2|h>>6,v=h&63;l||(v=64,o||(g=64)),r.push(n[d],n[p],n[g],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WK(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||h==null||p==null)throw new jK;const g=s<<2|u>>4;if(r.push(g),h!==64){const v=u<<4&240|h>>2;if(r.push(v),p!==64){const E=h<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jK extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XM=function(t){const e=QM(t);return bI.encodeByteArray(e,!0)},Gm=function(t){return XM(t).replace(/\./g,"")},qm=function(t){try{return bI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BK(t){return JM(void 0,t)}function JM(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!zK(n)||(t[n]=JM(t[n],e[n]));return t}function zK(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HK(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GK=()=>HK().__FIREBASE_DEFAULTS__,qK=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},YK=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qm(t[1]);return e&&JSON.parse(e)},Dv=()=>{try{return GK()||qK()||YK()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ZM=t=>{var e,n;return(n=(e=Dv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},OI=t=>{const e=ZM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},eU=()=>{var t;return(t=Dv())===null||t===void 0?void 0:t.config},tU=t=>{var e;return(e=Dv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),u="";return[Gm(JSON.stringify(n)),Gm(JSON.stringify(o)),u].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zn())}function KK(){var t;const e=(t=Dv())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QK(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XK(){const t=zn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rU(){return KM.NODE_ADMIN===!0}function JK(){try{return typeof indexedDB=="object"}catch{return!1}}function ZK(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eQ="FirebaseError";class as extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eQ,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yd.prototype.create)}}class yd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?tQ(s,r):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new as(i,u,r)}}function tQ(t,e){return t.replace(nQ,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const nQ=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(t){return JSON.parse(t)}function Zt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=kf(qm(s[0])||""),n=kf(qm(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},rQ=function(t){const e=iU(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},iQ=function(t){const e=iU(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ql(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function aS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ym(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Km(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(xO(s)&&xO(o)){if(!Km(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function xO(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function kh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function bh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sQ{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)r[p]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)r[p]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let p=16;p<80;p++){const g=r[p-3]^r[p-8]^r[p-14]^r[p-16];r[p]=(g<<1|g>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],u=this.chain_[3],l=this.chain_[4],h,d;for(let p=0;p<80;p++){p<40?p<20?(h=u^s&(o^u),d=1518500249):(h=s^o^u,d=1859775393):p<60?(h=s&o|u&(s|o),d=2400959708):(h=s^o^u,d=3395469782);const g=(i<<5|i>>>27)+h+l+d+r[p]&4294967295;l=u,u=o,o=(s<<30|s>>>2)&4294967295,s=i,i=g}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function oQ(t,e){const n=new aQ(t,e);return n.subscribe.bind(n)}class aQ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");uQ(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=zw),i.error===void 0&&(i.error=zw),i.complete===void 0&&(i.complete=zw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uQ(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zw(){}function Lv(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lQ=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,ne(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Mv=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t){return t&&t._delegate?t._delegate:t}class Hs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cQ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new vd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fQ(e))try{this.getOrInitializeService({instanceIdentifier:xa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=xa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xa){return this.instances.has(e)}getOptions(e=xa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hQ(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xa){return this.component?this.component.multipleInstances?e:xa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hQ(t){return t===xa?void 0:t}function fQ(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new cQ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const pQ={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},gQ=Ge.INFO,mQ={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},_Q=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=mQ[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Uv=class{constructor(e){this.name=e,this._logLevel=gQ,this._logHandler=_Q,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pQ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}};const vQ=(t,e)=>e.some(n=>t instanceof n);let DO,LO;function yQ(){return DO||(DO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wQ(){return LO||(LO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sU=new WeakMap,uS=new WeakMap,oU=new WeakMap,Hw=new WeakMap,DI=new WeakMap;function EQ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ho(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&sU.set(n,t)}).catch(()=>{}),DI.set(e,t),e}function SQ(t){if(uS.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});uS.set(t,e)}let lS={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return uS.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oU.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ho(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function TQ(t){lS=t(lS)}function IQ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Gw(this),e,...n);return oU.set(r,e.sort?e.sort():[e]),Ho(r)}:wQ().includes(t)?function(...e){return t.apply(Gw(this),e),Ho(sU.get(this))}:function(...e){return Ho(t.apply(Gw(this),e))}}function CQ(t){return typeof t=="function"?IQ(t):(t instanceof IDBTransaction&&SQ(t),vQ(t,yQ())?new Proxy(t,lS):t)}function Ho(t){if(t instanceof IDBRequest)return EQ(t);if(Hw.has(t))return Hw.get(t);const e=CQ(t);return e!==t&&(Hw.set(t,e),DI.set(e,t)),e}const Gw=t=>DI.get(t);function RQ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),u=Ho(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ho(o.result),l.oldVersion,l.newVersion,Ho(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),u.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const AQ=["get","getKey","getAll","getAllKeys","count"],PQ=["put","add","delete","clear"],qw=new Map;function MO(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qw.get(e))return qw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=PQ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||AQ.includes(n)))return;const s=async function(o,...u){const l=this.transaction(o,i?"readwrite":"readonly");let h=l.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&l.done]))[0]};return qw.set(e,s),s}TQ(t=>({...t,get:(e,n,r)=>MO(e,n)||t.get(e,n,r),has:(e,n)=>!!MO(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kQ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bQ(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function bQ(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cS="@firebase/app",UO="0.9.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=new Uv("@firebase/app"),OQ="@firebase/app-compat",NQ="@firebase/analytics-compat",xQ="@firebase/analytics",DQ="@firebase/app-check-compat",LQ="@firebase/app-check",MQ="@firebase/auth",UQ="@firebase/auth-compat",FQ="@firebase/database",$Q="@firebase/database-compat",VQ="@firebase/functions",WQ="@firebase/functions-compat",jQ="@firebase/installations",BQ="@firebase/installations-compat",zQ="@firebase/messaging",HQ="@firebase/messaging-compat",GQ="@firebase/performance",qQ="@firebase/performance-compat",YQ="@firebase/remote-config",KQ="@firebase/remote-config-compat",QQ="@firebase/storage",XQ="@firebase/storage-compat",JQ="@firebase/firestore",ZQ="@firebase/firestore-compat",eX="firebase",tX="10.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="[DEFAULT]",nX={[cS]:"fire-core",[OQ]:"fire-core-compat",[xQ]:"fire-analytics",[NQ]:"fire-analytics-compat",[LQ]:"fire-app-check",[DQ]:"fire-app-check-compat",[MQ]:"fire-auth",[UQ]:"fire-auth-compat",[FQ]:"fire-rtdb",[$Q]:"fire-rtdb-compat",[VQ]:"fire-fn",[WQ]:"fire-fn-compat",[jQ]:"fire-iid",[BQ]:"fire-iid-compat",[zQ]:"fire-fcm",[HQ]:"fire-fcm-compat",[GQ]:"fire-perf",[qQ]:"fire-perf-compat",[YQ]:"fire-rc",[KQ]:"fire-rc-compat",[QQ]:"fire-gcs",[XQ]:"fire-gcs-compat",[JQ]:"fire-fst",[ZQ]:"fire-fst-compat","fire-js":"fire-js",[eX]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm=new Map,fS=new Map;function rX(t,e){try{t.container.addComponent(e)}catch(n){iu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ia(t){const e=t.name;if(fS.has(e))return iu.debug(`There were multiple attempts to register component ${e}.`),!1;fS.set(e,t);for(const n of Qm.values())rX(n,t);return!0}function wd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iX={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Go=new yd("app","Firebase",iX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sX{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Go.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=tX;function aU(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:hS,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Go.create("bad-app-name",{appName:String(i)});if(n||(n=eU()),!n)throw Go.create("no-options");const s=Qm.get(i);if(s){if(Km(n,s.options)&&Km(r,s.config))return s;throw Go.create("duplicate-app",{appName:i})}const o=new dQ(i);for(const l of fS.values())o.addComponent(l);const u=new sX(n,r,o);return Qm.set(i,u),u}function Fv(t=hS){const e=Qm.get(t);if(!e&&t===hS&&eU())return aU();if(!e)throw Go.create("no-app",{appName:t});return e}function ni(t,e,n){var r;let i=(r=nX[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),iu.warn(u.join(" "));return}ia(new Hs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oX="firebase-heartbeat-database",aX=1,bf="firebase-heartbeat-store";let Yw=null;function uU(){return Yw||(Yw=RQ(oX,aX,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(bf)}}}).catch(t=>{throw Go.create("idb-open",{originalErrorMessage:t.message})})),Yw}async function uX(t){try{return await(await uU()).transaction(bf).objectStore(bf).get(lU(t))}catch(e){if(e instanceof as)iu.warn(e.message);else{const n=Go.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});iu.warn(n.message)}}}async function FO(t,e){try{const r=(await uU()).transaction(bf,"readwrite");await r.objectStore(bf).put(e,lU(t)),await r.done}catch(n){if(n instanceof as)iu.warn(n.message);else{const r=Go.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});iu.warn(r.message)}}}function lU(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lX=1024,cX=30*24*60*60*1e3;class hX{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dX(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=$O();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=cX}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=$O(),{heartbeatsToSend:n,unsentEntries:r}=fX(this._heartbeatsCache.heartbeats),i=Gm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function $O(){return new Date().toISOString().substring(0,10)}function fX(t,e=lX){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),VO(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),VO(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dX{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JK()?ZK().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await uX(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return FO(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return FO(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function VO(t){return Gm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pX(t){ia(new Hs("platform-logger",e=>new kQ(e),"PRIVATE")),ia(new Hs("heartbeat",e=>new hX(e),"PRIVATE")),ni(cS,UO,t),ni(cS,UO,"esm2017"),ni("fire-js","")}pX("");const WO="@firebase/database",jO="1.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cU="";function gX(t){cU=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mX{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Zt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:kf(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _X{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return us(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new mX(e)}}catch{}return new _X},Wa=hU("localStorage"),dS=hU("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=new Uv("@firebase/database"),vX=function(){let t=1;return function(){return t++}}(),fU=function(t){const e=lQ(t),n=new sQ;n.update(e);const r=n.digest();return bI.encodeByteArray(r)},Ed=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ed.apply(null,r):typeof r=="object"?e+=Zt(r):e+=r,e+=" "}return e};let Ya=null,BO=!0;const yX=function(t,e){ne(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Rl.logLevel=Ge.VERBOSE,Ya=Rl.log.bind(Rl),e&&dS.set("logging_enabled",!0)):typeof t=="function"?Ya=t:(Ya=null,dS.remove("logging_enabled"))},yn=function(...t){if(BO===!0&&(BO=!1,Ya===null&&dS.get("logging_enabled")===!0&&yX(!0)),Ya){const e=Ed.apply(null,t);Ya(e)}},Sd=function(t){return function(...e){yn(t,...e)}},pS=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ed(...t);Rl.error(e)},Gs=function(...t){const e=`FIREBASE FATAL ERROR: ${Ed(...t)}`;throw Rl.error(e),new Error(e)},rr=function(...t){const e="FIREBASE WARNING: "+Ed(...t);Rl.warn(e)},wX=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&rr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},LI=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},EX=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Xl="[MIN_NAME]",su="[MAX_NAME]",wu=function(t,e){if(t===e)return 0;if(t===Xl||e===su)return-1;if(e===Xl||t===su)return 1;{const n=zO(t),r=zO(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},SX=function(t,e){return t===e?0:t<e?-1:1},gh=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Zt(e))},MI=function(t){if(typeof t!="object"||t===null)return Zt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Zt(e[r]),n+=":",n+=MI(t[e[r]]);return n+="}",n},dU=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Cn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const pU=function(t){ne(!LI(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,u,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(u=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=u+r,o=Math.round(t*Math.pow(2,n-u)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const h=[];for(l=n;l;l-=1)h.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();const d=h.join("");let p="";for(l=0;l<64;l+=8){let g=parseInt(d.substr(l,8),2).toString(16);g.length===1&&(g="0"+g),p=p+g}return p.toLowerCase()},TX=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},IX=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function CX(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const RX=new RegExp("^-?(0*)\\d{1,10}$"),AX=-2147483648,PX=2147483647,zO=function(t){if(RX.test(t)){const e=Number(t);if(e>=AX&&e<=PX)return e}return null},wc=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw rr("Exception was thrown by user callback.",n),e},Math.floor(0))}},kX=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Gh=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bX{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){rr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OX{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(yn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',rr(e)}}class Al{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Al.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="5",gU="v",mU="s",_U="r",vU="f",yU=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,wU="ls",EU="p",gS="ac",SU="websocket",TU="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e,n,r,i,s=!1,o="",u=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Wa.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Wa.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function NX(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function CU(t,e,n){ne(typeof e=="string","typeof type must == string"),ne(typeof n=="object","typeof params must == object");let r;if(e===SU)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===TU)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);NX(t)&&(n.ns=t.namespace);const i=[];return Cn(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xX{constructor(){this.counters_={}}incrementCounter(e,n=1){us(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return BK(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw={},Qw={};function FI(t){const e=t.toString();return Kw[e]||(Kw[e]=new xX),Kw[e]}function DX(t,e){const n=t.toString();return Qw[n]||(Qw[n]=e()),Qw[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LX{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&wc(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO="start",MX="close",UX="pLPCommand",FX="pRTLPCB",RU="id",AU="pw",PU="ser",$X="cb",VX="seg",WX="ts",jX="d",BX="dframe",kU=1870,bU=30,zX=kU-bU,HX=25e3,GX=3e4;class gl{constructor(e,n,r,i,s,o,u){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Sd(e),this.stats_=FI(n),this.urlFn=l=>(this.appCheckToken&&(l[gS]=this.appCheckToken),CU(n,TU,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new LX(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(GX)),EX(()=>{if(this.isClosed_)return;this.scriptTagHolder=new $I((...s)=>{const[o,u,l,h,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===HO)this.id=u,this.password=l;else if(o===MX)u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,u]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,u)},()=>{this.onClosed_()},this.urlFn);const r={};r[HO]="t",r[PU]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[$X]=this.scriptTagHolder.uniqueCallbackIdentifier),r[gU]=UI,this.transportSessionId&&(r[mU]=this.transportSessionId),this.lastSessionId&&(r[wU]=this.lastSessionId),this.applicationId&&(r[EU]=this.applicationId),this.appCheckToken&&(r[gS]=this.appCheckToken),typeof location<"u"&&location.hostname&&yU.test(location.hostname)&&(r[_U]=vU);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){gl.forceAllow_=!0}static forceDisallow(){gl.forceDisallow_=!0}static isAvailable(){return gl.forceAllow_?!0:!gl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!TX()&&!IX()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Zt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=XM(n),i=dU(r,zX);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[BX]="t",r[RU]=e,r[AU]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Zt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class $I{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=vX(),window[UX+this.uniqueCallbackIdentifier]=e,window[FX+this.uniqueCallbackIdentifier]=n,this.myIFrame=$I.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(u){yn("frame writing exception"),u.stack&&yn(u.stack),yn(u)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||yn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[RU]=this.myID,e[AU]=this.myPW,e[PU]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+bU+r.length<=kU;){const o=this.pendingSegs.shift();r=r+"&"+VX+i+"="+o.seg+"&"+WX+i+"="+o.ts+"&"+jX+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(HX)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{yn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qX=16384,YX=45e3;let Xm=null;typeof MozWebSocket<"u"?Xm=MozWebSocket:typeof WebSocket<"u"&&(Xm=WebSocket);class yi{constructor(e,n,r,i,s,o,u){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Sd(this.connId),this.stats_=FI(n),this.connURL=yi.connectionURL_(n,o,u,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[gU]=UI,typeof location<"u"&&location.hostname&&yU.test(location.hostname)&&(o[_U]=vU),n&&(o[mU]=n),r&&(o[wU]=r),i&&(o[gS]=i),s&&(o[EU]=s),CU(e,SU,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Wa.set("previous_websocket_failure",!0);try{let r;rU(),this.mySock=new Xm(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){yi.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Xm!==null&&!yi.forceDisallow_}static previouslyFailed(){return Wa.isInMemoryStorage||Wa.get("previous_websocket_failure")===!0}markConnectionHealthy(){Wa.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=kf(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ne(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Zt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=dU(n,qX);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(YX))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}yi.responsesRequiredToBeHealthy=2;yi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[gl,yi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=yi&&yi.isAvailable();let r=n&&!yi.previouslyFailed();if(e.webSocketOnly&&(n||rr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[yi];else{const i=this.transports_=[];for(const s of Of.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Of.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Of.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KX=6e4,QX=5e3,XX=10*1024,JX=100*1024,Xw="t",GO="d",ZX="s",qO="r",eJ="e",YO="o",KO="a",QO="n",XO="p",tJ="h";class nJ{constructor(e,n,r,i,s,o,u,l,h,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=u,this.onDisconnect_=l,this.onKill_=h,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Sd("c:"+this.id+":"),this.transportManager_=new Of(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Gh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>JX?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>XX?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Xw in e){const n=e[Xw];n===KO?this.upgradeIfSecondaryHealthy_():n===qO?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===YO&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=gh("t",e),r=gh("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:XO,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:KO,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:QO,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=gh("t",e),r=gh("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=gh(Xw,e);if(GO in e){const r=e[GO];if(n===tJ){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===QO){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===ZX?this.onConnectionShutdown_(r):n===qO?this.onReset_(r):n===eJ?pS("Server Error: "+r):n===YO?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):pS("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),UI!==r&&rr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Gh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(KX))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Gh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(QX))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:XO,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Wa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NU=class{constructor(e){this.allowedEvents_=e,this.listeners_={},ne(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){ne(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm extends NU{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!xI()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Jm}getInitialEvent(e){return ne(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=32,ZO=768;class at{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ke(){return new at("")}function Le(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function sa(t){return t.pieces_.length-t.pieceNum_}function ft(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new at(t.pieces_,e)}function VI(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function rJ(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Nf(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function xU(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new at(e,0)}function Dt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof at)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new at(n,0)}function $e(t){return t.pieceNum_>=t.pieces_.length}function er(t,e){const n=Le(t),r=Le(e);if(n===null)return e;if(n===r)return er(ft(t),ft(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function iJ(t,e){const n=Nf(t,0),r=Nf(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=wu(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function WI(t,e){if(sa(t)!==sa(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function ei(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(sa(t)>sa(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class sJ{constructor(e,n){this.errorPrefix_=n,this.parts_=Nf(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Mv(this.parts_[r]);DU(this)}}function oJ(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Mv(e),DU(t)}function aJ(t){const e=t.parts_.pop();t.byteLength_-=Mv(e),t.parts_.length>0&&(t.byteLength_-=1)}function DU(t){if(t.byteLength_>ZO)throw new Error(t.errorPrefix_+"has a key path longer than "+ZO+" bytes ("+t.byteLength_+").");if(t.parts_.length>JO)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+JO+") or object contains a cycle "+Da(t))}function Da(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI extends NU{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new jI}getInitialEvent(e){return ne(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=1e3,uJ=60*5*1e3,eN=30*1e3,lJ=1.3,cJ=3e4,hJ="server_kill",tN=3;class Fs extends OU{constructor(e,n,r,i,s,o,u,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=u,this.authOverride_=l,this.id=Fs.nextPersistentConnectionId_++,this.log_=Sd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=mh,this.maxReconnectDelay_=uJ,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!rU())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");jI.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Jm.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Zt(s)),ne(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new vd,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const u=o.d;o.s==="ok"?n.resolve(u):n.reject(u)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ne(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const u={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,u),this.connected_&&this.sendListen_(u)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,u=>{const l=u.d,h=u.s;Fs.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",u),h!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(h,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&us(e,"w")){const r=Ql(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();rr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||iQ(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=eN)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=rQ(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Zt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):pS("Unrecognized action received from server: "+Zt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ne(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=mh,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=mh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>cJ&&(this.reconnectDelay_=mh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*lJ)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Fs.nextConnectionId_++,s=this.lastSessionId;let o=!1,u=null;const l=function(){u?u.close():(o=!0,r())},h=function(p){ne(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(p)};this.realtime_={close:l,sendRequest:h};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[p,g]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?yn("getToken() completed but was canceled"):(yn("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=g&&g.token,u=new nJ(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,v=>{rr(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(hJ)},s))}catch(p){this.log_("Failed to get token: "+p),o||(this.repoInfo_.nodeAdmin&&rr(p),l())}}}interrupt(e){yn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){yn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],aS(this.interruptReasons_)&&(this.reconnectDelay_=mh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>MI(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new at(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){yn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=tN&&(this.reconnectDelay_=eN,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){yn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=tN&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+cU.replace(/\./g,"-")]=1,xI()?e["framework.cordova"]=1:nU()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Jm.getInstance().currentlyOnline();return aS(this.interruptReasons_)&&e}}Fs.nextPersistentConnectionId_=0;Fs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Me(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Me(Xl,e),i=new Me(Xl,n);return this.compare(r,i)!==0}minPost(){return Me.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lg;class LU extends $v{static get __EMPTY_NODE(){return lg}static set __EMPTY_NODE(e){lg=e}compare(e,n){return wu(e.name,n.name)}isDefinedOn(e){throw vc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Me.MIN}maxPost(){return new Me(su,lg)}makePost(e,n){return ne(typeof e=="string","KeyIndex indexValue must always be a string."),new Me(e,lg)}toString(){return".key"}}const Pl=new LU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cg=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Ir=class Oh{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Oh.RED,this.left=i??Yi.EMPTY_NODE,this.right=s??Yi.EMPTY_NODE}copy(e,n,r,i,s){return new Oh(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Yi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Yi.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Oh.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Oh.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};Ir.RED=!0;Ir.BLACK=!1;class fJ{copy(e,n,r,i,s){return this}insert(e,n,r){return new Ir(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let Yi=class Qg{constructor(e,n=Qg.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Qg(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ir.BLACK,null,null))}remove(e){return new Qg(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ir.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new cg(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new cg(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new cg(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new cg(this.root_,null,this.comparator_,!0,e)}};Yi.EMPTY_NODE=new fJ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dJ(t,e){return wu(t.name,e.name)}function BI(t,e){return wu(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mS;function pJ(t){mS=t}const MU=function(t){return typeof t=="number"?"number:"+pU(t):"string:"+t},UU=function(t){if(t.isLeafNode()){const e=t.val();ne(typeof e=="string"||typeof e=="number"||typeof e=="object"&&us(e,".sv"),"Priority must be a string or number.")}else ne(t===mS||t.isEmpty(),"priority of unexpected type.");ne(t===mS||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nN;class sn{constructor(e,n=sn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ne(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),UU(this.priorityNode_)}static set __childrenNodeConstructor(e){nN=e}static get __childrenNodeConstructor(){return nN}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new sn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:sn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return $e(e)?this:Le(e)===".priority"?this.priorityNode_:sn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:sn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Le(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ne(r!==".priority"||sa(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,sn.__childrenNodeConstructor.EMPTY_NODE.updateChild(ft(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+MU(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=pU(this.value_):e+=this.value_,this.lazyHash_=fU(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===sn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof sn.__childrenNodeConstructor?-1:(ne(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=sn.VALUE_TYPE_ORDER.indexOf(n),s=sn.VALUE_TYPE_ORDER.indexOf(r);return ne(i>=0,"Unknown leaf type: "+n),ne(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}sn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FU,$U;function gJ(t){FU=t}function mJ(t){$U=t}class _J extends $v{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?wu(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Me.MIN}maxPost(){return new Me(su,new sn("[PRIORITY-POST]",$U))}makePost(e,n){const r=FU(e);return new Me(n,new sn("[PRIORITY-POST]",r))}toString(){return".priority"}}const Lt=new _J;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vJ=Math.log(2);class yJ{constructor(e){const n=s=>parseInt(Math.log(s)/vJ,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Zm=function(t,e,n,r){t.sort(e);const i=function(l,h){const d=h-l;let p,g;if(d===0)return null;if(d===1)return p=t[l],g=n?n(p):p,new Ir(g,p.node,Ir.BLACK,null,null);{const v=parseInt(d/2,10)+l,E=i(l,v),R=i(v+1,h);return p=t[v],g=n?n(p):p,new Ir(g,p.node,Ir.BLACK,E,R)}},s=function(l){let h=null,d=null,p=t.length;const g=function(E,R){const C=p-E,S=p;p-=E;const T=i(C+1,S),k=t[C],b=n?n(k):k;v(new Ir(b,k.node,R,null,T))},v=function(E){h?(h.left=E,h=E):(d=E,h=E)};for(let E=0;E<l.count;++E){const R=l.nextBitIsOne(),C=Math.pow(2,l.count-(E+1));R?g(C,Ir.BLACK):(g(C,Ir.BLACK),g(C,Ir.RED))}return d},o=new yJ(t.length),u=s(o);return new Yi(r||e,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jw;const Hu={};class Os{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return ne(Hu&&Lt,"ChildrenNode.ts has not been loaded"),Jw=Jw||new Os({".priority":Hu},{".priority":Lt}),Jw}get(e){const n=Ql(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Yi?n:null}hasIndex(e){return us(this.indexSet_,e.toString())}addIndex(e,n){ne(e!==Pl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Me.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let u;i?u=Zm(r,e.getCompare()):u=Hu;const l=e.toString(),h=Object.assign({},this.indexSet_);h[l]=e;const d=Object.assign({},this.indexes_);return d[l]=u,new Os(d,h)}addToIndexes(e,n){const r=Ym(this.indexes_,(i,s)=>{const o=Ql(this.indexSet_,s);if(ne(o,"Missing index implementation for "+s),i===Hu)if(o.isDefinedOn(e.node)){const u=[],l=n.getIterator(Me.Wrap);let h=l.getNext();for(;h;)h.name!==e.name&&u.push(h),h=l.getNext();return u.push(e),Zm(u,o.getCompare())}else return Hu;else{const u=n.get(e.name);let l=i;return u&&(l=l.remove(new Me(e.name,u))),l.insert(e,e.node)}});return new Os(r,this.indexSet_)}removeFromIndexes(e,n){const r=Ym(this.indexes_,i=>{if(i===Hu)return i;{const s=n.get(e.name);return s?i.remove(new Me(e.name,s)):i}});return new Os(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _h;class Ee{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&UU(this.priorityNode_),this.children_.isEmpty()&&ne(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return _h||(_h=new Ee(new Yi(BI),null,Os.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||_h}updatePriority(e){return this.children_.isEmpty()?this:new Ee(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?_h:n}}getChild(e){const n=Le(e);return n===null?this:this.getImmediateChild(n).getChild(ft(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ne(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Me(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?_h:this.priorityNode_;return new Ee(i,o,s)}}updateChild(e,n){const r=Le(e);if(r===null)return n;{ne(Le(e)!==".priority"||sa(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(ft(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Lt,(o,u)=>{n[o]=u.val(e),r++,s&&Ee.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const u in n)o[u]=n[u];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+MU(this.getPriority().val())+":"),this.forEachChild(Lt,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":fU(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Me(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Me(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Me(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Me.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Me.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Td?-1:0}withIndex(e){if(e===Pl||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ee(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Pl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Lt),i=n.getIterator(Lt);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Pl?null:this.indexMap_.get(e.toString())}}Ee.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class wJ extends Ee{constructor(){super(new Yi(BI),Ee.EMPTY_NODE,Os.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ee.EMPTY_NODE}isEmpty(){return!1}}const Td=new wJ;Object.defineProperties(Me,{MIN:{value:new Me(Xl,Ee.EMPTY_NODE)},MAX:{value:new Me(su,Td)}});LU.__EMPTY_NODE=Ee.EMPTY_NODE;sn.__childrenNodeConstructor=Ee;pJ(Td);mJ(Td);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EJ=!0;function Jt(t,e=null){if(t===null)return Ee.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ne(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new sn(n,Jt(e))}if(!(t instanceof Array)&&EJ){const n=[];let r=!1;if(Cn(t,(o,u)=>{if(o.substring(0,1)!=="."){const l=Jt(u);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Me(o,l)))}}),n.length===0)return Ee.EMPTY_NODE;const s=Zm(n,dJ,o=>o.name,BI);if(r){const o=Zm(n,Lt.getCompare());return new Ee(s,Jt(e),new Os({".priority":o},{".priority":Lt}))}else return new Ee(s,Jt(e),Os.Default)}else{let n=Ee.EMPTY_NODE;return Cn(t,(r,i)=>{if(us(t,r)&&r.substring(0,1)!=="."){const s=Jt(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Jt(e))}}gJ(Jt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SJ extends $v{constructor(e){super(),this.indexPath_=e,ne(!$e(e)&&Le(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?wu(e.name,n.name):s}makePost(e,n){const r=Jt(e),i=Ee.EMPTY_NODE.updateChild(this.indexPath_,r);return new Me(n,i)}maxPost(){const e=Ee.EMPTY_NODE.updateChild(this.indexPath_,Td);return new Me(su,e)}toString(){return Nf(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TJ extends $v{compare(e,n){const r=e.node.compareTo(n.node);return r===0?wu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Me.MIN}maxPost(){return Me.MAX}makePost(e,n){const r=Jt(e);return new Me(n,r)}toString(){return".value"}}const IJ=new TJ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VU(t){return{type:"value",snapshotNode:t}}function Jl(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function xf(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Df(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function CJ(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){ne(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=e.getImmediateChild(n);return u.getChild(i).equals(r.getChild(i))&&u.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(xf(n,u)):ne(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?o.trackChildChange(Jl(n,r)):o.trackChildChange(Df(n,r,u))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Lt,(i,s)=>{n.hasChild(i)||r.trackChildChange(xf(i,s))}),n.isLeafNode()||n.forEachChild(Lt,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Df(i,s,o))}else r.trackChildChange(Jl(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Ee.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e){this.indexedFilter_=new zI(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Lf.getStartPost_(e),this.endPost_=Lf.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new Me(n,r))||(r=Ee.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Ee.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Ee.EMPTY_NODE);const s=this;return n.forEachChild(Lt,(o,u)=>{s.matches(new Me(o,u))||(i=i.updateImmediateChild(o,Ee.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RJ{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Lf(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new Me(n,r))||(r=Ee.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Ee.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Ee.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const u=s.getNext();if(this.withinDirectionalStart(u))if(this.withinDirectionalEnd(u))i=i.updateImmediateChild(u.name,u.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Ee.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const u=s.getNext();o<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?o++:i=i.updateImmediateChild(u.name,Ee.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const p=this.index_.getCompare();o=(g,v)=>p(v,g)}else o=this.index_.getCompare();const u=e;ne(u.numChildren()===this.limit_,"");const l=new Me(n,r),h=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(u.hasChild(n)){const p=u.getImmediateChild(n);let g=i.getChildAfterChild(this.index_,h,this.reverse_);for(;g!=null&&(g.name===n||u.hasChild(g.name));)g=i.getChildAfterChild(this.index_,g,this.reverse_);const v=g==null?1:o(g,l);if(d&&!r.isEmpty()&&v>=0)return s!=null&&s.trackChildChange(Df(n,r,p)),u.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(xf(n,p));const R=u.updateImmediateChild(n,Ee.EMPTY_NODE);return g!=null&&this.rangedFilter_.matches(g)?(s!=null&&s.trackChildChange(Jl(g.name,g.node)),R.updateImmediateChild(g.name,g.node)):R}}else return r.isEmpty()?e:d&&o(h,l)>=0?(s!=null&&(s.trackChildChange(xf(h.name,h.node)),s.trackChildChange(Jl(n,r))),u.updateImmediateChild(n,r).updateImmediateChild(h.name,Ee.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Lt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ne(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ne(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Xl}hasEnd(){return this.endSet_}getIndexEndValue(){return ne(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ne(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:su}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ne(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Lt}copy(){const e=new HI;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function AJ(t){return t.loadsAllData()?new zI(t.getIndex()):t.hasLimit()?new RJ(t):new Lf(t)}function rN(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Lt?n="$priority":t.index_===IJ?n="$value":t.index_===Pl?n="$key":(ne(t.index_ instanceof SJ,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Zt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Zt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Zt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Zt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Zt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function iN(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Lt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_ extends OU{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Sd("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ne(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=e_.getListenId_(e,r),u={};this.listens_[o]=u;const l=rN(e._queryParams);this.restRequest_(s+".json",l,(h,d)=>{let p=d;if(h===404&&(p=null,h=null),h===null&&this.onDataUpdate_(s,p,!1,r),Ql(this.listens_,o)===u){let g;h?h===401?g="permission_denied":g="rest_error:"+h:g="ok",i(g,null)}})}unlisten(e,n){const r=e_.getListenId_(e,n);delete this.listens_[r]}get(e){const n=rN(e._queryParams),r=e._path.toString(),i=new vd;return this.restRequest_(r+".json",n,(s,o)=>{let u=o;s===404&&(u=null,s=null),s===null?(this.onDataUpdate_(r,u,!1,null),i.resolve(u)):i.reject(new Error(u))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+yc(n);this.log_("Sending REST request for "+o);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(r&&u.readyState===4){this.log_("REST Response for "+o+" received. status:",u.status,"response:",u.responseText);let l=null;if(u.status>=200&&u.status<300){try{l=kf(u.responseText)}catch{rr("Failed to parse JSON response for "+o+": "+u.responseText)}r(null,l)}else u.status!==401&&u.status!==404&&rr("Got unsuccessful REST response for "+o+" Status: "+u.status),r(u.status);r=null}},u.open("GET",o,!0),u.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PJ{constructor(){this.rootNode_=Ee.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(){return{value:null,children:new Map}}function WU(t,e,n){if($e(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Le(e);t.children.has(r)||t.children.set(r,t_());const i=t.children.get(r);e=ft(e),WU(i,e,n)}}function _S(t,e,n){t.value!==null?n(e,t.value):kJ(t,(r,i)=>{const s=new at(e.toString()+"/"+r);_S(i,s,n)})}function kJ(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bJ{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Cn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=10*1e3,OJ=30*1e3,NJ=5*60*1e3;class xJ{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new bJ(e);const r=sN+(OJ-sN)*Math.random();Gh(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Cn(e,(i,s)=>{s>0&&us(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Gh(this.reportStats_.bind(this),Math.floor(Math.random()*2*NJ))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Si;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Si||(Si={}));function GI(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function qI(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function YI(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Si.ACK_USER_WRITE,this.source=GI()}operationForChild(e){if($e(this.path)){if(this.affectedTree.value!=null)return ne(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new at(e));return new n_(Ke(),n,this.revert)}}else return ne(Le(this.path)===e,"operationForChild called for unrelated child."),new n_(ft(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n){this.source=e,this.path=n,this.type=Si.LISTEN_COMPLETE}operationForChild(e){return $e(this.path)?new Mf(this.source,Ke()):new Mf(this.source,ft(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Si.OVERWRITE}operationForChild(e){return $e(this.path)?new ou(this.source,Ke(),this.snap.getImmediateChild(e)):new ou(this.source,ft(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Si.MERGE}operationForChild(e){if($e(this.path)){const n=this.children.subtree(new at(e));return n.isEmpty()?null:n.value?new ou(this.source,Ke(),n.value):new Zl(this.source,Ke(),n)}else return ne(Le(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Zl(this.source,ft(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if($e(e))return this.isFullyInitialized()&&!this.filtered_;const n=Le(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DJ{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function LJ(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(CJ(o.childName,o.snapshotNode))}),vh(t,i,"child_removed",e,r,n),vh(t,i,"child_added",e,r,n),vh(t,i,"child_moved",s,r,n),vh(t,i,"child_changed",e,r,n),vh(t,i,"value",e,r,n),i}function vh(t,e,n,r,i,s){const o=r.filter(u=>u.type===n);o.sort((u,l)=>UJ(t,u,l)),o.forEach(u=>{const l=MJ(t,u,s);i.forEach(h=>{h.respondsTo(u.type)&&e.push(h.createEvent(l,t.query_))})})}function MJ(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function UJ(t,e,n){if(e.childName==null||n.childName==null)throw vc("Should only compare child_ events.");const r=new Me(e.childName,e.snapshotNode),i=new Me(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t,e){return{eventCache:t,serverCache:e}}function qh(t,e,n,r){return Vv(new oa(e,n,r),t.serverCache)}function jU(t,e,n,r){return Vv(t.eventCache,new oa(e,n,r))}function r_(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function au(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zw;const FJ=()=>(Zw||(Zw=new Yi(SX)),Zw);class ht{constructor(e,n=FJ()){this.value=e,this.children=n}static fromObject(e){let n=new ht(null);return Cn(e,(r,i)=>{n=n.set(new at(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ke(),value:this.value};if($e(e))return null;{const r=Le(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(ft(e),n);return s!=null?{path:Dt(new at(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if($e(e))return this;{const n=Le(e),r=this.children.get(n);return r!==null?r.subtree(ft(e)):new ht(null)}}set(e,n){if($e(e))return new ht(n,this.children);{const r=Le(e),s=(this.children.get(r)||new ht(null)).set(ft(e),n),o=this.children.insert(r,s);return new ht(this.value,o)}}remove(e){if($e(e))return this.children.isEmpty()?new ht(null):new ht(null,this.children);{const n=Le(e),r=this.children.get(n);if(r){const i=r.remove(ft(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ht(null):new ht(this.value,s)}else return this}}get(e){if($e(e))return this.value;{const n=Le(e),r=this.children.get(n);return r?r.get(ft(e)):null}}setTree(e,n){if($e(e))return n;{const r=Le(e),s=(this.children.get(r)||new ht(null)).setTree(ft(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ht(this.value,o)}}fold(e){return this.fold_(Ke(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Dt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ke(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if($e(e))return null;{const s=Le(e),o=this.children.get(s);return o?o.findOnPath_(ft(e),Dt(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ke(),n)}foreachOnPath_(e,n,r){if($e(e))return this;{this.value&&r(n,this.value);const i=Le(e),s=this.children.get(i);return s?s.foreachOnPath_(ft(e),Dt(n,i),r):new ht(null)}}foreach(e){this.foreach_(Ke(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Dt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this.writeTree_=e}static empty(){return new Ai(new ht(null))}}function Yh(t,e,n){if($e(e))return new Ai(new ht(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=er(i,e);return s=s.updateChild(o,n),new Ai(t.writeTree_.set(i,s))}else{const i=new ht(n),s=t.writeTree_.setTree(e,i);return new Ai(s)}}}function vS(t,e,n){let r=t;return Cn(n,(i,s)=>{r=Yh(r,Dt(e,i),s)}),r}function oN(t,e){if($e(e))return Ai.empty();{const n=t.writeTree_.setTree(e,new ht(null));return new Ai(n)}}function yS(t,e){return Eu(t,e)!=null}function Eu(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(er(n.path,e)):null}function aN(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Lt,(r,i)=>{e.push(new Me(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Me(r,i.value))}),e}function qo(t,e){if($e(e))return t;{const n=Eu(t,e);return n!=null?new Ai(new ht(n)):new Ai(t.writeTree_.subtree(e))}}function wS(t){return t.writeTree_.isEmpty()}function ec(t,e){return BU(Ke(),t.writeTree_,e)}function BU(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(ne(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=BU(Dt(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Dt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(t,e){return qU(e,t)}function $J(t,e,n,r,i){ne(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Yh(t.visibleWrites,e,n)),t.lastWriteId=r}function VJ(t,e,n,r){ne(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=vS(t.visibleWrites,e,n),t.lastWriteId=r}function WJ(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function jJ(t,e){const n=t.allWrites.findIndex(u=>u.writeId===e);ne(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const u=t.allWrites[o];u.visible&&(o>=n&&BJ(u,r.path)?i=!1:ei(r.path,u.path)&&(s=!0)),o--}if(i){if(s)return zJ(t),!0;if(r.snap)t.visibleWrites=oN(t.visibleWrites,r.path);else{const u=r.children;Cn(u,l=>{t.visibleWrites=oN(t.visibleWrites,Dt(r.path,l))})}return!0}else return!1}function BJ(t,e){if(t.snap)return ei(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&ei(Dt(t.path,n),e))return!0;return!1}function zJ(t){t.visibleWrites=zU(t.allWrites,HJ,Ke()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function HJ(t){return t.visible}function zU(t,e,n){let r=Ai.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let u;if(s.snap)ei(n,o)?(u=er(n,o),r=Yh(r,u,s.snap)):ei(o,n)&&(u=er(o,n),r=Yh(r,Ke(),s.snap.getChild(u)));else if(s.children){if(ei(n,o))u=er(n,o),r=vS(r,u,s.children);else if(ei(o,n))if(u=er(o,n),$e(u))r=vS(r,Ke(),s.children);else{const l=Ql(s.children,Le(u));if(l){const h=l.getChild(ft(u));r=Yh(r,Ke(),h)}}}else throw vc("WriteRecord should have .snap or .children")}}return r}function HU(t,e,n,r,i){if(!r&&!i){const s=Eu(t.visibleWrites,e);if(s!=null)return s;{const o=qo(t.visibleWrites,e);if(wS(o))return n;if(n==null&&!yS(o,Ke()))return null;{const u=n||Ee.EMPTY_NODE;return ec(o,u)}}}else{const s=qo(t.visibleWrites,e);if(!i&&wS(s))return n;if(!i&&n==null&&!yS(s,Ke()))return null;{const o=function(h){return(h.visible||i)&&(!r||!~r.indexOf(h.writeId))&&(ei(h.path,e)||ei(e,h.path))},u=zU(t.allWrites,o,e),l=n||Ee.EMPTY_NODE;return ec(u,l)}}}function GJ(t,e,n){let r=Ee.EMPTY_NODE;const i=Eu(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Lt,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=qo(t.visibleWrites,e);return n.forEachChild(Lt,(o,u)=>{const l=ec(qo(s,new at(o)),u);r=r.updateImmediateChild(o,l)}),aN(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=qo(t.visibleWrites,e);return aN(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function qJ(t,e,n,r,i){ne(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Dt(e,n);if(yS(t.visibleWrites,s))return null;{const o=qo(t.visibleWrites,s);return wS(o)?i.getChild(n):ec(o,i.getChild(n))}}function YJ(t,e,n,r){const i=Dt(e,n),s=Eu(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=qo(t.visibleWrites,i);return ec(o,r.getNode().getImmediateChild(n))}else return null}function KJ(t,e){return Eu(t.visibleWrites,e)}function QJ(t,e,n,r,i,s,o){let u;const l=qo(t.visibleWrites,e),h=Eu(l,Ke());if(h!=null)u=h;else if(n!=null)u=ec(l,n);else return[];if(u=u.withIndex(o),!u.isEmpty()&&!u.isLeafNode()){const d=[],p=o.getCompare(),g=s?u.getReverseIteratorFrom(r,o):u.getIteratorFrom(r,o);let v=g.getNext();for(;v&&d.length<i;)p(v,r)!==0&&d.push(v),v=g.getNext();return d}else return[]}function XJ(){return{visibleWrites:Ai.empty(),allWrites:[],lastWriteId:-1}}function i_(t,e,n,r){return HU(t.writeTree,t.treePath,e,n,r)}function KI(t,e){return GJ(t.writeTree,t.treePath,e)}function uN(t,e,n,r){return qJ(t.writeTree,t.treePath,e,n,r)}function s_(t,e){return KJ(t.writeTree,Dt(t.treePath,e))}function JJ(t,e,n,r,i,s){return QJ(t.writeTree,t.treePath,e,n,r,i,s)}function QI(t,e,n){return YJ(t.writeTree,t.treePath,e,n)}function GU(t,e){return qU(Dt(t.treePath,e),t.writeTree)}function qU(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZJ{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ne(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ne(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Df(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,xf(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Jl(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Df(r,e.snapshotNode,i.oldSnap));else throw vc("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eZ{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const YU=new eZ;class XI{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new oa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return QI(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:au(this.viewCache_),s=JJ(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tZ(t){return{filter:t}}function nZ(t,e){ne(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ne(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function rZ(t,e,n,r,i){const s=new ZJ;let o,u;if(n.type===Si.OVERWRITE){const h=n;h.source.fromUser?o=ES(t,e,h.path,h.snap,r,i,s):(ne(h.source.fromServer,"Unknown source."),u=h.source.tagged||e.serverCache.isFiltered()&&!$e(h.path),o=o_(t,e,h.path,h.snap,r,i,u,s))}else if(n.type===Si.MERGE){const h=n;h.source.fromUser?o=sZ(t,e,h.path,h.children,r,i,s):(ne(h.source.fromServer,"Unknown source."),u=h.source.tagged||e.serverCache.isFiltered(),o=SS(t,e,h.path,h.children,r,i,u,s))}else if(n.type===Si.ACK_USER_WRITE){const h=n;h.revert?o=uZ(t,e,h.path,r,i,s):o=oZ(t,e,h.path,h.affectedTree,r,i,s)}else if(n.type===Si.LISTEN_COMPLETE)o=aZ(t,e,n.path,r,s);else throw vc("Unknown operation type: "+n.type);const l=s.getChanges();return iZ(e,o,l),{viewCache:o,changes:l}}function iZ(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=r_(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(VU(r_(e)))}}function KU(t,e,n,r,i,s){const o=e.eventCache;if(s_(r,n)!=null)return e;{let u,l;if($e(n))if(ne(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=au(e),d=h instanceof Ee?h:Ee.EMPTY_NODE,p=KI(r,d);u=t.filter.updateFullNode(e.eventCache.getNode(),p,s)}else{const h=i_(r,au(e));u=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const h=Le(n);if(h===".priority"){ne(sa(n)===1,"Can't have a priority with additional path components");const d=o.getNode();l=e.serverCache.getNode();const p=uN(r,n,d,l);p!=null?u=t.filter.updatePriority(d,p):u=o.getNode()}else{const d=ft(n);let p;if(o.isCompleteForChild(h)){l=e.serverCache.getNode();const g=uN(r,n,o.getNode(),l);g!=null?p=o.getNode().getImmediateChild(h).updateChild(d,g):p=o.getNode().getImmediateChild(h)}else p=QI(r,h,e.serverCache);p!=null?u=t.filter.updateChild(o.getNode(),h,p,d,i,s):u=o.getNode()}}return qh(e,u,o.isFullyInitialized()||$e(n),t.filter.filtersNodes())}}function o_(t,e,n,r,i,s,o,u){const l=e.serverCache;let h;const d=o?t.filter:t.filter.getIndexedFilter();if($e(n))h=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const v=l.getNode().updateChild(n,r);h=d.updateFullNode(l.getNode(),v,null)}else{const v=Le(n);if(!l.isCompleteForPath(n)&&sa(n)>1)return e;const E=ft(n),C=l.getNode().getImmediateChild(v).updateChild(E,r);v===".priority"?h=d.updatePriority(l.getNode(),C):h=d.updateChild(l.getNode(),v,C,E,YU,null)}const p=jU(e,h,l.isFullyInitialized()||$e(n),d.filtersNodes()),g=new XI(i,p,s);return KU(t,p,n,i,g,u)}function ES(t,e,n,r,i,s,o){const u=e.eventCache;let l,h;const d=new XI(i,e,s);if($e(n))h=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=qh(e,h,!0,t.filter.filtersNodes());else{const p=Le(n);if(p===".priority")h=t.filter.updatePriority(e.eventCache.getNode(),r),l=qh(e,h,u.isFullyInitialized(),u.isFiltered());else{const g=ft(n),v=u.getNode().getImmediateChild(p);let E;if($e(g))E=r;else{const R=d.getCompleteChild(p);R!=null?VI(g)===".priority"&&R.getChild(xU(g)).isEmpty()?E=R:E=R.updateChild(g,r):E=Ee.EMPTY_NODE}if(v.equals(E))l=e;else{const R=t.filter.updateChild(u.getNode(),p,E,g,d,o);l=qh(e,R,u.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function lN(t,e){return t.eventCache.isCompleteForChild(e)}function sZ(t,e,n,r,i,s,o){let u=e;return r.foreach((l,h)=>{const d=Dt(n,l);lN(e,Le(d))&&(u=ES(t,u,d,h,i,s,o))}),r.foreach((l,h)=>{const d=Dt(n,l);lN(e,Le(d))||(u=ES(t,u,d,h,i,s,o))}),u}function cN(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function SS(t,e,n,r,i,s,o,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,h;$e(n)?h=r:h=new ht(null).setTree(n,r);const d=e.serverCache.getNode();return h.children.inorderTraversal((p,g)=>{if(d.hasChild(p)){const v=e.serverCache.getNode().getImmediateChild(p),E=cN(t,v,g);l=o_(t,l,new at(p),E,i,s,o,u)}}),h.children.inorderTraversal((p,g)=>{const v=!e.serverCache.isCompleteForChild(p)&&g.value===null;if(!d.hasChild(p)&&!v){const E=e.serverCache.getNode().getImmediateChild(p),R=cN(t,E,g);l=o_(t,l,new at(p),R,i,s,o,u)}}),l}function oZ(t,e,n,r,i,s,o){if(s_(i,n)!=null)return e;const u=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if($e(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return o_(t,e,n,l.getNode().getChild(n),i,s,u,o);if($e(n)){let h=new ht(null);return l.getNode().forEachChild(Pl,(d,p)=>{h=h.set(new at(d),p)}),SS(t,e,n,h,i,s,u,o)}else return e}else{let h=new ht(null);return r.foreach((d,p)=>{const g=Dt(n,d);l.isCompleteForPath(g)&&(h=h.set(d,l.getNode().getChild(g)))}),SS(t,e,n,h,i,s,u,o)}}function aZ(t,e,n,r,i){const s=e.serverCache,o=jU(e,s.getNode(),s.isFullyInitialized()||$e(n),s.isFiltered());return KU(t,o,n,r,YU,i)}function uZ(t,e,n,r,i,s){let o;if(s_(r,n)!=null)return e;{const u=new XI(r,e,i),l=e.eventCache.getNode();let h;if($e(n)||Le(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=i_(r,au(e));else{const p=e.serverCache.getNode();ne(p instanceof Ee,"serverChildren would be complete if leaf node"),d=KI(r,p)}d=d,h=t.filter.updateFullNode(l,d,s)}else{const d=Le(n);let p=QI(r,d,e.serverCache);p==null&&e.serverCache.isCompleteForChild(d)&&(p=l.getImmediateChild(d)),p!=null?h=t.filter.updateChild(l,d,p,ft(n),u,s):e.eventCache.getNode().hasChild(d)?h=t.filter.updateChild(l,d,Ee.EMPTY_NODE,ft(n),u,s):h=l,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=i_(r,au(e)),o.isLeafNode()&&(h=t.filter.updateFullNode(h,o,s)))}return o=e.serverCache.isFullyInitialized()||s_(r,Ke())!=null,qh(e,h,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lZ{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new zI(r.getIndex()),s=AJ(r);this.processor_=tZ(s);const o=n.serverCache,u=n.eventCache,l=i.updateFullNode(Ee.EMPTY_NODE,o.getNode(),null),h=s.updateFullNode(Ee.EMPTY_NODE,u.getNode(),null),d=new oa(l,o.isFullyInitialized(),i.filtersNodes()),p=new oa(h,u.isFullyInitialized(),s.filtersNodes());this.viewCache_=Vv(p,d),this.eventGenerator_=new DJ(this.query_)}get query(){return this.query_}}function cZ(t){return t.viewCache_.serverCache.getNode()}function hZ(t){return r_(t.viewCache_)}function fZ(t,e){const n=au(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!$e(e)&&!n.getImmediateChild(Le(e)).isEmpty())?n.getChild(e):null}function hN(t){return t.eventRegistrations_.length===0}function dZ(t,e){t.eventRegistrations_.push(e)}function fN(t,e,n){const r=[];if(n){ne(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function dN(t,e,n,r){e.type===Si.MERGE&&e.source.queryId!==null&&(ne(au(t.viewCache_),"We should always have a full cache before handling merges"),ne(r_(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=rZ(t.processor_,i,e,n,r);return nZ(t.processor_,s.viewCache),ne(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,QU(t,s.changes,s.viewCache.eventCache.getNode(),null)}function pZ(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Lt,(s,o)=>{r.push(Jl(s,o))}),n.isFullyInitialized()&&r.push(VU(n.getNode())),QU(t,r,n.getNode(),e)}function QU(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return LJ(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a_;class XU{constructor(){this.views=new Map}}function gZ(t){ne(!a_,"__referenceConstructor has already been defined"),a_=t}function mZ(){return ne(a_,"Reference.ts has not been loaded"),a_}function _Z(t){return t.views.size===0}function JI(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return ne(s!=null,"SyncTree gave us an op for an invalid query."),dN(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(dN(o,e,n,r));return s}}function JU(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let u=i_(n,i?r:null),l=!1;u?l=!0:r instanceof Ee?(u=KI(n,r),l=!1):(u=Ee.EMPTY_NODE,l=!1);const h=Vv(new oa(u,l,!1),new oa(r,i,!1));return new lZ(e,h)}return o}function vZ(t,e,n,r,i,s){const o=JU(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),dZ(o,n),pZ(o,n)}function yZ(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const u=aa(t);if(i==="default")for(const[l,h]of t.views.entries())o=o.concat(fN(h,n,r)),hN(h)&&(t.views.delete(l),h.query._queryParams.loadsAllData()||s.push(h.query));else{const l=t.views.get(i);l&&(o=o.concat(fN(l,n,r)),hN(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return u&&!aa(t)&&s.push(new(mZ())(e._repo,e._path)),{removed:s,events:o}}function ZU(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Yo(t,e){let n=null;for(const r of t.views.values())n=n||fZ(r,e);return n}function eF(t,e){if(e._queryParams.loadsAllData())return jv(t);{const r=e._queryIdentifier;return t.views.get(r)}}function tF(t,e){return eF(t,e)!=null}function aa(t){return jv(t)!=null}function jv(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u_;function wZ(t){ne(!u_,"__referenceConstructor has already been defined"),u_=t}function EZ(){return ne(u_,"Reference.ts has not been loaded"),u_}let SZ=1;class pN{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ht(null),this.pendingWriteTree_=XJ(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function nF(t,e,n,r,i){return $J(t.pendingWriteTree_,e,n,r,i),i?Ec(t,new ou(GI(),e,n)):[]}function TZ(t,e,n,r){VJ(t.pendingWriteTree_,e,n,r);const i=ht.fromObject(n);return Ec(t,new Zl(GI(),e,i))}function Oo(t,e,n=!1){const r=WJ(t.pendingWriteTree_,e);if(jJ(t.pendingWriteTree_,e)){let s=new ht(null);return r.snap!=null?s=s.set(Ke(),!0):Cn(r.children,o=>{s=s.set(new at(o),!0)}),Ec(t,new n_(r.path,s,n))}else return[]}function Id(t,e,n){return Ec(t,new ou(qI(),e,n))}function IZ(t,e,n){const r=ht.fromObject(n);return Ec(t,new Zl(qI(),e,r))}function CZ(t,e){return Ec(t,new Mf(qI(),e))}function RZ(t,e,n){const r=eC(t,n);if(r){const i=tC(r),s=i.path,o=i.queryId,u=er(s,e),l=new Mf(YI(o),u);return nC(t,s,l)}else return[]}function l_(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let u=[];if(o&&(e._queryIdentifier==="default"||tF(o,e))){const l=yZ(o,e,n,r);_Z(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const h=l.removed;if(u=l.events,!i){const d=h.findIndex(g=>g._queryParams.loadsAllData())!==-1,p=t.syncPointTree_.findOnPath(s,(g,v)=>aa(v));if(d&&!p){const g=t.syncPointTree_.subtree(s);if(!g.isEmpty()){const v=kZ(g);for(let E=0;E<v.length;++E){const R=v[E],C=R.query,S=oF(t,R);t.listenProvider_.startListening(Kh(C),Uf(t,C),S.hashFn,S.onComplete)}}}!p&&h.length>0&&!r&&(d?t.listenProvider_.stopListening(Kh(e),null):h.forEach(g=>{const v=t.queryToTagMap.get(Bv(g));t.listenProvider_.stopListening(Kh(g),v)}))}bZ(t,h)}return u}function rF(t,e,n,r){const i=eC(t,r);if(i!=null){const s=tC(i),o=s.path,u=s.queryId,l=er(o,e),h=new ou(YI(u),l,n);return nC(t,o,h)}else return[]}function AZ(t,e,n,r){const i=eC(t,r);if(i){const s=tC(i),o=s.path,u=s.queryId,l=er(o,e),h=ht.fromObject(n),d=new Zl(YI(u),l,h);return nC(t,o,d)}else return[]}function TS(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(g,v)=>{const E=er(g,i);s=s||Yo(v,E),o=o||aa(v)});let u=t.syncPointTree_.get(i);u?(o=o||aa(u),s=s||Yo(u,Ke())):(u=new XU,t.syncPointTree_=t.syncPointTree_.set(i,u));let l;s!=null?l=!0:(l=!1,s=Ee.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((v,E)=>{const R=Yo(E,Ke());R&&(s=s.updateImmediateChild(v,R))}));const h=tF(u,e);if(!h&&!e._queryParams.loadsAllData()){const g=Bv(e);ne(!t.queryToTagMap.has(g),"View does not exist, but we have a tag");const v=OZ();t.queryToTagMap.set(g,v),t.tagToQueryMap.set(v,g)}const d=Wv(t.pendingWriteTree_,i);let p=vZ(u,e,n,d,s,l);if(!h&&!o&&!r){const g=eF(u,e);p=p.concat(NZ(t,e,g))}return p}function ZI(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,u)=>{const l=er(o,e),h=Yo(u,l);if(h)return h});return HU(i,e,s,n,!0)}function PZ(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(h,d)=>{const p=er(h,n);r=r||Yo(d,p)});let i=t.syncPointTree_.get(n);i?r=r||Yo(i,Ke()):(i=new XU,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new oa(r,!0,!1):null,u=Wv(t.pendingWriteTree_,e._path),l=JU(i,e,u,s?o.getNode():Ee.EMPTY_NODE,s);return hZ(l)}function Ec(t,e){return iF(e,t.syncPointTree_,null,Wv(t.pendingWriteTree_,Ke()))}function iF(t,e,n,r){if($e(t.path))return sF(t,e,n,r);{const i=e.get(Ke());n==null&&i!=null&&(n=Yo(i,Ke()));let s=[];const o=Le(t.path),u=t.operationForChild(o),l=e.children.get(o);if(l&&u){const h=n?n.getImmediateChild(o):null,d=GU(r,o);s=s.concat(iF(u,l,h,d))}return i&&(s=s.concat(JI(i,t,r,n))),s}}function sF(t,e,n,r){const i=e.get(Ke());n==null&&i!=null&&(n=Yo(i,Ke()));let s=[];return e.children.inorderTraversal((o,u)=>{const l=n?n.getImmediateChild(o):null,h=GU(r,o),d=t.operationForChild(o);d&&(s=s.concat(sF(d,u,l,h)))}),i&&(s=s.concat(JI(i,t,r,n))),s}function oF(t,e){const n=e.query,r=Uf(t,n);return{hashFn:()=>(cZ(e)||Ee.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?RZ(t,n._path,r):CZ(t,n._path);{const s=CX(i,n);return l_(t,n,null,s)}}}}function Uf(t,e){const n=Bv(e);return t.queryToTagMap.get(n)}function Bv(t){return t._path.toString()+"$"+t._queryIdentifier}function eC(t,e){return t.tagToQueryMap.get(e)}function tC(t){const e=t.indexOf("$");return ne(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new at(t.substr(0,e))}}function nC(t,e,n){const r=t.syncPointTree_.get(e);ne(r,"Missing sync point for query tag that we're tracking");const i=Wv(t.pendingWriteTree_,e);return JI(r,n,i,null)}function kZ(t){return t.fold((e,n,r)=>{if(n&&aa(n))return[jv(n)];{let i=[];return n&&(i=ZU(n)),Cn(r,(s,o)=>{i=i.concat(o)}),i}})}function Kh(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(EZ())(t._repo,t._path):t}function bZ(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Bv(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function OZ(){return SZ++}function NZ(t,e,n){const r=e._path,i=Uf(t,e),s=oF(t,n),o=t.listenProvider_.startListening(Kh(e),i,s.hashFn,s.onComplete),u=t.syncPointTree_.subtree(r);if(i)ne(!aa(u.value),"If we're adding a query, it shouldn't be shadowed");else{const l=u.fold((h,d,p)=>{if(!$e(h)&&d&&aa(d))return[jv(d).query];{let g=[];return d&&(g=g.concat(ZU(d).map(v=>v.query))),Cn(p,(v,E)=>{g=g.concat(E)}),g}});for(let h=0;h<l.length;++h){const d=l[h];t.listenProvider_.stopListening(Kh(d),Uf(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new rC(n)}node(){return this.node_}}class iC{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Dt(this.path_,e);return new iC(this.syncTree_,n)}node(){return ZI(this.syncTree_,this.path_)}}const xZ=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},gN=function(t,e,n){if(!t||typeof t!="object")return t;if(ne(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return DZ(t[".sv"],e,n);if(typeof t[".sv"]=="object")return LZ(t[".sv"],e);ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},DZ=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ne(!1,"Unexpected server value: "+t)}},LZ=function(t,e,n){t.hasOwnProperty("increment")||ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ne(!1,"Unexpected increment value: "+r);const i=e.node();if(ne(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},aF=function(t,e,n,r){return sC(e,new iC(n,t),r)},uF=function(t,e,n){return sC(t,new rC(e),n)};function sC(t,e,n){const r=t.getPriority().val(),i=gN(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,u=gN(o.getValue(),e,n);return u!==o.getValue()||i!==o.getPriority().val()?new sn(u,Jt(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new sn(i))),o.forEachChild(Lt,(u,l)=>{const h=sC(l,e.getImmediateChild(u),n);h!==l&&(s=s.updateImmediateChild(u,h))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function aC(t,e){let n=e instanceof at?e:new at(e),r=t,i=Le(n);for(;i!==null;){const s=Ql(r.node.children,i)||{children:{},childCount:0};r=new oC(i,r,s),n=ft(n),i=Le(n)}return r}function Sc(t){return t.node.value}function lF(t,e){t.node.value=e,IS(t)}function cF(t){return t.node.childCount>0}function MZ(t){return Sc(t)===void 0&&!cF(t)}function zv(t,e){Cn(t.node.children,(n,r)=>{e(new oC(n,t,r))})}function hF(t,e,n,r){n&&!r&&e(t),zv(t,i=>{hF(i,e,!0,r)}),n&&r&&e(t)}function UZ(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Cd(t){return new at(t.parent===null?t.name:Cd(t.parent)+"/"+t.name)}function IS(t){t.parent!==null&&FZ(t.parent,t.name,t)}function FZ(t,e,n){const r=MZ(n),i=us(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,IS(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,IS(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Z=/[\[\].#$\/\u0000-\u001F\u007F]/,VZ=/[\[\].#$\u0000-\u001F\u007F]/,eE=10*1024*1024,uC=function(t){return typeof t=="string"&&t.length!==0&&!$Z.test(t)},fF=function(t){return typeof t=="string"&&t.length!==0&&!VZ.test(t)},WZ=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),fF(t)},jZ=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!LI(t)||t&&typeof t=="object"&&us(t,".sv")},dF=function(t,e,n,r){r&&e===void 0||Hv(Lv(t,"value"),e,n)},Hv=function(t,e,n){const r=n instanceof at?new sJ(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Da(r));if(typeof e=="function")throw new Error(t+"contains a function "+Da(r)+" with contents = "+e.toString());if(LI(e))throw new Error(t+"contains "+e.toString()+" "+Da(r));if(typeof e=="string"&&e.length>eE/3&&Mv(e)>eE)throw new Error(t+"contains a string greater than "+eE+" utf8 bytes "+Da(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Cn(e,(o,u)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!uC(o)))throw new Error(t+" contains an invalid key ("+o+") "+Da(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);oJ(r,o),Hv(t,u,r),aJ(r)}),i&&s)throw new Error(t+' contains ".value" child '+Da(r)+" in addition to actual children.")}},BZ=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Nf(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!uC(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(iJ);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&ei(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},zZ=function(t,e,n,r){if(r&&e===void 0)return;const i=Lv(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Cn(e,(o,u)=>{const l=new at(o);if(Hv(i,u,Dt(n,l)),VI(l)===".priority"&&!jZ(u))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),BZ(i,s)},pF=function(t,e,n,r){if(!(r&&n===void 0)&&!fF(n))throw new Error(Lv(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},HZ=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),pF(t,e,n,r)},gF=function(t,e){if(Le(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},GZ=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!uC(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!WZ(n))throw new Error(Lv(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qZ{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Gv(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!WI(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function mF(t,e,n){Gv(t,n),_F(t,r=>WI(r,e))}function si(t,e,n){Gv(t,n),_F(t,r=>ei(r,e)||ei(e,r))}function _F(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(YZ(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function YZ(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Ya&&yn("event: "+n.toString()),wc(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KZ="repo_interrupt",QZ=25;class XZ{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qZ,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=t_(),this.transactionQueueTree_=new oC,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function JZ(t,e,n){if(t.stats_=FI(t.repoInfo_),t.forceRestClient_||kX())t.server_=new e_(t.repoInfo_,(r,i,s,o)=>{mN(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>_N(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Zt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Fs(t.repoInfo_,e,(r,i,s,o)=>{mN(t,r,i,s,o)},r=>{_N(t,r)},r=>{ZZ(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=DX(t.repoInfo_,()=>new xJ(t.stats_,t.server_)),t.infoData_=new PJ,t.infoSyncTree_=new pN({startListening:(r,i,s,o)=>{let u=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(u=Id(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),u},stopListening:()=>{}}),lC(t,"connected",!1),t.serverSyncTree_=new pN({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(u,l)=>{const h=o(u,l);si(t.eventQueue_,r._path,h)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function vF(t){const n=t.infoData_.getNode(new at(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function qv(t){return xZ({timestamp:vF(t)})}function mN(t,e,n,r,i){t.dataUpdateCount++;const s=new at(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Ym(n,h=>Jt(h));o=AZ(t.serverSyncTree_,s,l,i)}else{const l=Jt(n);o=rF(t.serverSyncTree_,s,l,i)}else if(r){const l=Ym(n,h=>Jt(h));o=IZ(t.serverSyncTree_,s,l)}else{const l=Jt(n);o=Id(t.serverSyncTree_,s,l)}let u=s;o.length>0&&(u=tc(t,s)),si(t.eventQueue_,u,o)}function _N(t,e){lC(t,"connected",e),e===!1&&ree(t)}function ZZ(t,e){Cn(e,(n,r)=>{lC(t,n,r)})}function lC(t,e,n){const r=new at("/.info/"+e),i=Jt(n);t.infoData_.updateSnapshot(r,i);const s=Id(t.infoSyncTree_,r,i);si(t.eventQueue_,r,s)}function cC(t){return t.nextWriteId_++}function eee(t,e,n){const r=PZ(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Jt(i).withIndex(e._queryParams.getIndex());TS(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Id(t.serverSyncTree_,e._path,s);else{const u=Uf(t.serverSyncTree_,e);o=rF(t.serverSyncTree_,e._path,s,u)}return si(t.eventQueue_,e._path,o),l_(t.serverSyncTree_,e,n,null,!0),s},i=>(Rd(t,"get for query "+Zt(e)+" failed: "+i),Promise.reject(new Error(i))))}function tee(t,e,n,r,i){Rd(t,"set",{path:e.toString(),value:n,priority:r});const s=qv(t),o=Jt(n,r),u=ZI(t.serverSyncTree_,e),l=uF(o,u,s),h=cC(t),d=nF(t.serverSyncTree_,e,l,h,!0);Gv(t.eventQueue_,d),t.server_.put(e.toString(),o.val(!0),(g,v)=>{const E=g==="ok";E||rr("set at "+e+" failed: "+g);const R=Oo(t.serverSyncTree_,h,!E);si(t.eventQueue_,e,R),CS(t,i,g,v)});const p=fC(t,e);tc(t,p),si(t.eventQueue_,p,[])}function nee(t,e,n,r){Rd(t,"update",{path:e.toString(),value:n});let i=!0;const s=qv(t),o={};if(Cn(n,(u,l)=>{i=!1,o[u]=aF(Dt(e,u),Jt(l),t.serverSyncTree_,s)}),i)yn("update() called with empty data.  Don't do anything."),CS(t,r,"ok",void 0);else{const u=cC(t),l=TZ(t.serverSyncTree_,e,o,u);Gv(t.eventQueue_,l),t.server_.merge(e.toString(),n,(h,d)=>{const p=h==="ok";p||rr("update at "+e+" failed: "+h);const g=Oo(t.serverSyncTree_,u,!p),v=g.length>0?tc(t,e):e;si(t.eventQueue_,v,g),CS(t,r,h,d)}),Cn(n,h=>{const d=fC(t,Dt(e,h));tc(t,d)}),si(t.eventQueue_,e,[])}}function ree(t){Rd(t,"onDisconnectEvents");const e=qv(t),n=t_();_S(t.onDisconnect_,Ke(),(i,s)=>{const o=aF(i,s,t.serverSyncTree_,e);WU(n,i,o)});let r=[];_S(n,Ke(),(i,s)=>{r=r.concat(Id(t.serverSyncTree_,i,s));const o=fC(t,i);tc(t,o)}),t.onDisconnect_=t_(),si(t.eventQueue_,Ke(),r)}function iee(t,e,n){let r;Le(e._path)===".info"?r=TS(t.infoSyncTree_,e,n):r=TS(t.serverSyncTree_,e,n),mF(t.eventQueue_,e._path,r)}function vN(t,e,n){let r;Le(e._path)===".info"?r=l_(t.infoSyncTree_,e,n):r=l_(t.serverSyncTree_,e,n),mF(t.eventQueue_,e._path,r)}function see(t){t.persistentConnection_&&t.persistentConnection_.interrupt(KZ)}function Rd(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),yn(n,...e)}function CS(t,e,n,r){e&&wc(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function yF(t,e,n){return ZI(t.serverSyncTree_,e,n)||Ee.EMPTY_NODE}function hC(t,e=t.transactionQueueTree_){if(e||Yv(t,e),Sc(e)){const n=EF(t,e);ne(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&oee(t,Cd(e),n)}else cF(e)&&zv(e,n=>{hC(t,n)})}function oee(t,e,n){const r=n.map(h=>h.currentWriteId),i=yF(t,e,r);let s=i;const o=i.hash();for(let h=0;h<n.length;h++){const d=n[h];ne(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const p=er(e,d.path);s=s.updateChild(p,d.currentOutputSnapshotRaw)}const u=s.val(!0),l=e;t.server_.put(l.toString(),u,h=>{Rd(t,"transaction put response",{path:l.toString(),status:h});let d=[];if(h==="ok"){const p=[];for(let g=0;g<n.length;g++)n[g].status=2,d=d.concat(Oo(t.serverSyncTree_,n[g].currentWriteId)),n[g].onComplete&&p.push(()=>n[g].onComplete(null,!0,n[g].currentOutputSnapshotResolved)),n[g].unwatcher();Yv(t,aC(t.transactionQueueTree_,e)),hC(t,t.transactionQueueTree_),si(t.eventQueue_,e,d);for(let g=0;g<p.length;g++)wc(p[g])}else{if(h==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{rr("transaction at "+l.toString()+" failed: "+h);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=h}tc(t,e)}},o)}function tc(t,e){const n=wF(t,e),r=Cd(n),i=EF(t,n);return aee(t,i,r),r}function aee(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(u=>u.status===0).map(u=>u.currentWriteId);for(let u=0;u<e.length;u++){const l=e[u],h=er(n,l.path);let d=!1,p;if(ne(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,p=l.abortReason,i=i.concat(Oo(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=QZ)d=!0,p="maxretry",i=i.concat(Oo(t.serverSyncTree_,l.currentWriteId,!0));else{const g=yF(t,l.path,o);l.currentInputSnapshot=g;const v=e[u].update(g.val());if(v!==void 0){Hv("transaction failed: Data returned ",v,l.path);let E=Jt(v);typeof v=="object"&&v!=null&&us(v,".priority")||(E=E.updatePriority(g.getPriority()));const C=l.currentWriteId,S=qv(t),T=uF(E,g,S);l.currentOutputSnapshotRaw=E,l.currentOutputSnapshotResolved=T,l.currentWriteId=cC(t),o.splice(o.indexOf(C),1),i=i.concat(nF(t.serverSyncTree_,l.path,T,l.currentWriteId,l.applyLocally)),i=i.concat(Oo(t.serverSyncTree_,C,!0))}else d=!0,p="nodata",i=i.concat(Oo(t.serverSyncTree_,l.currentWriteId,!0))}si(t.eventQueue_,n,i),i=[],d&&(e[u].status=2,function(g){setTimeout(g,Math.floor(0))}(e[u].unwatcher),e[u].onComplete&&(p==="nodata"?r.push(()=>e[u].onComplete(null,!1,e[u].currentInputSnapshot)):r.push(()=>e[u].onComplete(new Error(p),!1,null))))}Yv(t,t.transactionQueueTree_);for(let u=0;u<r.length;u++)wc(r[u]);hC(t,t.transactionQueueTree_)}function wF(t,e){let n,r=t.transactionQueueTree_;for(n=Le(e);n!==null&&Sc(r)===void 0;)r=aC(r,n),e=ft(e),n=Le(e);return r}function EF(t,e){const n=[];return SF(t,e,n),n.sort((r,i)=>r.order-i.order),n}function SF(t,e,n){const r=Sc(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);zv(e,i=>{SF(t,i,n)})}function Yv(t,e){const n=Sc(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,lF(e,n.length>0?n:void 0)}zv(e,r=>{Yv(t,r)})}function fC(t,e){const n=Cd(wF(t,e)),r=aC(t.transactionQueueTree_,e);return UZ(r,i=>{tE(t,i)}),tE(t,r),hF(r,i=>{tE(t,i)}),n}function tE(t,e){const n=Sc(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(ne(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(ne(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Oo(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?lF(e,void 0):n.length=s+1,si(t.eventQueue_,Cd(e),i);for(let o=0;o<r.length;o++)wc(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uee(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function lee(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):rr(`Invalid query segment '${n}' in query '${t}'`)}return e}const yN=function(t,e){const n=cee(t),r=n.namespace;n.domain==="firebase.com"&&Gs(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Gs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||wX();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new IU(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new at(n.pathString)}},cee=function(t){let e="",n="",r="",i="",s="",o=!0,u="https",l=443;if(typeof t=="string"){let h=t.indexOf("//");h>=0&&(u=t.substring(0,h-1),t=t.substring(h+2));let d=t.indexOf("/");d===-1&&(d=t.length);let p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(d,p)),d<p&&(i=uee(t.substring(d,p)));const g=lee(t.substring(Math.min(t.length,p)));h=e.indexOf(":"),h>=0?(o=u==="https"||u==="wss",l=parseInt(e.substring(h+1),10)):h=e.length;const v=e.slice(0,h);if(v.toLowerCase()==="localhost")n="localhost";else if(v.split(".").length<=2)n=v;else{const E=e.indexOf(".");r=e.substring(0,E).toLowerCase(),n=e.substring(E+1),s=r}"ns"in g&&(s=g.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:u,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",hee=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=wN.charAt(n%64),n=Math.floor(n/64);ne(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=wN.charAt(e[i]);return ne(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Zt(this.snapshot.exportVal())}}class IF{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return ne(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return $e(this._path)?null:VI(this._path)}get ref(){return new ls(this._repo,this._path)}get _queryIdentifier(){const e=iN(this._queryParams),n=MI(e);return n==="{}"?"default":n}get _queryObject(){return iN(this._queryParams)}isEqual(e){if(e=wt(e),!(e instanceof dC))return!1;const n=this._repo===e._repo,r=WI(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+rJ(this._path)}}class ls extends dC{constructor(e,n){super(e,n,new HI,!1)}get parent(){const e=xU(this._path);return e===null?null:new ls(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class nc{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new at(e),r=qs(this.ref,e);return new nc(this._node.getChild(n),r,Lt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new nc(i,qs(this.ref,r),Lt)))}hasChild(e){const n=new at(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function wi(t,e){return t=wt(t),t._checkNotDeleted("ref"),e!==void 0?qs(t._root,e):t._root}function qs(t,e){return t=wt(t),Le(t._path)===null?HZ("child","path",e,!1):pF("child","path",e,!1),new ls(t._repo,Dt(t._path,e))}function fee(t,e){t=wt(t),gF("push",t._path),dF("push",e,t._path,!0);const n=vF(t._repo),r=hee(n),i=qs(t,r),s=qs(t,r);let o;return e!=null?o=Qh(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function Qh(t,e){t=wt(t),gF("set",t._path),dF("set",e,t._path,!1);const n=new vd;return tee(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function EN(t,e){zZ("update",e,t._path,!1);const n=new vd;return nee(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function RS(t){t=wt(t);const e=new CF(()=>{}),n=new Kv(e);return eee(t._repo,t,n).then(r=>new nc(r,new ls(t._repo,t._path),t._queryParams.getIndex()))}class Kv{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new TF("value",this,new nc(e.snapshotNode,new ls(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new IF(this,e,n):null}matches(e){return e instanceof Kv?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class pC{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new IF(this,e,n):null}createEvent(e,n){ne(e.childName!=null,"Child events should have a childName.");const r=qs(new ls(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new TF(e.type,this,new nc(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof pC?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function dee(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,h=(d,p)=>{vN(t._repo,t,u),l(d,p)};h.userCallback=n.userCallback,h.context=n.context,n=h}const o=new CF(n,s||void 0),u=e==="value"?new Kv(o):new pC(e,o);return iee(t._repo,t,u),()=>vN(t._repo,t,u)}function RF(t,e,n,r){return dee(t,"value",e,n,r)}gZ(ls);wZ(ls);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pee="FIREBASE_DATABASE_EMULATOR_HOST",AS={};let gee=!1;function mee(t,e,n,r){t.repoInfo_=new IU(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function _ee(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Gs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),yn("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=yN(s,i),u=o.repoInfo,l,h;typeof process<"u"&&process.env&&(h=process.env[pee]),h?(l=!0,s=`http://${h}?ns=${u.namespace}`,o=yN(s,i),u=o.repoInfo):l=!o.repoInfo.secure;const d=i&&l?new Al(Al.OWNER):new OX(t.name,t.options,e);GZ("Invalid Firebase Database URL",o),$e(o.path)||Gs("Database URL must point to the root of a Firebase Database (not including a child path).");const p=yee(u,t,d,new bX(t.name,n));return new wee(p,t)}function vee(t,e){const n=AS[e];(!n||n[t.key]!==t)&&Gs(`Database ${e}(${t.repoInfo_}) has already been deleted.`),see(t),delete n[t.key]}function yee(t,e,n,r){let i=AS[e.name];i||(i={},AS[e.name]=i);let s=i[t.toURLString()];return s&&Gs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new XZ(t,gee,n,r),i[t.toURLString()]=s,s}class wee{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(JZ(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ls(this._repo,Ke())),this._rootInternal}_delete(){return this._rootInternal!==null&&(vee(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Gs("Cannot call "+e+" on a deleted database.")}}function Qv(t=Fv(),e){const n=wd(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=OI("database");r&&Eee(n,...r)}return n}function Eee(t,e,n,r={}){t=wt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Gs("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Gs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Al(Al.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:NI(r.mockUserToken,t.app.options.projectId);s=new Al(o)}mee(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function See(t){gX(ma),ia(new Hs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return _ee(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),ni(WO,jO,t),ni(WO,jO,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tee={".sv":"timestamp"};function kl(){return Tee}Fs.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Fs.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};See();var c_={},Iee={get exports(){return c_},set exports(t){c_=t}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",u="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",h=500,d="__lodash_placeholder__",p=1,g=2,v=4,E=1,R=2,C=1,S=2,T=4,k=8,b=16,F=32,V=64,W=128,q=256,ie=512,re=30,Ne="...",I=800,_=16,w=1,N=2,D=3,O=1/0,M=9007199254740991,B=17976931348623157e292,H=0/0,ue=4294967295,fe=ue-1,Se=ue>>>1,fs=[["ary",W],["bind",C],["bindKey",S],["curry",k],["curryRight",b],["flip",ie],["partial",F],["partialRight",V],["rearg",q]],$i="[object Arguments]",$r="[object Array]",Pu="[object AsyncFunction]",Fc="[object Boolean]",$c="[object Date]",iW="[object DOMException]",tp="[object Error]",np="[object Function]",NA="[object GeneratorFunction]",li="[object Map]",Vc="[object Number]",sW="[object Null]",ds="[object Object]",xA="[object Promise]",oW="[object Proxy]",Wc="[object RegExp]",ci="[object Set]",jc="[object String]",rp="[object Symbol]",aW="[object Undefined]",Bc="[object WeakMap]",uW="[object WeakSet]",zc="[object ArrayBuffer]",ku="[object DataView]",Yy="[object Float32Array]",Ky="[object Float64Array]",Qy="[object Int8Array]",Xy="[object Int16Array]",Jy="[object Int32Array]",Zy="[object Uint8Array]",e0="[object Uint8ClampedArray]",t0="[object Uint16Array]",n0="[object Uint32Array]",lW=/\b__p \+= '';/g,cW=/\b(__p \+=) '' \+/g,hW=/(__e\(.*?\)|\b__t\)) \+\n'';/g,DA=/&(?:amp|lt|gt|quot|#39);/g,LA=/[&<>"']/g,fW=RegExp(DA.source),dW=RegExp(LA.source),pW=/<%-([\s\S]+?)%>/g,gW=/<%([\s\S]+?)%>/g,MA=/<%=([\s\S]+?)%>/g,mW=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_W=/^\w*$/,vW=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r0=/[\\^$.*+?()[\]{}|]/g,yW=RegExp(r0.source),i0=/^\s+/,wW=/\s/,EW=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,SW=/\{\n\/\* \[wrapped with (.+)\] \*/,TW=/,? & /,IW=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,CW=/[()=,{}\[\]\/\s]/,RW=/\\(\\)?/g,AW=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,UA=/\w*$/,PW=/^[-+]0x[0-9a-f]+$/i,kW=/^0b[01]+$/i,bW=/^\[object .+?Constructor\]$/,OW=/^0o[0-7]+$/i,NW=/^(?:0|[1-9]\d*)$/,xW=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ip=/($^)/,DW=/['\n\r\u2028\u2029\\]/g,sp="\\ud800-\\udfff",LW="\\u0300-\\u036f",MW="\\ufe20-\\ufe2f",UW="\\u20d0-\\u20ff",FA=LW+MW+UW,$A="\\u2700-\\u27bf",VA="a-z\\xdf-\\xf6\\xf8-\\xff",FW="\\xac\\xb1\\xd7\\xf7",$W="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",VW="\\u2000-\\u206f",WW=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",WA="A-Z\\xc0-\\xd6\\xd8-\\xde",jA="\\ufe0e\\ufe0f",BA=FW+$W+VW+WW,s0="[']",jW="["+sp+"]",zA="["+BA+"]",op="["+FA+"]",HA="\\d+",BW="["+$A+"]",GA="["+VA+"]",qA="[^"+sp+BA+HA+$A+VA+WA+"]",o0="\\ud83c[\\udffb-\\udfff]",zW="(?:"+op+"|"+o0+")",YA="[^"+sp+"]",a0="(?:\\ud83c[\\udde6-\\uddff]){2}",u0="[\\ud800-\\udbff][\\udc00-\\udfff]",bu="["+WA+"]",KA="\\u200d",QA="(?:"+GA+"|"+qA+")",HW="(?:"+bu+"|"+qA+")",XA="(?:"+s0+"(?:d|ll|m|re|s|t|ve))?",JA="(?:"+s0+"(?:D|LL|M|RE|S|T|VE))?",ZA=zW+"?",eP="["+jA+"]?",GW="(?:"+KA+"(?:"+[YA,a0,u0].join("|")+")"+eP+ZA+")*",qW="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",YW="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",tP=eP+ZA+GW,KW="(?:"+[BW,a0,u0].join("|")+")"+tP,QW="(?:"+[YA+op+"?",op,a0,u0,jW].join("|")+")",XW=RegExp(s0,"g"),JW=RegExp(op,"g"),l0=RegExp(o0+"(?="+o0+")|"+QW+tP,"g"),ZW=RegExp([bu+"?"+GA+"+"+XA+"(?="+[zA,bu,"$"].join("|")+")",HW+"+"+JA+"(?="+[zA,bu+QA,"$"].join("|")+")",bu+"?"+QA+"+"+XA,bu+"+"+JA,YW,qW,HA,KW].join("|"),"g"),e9=RegExp("["+KA+sp+FA+jA+"]"),t9=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,n9=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],r9=-1,pt={};pt[Yy]=pt[Ky]=pt[Qy]=pt[Xy]=pt[Jy]=pt[Zy]=pt[e0]=pt[t0]=pt[n0]=!0,pt[$i]=pt[$r]=pt[zc]=pt[Fc]=pt[ku]=pt[$c]=pt[tp]=pt[np]=pt[li]=pt[Vc]=pt[ds]=pt[Wc]=pt[ci]=pt[jc]=pt[Bc]=!1;var ct={};ct[$i]=ct[$r]=ct[zc]=ct[ku]=ct[Fc]=ct[$c]=ct[Yy]=ct[Ky]=ct[Qy]=ct[Xy]=ct[Jy]=ct[li]=ct[Vc]=ct[ds]=ct[Wc]=ct[ci]=ct[jc]=ct[rp]=ct[Zy]=ct[e0]=ct[t0]=ct[n0]=!0,ct[tp]=ct[np]=ct[Bc]=!1;var i9={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},s9={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},o9={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},a9={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},u9=parseFloat,l9=parseInt,nP=typeof oh=="object"&&oh&&oh.Object===Object&&oh,c9=typeof self=="object"&&self&&self.Object===Object&&self,fn=nP||c9||Function("return this")(),c0=e&&!e.nodeType&&e,wa=c0&&!0&&t&&!t.nodeType&&t,rP=wa&&wa.exports===c0,h0=rP&&nP.process,Vr=function(){try{var U=wa&&wa.require&&wa.require("util").types;return U||h0&&h0.binding&&h0.binding("util")}catch{}}(),iP=Vr&&Vr.isArrayBuffer,sP=Vr&&Vr.isDate,oP=Vr&&Vr.isMap,aP=Vr&&Vr.isRegExp,uP=Vr&&Vr.isSet,lP=Vr&&Vr.isTypedArray;function _r(U,z,j){switch(j.length){case 0:return U.call(z);case 1:return U.call(z,j[0]);case 2:return U.call(z,j[0],j[1]);case 3:return U.call(z,j[0],j[1],j[2])}return U.apply(z,j)}function h9(U,z,j,le){for(var Re=-1,Je=U==null?0:U.length;++Re<Je;){var Yt=U[Re];z(le,Yt,j(Yt),U)}return le}function Wr(U,z){for(var j=-1,le=U==null?0:U.length;++j<le&&z(U[j],j,U)!==!1;);return U}function f9(U,z){for(var j=U==null?0:U.length;j--&&z(U[j],j,U)!==!1;);return U}function cP(U,z){for(var j=-1,le=U==null?0:U.length;++j<le;)if(!z(U[j],j,U))return!1;return!0}function io(U,z){for(var j=-1,le=U==null?0:U.length,Re=0,Je=[];++j<le;){var Yt=U[j];z(Yt,j,U)&&(Je[Re++]=Yt)}return Je}function ap(U,z){var j=U==null?0:U.length;return!!j&&Ou(U,z,0)>-1}function f0(U,z,j){for(var le=-1,Re=U==null?0:U.length;++le<Re;)if(j(z,U[le]))return!0;return!1}function Tt(U,z){for(var j=-1,le=U==null?0:U.length,Re=Array(le);++j<le;)Re[j]=z(U[j],j,U);return Re}function so(U,z){for(var j=-1,le=z.length,Re=U.length;++j<le;)U[Re+j]=z[j];return U}function d0(U,z,j,le){var Re=-1,Je=U==null?0:U.length;for(le&&Je&&(j=U[++Re]);++Re<Je;)j=z(j,U[Re],Re,U);return j}function d9(U,z,j,le){var Re=U==null?0:U.length;for(le&&Re&&(j=U[--Re]);Re--;)j=z(j,U[Re],Re,U);return j}function p0(U,z){for(var j=-1,le=U==null?0:U.length;++j<le;)if(z(U[j],j,U))return!0;return!1}var p9=g0("length");function g9(U){return U.split("")}function m9(U){return U.match(IW)||[]}function hP(U,z,j){var le;return j(U,function(Re,Je,Yt){if(z(Re,Je,Yt))return le=Je,!1}),le}function up(U,z,j,le){for(var Re=U.length,Je=j+(le?1:-1);le?Je--:++Je<Re;)if(z(U[Je],Je,U))return Je;return-1}function Ou(U,z,j){return z===z?P9(U,z,j):up(U,fP,j)}function _9(U,z,j,le){for(var Re=j-1,Je=U.length;++Re<Je;)if(le(U[Re],z))return Re;return-1}function fP(U){return U!==U}function dP(U,z){var j=U==null?0:U.length;return j?_0(U,z)/j:H}function g0(U){return function(z){return z==null?n:z[U]}}function m0(U){return function(z){return U==null?n:U[z]}}function pP(U,z,j,le,Re){return Re(U,function(Je,Yt,lt){j=le?(le=!1,Je):z(j,Je,Yt,lt)}),j}function v9(U,z){var j=U.length;for(U.sort(z);j--;)U[j]=U[j].value;return U}function _0(U,z){for(var j,le=-1,Re=U.length;++le<Re;){var Je=z(U[le]);Je!==n&&(j=j===n?Je:j+Je)}return j}function v0(U,z){for(var j=-1,le=Array(U);++j<U;)le[j]=z(j);return le}function y9(U,z){return Tt(z,function(j){return[j,U[j]]})}function gP(U){return U&&U.slice(0,yP(U)+1).replace(i0,"")}function vr(U){return function(z){return U(z)}}function y0(U,z){return Tt(z,function(j){return U[j]})}function Hc(U,z){return U.has(z)}function mP(U,z){for(var j=-1,le=U.length;++j<le&&Ou(z,U[j],0)>-1;);return j}function _P(U,z){for(var j=U.length;j--&&Ou(z,U[j],0)>-1;);return j}function w9(U,z){for(var j=U.length,le=0;j--;)U[j]===z&&++le;return le}var E9=m0(i9),S9=m0(s9);function T9(U){return"\\"+a9[U]}function I9(U,z){return U==null?n:U[z]}function Nu(U){return e9.test(U)}function C9(U){return t9.test(U)}function R9(U){for(var z,j=[];!(z=U.next()).done;)j.push(z.value);return j}function w0(U){var z=-1,j=Array(U.size);return U.forEach(function(le,Re){j[++z]=[Re,le]}),j}function vP(U,z){return function(j){return U(z(j))}}function oo(U,z){for(var j=-1,le=U.length,Re=0,Je=[];++j<le;){var Yt=U[j];(Yt===z||Yt===d)&&(U[j]=d,Je[Re++]=j)}return Je}function lp(U){var z=-1,j=Array(U.size);return U.forEach(function(le){j[++z]=le}),j}function A9(U){var z=-1,j=Array(U.size);return U.forEach(function(le){j[++z]=[le,le]}),j}function P9(U,z,j){for(var le=j-1,Re=U.length;++le<Re;)if(U[le]===z)return le;return-1}function k9(U,z,j){for(var le=j+1;le--;)if(U[le]===z)return le;return le}function xu(U){return Nu(U)?O9(U):p9(U)}function hi(U){return Nu(U)?N9(U):g9(U)}function yP(U){for(var z=U.length;z--&&wW.test(U.charAt(z)););return z}var b9=m0(o9);function O9(U){for(var z=l0.lastIndex=0;l0.test(U);)++z;return z}function N9(U){return U.match(l0)||[]}function x9(U){return U.match(ZW)||[]}var D9=function U(z){z=z==null?fn:Du.defaults(fn.Object(),z,Du.pick(fn,n9));var j=z.Array,le=z.Date,Re=z.Error,Je=z.Function,Yt=z.Math,lt=z.Object,E0=z.RegExp,L9=z.String,jr=z.TypeError,cp=j.prototype,M9=Je.prototype,Lu=lt.prototype,hp=z["__core-js_shared__"],fp=M9.toString,tt=Lu.hasOwnProperty,U9=0,wP=function(){var a=/[^.]+$/.exec(hp&&hp.keys&&hp.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),dp=Lu.toString,F9=fp.call(lt),$9=fn._,V9=E0("^"+fp.call(tt).replace(r0,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pp=rP?z.Buffer:n,ao=z.Symbol,gp=z.Uint8Array,EP=pp?pp.allocUnsafe:n,mp=vP(lt.getPrototypeOf,lt),SP=lt.create,TP=Lu.propertyIsEnumerable,_p=cp.splice,IP=ao?ao.isConcatSpreadable:n,Gc=ao?ao.iterator:n,Ea=ao?ao.toStringTag:n,vp=function(){try{var a=Ra(lt,"defineProperty");return a({},"",{}),a}catch{}}(),W9=z.clearTimeout!==fn.clearTimeout&&z.clearTimeout,j9=le&&le.now!==fn.Date.now&&le.now,B9=z.setTimeout!==fn.setTimeout&&z.setTimeout,yp=Yt.ceil,wp=Yt.floor,S0=lt.getOwnPropertySymbols,z9=pp?pp.isBuffer:n,CP=z.isFinite,H9=cp.join,G9=vP(lt.keys,lt),Kt=Yt.max,An=Yt.min,q9=le.now,Y9=z.parseInt,RP=Yt.random,K9=cp.reverse,T0=Ra(z,"DataView"),qc=Ra(z,"Map"),I0=Ra(z,"Promise"),Mu=Ra(z,"Set"),Yc=Ra(z,"WeakMap"),Kc=Ra(lt,"create"),Ep=Yc&&new Yc,Uu={},Q9=Aa(T0),X9=Aa(qc),J9=Aa(I0),Z9=Aa(Mu),ej=Aa(Yc),Sp=ao?ao.prototype:n,Qc=Sp?Sp.valueOf:n,AP=Sp?Sp.toString:n;function A(a){if(Nt(a)&&!Pe(a)&&!(a instanceof Ve)){if(a instanceof Br)return a;if(tt.call(a,"__wrapped__"))return Pk(a)}return new Br(a)}var Fu=function(){function a(){}return function(c){if(!At(c))return{};if(SP)return SP(c);a.prototype=c;var f=new a;return a.prototype=n,f}}();function Tp(){}function Br(a,c){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=n}A.templateSettings={escape:pW,evaluate:gW,interpolate:MA,variable:"",imports:{_:A}},A.prototype=Tp.prototype,A.prototype.constructor=A,Br.prototype=Fu(Tp.prototype),Br.prototype.constructor=Br;function Ve(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ue,this.__views__=[]}function tj(){var a=new Ve(this.__wrapped__);return a.__actions__=or(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=or(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=or(this.__views__),a}function nj(){if(this.__filtered__){var a=new Ve(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function rj(){var a=this.__wrapped__.value(),c=this.__dir__,f=Pe(a),m=c<0,y=f?a.length:0,P=gB(0,y,this.__views__),x=P.start,L=P.end,$=L-x,G=m?L:x-1,Y=this.__iteratees__,Q=Y.length,se=0,pe=An($,this.__takeCount__);if(!f||!m&&y==$&&pe==$)return XP(a,this.__actions__);var ye=[];e:for(;$--&&se<pe;){G+=c;for(var xe=-1,we=a[G];++xe<Q;){var Fe=Y[xe],Be=Fe.iteratee,Er=Fe.type,Qn=Be(we);if(Er==N)we=Qn;else if(!Qn){if(Er==w)continue e;break e}}ye[se++]=we}return ye}Ve.prototype=Fu(Tp.prototype),Ve.prototype.constructor=Ve;function Sa(a){var c=-1,f=a==null?0:a.length;for(this.clear();++c<f;){var m=a[c];this.set(m[0],m[1])}}function ij(){this.__data__=Kc?Kc(null):{},this.size=0}function sj(a){var c=this.has(a)&&delete this.__data__[a];return this.size-=c?1:0,c}function oj(a){var c=this.__data__;if(Kc){var f=c[a];return f===l?n:f}return tt.call(c,a)?c[a]:n}function aj(a){var c=this.__data__;return Kc?c[a]!==n:tt.call(c,a)}function uj(a,c){var f=this.__data__;return this.size+=this.has(a)?0:1,f[a]=Kc&&c===n?l:c,this}Sa.prototype.clear=ij,Sa.prototype.delete=sj,Sa.prototype.get=oj,Sa.prototype.has=aj,Sa.prototype.set=uj;function ps(a){var c=-1,f=a==null?0:a.length;for(this.clear();++c<f;){var m=a[c];this.set(m[0],m[1])}}function lj(){this.__data__=[],this.size=0}function cj(a){var c=this.__data__,f=Ip(c,a);if(f<0)return!1;var m=c.length-1;return f==m?c.pop():_p.call(c,f,1),--this.size,!0}function hj(a){var c=this.__data__,f=Ip(c,a);return f<0?n:c[f][1]}function fj(a){return Ip(this.__data__,a)>-1}function dj(a,c){var f=this.__data__,m=Ip(f,a);return m<0?(++this.size,f.push([a,c])):f[m][1]=c,this}ps.prototype.clear=lj,ps.prototype.delete=cj,ps.prototype.get=hj,ps.prototype.has=fj,ps.prototype.set=dj;function gs(a){var c=-1,f=a==null?0:a.length;for(this.clear();++c<f;){var m=a[c];this.set(m[0],m[1])}}function pj(){this.size=0,this.__data__={hash:new Sa,map:new(qc||ps),string:new Sa}}function gj(a){var c=Mp(this,a).delete(a);return this.size-=c?1:0,c}function mj(a){return Mp(this,a).get(a)}function _j(a){return Mp(this,a).has(a)}function vj(a,c){var f=Mp(this,a),m=f.size;return f.set(a,c),this.size+=f.size==m?0:1,this}gs.prototype.clear=pj,gs.prototype.delete=gj,gs.prototype.get=mj,gs.prototype.has=_j,gs.prototype.set=vj;function Ta(a){var c=-1,f=a==null?0:a.length;for(this.__data__=new gs;++c<f;)this.add(a[c])}function yj(a){return this.__data__.set(a,l),this}function wj(a){return this.__data__.has(a)}Ta.prototype.add=Ta.prototype.push=yj,Ta.prototype.has=wj;function fi(a){var c=this.__data__=new ps(a);this.size=c.size}function Ej(){this.__data__=new ps,this.size=0}function Sj(a){var c=this.__data__,f=c.delete(a);return this.size=c.size,f}function Tj(a){return this.__data__.get(a)}function Ij(a){return this.__data__.has(a)}function Cj(a,c){var f=this.__data__;if(f instanceof ps){var m=f.__data__;if(!qc||m.length<i-1)return m.push([a,c]),this.size=++f.size,this;f=this.__data__=new gs(m)}return f.set(a,c),this.size=f.size,this}fi.prototype.clear=Ej,fi.prototype.delete=Sj,fi.prototype.get=Tj,fi.prototype.has=Ij,fi.prototype.set=Cj;function PP(a,c){var f=Pe(a),m=!f&&Pa(a),y=!f&&!m&&fo(a),P=!f&&!m&&!y&&ju(a),x=f||m||y||P,L=x?v0(a.length,L9):[],$=L.length;for(var G in a)(c||tt.call(a,G))&&!(x&&(G=="length"||y&&(G=="offset"||G=="parent")||P&&(G=="buffer"||G=="byteLength"||G=="byteOffset")||ys(G,$)))&&L.push(G);return L}function kP(a){var c=a.length;return c?a[L0(0,c-1)]:n}function Rj(a,c){return Up(or(a),Ia(c,0,a.length))}function Aj(a){return Up(or(a))}function C0(a,c,f){(f!==n&&!di(a[c],f)||f===n&&!(c in a))&&ms(a,c,f)}function Xc(a,c,f){var m=a[c];(!(tt.call(a,c)&&di(m,f))||f===n&&!(c in a))&&ms(a,c,f)}function Ip(a,c){for(var f=a.length;f--;)if(di(a[f][0],c))return f;return-1}function Pj(a,c,f,m){return uo(a,function(y,P,x){c(m,y,f(y),x)}),m}function bP(a,c){return a&&Wi(c,rn(c),a)}function kj(a,c){return a&&Wi(c,ur(c),a)}function ms(a,c,f){c=="__proto__"&&vp?vp(a,c,{configurable:!0,enumerable:!0,value:f,writable:!0}):a[c]=f}function R0(a,c){for(var f=-1,m=c.length,y=j(m),P=a==null;++f<m;)y[f]=P?n:ow(a,c[f]);return y}function Ia(a,c,f){return a===a&&(f!==n&&(a=a<=f?a:f),c!==n&&(a=a>=c?a:c)),a}function zr(a,c,f,m,y,P){var x,L=c&p,$=c&g,G=c&v;if(f&&(x=y?f(a,m,y,P):f(a)),x!==n)return x;if(!At(a))return a;var Y=Pe(a);if(Y){if(x=_B(a),!L)return or(a,x)}else{var Q=Pn(a),se=Q==np||Q==NA;if(fo(a))return ek(a,L);if(Q==ds||Q==$i||se&&!y){if(x=$||se?{}:yk(a),!L)return $?oB(a,kj(x,a)):sB(a,bP(x,a))}else{if(!ct[Q])return y?a:{};x=vB(a,Q,L)}}P||(P=new fi);var pe=P.get(a);if(pe)return pe;P.set(a,x),Yk(a)?a.forEach(function(we){x.add(zr(we,c,f,we,a,P))}):Gk(a)&&a.forEach(function(we,Fe){x.set(Fe,zr(we,c,f,Fe,a,P))});var ye=G?$?G0:H0:$?ur:rn,xe=Y?n:ye(a);return Wr(xe||a,function(we,Fe){xe&&(Fe=we,we=a[Fe]),Xc(x,Fe,zr(we,c,f,Fe,a,P))}),x}function bj(a){var c=rn(a);return function(f){return OP(f,a,c)}}function OP(a,c,f){var m=f.length;if(a==null)return!m;for(a=lt(a);m--;){var y=f[m],P=c[y],x=a[y];if(x===n&&!(y in a)||!P(x))return!1}return!0}function NP(a,c,f){if(typeof a!="function")throw new jr(o);return ih(function(){a.apply(n,f)},c)}function Jc(a,c,f,m){var y=-1,P=ap,x=!0,L=a.length,$=[],G=c.length;if(!L)return $;f&&(c=Tt(c,vr(f))),m?(P=f0,x=!1):c.length>=i&&(P=Hc,x=!1,c=new Ta(c));e:for(;++y<L;){var Y=a[y],Q=f==null?Y:f(Y);if(Y=m||Y!==0?Y:0,x&&Q===Q){for(var se=G;se--;)if(c[se]===Q)continue e;$.push(Y)}else P(c,Q,m)||$.push(Y)}return $}var uo=sk(Vi),xP=sk(P0,!0);function Oj(a,c){var f=!0;return uo(a,function(m,y,P){return f=!!c(m,y,P),f}),f}function Cp(a,c,f){for(var m=-1,y=a.length;++m<y;){var P=a[m],x=c(P);if(x!=null&&(L===n?x===x&&!wr(x):f(x,L)))var L=x,$=P}return $}function Nj(a,c,f,m){var y=a.length;for(f=be(f),f<0&&(f=-f>y?0:y+f),m=m===n||m>y?y:be(m),m<0&&(m+=y),m=f>m?0:Qk(m);f<m;)a[f++]=c;return a}function DP(a,c){var f=[];return uo(a,function(m,y,P){c(m,y,P)&&f.push(m)}),f}function dn(a,c,f,m,y){var P=-1,x=a.length;for(f||(f=wB),y||(y=[]);++P<x;){var L=a[P];c>0&&f(L)?c>1?dn(L,c-1,f,m,y):so(y,L):m||(y[y.length]=L)}return y}var A0=ok(),LP=ok(!0);function Vi(a,c){return a&&A0(a,c,rn)}function P0(a,c){return a&&LP(a,c,rn)}function Rp(a,c){return io(c,function(f){return ws(a[f])})}function Ca(a,c){c=co(c,a);for(var f=0,m=c.length;a!=null&&f<m;)a=a[ji(c[f++])];return f&&f==m?a:n}function MP(a,c,f){var m=c(a);return Pe(a)?m:so(m,f(a))}function Yn(a){return a==null?a===n?aW:sW:Ea&&Ea in lt(a)?pB(a):AB(a)}function k0(a,c){return a>c}function xj(a,c){return a!=null&&tt.call(a,c)}function Dj(a,c){return a!=null&&c in lt(a)}function Lj(a,c,f){return a>=An(c,f)&&a<Kt(c,f)}function b0(a,c,f){for(var m=f?f0:ap,y=a[0].length,P=a.length,x=P,L=j(P),$=1/0,G=[];x--;){var Y=a[x];x&&c&&(Y=Tt(Y,vr(c))),$=An(Y.length,$),L[x]=!f&&(c||y>=120&&Y.length>=120)?new Ta(x&&Y):n}Y=a[0];var Q=-1,se=L[0];e:for(;++Q<y&&G.length<$;){var pe=Y[Q],ye=c?c(pe):pe;if(pe=f||pe!==0?pe:0,!(se?Hc(se,ye):m(G,ye,f))){for(x=P;--x;){var xe=L[x];if(!(xe?Hc(xe,ye):m(a[x],ye,f)))continue e}se&&se.push(ye),G.push(pe)}}return G}function Mj(a,c,f,m){return Vi(a,function(y,P,x){c(m,f(y),P,x)}),m}function Zc(a,c,f){c=co(c,a),a=Tk(a,c);var m=a==null?a:a[ji(Gr(c))];return m==null?n:_r(m,a,f)}function UP(a){return Nt(a)&&Yn(a)==$i}function Uj(a){return Nt(a)&&Yn(a)==zc}function Fj(a){return Nt(a)&&Yn(a)==$c}function eh(a,c,f,m,y){return a===c?!0:a==null||c==null||!Nt(a)&&!Nt(c)?a!==a&&c!==c:$j(a,c,f,m,eh,y)}function $j(a,c,f,m,y,P){var x=Pe(a),L=Pe(c),$=x?$r:Pn(a),G=L?$r:Pn(c);$=$==$i?ds:$,G=G==$i?ds:G;var Y=$==ds,Q=G==ds,se=$==G;if(se&&fo(a)){if(!fo(c))return!1;x=!0,Y=!1}if(se&&!Y)return P||(P=new fi),x||ju(a)?mk(a,c,f,m,y,P):fB(a,c,$,f,m,y,P);if(!(f&E)){var pe=Y&&tt.call(a,"__wrapped__"),ye=Q&&tt.call(c,"__wrapped__");if(pe||ye){var xe=pe?a.value():a,we=ye?c.value():c;return P||(P=new fi),y(xe,we,f,m,P)}}return se?(P||(P=new fi),dB(a,c,f,m,y,P)):!1}function Vj(a){return Nt(a)&&Pn(a)==li}function O0(a,c,f,m){var y=f.length,P=y,x=!m;if(a==null)return!P;for(a=lt(a);y--;){var L=f[y];if(x&&L[2]?L[1]!==a[L[0]]:!(L[0]in a))return!1}for(;++y<P;){L=f[y];var $=L[0],G=a[$],Y=L[1];if(x&&L[2]){if(G===n&&!($ in a))return!1}else{var Q=new fi;if(m)var se=m(G,Y,$,a,c,Q);if(!(se===n?eh(Y,G,E|R,m,Q):se))return!1}}return!0}function FP(a){if(!At(a)||SB(a))return!1;var c=ws(a)?V9:bW;return c.test(Aa(a))}function Wj(a){return Nt(a)&&Yn(a)==Wc}function jj(a){return Nt(a)&&Pn(a)==ci}function Bj(a){return Nt(a)&&Bp(a.length)&&!!pt[Yn(a)]}function $P(a){return typeof a=="function"?a:a==null?lr:typeof a=="object"?Pe(a)?jP(a[0],a[1]):WP(a):ab(a)}function N0(a){if(!rh(a))return G9(a);var c=[];for(var f in lt(a))tt.call(a,f)&&f!="constructor"&&c.push(f);return c}function zj(a){if(!At(a))return RB(a);var c=rh(a),f=[];for(var m in a)m=="constructor"&&(c||!tt.call(a,m))||f.push(m);return f}function x0(a,c){return a<c}function VP(a,c){var f=-1,m=ar(a)?j(a.length):[];return uo(a,function(y,P,x){m[++f]=c(y,P,x)}),m}function WP(a){var c=Y0(a);return c.length==1&&c[0][2]?Ek(c[0][0],c[0][1]):function(f){return f===a||O0(f,a,c)}}function jP(a,c){return Q0(a)&&wk(c)?Ek(ji(a),c):function(f){var m=ow(f,a);return m===n&&m===c?aw(f,a):eh(c,m,E|R)}}function Ap(a,c,f,m,y){a!==c&&A0(c,function(P,x){if(y||(y=new fi),At(P))Hj(a,c,x,f,Ap,m,y);else{var L=m?m(J0(a,x),P,x+"",a,c,y):n;L===n&&(L=P),C0(a,x,L)}},ur)}function Hj(a,c,f,m,y,P,x){var L=J0(a,f),$=J0(c,f),G=x.get($);if(G){C0(a,f,G);return}var Y=P?P(L,$,f+"",a,c,x):n,Q=Y===n;if(Q){var se=Pe($),pe=!se&&fo($),ye=!se&&!pe&&ju($);Y=$,se||pe||ye?Pe(L)?Y=L:$t(L)?Y=or(L):pe?(Q=!1,Y=ek($,!0)):ye?(Q=!1,Y=tk($,!0)):Y=[]:sh($)||Pa($)?(Y=L,Pa(L)?Y=Xk(L):(!At(L)||ws(L))&&(Y=yk($))):Q=!1}Q&&(x.set($,Y),y(Y,$,m,P,x),x.delete($)),C0(a,f,Y)}function BP(a,c){var f=a.length;if(f)return c+=c<0?f:0,ys(c,f)?a[c]:n}function zP(a,c,f){c.length?c=Tt(c,function(P){return Pe(P)?function(x){return Ca(x,P.length===1?P[0]:P)}:P}):c=[lr];var m=-1;c=Tt(c,vr(ve()));var y=VP(a,function(P,x,L){var $=Tt(c,function(G){return G(P)});return{criteria:$,index:++m,value:P}});return v9(y,function(P,x){return iB(P,x,f)})}function Gj(a,c){return HP(a,c,function(f,m){return aw(a,m)})}function HP(a,c,f){for(var m=-1,y=c.length,P={};++m<y;){var x=c[m],L=Ca(a,x);f(L,x)&&th(P,co(x,a),L)}return P}function qj(a){return function(c){return Ca(c,a)}}function D0(a,c,f,m){var y=m?_9:Ou,P=-1,x=c.length,L=a;for(a===c&&(c=or(c)),f&&(L=Tt(a,vr(f)));++P<x;)for(var $=0,G=c[P],Y=f?f(G):G;($=y(L,Y,$,m))>-1;)L!==a&&_p.call(L,$,1),_p.call(a,$,1);return a}function GP(a,c){for(var f=a?c.length:0,m=f-1;f--;){var y=c[f];if(f==m||y!==P){var P=y;ys(y)?_p.call(a,y,1):F0(a,y)}}return a}function L0(a,c){return a+wp(RP()*(c-a+1))}function Yj(a,c,f,m){for(var y=-1,P=Kt(yp((c-a)/(f||1)),0),x=j(P);P--;)x[m?P:++y]=a,a+=f;return x}function M0(a,c){var f="";if(!a||c<1||c>M)return f;do c%2&&(f+=a),c=wp(c/2),c&&(a+=a);while(c);return f}function De(a,c){return Z0(Sk(a,c,lr),a+"")}function Kj(a){return kP(Bu(a))}function Qj(a,c){var f=Bu(a);return Up(f,Ia(c,0,f.length))}function th(a,c,f,m){if(!At(a))return a;c=co(c,a);for(var y=-1,P=c.length,x=P-1,L=a;L!=null&&++y<P;){var $=ji(c[y]),G=f;if($==="__proto__"||$==="constructor"||$==="prototype")return a;if(y!=x){var Y=L[$];G=m?m(Y,$,L):n,G===n&&(G=At(Y)?Y:ys(c[y+1])?[]:{})}Xc(L,$,G),L=L[$]}return a}var qP=Ep?function(a,c){return Ep.set(a,c),a}:lr,Xj=vp?function(a,c){return vp(a,"toString",{configurable:!0,enumerable:!1,value:lw(c),writable:!0})}:lr;function Jj(a){return Up(Bu(a))}function Hr(a,c,f){var m=-1,y=a.length;c<0&&(c=-c>y?0:y+c),f=f>y?y:f,f<0&&(f+=y),y=c>f?0:f-c>>>0,c>>>=0;for(var P=j(y);++m<y;)P[m]=a[m+c];return P}function Zj(a,c){var f;return uo(a,function(m,y,P){return f=c(m,y,P),!f}),!!f}function Pp(a,c,f){var m=0,y=a==null?m:a.length;if(typeof c=="number"&&c===c&&y<=Se){for(;m<y;){var P=m+y>>>1,x=a[P];x!==null&&!wr(x)&&(f?x<=c:x<c)?m=P+1:y=P}return y}return U0(a,c,lr,f)}function U0(a,c,f,m){var y=0,P=a==null?0:a.length;if(P===0)return 0;c=f(c);for(var x=c!==c,L=c===null,$=wr(c),G=c===n;y<P;){var Y=wp((y+P)/2),Q=f(a[Y]),se=Q!==n,pe=Q===null,ye=Q===Q,xe=wr(Q);if(x)var we=m||ye;else G?we=ye&&(m||se):L?we=ye&&se&&(m||!pe):$?we=ye&&se&&!pe&&(m||!xe):pe||xe?we=!1:we=m?Q<=c:Q<c;we?y=Y+1:P=Y}return An(P,fe)}function YP(a,c){for(var f=-1,m=a.length,y=0,P=[];++f<m;){var x=a[f],L=c?c(x):x;if(!f||!di(L,$)){var $=L;P[y++]=x===0?0:x}}return P}function KP(a){return typeof a=="number"?a:wr(a)?H:+a}function yr(a){if(typeof a=="string")return a;if(Pe(a))return Tt(a,yr)+"";if(wr(a))return AP?AP.call(a):"";var c=a+"";return c=="0"&&1/a==-O?"-0":c}function lo(a,c,f){var m=-1,y=ap,P=a.length,x=!0,L=[],$=L;if(f)x=!1,y=f0;else if(P>=i){var G=c?null:cB(a);if(G)return lp(G);x=!1,y=Hc,$=new Ta}else $=c?[]:L;e:for(;++m<P;){var Y=a[m],Q=c?c(Y):Y;if(Y=f||Y!==0?Y:0,x&&Q===Q){for(var se=$.length;se--;)if($[se]===Q)continue e;c&&$.push(Q),L.push(Y)}else y($,Q,f)||($!==L&&$.push(Q),L.push(Y))}return L}function F0(a,c){return c=co(c,a),a=Tk(a,c),a==null||delete a[ji(Gr(c))]}function QP(a,c,f,m){return th(a,c,f(Ca(a,c)),m)}function kp(a,c,f,m){for(var y=a.length,P=m?y:-1;(m?P--:++P<y)&&c(a[P],P,a););return f?Hr(a,m?0:P,m?P+1:y):Hr(a,m?P+1:0,m?y:P)}function XP(a,c){var f=a;return f instanceof Ve&&(f=f.value()),d0(c,function(m,y){return y.func.apply(y.thisArg,so([m],y.args))},f)}function $0(a,c,f){var m=a.length;if(m<2)return m?lo(a[0]):[];for(var y=-1,P=j(m);++y<m;)for(var x=a[y],L=-1;++L<m;)L!=y&&(P[y]=Jc(P[y]||x,a[L],c,f));return lo(dn(P,1),c,f)}function JP(a,c,f){for(var m=-1,y=a.length,P=c.length,x={};++m<y;){var L=m<P?c[m]:n;f(x,a[m],L)}return x}function V0(a){return $t(a)?a:[]}function W0(a){return typeof a=="function"?a:lr}function co(a,c){return Pe(a)?a:Q0(a,c)?[a]:Ak(et(a))}var eB=De;function ho(a,c,f){var m=a.length;return f=f===n?m:f,!c&&f>=m?a:Hr(a,c,f)}var ZP=W9||function(a){return fn.clearTimeout(a)};function ek(a,c){if(c)return a.slice();var f=a.length,m=EP?EP(f):new a.constructor(f);return a.copy(m),m}function j0(a){var c=new a.constructor(a.byteLength);return new gp(c).set(new gp(a)),c}function tB(a,c){var f=c?j0(a.buffer):a.buffer;return new a.constructor(f,a.byteOffset,a.byteLength)}function nB(a){var c=new a.constructor(a.source,UA.exec(a));return c.lastIndex=a.lastIndex,c}function rB(a){return Qc?lt(Qc.call(a)):{}}function tk(a,c){var f=c?j0(a.buffer):a.buffer;return new a.constructor(f,a.byteOffset,a.length)}function nk(a,c){if(a!==c){var f=a!==n,m=a===null,y=a===a,P=wr(a),x=c!==n,L=c===null,$=c===c,G=wr(c);if(!L&&!G&&!P&&a>c||P&&x&&$&&!L&&!G||m&&x&&$||!f&&$||!y)return 1;if(!m&&!P&&!G&&a<c||G&&f&&y&&!m&&!P||L&&f&&y||!x&&y||!$)return-1}return 0}function iB(a,c,f){for(var m=-1,y=a.criteria,P=c.criteria,x=y.length,L=f.length;++m<x;){var $=nk(y[m],P[m]);if($){if(m>=L)return $;var G=f[m];return $*(G=="desc"?-1:1)}}return a.index-c.index}function rk(a,c,f,m){for(var y=-1,P=a.length,x=f.length,L=-1,$=c.length,G=Kt(P-x,0),Y=j($+G),Q=!m;++L<$;)Y[L]=c[L];for(;++y<x;)(Q||y<P)&&(Y[f[y]]=a[y]);for(;G--;)Y[L++]=a[y++];return Y}function ik(a,c,f,m){for(var y=-1,P=a.length,x=-1,L=f.length,$=-1,G=c.length,Y=Kt(P-L,0),Q=j(Y+G),se=!m;++y<Y;)Q[y]=a[y];for(var pe=y;++$<G;)Q[pe+$]=c[$];for(;++x<L;)(se||y<P)&&(Q[pe+f[x]]=a[y++]);return Q}function or(a,c){var f=-1,m=a.length;for(c||(c=j(m));++f<m;)c[f]=a[f];return c}function Wi(a,c,f,m){var y=!f;f||(f={});for(var P=-1,x=c.length;++P<x;){var L=c[P],$=m?m(f[L],a[L],L,f,a):n;$===n&&($=a[L]),y?ms(f,L,$):Xc(f,L,$)}return f}function sB(a,c){return Wi(a,K0(a),c)}function oB(a,c){return Wi(a,_k(a),c)}function bp(a,c){return function(f,m){var y=Pe(f)?h9:Pj,P=c?c():{};return y(f,a,ve(m,2),P)}}function $u(a){return De(function(c,f){var m=-1,y=f.length,P=y>1?f[y-1]:n,x=y>2?f[2]:n;for(P=a.length>3&&typeof P=="function"?(y--,P):n,x&&Kn(f[0],f[1],x)&&(P=y<3?n:P,y=1),c=lt(c);++m<y;){var L=f[m];L&&a(c,L,m,P)}return c})}function sk(a,c){return function(f,m){if(f==null)return f;if(!ar(f))return a(f,m);for(var y=f.length,P=c?y:-1,x=lt(f);(c?P--:++P<y)&&m(x[P],P,x)!==!1;);return f}}function ok(a){return function(c,f,m){for(var y=-1,P=lt(c),x=m(c),L=x.length;L--;){var $=x[a?L:++y];if(f(P[$],$,P)===!1)break}return c}}function aB(a,c,f){var m=c&C,y=nh(a);function P(){var x=this&&this!==fn&&this instanceof P?y:a;return x.apply(m?f:this,arguments)}return P}function ak(a){return function(c){c=et(c);var f=Nu(c)?hi(c):n,m=f?f[0]:c.charAt(0),y=f?ho(f,1).join(""):c.slice(1);return m[a]()+y}}function Vu(a){return function(c){return d0(sb(ib(c).replace(XW,"")),a,"")}}function nh(a){return function(){var c=arguments;switch(c.length){case 0:return new a;case 1:return new a(c[0]);case 2:return new a(c[0],c[1]);case 3:return new a(c[0],c[1],c[2]);case 4:return new a(c[0],c[1],c[2],c[3]);case 5:return new a(c[0],c[1],c[2],c[3],c[4]);case 6:return new a(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new a(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var f=Fu(a.prototype),m=a.apply(f,c);return At(m)?m:f}}function uB(a,c,f){var m=nh(a);function y(){for(var P=arguments.length,x=j(P),L=P,$=Wu(y);L--;)x[L]=arguments[L];var G=P<3&&x[0]!==$&&x[P-1]!==$?[]:oo(x,$);if(P-=G.length,P<f)return fk(a,c,Op,y.placeholder,n,x,G,n,n,f-P);var Y=this&&this!==fn&&this instanceof y?m:a;return _r(Y,this,x)}return y}function uk(a){return function(c,f,m){var y=lt(c);if(!ar(c)){var P=ve(f,3);c=rn(c),f=function(L){return P(y[L],L,y)}}var x=a(c,f,m);return x>-1?y[P?c[x]:x]:n}}function lk(a){return vs(function(c){var f=c.length,m=f,y=Br.prototype.thru;for(a&&c.reverse();m--;){var P=c[m];if(typeof P!="function")throw new jr(o);if(y&&!x&&Lp(P)=="wrapper")var x=new Br([],!0)}for(m=x?m:f;++m<f;){P=c[m];var L=Lp(P),$=L=="wrapper"?q0(P):n;$&&X0($[0])&&$[1]==(W|k|F|q)&&!$[4].length&&$[9]==1?x=x[Lp($[0])].apply(x,$[3]):x=P.length==1&&X0(P)?x[L]():x.thru(P)}return function(){var G=arguments,Y=G[0];if(x&&G.length==1&&Pe(Y))return x.plant(Y).value();for(var Q=0,se=f?c[Q].apply(this,G):Y;++Q<f;)se=c[Q].call(this,se);return se}})}function Op(a,c,f,m,y,P,x,L,$,G){var Y=c&W,Q=c&C,se=c&S,pe=c&(k|b),ye=c&ie,xe=se?n:nh(a);function we(){for(var Fe=arguments.length,Be=j(Fe),Er=Fe;Er--;)Be[Er]=arguments[Er];if(pe)var Qn=Wu(we),Sr=w9(Be,Qn);if(m&&(Be=rk(Be,m,y,pe)),P&&(Be=ik(Be,P,x,pe)),Fe-=Sr,pe&&Fe<G){var Vt=oo(Be,Qn);return fk(a,c,Op,we.placeholder,f,Be,Vt,L,$,G-Fe)}var pi=Q?f:this,Ss=se?pi[a]:a;return Fe=Be.length,L?Be=PB(Be,L):ye&&Fe>1&&Be.reverse(),Y&&$<Fe&&(Be.length=$),this&&this!==fn&&this instanceof we&&(Ss=xe||nh(Ss)),Ss.apply(pi,Be)}return we}function ck(a,c){return function(f,m){return Mj(f,a,c(m),{})}}function Np(a,c){return function(f,m){var y;if(f===n&&m===n)return c;if(f!==n&&(y=f),m!==n){if(y===n)return m;typeof f=="string"||typeof m=="string"?(f=yr(f),m=yr(m)):(f=KP(f),m=KP(m)),y=a(f,m)}return y}}function B0(a){return vs(function(c){return c=Tt(c,vr(ve())),De(function(f){var m=this;return a(c,function(y){return _r(y,m,f)})})})}function xp(a,c){c=c===n?" ":yr(c);var f=c.length;if(f<2)return f?M0(c,a):c;var m=M0(c,yp(a/xu(c)));return Nu(c)?ho(hi(m),0,a).join(""):m.slice(0,a)}function lB(a,c,f,m){var y=c&C,P=nh(a);function x(){for(var L=-1,$=arguments.length,G=-1,Y=m.length,Q=j(Y+$),se=this&&this!==fn&&this instanceof x?P:a;++G<Y;)Q[G]=m[G];for(;$--;)Q[G++]=arguments[++L];return _r(se,y?f:this,Q)}return x}function hk(a){return function(c,f,m){return m&&typeof m!="number"&&Kn(c,f,m)&&(f=m=n),c=Es(c),f===n?(f=c,c=0):f=Es(f),m=m===n?c<f?1:-1:Es(m),Yj(c,f,m,a)}}function Dp(a){return function(c,f){return typeof c=="string"&&typeof f=="string"||(c=qr(c),f=qr(f)),a(c,f)}}function fk(a,c,f,m,y,P,x,L,$,G){var Y=c&k,Q=Y?x:n,se=Y?n:x,pe=Y?P:n,ye=Y?n:P;c|=Y?F:V,c&=~(Y?V:F),c&T||(c&=~(C|S));var xe=[a,c,y,pe,Q,ye,se,L,$,G],we=f.apply(n,xe);return X0(a)&&Ik(we,xe),we.placeholder=m,Ck(we,a,c)}function z0(a){var c=Yt[a];return function(f,m){if(f=qr(f),m=m==null?0:An(be(m),292),m&&CP(f)){var y=(et(f)+"e").split("e"),P=c(y[0]+"e"+(+y[1]+m));return y=(et(P)+"e").split("e"),+(y[0]+"e"+(+y[1]-m))}return c(f)}}var cB=Mu&&1/lp(new Mu([,-0]))[1]==O?function(a){return new Mu(a)}:fw;function dk(a){return function(c){var f=Pn(c);return f==li?w0(c):f==ci?A9(c):y9(c,a(c))}}function _s(a,c,f,m,y,P,x,L){var $=c&S;if(!$&&typeof a!="function")throw new jr(o);var G=m?m.length:0;if(G||(c&=~(F|V),m=y=n),x=x===n?x:Kt(be(x),0),L=L===n?L:be(L),G-=y?y.length:0,c&V){var Y=m,Q=y;m=y=n}var se=$?n:q0(a),pe=[a,c,f,m,y,Y,Q,P,x,L];if(se&&CB(pe,se),a=pe[0],c=pe[1],f=pe[2],m=pe[3],y=pe[4],L=pe[9]=pe[9]===n?$?0:a.length:Kt(pe[9]-G,0),!L&&c&(k|b)&&(c&=~(k|b)),!c||c==C)var ye=aB(a,c,f);else c==k||c==b?ye=uB(a,c,L):(c==F||c==(C|F))&&!y.length?ye=lB(a,c,f,m):ye=Op.apply(n,pe);var xe=se?qP:Ik;return Ck(xe(ye,pe),a,c)}function pk(a,c,f,m){return a===n||di(a,Lu[f])&&!tt.call(m,f)?c:a}function gk(a,c,f,m,y,P){return At(a)&&At(c)&&(P.set(c,a),Ap(a,c,n,gk,P),P.delete(c)),a}function hB(a){return sh(a)?n:a}function mk(a,c,f,m,y,P){var x=f&E,L=a.length,$=c.length;if(L!=$&&!(x&&$>L))return!1;var G=P.get(a),Y=P.get(c);if(G&&Y)return G==c&&Y==a;var Q=-1,se=!0,pe=f&R?new Ta:n;for(P.set(a,c),P.set(c,a);++Q<L;){var ye=a[Q],xe=c[Q];if(m)var we=x?m(xe,ye,Q,c,a,P):m(ye,xe,Q,a,c,P);if(we!==n){if(we)continue;se=!1;break}if(pe){if(!p0(c,function(Fe,Be){if(!Hc(pe,Be)&&(ye===Fe||y(ye,Fe,f,m,P)))return pe.push(Be)})){se=!1;break}}else if(!(ye===xe||y(ye,xe,f,m,P))){se=!1;break}}return P.delete(a),P.delete(c),se}function fB(a,c,f,m,y,P,x){switch(f){case ku:if(a.byteLength!=c.byteLength||a.byteOffset!=c.byteOffset)return!1;a=a.buffer,c=c.buffer;case zc:return!(a.byteLength!=c.byteLength||!P(new gp(a),new gp(c)));case Fc:case $c:case Vc:return di(+a,+c);case tp:return a.name==c.name&&a.message==c.message;case Wc:case jc:return a==c+"";case li:var L=w0;case ci:var $=m&E;if(L||(L=lp),a.size!=c.size&&!$)return!1;var G=x.get(a);if(G)return G==c;m|=R,x.set(a,c);var Y=mk(L(a),L(c),m,y,P,x);return x.delete(a),Y;case rp:if(Qc)return Qc.call(a)==Qc.call(c)}return!1}function dB(a,c,f,m,y,P){var x=f&E,L=H0(a),$=L.length,G=H0(c),Y=G.length;if($!=Y&&!x)return!1;for(var Q=$;Q--;){var se=L[Q];if(!(x?se in c:tt.call(c,se)))return!1}var pe=P.get(a),ye=P.get(c);if(pe&&ye)return pe==c&&ye==a;var xe=!0;P.set(a,c),P.set(c,a);for(var we=x;++Q<$;){se=L[Q];var Fe=a[se],Be=c[se];if(m)var Er=x?m(Be,Fe,se,c,a,P):m(Fe,Be,se,a,c,P);if(!(Er===n?Fe===Be||y(Fe,Be,f,m,P):Er)){xe=!1;break}we||(we=se=="constructor")}if(xe&&!we){var Qn=a.constructor,Sr=c.constructor;Qn!=Sr&&"constructor"in a&&"constructor"in c&&!(typeof Qn=="function"&&Qn instanceof Qn&&typeof Sr=="function"&&Sr instanceof Sr)&&(xe=!1)}return P.delete(a),P.delete(c),xe}function vs(a){return Z0(Sk(a,n,Ok),a+"")}function H0(a){return MP(a,rn,K0)}function G0(a){return MP(a,ur,_k)}var q0=Ep?function(a){return Ep.get(a)}:fw;function Lp(a){for(var c=a.name+"",f=Uu[c],m=tt.call(Uu,c)?f.length:0;m--;){var y=f[m],P=y.func;if(P==null||P==a)return y.name}return c}function Wu(a){var c=tt.call(A,"placeholder")?A:a;return c.placeholder}function ve(){var a=A.iteratee||cw;return a=a===cw?$P:a,arguments.length?a(arguments[0],arguments[1]):a}function Mp(a,c){var f=a.__data__;return EB(c)?f[typeof c=="string"?"string":"hash"]:f.map}function Y0(a){for(var c=rn(a),f=c.length;f--;){var m=c[f],y=a[m];c[f]=[m,y,wk(y)]}return c}function Ra(a,c){var f=I9(a,c);return FP(f)?f:n}function pB(a){var c=tt.call(a,Ea),f=a[Ea];try{a[Ea]=n;var m=!0}catch{}var y=dp.call(a);return m&&(c?a[Ea]=f:delete a[Ea]),y}var K0=S0?function(a){return a==null?[]:(a=lt(a),io(S0(a),function(c){return TP.call(a,c)}))}:dw,_k=S0?function(a){for(var c=[];a;)so(c,K0(a)),a=mp(a);return c}:dw,Pn=Yn;(T0&&Pn(new T0(new ArrayBuffer(1)))!=ku||qc&&Pn(new qc)!=li||I0&&Pn(I0.resolve())!=xA||Mu&&Pn(new Mu)!=ci||Yc&&Pn(new Yc)!=Bc)&&(Pn=function(a){var c=Yn(a),f=c==ds?a.constructor:n,m=f?Aa(f):"";if(m)switch(m){case Q9:return ku;case X9:return li;case J9:return xA;case Z9:return ci;case ej:return Bc}return c});function gB(a,c,f){for(var m=-1,y=f.length;++m<y;){var P=f[m],x=P.size;switch(P.type){case"drop":a+=x;break;case"dropRight":c-=x;break;case"take":c=An(c,a+x);break;case"takeRight":a=Kt(a,c-x);break}}return{start:a,end:c}}function mB(a){var c=a.match(SW);return c?c[1].split(TW):[]}function vk(a,c,f){c=co(c,a);for(var m=-1,y=c.length,P=!1;++m<y;){var x=ji(c[m]);if(!(P=a!=null&&f(a,x)))break;a=a[x]}return P||++m!=y?P:(y=a==null?0:a.length,!!y&&Bp(y)&&ys(x,y)&&(Pe(a)||Pa(a)))}function _B(a){var c=a.length,f=new a.constructor(c);return c&&typeof a[0]=="string"&&tt.call(a,"index")&&(f.index=a.index,f.input=a.input),f}function yk(a){return typeof a.constructor=="function"&&!rh(a)?Fu(mp(a)):{}}function vB(a,c,f){var m=a.constructor;switch(c){case zc:return j0(a);case Fc:case $c:return new m(+a);case ku:return tB(a,f);case Yy:case Ky:case Qy:case Xy:case Jy:case Zy:case e0:case t0:case n0:return tk(a,f);case li:return new m;case Vc:case jc:return new m(a);case Wc:return nB(a);case ci:return new m;case rp:return rB(a)}}function yB(a,c){var f=c.length;if(!f)return a;var m=f-1;return c[m]=(f>1?"& ":"")+c[m],c=c.join(f>2?", ":" "),a.replace(EW,`{
/* [wrapped with `+c+`] */
`)}function wB(a){return Pe(a)||Pa(a)||!!(IP&&a&&a[IP])}function ys(a,c){var f=typeof a;return c=c??M,!!c&&(f=="number"||f!="symbol"&&NW.test(a))&&a>-1&&a%1==0&&a<c}function Kn(a,c,f){if(!At(f))return!1;var m=typeof c;return(m=="number"?ar(f)&&ys(c,f.length):m=="string"&&c in f)?di(f[c],a):!1}function Q0(a,c){if(Pe(a))return!1;var f=typeof a;return f=="number"||f=="symbol"||f=="boolean"||a==null||wr(a)?!0:_W.test(a)||!mW.test(a)||c!=null&&a in lt(c)}function EB(a){var c=typeof a;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?a!=="__proto__":a===null}function X0(a){var c=Lp(a),f=A[c];if(typeof f!="function"||!(c in Ve.prototype))return!1;if(a===f)return!0;var m=q0(f);return!!m&&a===m[0]}function SB(a){return!!wP&&wP in a}var TB=hp?ws:pw;function rh(a){var c=a&&a.constructor,f=typeof c=="function"&&c.prototype||Lu;return a===f}function wk(a){return a===a&&!At(a)}function Ek(a,c){return function(f){return f==null?!1:f[a]===c&&(c!==n||a in lt(f))}}function IB(a){var c=Wp(a,function(m){return f.size===h&&f.clear(),m}),f=c.cache;return c}function CB(a,c){var f=a[1],m=c[1],y=f|m,P=y<(C|S|W),x=m==W&&f==k||m==W&&f==q&&a[7].length<=c[8]||m==(W|q)&&c[7].length<=c[8]&&f==k;if(!(P||x))return a;m&C&&(a[2]=c[2],y|=f&C?0:T);var L=c[3];if(L){var $=a[3];a[3]=$?rk($,L,c[4]):L,a[4]=$?oo(a[3],d):c[4]}return L=c[5],L&&($=a[5],a[5]=$?ik($,L,c[6]):L,a[6]=$?oo(a[5],d):c[6]),L=c[7],L&&(a[7]=L),m&W&&(a[8]=a[8]==null?c[8]:An(a[8],c[8])),a[9]==null&&(a[9]=c[9]),a[0]=c[0],a[1]=y,a}function RB(a){var c=[];if(a!=null)for(var f in lt(a))c.push(f);return c}function AB(a){return dp.call(a)}function Sk(a,c,f){return c=Kt(c===n?a.length-1:c,0),function(){for(var m=arguments,y=-1,P=Kt(m.length-c,0),x=j(P);++y<P;)x[y]=m[c+y];y=-1;for(var L=j(c+1);++y<c;)L[y]=m[y];return L[c]=f(x),_r(a,this,L)}}function Tk(a,c){return c.length<2?a:Ca(a,Hr(c,0,-1))}function PB(a,c){for(var f=a.length,m=An(c.length,f),y=or(a);m--;){var P=c[m];a[m]=ys(P,f)?y[P]:n}return a}function J0(a,c){if(!(c==="constructor"&&typeof a[c]=="function")&&c!="__proto__")return a[c]}var Ik=Rk(qP),ih=B9||function(a,c){return fn.setTimeout(a,c)},Z0=Rk(Xj);function Ck(a,c,f){var m=c+"";return Z0(a,yB(m,kB(mB(m),f)))}function Rk(a){var c=0,f=0;return function(){var m=q9(),y=_-(m-f);if(f=m,y>0){if(++c>=I)return arguments[0]}else c=0;return a.apply(n,arguments)}}function Up(a,c){var f=-1,m=a.length,y=m-1;for(c=c===n?m:c;++f<c;){var P=L0(f,y),x=a[P];a[P]=a[f],a[f]=x}return a.length=c,a}var Ak=IB(function(a){var c=[];return a.charCodeAt(0)===46&&c.push(""),a.replace(vW,function(f,m,y,P){c.push(y?P.replace(RW,"$1"):m||f)}),c});function ji(a){if(typeof a=="string"||wr(a))return a;var c=a+"";return c=="0"&&1/a==-O?"-0":c}function Aa(a){if(a!=null){try{return fp.call(a)}catch{}try{return a+""}catch{}}return""}function kB(a,c){return Wr(fs,function(f){var m="_."+f[0];c&f[1]&&!ap(a,m)&&a.push(m)}),a.sort()}function Pk(a){if(a instanceof Ve)return a.clone();var c=new Br(a.__wrapped__,a.__chain__);return c.__actions__=or(a.__actions__),c.__index__=a.__index__,c.__values__=a.__values__,c}function bB(a,c,f){(f?Kn(a,c,f):c===n)?c=1:c=Kt(be(c),0);var m=a==null?0:a.length;if(!m||c<1)return[];for(var y=0,P=0,x=j(yp(m/c));y<m;)x[P++]=Hr(a,y,y+=c);return x}function OB(a){for(var c=-1,f=a==null?0:a.length,m=0,y=[];++c<f;){var P=a[c];P&&(y[m++]=P)}return y}function NB(){var a=arguments.length;if(!a)return[];for(var c=j(a-1),f=arguments[0],m=a;m--;)c[m-1]=arguments[m];return so(Pe(f)?or(f):[f],dn(c,1))}var xB=De(function(a,c){return $t(a)?Jc(a,dn(c,1,$t,!0)):[]}),DB=De(function(a,c){var f=Gr(c);return $t(f)&&(f=n),$t(a)?Jc(a,dn(c,1,$t,!0),ve(f,2)):[]}),LB=De(function(a,c){var f=Gr(c);return $t(f)&&(f=n),$t(a)?Jc(a,dn(c,1,$t,!0),n,f):[]});function MB(a,c,f){var m=a==null?0:a.length;return m?(c=f||c===n?1:be(c),Hr(a,c<0?0:c,m)):[]}function UB(a,c,f){var m=a==null?0:a.length;return m?(c=f||c===n?1:be(c),c=m-c,Hr(a,0,c<0?0:c)):[]}function FB(a,c){return a&&a.length?kp(a,ve(c,3),!0,!0):[]}function $B(a,c){return a&&a.length?kp(a,ve(c,3),!0):[]}function VB(a,c,f,m){var y=a==null?0:a.length;return y?(f&&typeof f!="number"&&Kn(a,c,f)&&(f=0,m=y),Nj(a,c,f,m)):[]}function kk(a,c,f){var m=a==null?0:a.length;if(!m)return-1;var y=f==null?0:be(f);return y<0&&(y=Kt(m+y,0)),up(a,ve(c,3),y)}function bk(a,c,f){var m=a==null?0:a.length;if(!m)return-1;var y=m-1;return f!==n&&(y=be(f),y=f<0?Kt(m+y,0):An(y,m-1)),up(a,ve(c,3),y,!0)}function Ok(a){var c=a==null?0:a.length;return c?dn(a,1):[]}function WB(a){var c=a==null?0:a.length;return c?dn(a,O):[]}function jB(a,c){var f=a==null?0:a.length;return f?(c=c===n?1:be(c),dn(a,c)):[]}function BB(a){for(var c=-1,f=a==null?0:a.length,m={};++c<f;){var y=a[c];m[y[0]]=y[1]}return m}function Nk(a){return a&&a.length?a[0]:n}function zB(a,c,f){var m=a==null?0:a.length;if(!m)return-1;var y=f==null?0:be(f);return y<0&&(y=Kt(m+y,0)),Ou(a,c,y)}function HB(a){var c=a==null?0:a.length;return c?Hr(a,0,-1):[]}var GB=De(function(a){var c=Tt(a,V0);return c.length&&c[0]===a[0]?b0(c):[]}),qB=De(function(a){var c=Gr(a),f=Tt(a,V0);return c===Gr(f)?c=n:f.pop(),f.length&&f[0]===a[0]?b0(f,ve(c,2)):[]}),YB=De(function(a){var c=Gr(a),f=Tt(a,V0);return c=typeof c=="function"?c:n,c&&f.pop(),f.length&&f[0]===a[0]?b0(f,n,c):[]});function KB(a,c){return a==null?"":H9.call(a,c)}function Gr(a){var c=a==null?0:a.length;return c?a[c-1]:n}function QB(a,c,f){var m=a==null?0:a.length;if(!m)return-1;var y=m;return f!==n&&(y=be(f),y=y<0?Kt(m+y,0):An(y,m-1)),c===c?k9(a,c,y):up(a,fP,y,!0)}function XB(a,c){return a&&a.length?BP(a,be(c)):n}var JB=De(xk);function xk(a,c){return a&&a.length&&c&&c.length?D0(a,c):a}function ZB(a,c,f){return a&&a.length&&c&&c.length?D0(a,c,ve(f,2)):a}function e5(a,c,f){return a&&a.length&&c&&c.length?D0(a,c,n,f):a}var t5=vs(function(a,c){var f=a==null?0:a.length,m=R0(a,c);return GP(a,Tt(c,function(y){return ys(y,f)?+y:y}).sort(nk)),m});function n5(a,c){var f=[];if(!(a&&a.length))return f;var m=-1,y=[],P=a.length;for(c=ve(c,3);++m<P;){var x=a[m];c(x,m,a)&&(f.push(x),y.push(m))}return GP(a,y),f}function ew(a){return a==null?a:K9.call(a)}function r5(a,c,f){var m=a==null?0:a.length;return m?(f&&typeof f!="number"&&Kn(a,c,f)?(c=0,f=m):(c=c==null?0:be(c),f=f===n?m:be(f)),Hr(a,c,f)):[]}function i5(a,c){return Pp(a,c)}function s5(a,c,f){return U0(a,c,ve(f,2))}function o5(a,c){var f=a==null?0:a.length;if(f){var m=Pp(a,c);if(m<f&&di(a[m],c))return m}return-1}function a5(a,c){return Pp(a,c,!0)}function u5(a,c,f){return U0(a,c,ve(f,2),!0)}function l5(a,c){var f=a==null?0:a.length;if(f){var m=Pp(a,c,!0)-1;if(di(a[m],c))return m}return-1}function c5(a){return a&&a.length?YP(a):[]}function h5(a,c){return a&&a.length?YP(a,ve(c,2)):[]}function f5(a){var c=a==null?0:a.length;return c?Hr(a,1,c):[]}function d5(a,c,f){return a&&a.length?(c=f||c===n?1:be(c),Hr(a,0,c<0?0:c)):[]}function p5(a,c,f){var m=a==null?0:a.length;return m?(c=f||c===n?1:be(c),c=m-c,Hr(a,c<0?0:c,m)):[]}function g5(a,c){return a&&a.length?kp(a,ve(c,3),!1,!0):[]}function m5(a,c){return a&&a.length?kp(a,ve(c,3)):[]}var _5=De(function(a){return lo(dn(a,1,$t,!0))}),v5=De(function(a){var c=Gr(a);return $t(c)&&(c=n),lo(dn(a,1,$t,!0),ve(c,2))}),y5=De(function(a){var c=Gr(a);return c=typeof c=="function"?c:n,lo(dn(a,1,$t,!0),n,c)});function w5(a){return a&&a.length?lo(a):[]}function E5(a,c){return a&&a.length?lo(a,ve(c,2)):[]}function S5(a,c){return c=typeof c=="function"?c:n,a&&a.length?lo(a,n,c):[]}function tw(a){if(!(a&&a.length))return[];var c=0;return a=io(a,function(f){if($t(f))return c=Kt(f.length,c),!0}),v0(c,function(f){return Tt(a,g0(f))})}function Dk(a,c){if(!(a&&a.length))return[];var f=tw(a);return c==null?f:Tt(f,function(m){return _r(c,n,m)})}var T5=De(function(a,c){return $t(a)?Jc(a,c):[]}),I5=De(function(a){return $0(io(a,$t))}),C5=De(function(a){var c=Gr(a);return $t(c)&&(c=n),$0(io(a,$t),ve(c,2))}),R5=De(function(a){var c=Gr(a);return c=typeof c=="function"?c:n,$0(io(a,$t),n,c)}),A5=De(tw);function P5(a,c){return JP(a||[],c||[],Xc)}function k5(a,c){return JP(a||[],c||[],th)}var b5=De(function(a){var c=a.length,f=c>1?a[c-1]:n;return f=typeof f=="function"?(a.pop(),f):n,Dk(a,f)});function Lk(a){var c=A(a);return c.__chain__=!0,c}function O5(a,c){return c(a),a}function Fp(a,c){return c(a)}var N5=vs(function(a){var c=a.length,f=c?a[0]:0,m=this.__wrapped__,y=function(P){return R0(P,a)};return c>1||this.__actions__.length||!(m instanceof Ve)||!ys(f)?this.thru(y):(m=m.slice(f,+f+(c?1:0)),m.__actions__.push({func:Fp,args:[y],thisArg:n}),new Br(m,this.__chain__).thru(function(P){return c&&!P.length&&P.push(n),P}))});function x5(){return Lk(this)}function D5(){return new Br(this.value(),this.__chain__)}function L5(){this.__values__===n&&(this.__values__=Kk(this.value()));var a=this.__index__>=this.__values__.length,c=a?n:this.__values__[this.__index__++];return{done:a,value:c}}function M5(){return this}function U5(a){for(var c,f=this;f instanceof Tp;){var m=Pk(f);m.__index__=0,m.__values__=n,c?y.__wrapped__=m:c=m;var y=m;f=f.__wrapped__}return y.__wrapped__=a,c}function F5(){var a=this.__wrapped__;if(a instanceof Ve){var c=a;return this.__actions__.length&&(c=new Ve(this)),c=c.reverse(),c.__actions__.push({func:Fp,args:[ew],thisArg:n}),new Br(c,this.__chain__)}return this.thru(ew)}function $5(){return XP(this.__wrapped__,this.__actions__)}var V5=bp(function(a,c,f){tt.call(a,f)?++a[f]:ms(a,f,1)});function W5(a,c,f){var m=Pe(a)?cP:Oj;return f&&Kn(a,c,f)&&(c=n),m(a,ve(c,3))}function j5(a,c){var f=Pe(a)?io:DP;return f(a,ve(c,3))}var B5=uk(kk),z5=uk(bk);function H5(a,c){return dn($p(a,c),1)}function G5(a,c){return dn($p(a,c),O)}function q5(a,c,f){return f=f===n?1:be(f),dn($p(a,c),f)}function Mk(a,c){var f=Pe(a)?Wr:uo;return f(a,ve(c,3))}function Uk(a,c){var f=Pe(a)?f9:xP;return f(a,ve(c,3))}var Y5=bp(function(a,c,f){tt.call(a,f)?a[f].push(c):ms(a,f,[c])});function K5(a,c,f,m){a=ar(a)?a:Bu(a),f=f&&!m?be(f):0;var y=a.length;return f<0&&(f=Kt(y+f,0)),zp(a)?f<=y&&a.indexOf(c,f)>-1:!!y&&Ou(a,c,f)>-1}var Q5=De(function(a,c,f){var m=-1,y=typeof c=="function",P=ar(a)?j(a.length):[];return uo(a,function(x){P[++m]=y?_r(c,x,f):Zc(x,c,f)}),P}),X5=bp(function(a,c,f){ms(a,f,c)});function $p(a,c){var f=Pe(a)?Tt:VP;return f(a,ve(c,3))}function J5(a,c,f,m){return a==null?[]:(Pe(c)||(c=c==null?[]:[c]),f=m?n:f,Pe(f)||(f=f==null?[]:[f]),zP(a,c,f))}var Z5=bp(function(a,c,f){a[f?0:1].push(c)},function(){return[[],[]]});function ez(a,c,f){var m=Pe(a)?d0:pP,y=arguments.length<3;return m(a,ve(c,4),f,y,uo)}function tz(a,c,f){var m=Pe(a)?d9:pP,y=arguments.length<3;return m(a,ve(c,4),f,y,xP)}function nz(a,c){var f=Pe(a)?io:DP;return f(a,jp(ve(c,3)))}function rz(a){var c=Pe(a)?kP:Kj;return c(a)}function iz(a,c,f){(f?Kn(a,c,f):c===n)?c=1:c=be(c);var m=Pe(a)?Rj:Qj;return m(a,c)}function sz(a){var c=Pe(a)?Aj:Jj;return c(a)}function oz(a){if(a==null)return 0;if(ar(a))return zp(a)?xu(a):a.length;var c=Pn(a);return c==li||c==ci?a.size:N0(a).length}function az(a,c,f){var m=Pe(a)?p0:Zj;return f&&Kn(a,c,f)&&(c=n),m(a,ve(c,3))}var uz=De(function(a,c){if(a==null)return[];var f=c.length;return f>1&&Kn(a,c[0],c[1])?c=[]:f>2&&Kn(c[0],c[1],c[2])&&(c=[c[0]]),zP(a,dn(c,1),[])}),Vp=j9||function(){return fn.Date.now()};function lz(a,c){if(typeof c!="function")throw new jr(o);return a=be(a),function(){if(--a<1)return c.apply(this,arguments)}}function Fk(a,c,f){return c=f?n:c,c=a&&c==null?a.length:c,_s(a,W,n,n,n,n,c)}function $k(a,c){var f;if(typeof c!="function")throw new jr(o);return a=be(a),function(){return--a>0&&(f=c.apply(this,arguments)),a<=1&&(c=n),f}}var nw=De(function(a,c,f){var m=C;if(f.length){var y=oo(f,Wu(nw));m|=F}return _s(a,m,c,f,y)}),Vk=De(function(a,c,f){var m=C|S;if(f.length){var y=oo(f,Wu(Vk));m|=F}return _s(c,m,a,f,y)});function Wk(a,c,f){c=f?n:c;var m=_s(a,k,n,n,n,n,n,c);return m.placeholder=Wk.placeholder,m}function jk(a,c,f){c=f?n:c;var m=_s(a,b,n,n,n,n,n,c);return m.placeholder=jk.placeholder,m}function Bk(a,c,f){var m,y,P,x,L,$,G=0,Y=!1,Q=!1,se=!0;if(typeof a!="function")throw new jr(o);c=qr(c)||0,At(f)&&(Y=!!f.leading,Q="maxWait"in f,P=Q?Kt(qr(f.maxWait)||0,c):P,se="trailing"in f?!!f.trailing:se);function pe(Vt){var pi=m,Ss=y;return m=y=n,G=Vt,x=a.apply(Ss,pi),x}function ye(Vt){return G=Vt,L=ih(Fe,c),Y?pe(Vt):x}function xe(Vt){var pi=Vt-$,Ss=Vt-G,ub=c-pi;return Q?An(ub,P-Ss):ub}function we(Vt){var pi=Vt-$,Ss=Vt-G;return $===n||pi>=c||pi<0||Q&&Ss>=P}function Fe(){var Vt=Vp();if(we(Vt))return Be(Vt);L=ih(Fe,xe(Vt))}function Be(Vt){return L=n,se&&m?pe(Vt):(m=y=n,x)}function Er(){L!==n&&ZP(L),G=0,m=$=y=L=n}function Qn(){return L===n?x:Be(Vp())}function Sr(){var Vt=Vp(),pi=we(Vt);if(m=arguments,y=this,$=Vt,pi){if(L===n)return ye($);if(Q)return ZP(L),L=ih(Fe,c),pe($)}return L===n&&(L=ih(Fe,c)),x}return Sr.cancel=Er,Sr.flush=Qn,Sr}var cz=De(function(a,c){return NP(a,1,c)}),hz=De(function(a,c,f){return NP(a,qr(c)||0,f)});function fz(a){return _s(a,ie)}function Wp(a,c){if(typeof a!="function"||c!=null&&typeof c!="function")throw new jr(o);var f=function(){var m=arguments,y=c?c.apply(this,m):m[0],P=f.cache;if(P.has(y))return P.get(y);var x=a.apply(this,m);return f.cache=P.set(y,x)||P,x};return f.cache=new(Wp.Cache||gs),f}Wp.Cache=gs;function jp(a){if(typeof a!="function")throw new jr(o);return function(){var c=arguments;switch(c.length){case 0:return!a.call(this);case 1:return!a.call(this,c[0]);case 2:return!a.call(this,c[0],c[1]);case 3:return!a.call(this,c[0],c[1],c[2])}return!a.apply(this,c)}}function dz(a){return $k(2,a)}var pz=eB(function(a,c){c=c.length==1&&Pe(c[0])?Tt(c[0],vr(ve())):Tt(dn(c,1),vr(ve()));var f=c.length;return De(function(m){for(var y=-1,P=An(m.length,f);++y<P;)m[y]=c[y].call(this,m[y]);return _r(a,this,m)})}),rw=De(function(a,c){var f=oo(c,Wu(rw));return _s(a,F,n,c,f)}),zk=De(function(a,c){var f=oo(c,Wu(zk));return _s(a,V,n,c,f)}),gz=vs(function(a,c){return _s(a,q,n,n,n,c)});function mz(a,c){if(typeof a!="function")throw new jr(o);return c=c===n?c:be(c),De(a,c)}function _z(a,c){if(typeof a!="function")throw new jr(o);return c=c==null?0:Kt(be(c),0),De(function(f){var m=f[c],y=ho(f,0,c);return m&&so(y,m),_r(a,this,y)})}function vz(a,c,f){var m=!0,y=!0;if(typeof a!="function")throw new jr(o);return At(f)&&(m="leading"in f?!!f.leading:m,y="trailing"in f?!!f.trailing:y),Bk(a,c,{leading:m,maxWait:c,trailing:y})}function yz(a){return Fk(a,1)}function wz(a,c){return rw(W0(c),a)}function Ez(){if(!arguments.length)return[];var a=arguments[0];return Pe(a)?a:[a]}function Sz(a){return zr(a,v)}function Tz(a,c){return c=typeof c=="function"?c:n,zr(a,v,c)}function Iz(a){return zr(a,p|v)}function Cz(a,c){return c=typeof c=="function"?c:n,zr(a,p|v,c)}function Rz(a,c){return c==null||OP(a,c,rn(c))}function di(a,c){return a===c||a!==a&&c!==c}var Az=Dp(k0),Pz=Dp(function(a,c){return a>=c}),Pa=UP(function(){return arguments}())?UP:function(a){return Nt(a)&&tt.call(a,"callee")&&!TP.call(a,"callee")},Pe=j.isArray,kz=iP?vr(iP):Uj;function ar(a){return a!=null&&Bp(a.length)&&!ws(a)}function $t(a){return Nt(a)&&ar(a)}function bz(a){return a===!0||a===!1||Nt(a)&&Yn(a)==Fc}var fo=z9||pw,Oz=sP?vr(sP):Fj;function Nz(a){return Nt(a)&&a.nodeType===1&&!sh(a)}function xz(a){if(a==null)return!0;if(ar(a)&&(Pe(a)||typeof a=="string"||typeof a.splice=="function"||fo(a)||ju(a)||Pa(a)))return!a.length;var c=Pn(a);if(c==li||c==ci)return!a.size;if(rh(a))return!N0(a).length;for(var f in a)if(tt.call(a,f))return!1;return!0}function Dz(a,c){return eh(a,c)}function Lz(a,c,f){f=typeof f=="function"?f:n;var m=f?f(a,c):n;return m===n?eh(a,c,n,f):!!m}function iw(a){if(!Nt(a))return!1;var c=Yn(a);return c==tp||c==iW||typeof a.message=="string"&&typeof a.name=="string"&&!sh(a)}function Mz(a){return typeof a=="number"&&CP(a)}function ws(a){if(!At(a))return!1;var c=Yn(a);return c==np||c==NA||c==Pu||c==oW}function Hk(a){return typeof a=="number"&&a==be(a)}function Bp(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=M}function At(a){var c=typeof a;return a!=null&&(c=="object"||c=="function")}function Nt(a){return a!=null&&typeof a=="object"}var Gk=oP?vr(oP):Vj;function Uz(a,c){return a===c||O0(a,c,Y0(c))}function Fz(a,c,f){return f=typeof f=="function"?f:n,O0(a,c,Y0(c),f)}function $z(a){return qk(a)&&a!=+a}function Vz(a){if(TB(a))throw new Re(s);return FP(a)}function Wz(a){return a===null}function jz(a){return a==null}function qk(a){return typeof a=="number"||Nt(a)&&Yn(a)==Vc}function sh(a){if(!Nt(a)||Yn(a)!=ds)return!1;var c=mp(a);if(c===null)return!0;var f=tt.call(c,"constructor")&&c.constructor;return typeof f=="function"&&f instanceof f&&fp.call(f)==F9}var sw=aP?vr(aP):Wj;function Bz(a){return Hk(a)&&a>=-M&&a<=M}var Yk=uP?vr(uP):jj;function zp(a){return typeof a=="string"||!Pe(a)&&Nt(a)&&Yn(a)==jc}function wr(a){return typeof a=="symbol"||Nt(a)&&Yn(a)==rp}var ju=lP?vr(lP):Bj;function zz(a){return a===n}function Hz(a){return Nt(a)&&Pn(a)==Bc}function Gz(a){return Nt(a)&&Yn(a)==uW}var qz=Dp(x0),Yz=Dp(function(a,c){return a<=c});function Kk(a){if(!a)return[];if(ar(a))return zp(a)?hi(a):or(a);if(Gc&&a[Gc])return R9(a[Gc]());var c=Pn(a),f=c==li?w0:c==ci?lp:Bu;return f(a)}function Es(a){if(!a)return a===0?a:0;if(a=qr(a),a===O||a===-O){var c=a<0?-1:1;return c*B}return a===a?a:0}function be(a){var c=Es(a),f=c%1;return c===c?f?c-f:c:0}function Qk(a){return a?Ia(be(a),0,ue):0}function qr(a){if(typeof a=="number")return a;if(wr(a))return H;if(At(a)){var c=typeof a.valueOf=="function"?a.valueOf():a;a=At(c)?c+"":c}if(typeof a!="string")return a===0?a:+a;a=gP(a);var f=kW.test(a);return f||OW.test(a)?l9(a.slice(2),f?2:8):PW.test(a)?H:+a}function Xk(a){return Wi(a,ur(a))}function Kz(a){return a?Ia(be(a),-M,M):a===0?a:0}function et(a){return a==null?"":yr(a)}var Qz=$u(function(a,c){if(rh(c)||ar(c)){Wi(c,rn(c),a);return}for(var f in c)tt.call(c,f)&&Xc(a,f,c[f])}),Jk=$u(function(a,c){Wi(c,ur(c),a)}),Hp=$u(function(a,c,f,m){Wi(c,ur(c),a,m)}),Xz=$u(function(a,c,f,m){Wi(c,rn(c),a,m)}),Jz=vs(R0);function Zz(a,c){var f=Fu(a);return c==null?f:bP(f,c)}var eH=De(function(a,c){a=lt(a);var f=-1,m=c.length,y=m>2?c[2]:n;for(y&&Kn(c[0],c[1],y)&&(m=1);++f<m;)for(var P=c[f],x=ur(P),L=-1,$=x.length;++L<$;){var G=x[L],Y=a[G];(Y===n||di(Y,Lu[G])&&!tt.call(a,G))&&(a[G]=P[G])}return a}),tH=De(function(a){return a.push(n,gk),_r(Zk,n,a)});function nH(a,c){return hP(a,ve(c,3),Vi)}function rH(a,c){return hP(a,ve(c,3),P0)}function iH(a,c){return a==null?a:A0(a,ve(c,3),ur)}function sH(a,c){return a==null?a:LP(a,ve(c,3),ur)}function oH(a,c){return a&&Vi(a,ve(c,3))}function aH(a,c){return a&&P0(a,ve(c,3))}function uH(a){return a==null?[]:Rp(a,rn(a))}function lH(a){return a==null?[]:Rp(a,ur(a))}function ow(a,c,f){var m=a==null?n:Ca(a,c);return m===n?f:m}function cH(a,c){return a!=null&&vk(a,c,xj)}function aw(a,c){return a!=null&&vk(a,c,Dj)}var hH=ck(function(a,c,f){c!=null&&typeof c.toString!="function"&&(c=dp.call(c)),a[c]=f},lw(lr)),fH=ck(function(a,c,f){c!=null&&typeof c.toString!="function"&&(c=dp.call(c)),tt.call(a,c)?a[c].push(f):a[c]=[f]},ve),dH=De(Zc);function rn(a){return ar(a)?PP(a):N0(a)}function ur(a){return ar(a)?PP(a,!0):zj(a)}function pH(a,c){var f={};return c=ve(c,3),Vi(a,function(m,y,P){ms(f,c(m,y,P),m)}),f}function gH(a,c){var f={};return c=ve(c,3),Vi(a,function(m,y,P){ms(f,y,c(m,y,P))}),f}var mH=$u(function(a,c,f){Ap(a,c,f)}),Zk=$u(function(a,c,f,m){Ap(a,c,f,m)}),_H=vs(function(a,c){var f={};if(a==null)return f;var m=!1;c=Tt(c,function(P){return P=co(P,a),m||(m=P.length>1),P}),Wi(a,G0(a),f),m&&(f=zr(f,p|g|v,hB));for(var y=c.length;y--;)F0(f,c[y]);return f});function vH(a,c){return eb(a,jp(ve(c)))}var yH=vs(function(a,c){return a==null?{}:Gj(a,c)});function eb(a,c){if(a==null)return{};var f=Tt(G0(a),function(m){return[m]});return c=ve(c),HP(a,f,function(m,y){return c(m,y[0])})}function wH(a,c,f){c=co(c,a);var m=-1,y=c.length;for(y||(y=1,a=n);++m<y;){var P=a==null?n:a[ji(c[m])];P===n&&(m=y,P=f),a=ws(P)?P.call(a):P}return a}function EH(a,c,f){return a==null?a:th(a,c,f)}function SH(a,c,f,m){return m=typeof m=="function"?m:n,a==null?a:th(a,c,f,m)}var tb=dk(rn),nb=dk(ur);function TH(a,c,f){var m=Pe(a),y=m||fo(a)||ju(a);if(c=ve(c,4),f==null){var P=a&&a.constructor;y?f=m?new P:[]:At(a)?f=ws(P)?Fu(mp(a)):{}:f={}}return(y?Wr:Vi)(a,function(x,L,$){return c(f,x,L,$)}),f}function IH(a,c){return a==null?!0:F0(a,c)}function CH(a,c,f){return a==null?a:QP(a,c,W0(f))}function RH(a,c,f,m){return m=typeof m=="function"?m:n,a==null?a:QP(a,c,W0(f),m)}function Bu(a){return a==null?[]:y0(a,rn(a))}function AH(a){return a==null?[]:y0(a,ur(a))}function PH(a,c,f){return f===n&&(f=c,c=n),f!==n&&(f=qr(f),f=f===f?f:0),c!==n&&(c=qr(c),c=c===c?c:0),Ia(qr(a),c,f)}function kH(a,c,f){return c=Es(c),f===n?(f=c,c=0):f=Es(f),a=qr(a),Lj(a,c,f)}function bH(a,c,f){if(f&&typeof f!="boolean"&&Kn(a,c,f)&&(c=f=n),f===n&&(typeof c=="boolean"?(f=c,c=n):typeof a=="boolean"&&(f=a,a=n)),a===n&&c===n?(a=0,c=1):(a=Es(a),c===n?(c=a,a=0):c=Es(c)),a>c){var m=a;a=c,c=m}if(f||a%1||c%1){var y=RP();return An(a+y*(c-a+u9("1e-"+((y+"").length-1))),c)}return L0(a,c)}var OH=Vu(function(a,c,f){return c=c.toLowerCase(),a+(f?rb(c):c)});function rb(a){return uw(et(a).toLowerCase())}function ib(a){return a=et(a),a&&a.replace(xW,E9).replace(JW,"")}function NH(a,c,f){a=et(a),c=yr(c);var m=a.length;f=f===n?m:Ia(be(f),0,m);var y=f;return f-=c.length,f>=0&&a.slice(f,y)==c}function xH(a){return a=et(a),a&&dW.test(a)?a.replace(LA,S9):a}function DH(a){return a=et(a),a&&yW.test(a)?a.replace(r0,"\\$&"):a}var LH=Vu(function(a,c,f){return a+(f?"-":"")+c.toLowerCase()}),MH=Vu(function(a,c,f){return a+(f?" ":"")+c.toLowerCase()}),UH=ak("toLowerCase");function FH(a,c,f){a=et(a),c=be(c);var m=c?xu(a):0;if(!c||m>=c)return a;var y=(c-m)/2;return xp(wp(y),f)+a+xp(yp(y),f)}function $H(a,c,f){a=et(a),c=be(c);var m=c?xu(a):0;return c&&m<c?a+xp(c-m,f):a}function VH(a,c,f){a=et(a),c=be(c);var m=c?xu(a):0;return c&&m<c?xp(c-m,f)+a:a}function WH(a,c,f){return f||c==null?c=0:c&&(c=+c),Y9(et(a).replace(i0,""),c||0)}function jH(a,c,f){return(f?Kn(a,c,f):c===n)?c=1:c=be(c),M0(et(a),c)}function BH(){var a=arguments,c=et(a[0]);return a.length<3?c:c.replace(a[1],a[2])}var zH=Vu(function(a,c,f){return a+(f?"_":"")+c.toLowerCase()});function HH(a,c,f){return f&&typeof f!="number"&&Kn(a,c,f)&&(c=f=n),f=f===n?ue:f>>>0,f?(a=et(a),a&&(typeof c=="string"||c!=null&&!sw(c))&&(c=yr(c),!c&&Nu(a))?ho(hi(a),0,f):a.split(c,f)):[]}var GH=Vu(function(a,c,f){return a+(f?" ":"")+uw(c)});function qH(a,c,f){return a=et(a),f=f==null?0:Ia(be(f),0,a.length),c=yr(c),a.slice(f,f+c.length)==c}function YH(a,c,f){var m=A.templateSettings;f&&Kn(a,c,f)&&(c=n),a=et(a),c=Hp({},c,m,pk);var y=Hp({},c.imports,m.imports,pk),P=rn(y),x=y0(y,P),L,$,G=0,Y=c.interpolate||ip,Q="__p += '",se=E0((c.escape||ip).source+"|"+Y.source+"|"+(Y===MA?AW:ip).source+"|"+(c.evaluate||ip).source+"|$","g"),pe="//# sourceURL="+(tt.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++r9+"]")+`
`;a.replace(se,function(we,Fe,Be,Er,Qn,Sr){return Be||(Be=Er),Q+=a.slice(G,Sr).replace(DW,T9),Fe&&(L=!0,Q+=`' +
__e(`+Fe+`) +
'`),Qn&&($=!0,Q+=`';
`+Qn+`;
__p += '`),Be&&(Q+=`' +
((__t = (`+Be+`)) == null ? '' : __t) +
'`),G=Sr+we.length,we}),Q+=`';
`;var ye=tt.call(c,"variable")&&c.variable;if(!ye)Q=`with (obj) {
`+Q+`
}
`;else if(CW.test(ye))throw new Re(u);Q=($?Q.replace(lW,""):Q).replace(cW,"$1").replace(hW,"$1;"),Q="function("+(ye||"obj")+`) {
`+(ye?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(L?", __e = _.escape":"")+($?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Q+`return __p
}`;var xe=ob(function(){return Je(P,pe+"return "+Q).apply(n,x)});if(xe.source=Q,iw(xe))throw xe;return xe}function KH(a){return et(a).toLowerCase()}function QH(a){return et(a).toUpperCase()}function XH(a,c,f){if(a=et(a),a&&(f||c===n))return gP(a);if(!a||!(c=yr(c)))return a;var m=hi(a),y=hi(c),P=mP(m,y),x=_P(m,y)+1;return ho(m,P,x).join("")}function JH(a,c,f){if(a=et(a),a&&(f||c===n))return a.slice(0,yP(a)+1);if(!a||!(c=yr(c)))return a;var m=hi(a),y=_P(m,hi(c))+1;return ho(m,0,y).join("")}function ZH(a,c,f){if(a=et(a),a&&(f||c===n))return a.replace(i0,"");if(!a||!(c=yr(c)))return a;var m=hi(a),y=mP(m,hi(c));return ho(m,y).join("")}function e8(a,c){var f=re,m=Ne;if(At(c)){var y="separator"in c?c.separator:y;f="length"in c?be(c.length):f,m="omission"in c?yr(c.omission):m}a=et(a);var P=a.length;if(Nu(a)){var x=hi(a);P=x.length}if(f>=P)return a;var L=f-xu(m);if(L<1)return m;var $=x?ho(x,0,L).join(""):a.slice(0,L);if(y===n)return $+m;if(x&&(L+=$.length-L),sw(y)){if(a.slice(L).search(y)){var G,Y=$;for(y.global||(y=E0(y.source,et(UA.exec(y))+"g")),y.lastIndex=0;G=y.exec(Y);)var Q=G.index;$=$.slice(0,Q===n?L:Q)}}else if(a.indexOf(yr(y),L)!=L){var se=$.lastIndexOf(y);se>-1&&($=$.slice(0,se))}return $+m}function t8(a){return a=et(a),a&&fW.test(a)?a.replace(DA,b9):a}var n8=Vu(function(a,c,f){return a+(f?" ":"")+c.toUpperCase()}),uw=ak("toUpperCase");function sb(a,c,f){return a=et(a),c=f?n:c,c===n?C9(a)?x9(a):m9(a):a.match(c)||[]}var ob=De(function(a,c){try{return _r(a,n,c)}catch(f){return iw(f)?f:new Re(f)}}),r8=vs(function(a,c){return Wr(c,function(f){f=ji(f),ms(a,f,nw(a[f],a))}),a});function i8(a){var c=a==null?0:a.length,f=ve();return a=c?Tt(a,function(m){if(typeof m[1]!="function")throw new jr(o);return[f(m[0]),m[1]]}):[],De(function(m){for(var y=-1;++y<c;){var P=a[y];if(_r(P[0],this,m))return _r(P[1],this,m)}})}function s8(a){return bj(zr(a,p))}function lw(a){return function(){return a}}function o8(a,c){return a==null||a!==a?c:a}var a8=lk(),u8=lk(!0);function lr(a){return a}function cw(a){return $P(typeof a=="function"?a:zr(a,p))}function l8(a){return WP(zr(a,p))}function c8(a,c){return jP(a,zr(c,p))}var h8=De(function(a,c){return function(f){return Zc(f,a,c)}}),f8=De(function(a,c){return function(f){return Zc(a,f,c)}});function hw(a,c,f){var m=rn(c),y=Rp(c,m);f==null&&!(At(c)&&(y.length||!m.length))&&(f=c,c=a,a=this,y=Rp(c,rn(c)));var P=!(At(f)&&"chain"in f)||!!f.chain,x=ws(a);return Wr(y,function(L){var $=c[L];a[L]=$,x&&(a.prototype[L]=function(){var G=this.__chain__;if(P||G){var Y=a(this.__wrapped__),Q=Y.__actions__=or(this.__actions__);return Q.push({func:$,args:arguments,thisArg:a}),Y.__chain__=G,Y}return $.apply(a,so([this.value()],arguments))})}),a}function d8(){return fn._===this&&(fn._=$9),this}function fw(){}function p8(a){return a=be(a),De(function(c){return BP(c,a)})}var g8=B0(Tt),m8=B0(cP),_8=B0(p0);function ab(a){return Q0(a)?g0(ji(a)):qj(a)}function v8(a){return function(c){return a==null?n:Ca(a,c)}}var y8=hk(),w8=hk(!0);function dw(){return[]}function pw(){return!1}function E8(){return{}}function S8(){return""}function T8(){return!0}function I8(a,c){if(a=be(a),a<1||a>M)return[];var f=ue,m=An(a,ue);c=ve(c),a-=ue;for(var y=v0(m,c);++f<a;)c(f);return y}function C8(a){return Pe(a)?Tt(a,ji):wr(a)?[a]:or(Ak(et(a)))}function R8(a){var c=++U9;return et(a)+c}var A8=Np(function(a,c){return a+c},0),P8=z0("ceil"),k8=Np(function(a,c){return a/c},1),b8=z0("floor");function O8(a){return a&&a.length?Cp(a,lr,k0):n}function N8(a,c){return a&&a.length?Cp(a,ve(c,2),k0):n}function x8(a){return dP(a,lr)}function D8(a,c){return dP(a,ve(c,2))}function L8(a){return a&&a.length?Cp(a,lr,x0):n}function M8(a,c){return a&&a.length?Cp(a,ve(c,2),x0):n}var U8=Np(function(a,c){return a*c},1),F8=z0("round"),$8=Np(function(a,c){return a-c},0);function V8(a){return a&&a.length?_0(a,lr):0}function W8(a,c){return a&&a.length?_0(a,ve(c,2)):0}return A.after=lz,A.ary=Fk,A.assign=Qz,A.assignIn=Jk,A.assignInWith=Hp,A.assignWith=Xz,A.at=Jz,A.before=$k,A.bind=nw,A.bindAll=r8,A.bindKey=Vk,A.castArray=Ez,A.chain=Lk,A.chunk=bB,A.compact=OB,A.concat=NB,A.cond=i8,A.conforms=s8,A.constant=lw,A.countBy=V5,A.create=Zz,A.curry=Wk,A.curryRight=jk,A.debounce=Bk,A.defaults=eH,A.defaultsDeep=tH,A.defer=cz,A.delay=hz,A.difference=xB,A.differenceBy=DB,A.differenceWith=LB,A.drop=MB,A.dropRight=UB,A.dropRightWhile=FB,A.dropWhile=$B,A.fill=VB,A.filter=j5,A.flatMap=H5,A.flatMapDeep=G5,A.flatMapDepth=q5,A.flatten=Ok,A.flattenDeep=WB,A.flattenDepth=jB,A.flip=fz,A.flow=a8,A.flowRight=u8,A.fromPairs=BB,A.functions=uH,A.functionsIn=lH,A.groupBy=Y5,A.initial=HB,A.intersection=GB,A.intersectionBy=qB,A.intersectionWith=YB,A.invert=hH,A.invertBy=fH,A.invokeMap=Q5,A.iteratee=cw,A.keyBy=X5,A.keys=rn,A.keysIn=ur,A.map=$p,A.mapKeys=pH,A.mapValues=gH,A.matches=l8,A.matchesProperty=c8,A.memoize=Wp,A.merge=mH,A.mergeWith=Zk,A.method=h8,A.methodOf=f8,A.mixin=hw,A.negate=jp,A.nthArg=p8,A.omit=_H,A.omitBy=vH,A.once=dz,A.orderBy=J5,A.over=g8,A.overArgs=pz,A.overEvery=m8,A.overSome=_8,A.partial=rw,A.partialRight=zk,A.partition=Z5,A.pick=yH,A.pickBy=eb,A.property=ab,A.propertyOf=v8,A.pull=JB,A.pullAll=xk,A.pullAllBy=ZB,A.pullAllWith=e5,A.pullAt=t5,A.range=y8,A.rangeRight=w8,A.rearg=gz,A.reject=nz,A.remove=n5,A.rest=mz,A.reverse=ew,A.sampleSize=iz,A.set=EH,A.setWith=SH,A.shuffle=sz,A.slice=r5,A.sortBy=uz,A.sortedUniq=c5,A.sortedUniqBy=h5,A.split=HH,A.spread=_z,A.tail=f5,A.take=d5,A.takeRight=p5,A.takeRightWhile=g5,A.takeWhile=m5,A.tap=O5,A.throttle=vz,A.thru=Fp,A.toArray=Kk,A.toPairs=tb,A.toPairsIn=nb,A.toPath=C8,A.toPlainObject=Xk,A.transform=TH,A.unary=yz,A.union=_5,A.unionBy=v5,A.unionWith=y5,A.uniq=w5,A.uniqBy=E5,A.uniqWith=S5,A.unset=IH,A.unzip=tw,A.unzipWith=Dk,A.update=CH,A.updateWith=RH,A.values=Bu,A.valuesIn=AH,A.without=T5,A.words=sb,A.wrap=wz,A.xor=I5,A.xorBy=C5,A.xorWith=R5,A.zip=A5,A.zipObject=P5,A.zipObjectDeep=k5,A.zipWith=b5,A.entries=tb,A.entriesIn=nb,A.extend=Jk,A.extendWith=Hp,hw(A,A),A.add=A8,A.attempt=ob,A.camelCase=OH,A.capitalize=rb,A.ceil=P8,A.clamp=PH,A.clone=Sz,A.cloneDeep=Iz,A.cloneDeepWith=Cz,A.cloneWith=Tz,A.conformsTo=Rz,A.deburr=ib,A.defaultTo=o8,A.divide=k8,A.endsWith=NH,A.eq=di,A.escape=xH,A.escapeRegExp=DH,A.every=W5,A.find=B5,A.findIndex=kk,A.findKey=nH,A.findLast=z5,A.findLastIndex=bk,A.findLastKey=rH,A.floor=b8,A.forEach=Mk,A.forEachRight=Uk,A.forIn=iH,A.forInRight=sH,A.forOwn=oH,A.forOwnRight=aH,A.get=ow,A.gt=Az,A.gte=Pz,A.has=cH,A.hasIn=aw,A.head=Nk,A.identity=lr,A.includes=K5,A.indexOf=zB,A.inRange=kH,A.invoke=dH,A.isArguments=Pa,A.isArray=Pe,A.isArrayBuffer=kz,A.isArrayLike=ar,A.isArrayLikeObject=$t,A.isBoolean=bz,A.isBuffer=fo,A.isDate=Oz,A.isElement=Nz,A.isEmpty=xz,A.isEqual=Dz,A.isEqualWith=Lz,A.isError=iw,A.isFinite=Mz,A.isFunction=ws,A.isInteger=Hk,A.isLength=Bp,A.isMap=Gk,A.isMatch=Uz,A.isMatchWith=Fz,A.isNaN=$z,A.isNative=Vz,A.isNil=jz,A.isNull=Wz,A.isNumber=qk,A.isObject=At,A.isObjectLike=Nt,A.isPlainObject=sh,A.isRegExp=sw,A.isSafeInteger=Bz,A.isSet=Yk,A.isString=zp,A.isSymbol=wr,A.isTypedArray=ju,A.isUndefined=zz,A.isWeakMap=Hz,A.isWeakSet=Gz,A.join=KB,A.kebabCase=LH,A.last=Gr,A.lastIndexOf=QB,A.lowerCase=MH,A.lowerFirst=UH,A.lt=qz,A.lte=Yz,A.max=O8,A.maxBy=N8,A.mean=x8,A.meanBy=D8,A.min=L8,A.minBy=M8,A.stubArray=dw,A.stubFalse=pw,A.stubObject=E8,A.stubString=S8,A.stubTrue=T8,A.multiply=U8,A.nth=XB,A.noConflict=d8,A.noop=fw,A.now=Vp,A.pad=FH,A.padEnd=$H,A.padStart=VH,A.parseInt=WH,A.random=bH,A.reduce=ez,A.reduceRight=tz,A.repeat=jH,A.replace=BH,A.result=wH,A.round=F8,A.runInContext=U,A.sample=rz,A.size=oz,A.snakeCase=zH,A.some=az,A.sortedIndex=i5,A.sortedIndexBy=s5,A.sortedIndexOf=o5,A.sortedLastIndex=a5,A.sortedLastIndexBy=u5,A.sortedLastIndexOf=l5,A.startCase=GH,A.startsWith=qH,A.subtract=$8,A.sum=V8,A.sumBy=W8,A.template=YH,A.times=I8,A.toFinite=Es,A.toInteger=be,A.toLength=Qk,A.toLower=KH,A.toNumber=qr,A.toSafeInteger=Kz,A.toString=et,A.toUpper=QH,A.trim=XH,A.trimEnd=JH,A.trimStart=ZH,A.truncate=e8,A.unescape=t8,A.uniqueId=R8,A.upperCase=n8,A.upperFirst=uw,A.each=Mk,A.eachRight=Uk,A.first=Nk,hw(A,function(){var a={};return Vi(A,function(c,f){tt.call(A.prototype,f)||(a[f]=c)}),a}(),{chain:!1}),A.VERSION=r,Wr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){A[a].placeholder=A}),Wr(["drop","take"],function(a,c){Ve.prototype[a]=function(f){f=f===n?1:Kt(be(f),0);var m=this.__filtered__&&!c?new Ve(this):this.clone();return m.__filtered__?m.__takeCount__=An(f,m.__takeCount__):m.__views__.push({size:An(f,ue),type:a+(m.__dir__<0?"Right":"")}),m},Ve.prototype[a+"Right"]=function(f){return this.reverse()[a](f).reverse()}}),Wr(["filter","map","takeWhile"],function(a,c){var f=c+1,m=f==w||f==D;Ve.prototype[a]=function(y){var P=this.clone();return P.__iteratees__.push({iteratee:ve(y,3),type:f}),P.__filtered__=P.__filtered__||m,P}}),Wr(["head","last"],function(a,c){var f="take"+(c?"Right":"");Ve.prototype[a]=function(){return this[f](1).value()[0]}}),Wr(["initial","tail"],function(a,c){var f="drop"+(c?"":"Right");Ve.prototype[a]=function(){return this.__filtered__?new Ve(this):this[f](1)}}),Ve.prototype.compact=function(){return this.filter(lr)},Ve.prototype.find=function(a){return this.filter(a).head()},Ve.prototype.findLast=function(a){return this.reverse().find(a)},Ve.prototype.invokeMap=De(function(a,c){return typeof a=="function"?new Ve(this):this.map(function(f){return Zc(f,a,c)})}),Ve.prototype.reject=function(a){return this.filter(jp(ve(a)))},Ve.prototype.slice=function(a,c){a=be(a);var f=this;return f.__filtered__&&(a>0||c<0)?new Ve(f):(a<0?f=f.takeRight(-a):a&&(f=f.drop(a)),c!==n&&(c=be(c),f=c<0?f.dropRight(-c):f.take(c-a)),f)},Ve.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Ve.prototype.toArray=function(){return this.take(ue)},Vi(Ve.prototype,function(a,c){var f=/^(?:filter|find|map|reject)|While$/.test(c),m=/^(?:head|last)$/.test(c),y=A[m?"take"+(c=="last"?"Right":""):c],P=m||/^find/.test(c);y&&(A.prototype[c]=function(){var x=this.__wrapped__,L=m?[1]:arguments,$=x instanceof Ve,G=L[0],Y=$||Pe(x),Q=function(Fe){var Be=y.apply(A,so([Fe],L));return m&&se?Be[0]:Be};Y&&f&&typeof G=="function"&&G.length!=1&&($=Y=!1);var se=this.__chain__,pe=!!this.__actions__.length,ye=P&&!se,xe=$&&!pe;if(!P&&Y){x=xe?x:new Ve(this);var we=a.apply(x,L);return we.__actions__.push({func:Fp,args:[Q],thisArg:n}),new Br(we,se)}return ye&&xe?a.apply(this,L):(we=this.thru(Q),ye?m?we.value()[0]:we.value():we)})}),Wr(["pop","push","shift","sort","splice","unshift"],function(a){var c=cp[a],f=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",m=/^(?:pop|shift)$/.test(a);A.prototype[a]=function(){var y=arguments;if(m&&!this.__chain__){var P=this.value();return c.apply(Pe(P)?P:[],y)}return this[f](function(x){return c.apply(Pe(x)?x:[],y)})}}),Vi(Ve.prototype,function(a,c){var f=A[c];if(f){var m=f.name+"";tt.call(Uu,m)||(Uu[m]=[]),Uu[m].push({name:c,func:f})}}),Uu[Op(n,S).name]=[{name:"wrapper",func:n}],Ve.prototype.clone=tj,Ve.prototype.reverse=nj,Ve.prototype.value=rj,A.prototype.at=N5,A.prototype.chain=x5,A.prototype.commit=D5,A.prototype.next=L5,A.prototype.plant=U5,A.prototype.reverse=F5,A.prototype.toJSON=A.prototype.valueOf=A.prototype.value=$5,A.prototype.first=A.prototype.head,Gc&&(A.prototype[Gc]=M5),A},Du=D9();wa?((wa.exports=Du)._=Du,c0._=Du):fn._=Du}).call(oh)})(Iee,c_);const uu=c_;var Xt;(function(t){t.Chats="chats",t.Users="users",t.UserChats="user_chats",t.Messages="messages"})(Xt||(Xt={}));const Cee="AXt",Ree={container:Cee};function Aee(t,e){return Oee(t)||bee(t,e)||kee(t,e)||Pee()}function Pee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kee(t,e){if(t){if(typeof t=="string")return SN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SN(t,e)}}function SN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,u=[],l=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(d){h=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function Oee(t){if(Array.isArray(t))return t}var Nee=function(){var e=X.useState([]),n=Aee(e,2),r=n[0],i=n[1],s=Or(function(d){return d.user}),o=s.chat,u=s.user,l=Or(function(d){return d.cache}),h=l.isChatOpened;return kI(function(){var d=wi(Qv(),"".concat(Xt.UserChats,"/").concat(u==null?void 0:u.uid)),p=RF(d,function(g){if(g.val()){var v=Object.values(g.val());i(v.sort(function(E,R){return+R.lastUpdate-+E.lastUpdate}))}});return function(){p()}}),te("div",{className:Ree.container,children:uu.map(r,function(d){return te(Wge,{chatInfo:d,isActive:d.chatUid===(o==null?void 0:o.chatUid)&&h},d.chatUid)})})},xn={},PS={},xee={get exports(){return PS},set exports(t){PS=t}},h_={},Dee={get exports(){return h_},set exports(t){h_=t}},AF=function(e,n){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return e.apply(n,i)}},Lee=AF,Su=Object.prototype.toString;function gC(t){return Su.call(t)==="[object Array]"}function kS(t){return typeof t>"u"}function Mee(t){return t!==null&&!kS(t)&&t.constructor!==null&&!kS(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function Uee(t){return Su.call(t)==="[object ArrayBuffer]"}function Fee(t){return typeof FormData<"u"&&t instanceof FormData}function $ee(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function Vee(t){return typeof t=="string"}function Wee(t){return typeof t=="number"}function PF(t){return t!==null&&typeof t=="object"}function Xg(t){if(Su.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function jee(t){return Su.call(t)==="[object Date]"}function Bee(t){return Su.call(t)==="[object File]"}function zee(t){return Su.call(t)==="[object Blob]"}function kF(t){return Su.call(t)==="[object Function]"}function Hee(t){return PF(t)&&kF(t.pipe)}function Gee(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}function qee(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Yee(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function mC(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),gC(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function bS(){var t={};function e(i,s){Xg(t[s])&&Xg(i)?t[s]=bS(t[s],i):Xg(i)?t[s]=bS({},i):gC(i)?t[s]=i.slice():t[s]=i}for(var n=0,r=arguments.length;n<r;n++)mC(arguments[n],e);return t}function Kee(t,e,n){return mC(e,function(i,s){n&&typeof i=="function"?t[s]=Lee(i,n):t[s]=i}),t}function Qee(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var Ur={isArray:gC,isArrayBuffer:Uee,isBuffer:Mee,isFormData:Fee,isArrayBufferView:$ee,isString:Vee,isNumber:Wee,isObject:PF,isPlainObject:Xg,isUndefined:kS,isDate:jee,isFile:Bee,isBlob:zee,isFunction:kF,isStream:Hee,isURLSearchParams:Gee,isStandardBrowserEnv:Yee,forEach:mC,merge:bS,extend:Kee,trim:qee,stripBOM:Qee},Gu=Ur;function TN(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var bF=function(e,n,r){if(!n)return e;var i;if(r)i=r(n);else if(Gu.isURLSearchParams(n))i=n.toString();else{var s=[];Gu.forEach(n,function(l,h){l===null||typeof l>"u"||(Gu.isArray(l)?h=h+"[]":l=[l],Gu.forEach(l,function(p){Gu.isDate(p)?p=p.toISOString():Gu.isObject(p)&&(p=JSON.stringify(p)),s.push(TN(h)+"="+TN(p))}))}),i=s.join("&")}if(i){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},Xee=Ur;function Xv(){this.handlers=[]}Xv.prototype.use=function(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};Xv.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Xv.prototype.forEach=function(e){Xee.forEach(this.handlers,function(r){r!==null&&e(r)})};var Jee=Xv,Zee=Ur,ete=function(e,n){Zee.forEach(e,function(i,s){s!==n&&s.toUpperCase()===n.toUpperCase()&&(e[n]=i,delete e[s])})},OF=function(e,n,r,i,s){return e.config=n,r&&(e.code=r),e.request=i,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e},nE,IN;function NF(){if(IN)return nE;IN=1;var t=OF;return nE=function(n,r,i,s,o){var u=new Error(n);return t(u,r,i,s,o)},nE}var rE,CN;function tte(){if(CN)return rE;CN=1;var t=NF();return rE=function(n,r,i){var s=i.config.validateStatus;!i.status||!s||s(i.status)?n(i):r(t("Request failed with status code "+i.status,i.config,null,i.request,i))},rE}var iE,RN;function nte(){if(RN)return iE;RN=1;var t=Ur;return iE=t.isStandardBrowserEnv()?function(){return{write:function(r,i,s,o,u,l){var h=[];h.push(r+"="+encodeURIComponent(i)),t.isNumber(s)&&h.push("expires="+new Date(s).toGMTString()),t.isString(o)&&h.push("path="+o),t.isString(u)&&h.push("domain="+u),l===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(r){var i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),iE}var sE,AN;function rte(){return AN||(AN=1,sE=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}),sE}var oE,PN;function ite(){return PN||(PN=1,oE=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}),oE}var aE,kN;function ste(){if(kN)return aE;kN=1;var t=rte(),e=ite();return aE=function(r,i){return r&&!t(i)?e(r,i):i},aE}var uE,bN;function ote(){if(bN)return uE;bN=1;var t=Ur,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return uE=function(r){var i={},s,o,u;return r&&t.forEach(r.split(`
`),function(h){if(u=h.indexOf(":"),s=t.trim(h.substr(0,u)).toLowerCase(),o=t.trim(h.substr(u+1)),s){if(i[s]&&e.indexOf(s)>=0)return;s==="set-cookie"?i[s]=(i[s]?i[s]:[]).concat([o]):i[s]=i[s]?i[s]+", "+o:o}}),i},uE}var lE,ON;function ate(){if(ON)return lE;ON=1;var t=Ur;return lE=t.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i;function s(o){var u=o;return n&&(r.setAttribute("href",u),u=r.href),r.setAttribute("href",u),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=s(window.location.href),function(u){var l=t.isString(u)?s(u):u;return l.protocol===i.protocol&&l.host===i.host}}():function(){return function(){return!0}}(),lE}var cE,NN;function xN(){if(NN)return cE;NN=1;var t=Ur,e=tte(),n=nte(),r=bF,i=ste(),s=ote(),o=ate(),u=NF();return cE=function(h){return new Promise(function(p,g){var v=h.data,E=h.headers,R=h.responseType;t.isFormData(v)&&delete E["Content-Type"];var C=new XMLHttpRequest;if(h.auth){var S=h.auth.username||"",T=h.auth.password?unescape(encodeURIComponent(h.auth.password)):"";E.Authorization="Basic "+btoa(S+":"+T)}var k=i(h.baseURL,h.url);C.open(h.method.toUpperCase(),r(k,h.params,h.paramsSerializer),!0),C.timeout=h.timeout;function b(){if(C){var V="getAllResponseHeaders"in C?s(C.getAllResponseHeaders()):null,W=!R||R==="text"||R==="json"?C.responseText:C.response,q={data:W,status:C.status,statusText:C.statusText,headers:V,config:h,request:C};e(p,g,q),C=null}}if("onloadend"in C?C.onloadend=b:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(b)},C.onabort=function(){C&&(g(u("Request aborted",h,"ECONNABORTED",C)),C=null)},C.onerror=function(){g(u("Network Error",h,null,C)),C=null},C.ontimeout=function(){var W="timeout of "+h.timeout+"ms exceeded";h.timeoutErrorMessage&&(W=h.timeoutErrorMessage),g(u(W,h,h.transitional&&h.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",C)),C=null},t.isStandardBrowserEnv()){var F=(h.withCredentials||o(k))&&h.xsrfCookieName?n.read(h.xsrfCookieName):void 0;F&&(E[h.xsrfHeaderName]=F)}"setRequestHeader"in C&&t.forEach(E,function(W,q){typeof v>"u"&&q.toLowerCase()==="content-type"?delete E[q]:C.setRequestHeader(q,W)}),t.isUndefined(h.withCredentials)||(C.withCredentials=!!h.withCredentials),R&&R!=="json"&&(C.responseType=h.responseType),typeof h.onDownloadProgress=="function"&&C.addEventListener("progress",h.onDownloadProgress),typeof h.onUploadProgress=="function"&&C.upload&&C.upload.addEventListener("progress",h.onUploadProgress),h.cancelToken&&h.cancelToken.promise.then(function(W){C&&(C.abort(),g(W),C=null)}),v||(v=null),C.send(v)})},cE}var _n=Ur,DN=ete,ute=OF,lte={"Content-Type":"application/x-www-form-urlencoded"};function LN(t,e){!_n.isUndefined(t)&&_n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function cte(){var t;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(t=xN()),t}function hte(t,e,n){if(_n.isString(t))try{return(e||JSON.parse)(t),_n.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}var Jv={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:cte(),transformRequest:[function(e,n){return DN(n,"Accept"),DN(n,"Content-Type"),_n.isFormData(e)||_n.isArrayBuffer(e)||_n.isBuffer(e)||_n.isStream(e)||_n.isFile(e)||_n.isBlob(e)?e:_n.isArrayBufferView(e)?e.buffer:_n.isURLSearchParams(e)?(LN(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):_n.isObject(e)||n&&n["Content-Type"]==="application/json"?(LN(n,"application/json"),hte(e)):e}],transformResponse:[function(e){var n=this.transitional,r=n&&n.silentJSONParsing,i=n&&n.forcedJSONParsing,s=!r&&this.responseType==="json";if(s||i&&_n.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(s)throw o.name==="SyntaxError"?ute(o,this,"E_JSON_PARSE"):o}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};Jv.headers={common:{Accept:"application/json, text/plain, */*"}};_n.forEach(["delete","get","head"],function(e){Jv.headers[e]={}});_n.forEach(["post","put","patch"],function(e){Jv.headers[e]=_n.merge(lte)});var _C=Jv,fte=Ur,dte=_C,pte=function(e,n,r){var i=this||dte;return fte.forEach(r,function(o){e=o.call(i,e,n)}),e},hE,MN;function xF(){return MN||(MN=1,hE=function(e){return!!(e&&e.__CANCEL__)}),hE}var UN=Ur,fE=pte,gte=xF(),mte=_C;function dE(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var _te=function(e){dE(e),e.headers=e.headers||{},e.data=fE.call(e,e.data,e.headers,e.transformRequest),e.headers=UN.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),UN.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var n=e.adapter||mte.adapter;return n(e).then(function(i){return dE(e),i.data=fE.call(e,i.data,i.headers,e.transformResponse),i},function(i){return gte(i)||(dE(e),i&&i.response&&(i.response.data=fE.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},On=Ur,DF=function(e,n){n=n||{};var r={},i=["url","method","data"],s=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],u=["validateStatus"];function l(g,v){return On.isPlainObject(g)&&On.isPlainObject(v)?On.merge(g,v):On.isPlainObject(v)?On.merge({},v):On.isArray(v)?v.slice():v}function h(g){On.isUndefined(n[g])?On.isUndefined(e[g])||(r[g]=l(void 0,e[g])):r[g]=l(e[g],n[g])}On.forEach(i,function(v){On.isUndefined(n[v])||(r[v]=l(void 0,n[v]))}),On.forEach(s,h),On.forEach(o,function(v){On.isUndefined(n[v])?On.isUndefined(e[v])||(r[v]=l(void 0,e[v])):r[v]=l(void 0,n[v])}),On.forEach(u,function(v){v in n?r[v]=l(e[v],n[v]):v in e&&(r[v]=l(void 0,e[v]))});var d=i.concat(s).concat(o).concat(u),p=Object.keys(e).concat(Object.keys(n)).filter(function(v){return d.indexOf(v)===-1});return On.forEach(p,h),r};const vte="axios",yte="0.21.4",wte="Promise based HTTP client for the browser and node.js",Ete="index.js",Ste={test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},Tte={type:"git",url:"https://github.com/axios/axios.git"},Ite=["xhr","http","ajax","promise","node"],Cte="Matt Zabriskie",Rte="MIT",Ate={url:"https://github.com/axios/axios/issues"},Pte="https://axios-http.com",kte={coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},bte={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},Ote="dist/axios.min.js",Nte="dist/axios.min.js",xte="./index.d.ts",Dte={"follow-redirects":"^1.14.0"},Lte=[{path:"./dist/axios.min.js",threshold:"5kB"}],Mte={name:vte,version:yte,description:wte,main:Ete,scripts:Ste,repository:Tte,keywords:Ite,author:Cte,license:Rte,bugs:Ate,homepage:Pte,devDependencies:kte,browser:bte,jsdelivr:Ote,unpkg:Nte,typings:xte,dependencies:Dte,bundlesize:Lte};var LF=Mte,vC={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){vC[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});var FN={},Ute=LF.version.split(".");function MF(t,e){for(var n=e?e.split("."):Ute,r=t.split("."),i=0;i<3;i++){if(n[i]>r[i])return!0;if(n[i]<r[i])return!1}return!1}vC.transitional=function(e,n,r){var i=n&&MF(n);function s(o,u){return"[Axios v"+LF.version+"] Transitional option '"+o+"'"+u+(r?". "+r:"")}return function(o,u,l){if(e===!1)throw new Error(s(u," has been removed in "+n));return i&&!FN[u]&&(FN[u]=!0,console.warn(s(u," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,u,l):!0}};function Fte(t,e,n){if(typeof t!="object")throw new TypeError("options must be an object");for(var r=Object.keys(t),i=r.length;i-- >0;){var s=r[i],o=e[s];if(o){var u=t[s],l=u===void 0||o(u,s,t);if(l!==!0)throw new TypeError("option "+s+" must be "+l);continue}if(n!==!0)throw Error("Unknown option "+s)}}var $te={isOlderVersion:MF,assertOptions:Fte,validators:vC},UF=Ur,Vte=bF,$N=Jee,VN=_te,Zv=DF,FF=$te,qu=FF.validators;function Ad(t){this.defaults=t,this.interceptors={request:new $N,response:new $N}}Ad.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=Zv(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var n=e.transitional;n!==void 0&&FF.assertOptions(n,{silentJSONParsing:qu.transitional(qu.boolean,"1.0.0"),forcedJSONParsing:qu.transitional(qu.boolean,"1.0.0"),clarifyTimeoutError:qu.transitional(qu.boolean,"1.0.0")},!1);var r=[],i=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(e)===!1||(i=i&&g.synchronous,r.unshift(g.fulfilled,g.rejected))});var s=[];this.interceptors.response.forEach(function(g){s.push(g.fulfilled,g.rejected)});var o;if(!i){var u=[VN,void 0];for(Array.prototype.unshift.apply(u,r),u=u.concat(s),o=Promise.resolve(e);u.length;)o=o.then(u.shift(),u.shift());return o}for(var l=e;r.length;){var h=r.shift(),d=r.shift();try{l=h(l)}catch(p){d(p);break}}try{o=VN(l)}catch(p){return Promise.reject(p)}for(;s.length;)o=o.then(s.shift(),s.shift());return o};Ad.prototype.getUri=function(e){return e=Zv(this.defaults,e),Vte(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};UF.forEach(["delete","get","head","options"],function(e){Ad.prototype[e]=function(n,r){return this.request(Zv(r||{},{method:e,url:n,data:(r||{}).data}))}});UF.forEach(["post","put","patch"],function(e){Ad.prototype[e]=function(n,r,i){return this.request(Zv(i||{},{method:e,url:n,data:r}))}});var Wte=Ad,pE,WN;function $F(){if(WN)return pE;WN=1;function t(e){this.message=e}return t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,pE=t,pE}var gE,jN;function jte(){if(jN)return gE;jN=1;var t=$F();function e(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(o){r=o});var i=this;n(function(o){i.reason||(i.reason=new t(o),r(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.source=function(){var r,i=new e(function(o){r=o});return{token:i,cancel:r}},gE=e,gE}var mE,BN;function Bte(){return BN||(BN=1,mE=function(e){return function(r){return e.apply(null,r)}}),mE}var _E,zN;function zte(){return zN||(zN=1,_E=function(e){return typeof e=="object"&&e.isAxiosError===!0}),_E}var HN=Ur,Hte=AF,Jg=Wte,Gte=DF,qte=_C;function VF(t){var e=new Jg(t),n=Hte(Jg.prototype.request,e);return HN.extend(n,Jg.prototype,e),HN.extend(n,e),n}var ki=VF(qte);ki.Axios=Jg;ki.create=function(e){return VF(Gte(ki.defaults,e))};ki.Cancel=$F();ki.CancelToken=jte();ki.isCancel=xF();ki.all=function(e){return Promise.all(e)};ki.spread=Bte();ki.isAxiosError=zte();Dee.exports=ki;h_.default=ki;(function(t){t.exports=h_})(xee);var WF;function Yte(t){return t&&typeof t=="object"&&"default"in t?t.default:t}Object.defineProperty(xn,"__esModule",{value:!0});var Ff=Yte(PS),La=function(){return(La=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},vE=function(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(h){try{l(r.next(h))}catch(d){s(d)}}function u(h){try{l(r.throw(h))}catch(d){s(d)}}function l(h){h.done?i(h.value):new n(function(d){d(h.value)}).then(o,u)}l((r=r.apply(t,e||[])).next())})},yE=function(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(l){return function(h){return function(d){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&d[0]?r.return:d[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,d[1])).done)return i;switch(r=0,i&&(d=[2&d[0],i.value]),d[0]){case 0:case 1:i=d;break;case 4:return o.label++,{value:d[1],done:!1};case 5:o.label++,r=d[1],d=[0];continue;case 7:d=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){o=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){o.label=d[1];break}if(d[0]===6&&o.label<i[1]){o.label=i[1],i=d;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(d);break}i[2]&&o.ops.pop(),o.trys.pop();continue}d=e.call(t,o)}catch(p){d=[6,p],r=0}finally{n=i=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([l,h])}}},GN=void 0,qN=function(t){return t instanceof Date?t.getTime():typeof t=="number"||t===null||t===void 0?t:Number(t)},yC=function(t,e,n){return n>=t&&n<=e},YN=function(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"},wC={Accept:"application/json","Content-Type":"application/json"},Kte={timeout:0},EC=null,SC="CLIENT_ERROR",TC="SERVER_ERROR",IC="TIMEOUT_ERROR",CC="CONNECTION_ERROR",RC="NETWORK_ERROR",$f="UNKNOWN_ERROR",jF="CANCEL_ERROR",Qte=["ECONNABORTED"],Xte=["ENOTFOUND","ECONNREFUSED","ECONNRESET"],BF=function(t){return yC(200,299,t)},Jte=function(t){return yC(400,499,t)},Zte=function(t){return yC(500,599,t)},zF=function(t){return t.message==="Network Error"?RC:Ff.isCancel(t)?jF:t.code?Qte.includes(t.code)?IC:Xte.includes(t.code)?CC:$f:AC(t.response?t.response.status:null)},AC=function(t){return t?BF(t)?EC:Jte(t)?SC:Zte(t)?TC:$f:$f},HF=function(t){var e,n=La({},wC,t.headers||{});if(t.axiosInstance)e=t.axiosInstance;else{var r=La({},t,{headers:void 0}),i=La({},Kte,r);e=Ff.create(i)}var s=[],o=[],u=[],l=[],h=[],d=function(C,S){return n[C]=S,e},p=function(C){return function(S,T,k){return T===void 0&&(T={}),k===void 0&&(k={}),v(La({},k,{url:S,params:T,method:C}))}},g=function(C){return function(S,T,k){return k===void 0&&(k={}),v(La({},k,{url:S,method:C,data:T}))}},v=function(C){return vE(GN,void 0,void 0,function(){var S,T,k,b,F=this;return yE(this,function(V){switch(V.label){case 0:if(C.headers=La({},n,C.headers),o.length>0&&o.forEach(function(W){return W(C)}),!(u.length>0))return[3,6];S=0,V.label=1;case 1:return S<u.length?(T=u[S](C),YN(T)?[4,T]:[3,3]):[3,6];case 2:return V.sent(),[3,5];case 3:return[4,T(C)];case 4:V.sent(),V.label=5;case 5:return S++,[3,1];case 6:return k=qN(new Date),b=function(W){return vE(F,void 0,void 0,function(){var q;return yE(this,function(ie){switch(ie.label){case 0:return[4,R(k,W)];case 1:return q=ie.sent(),[2,E(q)]}})})},[2,e.request(C).then(b).catch(b)]}})})},E=function(C){return s.forEach(function(S){try{S(C)}catch{}}),C},R=function(C,S){return vE(GN,void 0,void 0,function(){var T,k,b,F,V,W,q,ie,re,Ne,I,_,w,N,D,O;return yE(this,function(M){switch(M.label){case 0:if(T=qN(new Date),k=T-C,b=S instanceof Error||Ff.isCancel(S),F=S,V=S,W=b?V.response:F,q=W&&W.status||null,ie=b?zF(S):AC(q),re=b?V:null,Ne=BF(q),I=S.config||null,_=W&&W.headers||null,w=W&&W.data||null,N={duration:k,problem:ie,originalError:re,ok:Ne,status:q,headers:_,config:I,data:w},l.length>0&&l.forEach(function(B){return B(N)}),!(h.length>0))return[3,6];D=0,M.label=1;case 1:return D<h.length?(O=h[D](N),YN(O)?[4,O]:[3,3]):[3,6];case 2:return M.sent(),[3,5];case 3:return[4,O(N)];case 4:M.sent(),M.label=5;case 5:return D++,[3,1];case 6:return[2,N]}})})};return{axiosInstance:e,monitors:s,addMonitor:function(C){s.push(C)},requestTransforms:o,asyncRequestTransforms:u,responseTransforms:l,asyncResponseTransforms:h,addRequestTransform:function(C){return o.push(C)},addAsyncRequestTransform:function(C){return u.push(C)},addResponseTransform:function(C){return l.push(C)},addAsyncResponseTransform:function(C){return h.push(C)},setHeader:d,setHeaders:function(C){return Object.keys(C).forEach(function(S){return d(S,C[S])}),e},deleteHeader:function(C){return delete n[C],e},headers:n,setBaseURL:function(C){return e.defaults.baseURL=C,e},getBaseURL:function(){return e.defaults.baseURL},any:v,get:p("get"),delete:p("delete"),head:p("head"),post:g("post"),put:g("put"),patch:g("patch"),link:p("link"),unlink:p("unlink")}},GF=Ff.isCancel,qF=Ff.CancelToken,ene={DEFAULT_HEADERS:wC,NONE:EC,CLIENT_ERROR:SC,SERVER_ERROR:TC,TIMEOUT_ERROR:IC,CONNECTION_ERROR:CC,NETWORK_ERROR:RC,UNKNOWN_ERROR:$f,create:HF,isCancel:GF,CancelToken:qF};xn.DEFAULT_HEADERS=wC,xn.NONE=EC,xn.CLIENT_ERROR=SC,xn.SERVER_ERROR=TC,xn.TIMEOUT_ERROR=IC,xn.CONNECTION_ERROR=CC,xn.NETWORK_ERROR=RC,xn.UNKNOWN_ERROR=$f,xn.CANCEL_ERROR=jF,xn.getProblemFromError=zF,xn.getProblemFromStatus=AC,xn.create=HF,xn.isCancel=GF,xn.CancelToken=qF,WF=xn.default=ene;var tne="firebase",nne="10.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ni(tne,nne,"app");function PC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function YF(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rne=YF,KF=new yd("auth","Firebase",YF());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=new Uv("@firebase/auth");function ine(t,...e){f_.logLevel<=Ge.WARN&&f_.warn(`Auth (${ma}): ${t}`,...e)}function Zg(t,...e){f_.logLevel<=Ge.ERROR&&f_.error(`Auth (${ma}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(t,...e){throw kC(t,...e)}function ts(t,...e){return kC(t,...e)}function sne(t,e,n){const r=Object.assign(Object.assign({},rne()),{[e]:n});return new yd("auth","Firebase",r).create(e,{appName:t.name})}function kC(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return KF.create(t,...e)}function Te(t,e,...n){if(!t)throw kC(e,...n)}function Ns(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zg(e),new Error(e)}function Ys(t,e){t||Ns(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function one(){return KN()==="http:"||KN()==="https:"}function KN(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ane(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(one()||QK()||"connection"in navigator)?navigator.onLine:!0}function une(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ys(n>e,"Short delay should be less than long delay!"),this.isMobile=xI()||nU()}get(){return ane()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(t,e){Ys(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lne={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cne=new Pd(3e4,6e4);function Tc(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Tu(t,e,n,r,i={}){return XF(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const u=yc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),QF.fetch()(JF(t,t.config.apiHost,n,u),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function XF(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},lne),e);try{const i=new hne(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw hg(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const u=s.ok?o.errorMessage:o.error.message,[l,h]=u.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw hg(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw hg(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw hg(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw sne(t,d,h);bi(t,d)}}catch(i){if(i instanceof as)throw i;bi(t,"network-request-failed",{message:String(i)})}}async function kd(t,e,n,r,i={}){const s=await Tu(t,e,n,r,i);return"mfaPendingCredential"in s&&bi(t,"multi-factor-auth-required",{_serverResponse:s}),s}function JF(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?bC(t.config,i):`${t.config.apiScheme}://${i}`}class hne{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ts(this.auth,"network-request-failed")),cne.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ts(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fne(t,e){return Tu(t,"POST","/v1/accounts:delete",e)}async function dne(t,e){return Tu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pne(t,e=!1){const n=wt(t),r=await n.getIdToken(e),i=OC(r);Te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Xh(wE(i.auth_time)),issuedAtTime:Xh(wE(i.iat)),expirationTime:Xh(wE(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function wE(t){return Number(t)*1e3}function OC(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zg("JWT malformed, contained fewer than 3 sections"),null;try{const i=qm(n);return i?JSON.parse(i):(Zg("Failed to decode base64 JWT payload"),null)}catch(i){return Zg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function gne(t){const e=OC(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof as&&mne(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function mne({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ne{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xh(this.lastLoginAt),this.creationTime=Xh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d_(t){var e;const n=t.auth,r=await t.getIdToken(),i=await rc(t,dne(n,{idToken:r}));Te(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?wne(s.providerUserInfo):[],u=yne(t.providerData,o),l=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(u!=null&&u.length),d=l?h:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new ZF(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function vne(t){const e=wt(t);await d_(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yne(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function wne(t){return t.map(e=>{var{providerId:n}=e,r=PC(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ene(t,e){const n=await XF(t,{},async()=>{const r=yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=JF(t,i,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",QF.fetch()(o,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gne(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Te(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Ene(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Vf;return r&&(Te(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Te(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Te(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vf,this.toJSON())}_performRefresh(){return Ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ka{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=PC(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _ne(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ZF(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await rc(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return pne(this,e)}reload(){return vne(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ka(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await d_(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await rc(this,fne(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,u,l,h,d;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,R=(u=n.tenantId)!==null&&u!==void 0?u:void 0,C=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,S=(h=n.createdAt)!==null&&h!==void 0?h:void 0,T=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:k,emailVerified:b,isAnonymous:F,providerData:V,stsTokenManager:W}=n;Te(k&&W,e,"internal-error");const q=Vf.fromJSON(this.name,W);Te(typeof k=="string",e,"internal-error"),go(p,e.name),go(g,e.name),Te(typeof b=="boolean",e,"internal-error"),Te(typeof F=="boolean",e,"internal-error"),go(v,e.name),go(E,e.name),go(R,e.name),go(C,e.name),go(S,e.name),go(T,e.name);const ie=new Ka({uid:k,auth:e,email:g,emailVerified:b,displayName:p,isAnonymous:F,photoURL:E,phoneNumber:v,tenantId:R,stsTokenManager:q,createdAt:S,lastLoginAt:T});return V&&Array.isArray(V)&&(ie.providerData=V.map(re=>Object.assign({},re))),C&&(ie._redirectEventId=C),ie}static async _fromIdTokenResponse(e,n,r=!1){const i=new Vf;i.updateFromServerResponse(n);const s=new Ka({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await d_(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=new Map;function xs(t){Ys(t instanceof Function,"Expected a class definition");let e=QN.get(t);return e?(Ys(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,QN.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}e$.type="NONE";const XN=e$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(t,e,n){return`firebase:${t}:${e}:${n}`}class bl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=em(this.userKey,i.apiKey,s),this.fullPersistenceKey=em("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ka._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new bl(xs(XN),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||xs(XN);const o=em(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const d=await h._get(o);if(d){const p=Ka._fromJSON(e,d);h!==s&&(u=p),s=h;break}}catch{}const l=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new bl(s,e,r):(s=l[0],u&&await s._set(o,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new bl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(r$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(t$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(s$(e))return"Blackberry";if(o$(e))return"Webos";if(NC(e))return"Safari";if((e.includes("chrome/")||n$(e))&&!e.includes("edge/"))return"Chrome";if(i$(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function t$(t=zn()){return/firefox\//i.test(t)}function NC(t=zn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function n$(t=zn()){return/crios\//i.test(t)}function r$(t=zn()){return/iemobile/i.test(t)}function i$(t=zn()){return/android/i.test(t)}function s$(t=zn()){return/blackberry/i.test(t)}function o$(t=zn()){return/webos/i.test(t)}function ey(t=zn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Sne(t=zn()){var e;return ey(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Tne(){return XK()&&document.documentMode===10}function a$(t=zn()){return ey(t)||i$(t)||o$(t)||s$(t)||/windows phone/i.test(t)||r$(t)}function Ine(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u$(t,e=[]){let n;switch(t){case"Browser":n=JN(zn());break;case"Worker":n=`${JN(zn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ma}/${r}`}async function l$(t,e){return Tu(t,"GET","/v2/recaptchaConfig",Tc(t,e))}function ZN(t){return t!==void 0&&t.enterprise!==void 0}class c${constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cne(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function h$(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ts("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Cne().appendChild(r)})}function Rne(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Ane="https://www.google.com/recaptcha/enterprise.js?render=",Pne="recaptcha-enterprise",kne="NO_RECAPTCHA";class f${constructor(e){this.type=Pne,this.auth=Ic(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,u)=>{l$(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new c$(l);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,o(h.siteKey)}}).catch(l=>{u(l)})})}function i(s,o,u){const l=window.grecaptcha;ZN(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(h=>{o(h)}).catch(()=>{o(kne)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(u=>{if(!n&&ZN(window.grecaptcha))i(u,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}h$(Ane+u).then(()=>{i(u,s,o)}).catch(l=>{o(l)})}}).catch(u=>{o(u)})})}}async function p_(t,e,n,r=!1){const i=new f$(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bne{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,u)=>{try{const l=e(s);o(l)}catch(l){u(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class One{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ex(this),this.idTokenSubscription=new ex(this),this.beforeStateQueue=new bne(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xs(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await bl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===u)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await d_(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=une()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?wt(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(xs(e))})}async initializeRecaptchaConfig(){const e=await l$(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new c$(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new f$(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new yd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xs(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await bl.create(this,[xs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Te(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=u$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&ine(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ic(t){return wt(t)}class ex{constructor(e){this.auth=e,this.observer=null,this.addObserver=oQ(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nne(t,e){const n=wd(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Km(s,e??{}))return i;bi(i,"already-initialized")}return n.initialize({options:e})}function xne(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Dne(t,e,n){const r=Ic(t);Te(r._canInitEmulator,r,"emulator-config-failed"),Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=d$(e),{host:o,port:u}=Lne(e),l=u===null?"":`:${u}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Mne()}function d$(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Lne(t){const e=d$(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:tx(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:tx(o)}}}function tx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Mne(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ns("not implemented")}_getIdTokenResponse(e){return Ns("not implemented")}_linkToIdToken(e,n){return Ns("not implemented")}_getReauthenticationResolver(e){return Ns("not implemented")}}async function Une(t,e){return Tu(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EE(t,e){return kd(t,"POST","/v1/accounts:signInWithPassword",Tc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fne(t,e){return kd(t,"POST","/v1/accounts:signInWithEmailLink",Tc(t,e))}async function $ne(t,e){return kd(t,"POST","/v1/accounts:signInWithEmailLink",Tc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf extends xC{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Wf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Wf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await p_(e,r,"signInWithPassword");return EE(e,i)}else return EE(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await p_(e,r,"signInWithPassword");return EE(e,s)}else return Promise.reject(i)});case"emailLink":return Fne(e,{email:this._email,oobCode:this._password});default:bi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return Une(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return $ne(e,{idToken:n,email:this._email,oobCode:this._password});default:bi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(t,e){return kd(t,"POST","/v1/accounts:signInWithIdp",Tc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vne="http://localhost";class lu extends xC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new lu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):bi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=PC(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new lu(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ol(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ol(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ol(e,n)}buildRequest(){const e={requestUri:Vne,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wne(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jne(t){const e=kh(bh(t)).link,n=e?kh(bh(e)).deep_link_id:null,r=kh(bh(t)).deep_link_id;return(r?kh(bh(r)).link:null)||r||n||e||t}class DC{constructor(e){var n,r,i,s,o,u;const l=kh(bh(e)),h=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,p=Wne((i=l.mode)!==null&&i!==void 0?i:null);Te(h&&d&&p,"argument-error"),this.apiKey=h,this.operation=p,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(u=l.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=jne(e);try{return new DC(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(){this.providerId=Cc.PROVIDER_ID}static credential(e,n){return Wf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=DC.parseLink(n);return Te(r,"argument-error"),Wf._fromEmailAndCode(e,r.code,r.tenantId)}}Cc.PROVIDER_ID="password";Cc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Cc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd extends p${constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends bd{constructor(){super("facebook.com")}static credential(e){return lu._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wo.credential(e.oauthAccessToken)}catch{return null}}}wo.FACEBOOK_SIGN_IN_METHOD="facebook.com";wo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends bd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return lu._fromParams({providerId:Eo.PROVIDER_ID,signInMethod:Eo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Eo.credentialFromTaggedObject(e)}static credentialFromError(e){return Eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Eo.credential(n,r)}catch{return null}}}Eo.GOOGLE_SIGN_IN_METHOD="google.com";Eo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends bd{constructor(){super("github.com")}static credential(e){return lu._fromParams({providerId:So.PROVIDER_ID,signInMethod:So.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return So.credentialFromTaggedObject(e)}static credentialFromError(e){return So.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return So.credential(e.oauthAccessToken)}catch{return null}}}So.GITHUB_SIGN_IN_METHOD="github.com";So.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends bd{constructor(){super("twitter.com")}static credential(e,n){return lu._fromParams({providerId:To.PROVIDER_ID,signInMethod:To.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return To.credentialFromTaggedObject(e)}static credentialFromError(e){return To.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return To.credential(n,r)}catch{return null}}}To.TWITTER_SIGN_IN_METHOD="twitter.com";To.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SE(t,e){return kd(t,"POST","/v1/accounts:signUp",Tc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ka._fromIdTokenResponse(e,r,i),o=nx(r);return new cu({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=nx(r);return new cu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function nx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_ extends as{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,g_.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new g_(e,n,r,i)}}function g$(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?g_._fromErrorAndOperation(t,s,e,r):s})}async function Bne(t,e,n=!1){const r=await rc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return cu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zne(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await rc(t,g$(r,i,e,t),n);Te(s.idToken,r,"internal-error");const o=OC(s.idToken);Te(o,r,"internal-error");const{sub:u}=o;return Te(t.uid===u,r,"user-mismatch"),cu._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&bi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m$(t,e,n=!1){const r="signIn",i=await g$(t,r,e),s=await cu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Hne(t,e){return m$(Ic(t),e)}async function Gne(t,e,n){var r;const i=Ic(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const h=await p_(i,s,"signUpPassword");o=SE(i,h)}else o=SE(i,s).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=await p_(i,s,"signUpPassword");return SE(i,d)}else return Promise.reject(h)});const u=await o.catch(h=>Promise.reject(h)),l=await cu._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(l.user),l}function qne(t,e,n){return Hne(wt(t),Cc.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yne(t,e){return Tu(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rx(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=wt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await rc(r,Yne(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const u=r.providerData.find(({providerId:l})=>l==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function Kne(t,e,n,r){return wt(t).onIdTokenChanged(e,n,r)}function Qne(t,e,n){return wt(t).beforeAuthStateChanged(e,n)}const m_="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(m_,"1"),this.storage.removeItem(m_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xne(){const t=zn();return NC(t)||ey(t)}const Jne=1e3,Zne=10;class v$ extends _${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Xne()&&Ine(),this.fallbackToPolling=a$(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,u,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Tne()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Zne):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Jne)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}v$.type="LOCAL";const ere=v$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y$ extends _${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}y$.type="SESSION";const w$=y$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tre(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ty(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(o).map(async h=>h(n.origin,s)),l=await tre(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ty.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nre{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((u,l)=>{const h=LC("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===h)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(g.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(){return window}function rre(t){ns().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E$(){return typeof ns().WorkerGlobalScope<"u"&&typeof ns().importScripts=="function"}async function ire(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sre(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ore(){return E$()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$="firebaseLocalStorageDb",are=1,__="firebaseLocalStorage",T$="fbase_key";class Od{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ny(t,e){return t.transaction([__],e?"readwrite":"readonly").objectStore(__)}function ure(){const t=indexedDB.deleteDatabase(S$);return new Od(t).toPromise()}function NS(){const t=indexedDB.open(S$,are);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(__,{keyPath:T$})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(__)?e(r):(r.close(),await ure(),e(await NS()))})})}async function ix(t,e,n){const r=ny(t,!0).put({[T$]:e,value:n});return new Od(r).toPromise()}async function lre(t,e){const n=ny(t,!1).get(e),r=await new Od(n).toPromise();return r===void 0?null:r.value}function sx(t,e){const n=ny(t,!0).delete(e);return new Od(n).toPromise()}const cre=800,hre=3;class I${constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await NS(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>hre)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return E$()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ty._getInstance(ore()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await ire(),!this.activeServiceWorker)return;this.sender=new nre(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sre()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await NS();return await ix(e,m_,"1"),await sx(e,m_),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ix(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>lre(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>sx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=ny(i,!1).getAll();return new Od(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cre)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}I$.type="LOCAL";const fre=I$;new Pd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dre(t,e){return e?xs(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC extends xC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ol(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ol(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ol(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pre(t){return m$(t.auth,new MC(t),t.bypassAuthState)}function gre(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),zne(n,new MC(t),t.bypassAuthState)}async function mre(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),Bne(n,new MC(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:u}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(l))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pre;case"linkViaPopup":case"linkViaRedirect":return mre;case"reauthViaPopup":case"reauthViaRedirect":return gre;default:bi(this.auth,"internal-error")}}resolve(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _re=new Pd(2e3,1e4);class ml extends C${constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ml.currentPopupAction&&ml.currentPopupAction.cancel(),ml.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Ys(this.filter.length===1,"Popup operations only handle one event");const e=LC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ts(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ts(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ml.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ts(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_re.get())};e()}}ml.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vre="pendingRedirect",tm=new Map;class yre extends C${constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=tm.get(this.auth._key());if(!e){try{const r=await wre(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}tm.set(this.auth._key(),e)}return this.bypassAuthState||tm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wre(t,e){const n=Tre(e),r=Sre(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Ere(t,e){tm.set(t._key(),e)}function Sre(t){return xs(t._redirectPersistence)}function Tre(t){return em(vre,t.config.apiKey,t.name)}async function Ire(t,e,n=!1){const r=Ic(t),i=dre(r,e),o=await new yre(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cre=10*60*1e3;class Rre{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Are(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!R$(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ts(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Cre&&this.cachedEventUids.clear(),this.cachedEventUids.has(ox(e))}saveEventToCache(e){this.cachedEventUids.add(ox(e)),this.lastProcessedEventTime=Date.now()}}function ox(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function R$({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Are(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return R$(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pre(t,e={}){return Tu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kre=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bre=/^https?/;async function Ore(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Pre(t);for(const n of e)try{if(Nre(n))return}catch{}bi(t,"unauthorized-domain")}function Nre(t){const e=OS(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!bre.test(n))return!1;if(kre.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xre=new Pd(3e4,6e4);function ax(){const t=ns().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Dre(t){return new Promise((e,n)=>{var r,i,s;function o(){ax(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ax(),n(ts(t,"network-request-failed"))},timeout:xre.get()})}if(!((i=(r=ns().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ns().gapi)===null||s===void 0)&&s.load)o();else{const u=Rne("iframefcb");return ns()[u]=()=>{gapi.load?o():n(ts(t,"network-request-failed"))},h$(`https://apis.google.com/js/api.js?onload=${u}`).catch(l=>n(l))}}).catch(e=>{throw nm=null,e})}let nm=null;function Lre(t){return nm=nm||Dre(t),nm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mre=new Pd(5e3,15e3),Ure="__/auth/iframe",Fre="emulator/auth/iframe",$re={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vre=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wre(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?bC(e,Fre):`https://${t.config.authDomain}/${Ure}`,r={apiKey:e.apiKey,appName:t.name,v:ma},i=Vre.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${yc(r).slice(1)}`}async function jre(t){const e=await Lre(t),n=ns().gapi;return Te(n,t,"internal-error"),e.open({where:document.body,url:Wre(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$re,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=ts(t,"network-request-failed"),u=ns().setTimeout(()=>{s(o)},Mre.get());function l(){ns().clearTimeout(u),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bre={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zre=500,Hre=600,Gre="_blank",qre="http://localhost";class ux{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Yre(t,e,n,r=zre,i=Hre){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const l=Object.assign(Object.assign({},Bre),{width:r.toString(),height:i.toString(),top:s,left:o}),h=zn().toLowerCase();n&&(u=n$(h)?Gre:n),t$(h)&&(e=e||qre,l.scrollbars="yes");const d=Object.entries(l).reduce((g,[v,E])=>`${g}${v}=${E},`,"");if(Sne(h)&&u!=="_self")return Kre(e||"",u),new ux(null);const p=window.open(e||"",u,d);Te(p,t,"popup-blocked");try{p.focus()}catch{}return new ux(p)}function Kre(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qre="__/auth/handler",Xre="emulator/auth/handler",Jre=encodeURIComponent("fac");async function lx(t,e,n,r,i,s){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ma,eventId:i};if(e instanceof p$){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",aS(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries(s||{}))o[d]=p}if(e instanceof bd){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const u=o;for(const d of Object.keys(u))u[d]===void 0&&delete u[d];const l=await t._getAppCheckToken(),h=l?`#${Jre}=${encodeURIComponent(l)}`:"";return`${Zre(t)}?${yc(u).slice(1)}${h}`}function Zre({config:t}){return t.emulator?bC(t,Xre):`https://${t.authDomain}/${Qre}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="webStorageSupport";class eie{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=w$,this._completeRedirectFn=Ire,this._overrideRedirectResult=Ere}async _openPopup(e,n,r,i){var s;Ys((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await lx(e,n,r,OS(),i);return Yre(e,o,LC())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await lx(e,n,r,OS(),i);return rre(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ys(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await jre(e),r=new Rre(e);return n.register("authEvent",i=>(Te(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(TE,{type:TE},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[TE];o!==void 0&&n(!!o),bi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Ore(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return a$()||NC()||ey()}}const tie=eie;var cx="@firebase/auth",hx="1.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nie{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rie(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function iie(t){ia(new Hs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=r.options;Te(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:u$(t)},h=new One(r,i,s,l);return xne(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ia(new Hs("auth-internal",e=>{const n=Ic(e.getProvider("auth").getImmediate());return(r=>new nie(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ni(cx,hx,rie(t)),ni(cx,hx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sie=5*60,oie=tU("authIdTokenMaxAge")||sie;let fx=null;const aie=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>oie)return;const i=n==null?void 0:n.token;fx!==i&&(fx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function uie(t=Fv()){const e=wd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Nne(t,{popupRedirectResolver:tie,persistence:[fre,ere,w$]}),r=tU("authTokenSyncURL");if(r){const s=aie(r);Qne(n,s,()=>s(n.currentUser)),Kne(n,o=>s(o))}const i=ZM("auth");return i&&Dne(n,`http://${i}`),n}iie("Browser");var lie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oe,UC=UC||{},Ce=lie||self;function ry(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Nd(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function cie(t){return Object.prototype.hasOwnProperty.call(t,IE)&&t[IE]||(t[IE]=++hie)}var IE="closure_uid_"+(1e9*Math.random()>>>0),hie=0;function fie(t,e,n){return t.call.apply(t.bind,arguments)}function die(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function $n(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?$n=fie:$n=die,$n.apply(null,arguments)}function fg(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function hn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),u=2;u<arguments.length;u++)o[u-2]=arguments[u];return e.prototype[i].apply(r,o)}}function _a(){this.s=this.s,this.o=this.o}var pie=0;_a.prototype.s=!1;_a.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),pie!=0)&&cie(this)};_a.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const A$=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function FC(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function dx(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ry(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Vn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Vn.prototype.h=function(){this.defaultPrevented=!0};var gie=function(){if(!Ce.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ce.addEventListener("test",()=>{},e),Ce.removeEventListener("test",()=>{},e)}catch{}return t}();function jf(t){return/^[\s\xa0]*$/.test(t)}function iy(){var t=Ce.navigator;return t&&(t=t.userAgent)?t:""}function Gi(t){return iy().indexOf(t)!=-1}function $C(t){return $C[" "](t),t}$C[" "]=function(){};function mie(t,e){var n=use;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var _ie=Gi("Opera"),ic=Gi("Trident")||Gi("MSIE"),P$=Gi("Edge"),xS=P$||ic,k$=Gi("Gecko")&&!(iy().toLowerCase().indexOf("webkit")!=-1&&!Gi("Edge"))&&!(Gi("Trident")||Gi("MSIE"))&&!Gi("Edge"),vie=iy().toLowerCase().indexOf("webkit")!=-1&&!Gi("Edge");function b$(){var t=Ce.document;return t?t.documentMode:void 0}var DS;e:{var CE="",RE=function(){var t=iy();if(k$)return/rv:([^\);]+)(\)|;)/.exec(t);if(P$)return/Edge\/([\d\.]+)/.exec(t);if(ic)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(vie)return/WebKit\/(\S+)/.exec(t);if(_ie)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(RE&&(CE=RE?RE[1]:""),ic){var AE=b$();if(AE!=null&&AE>parseFloat(CE)){DS=String(AE);break e}}DS=CE}var LS;if(Ce.document&&ic){var px=b$();LS=px||parseInt(DS,10)||void 0}else LS=void 0;var yie=LS;function Bf(t,e){if(Vn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(k$){e:{try{$C(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:wie[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Bf.$.h.call(this)}}hn(Bf,Vn);var wie={2:"touch",3:"pen",4:"mouse"};Bf.prototype.h=function(){Bf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var xd="closure_listenable_"+(1e6*Math.random()|0),Eie=0;function Sie(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Eie,this.fa=this.ia=!1}function sy(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function VC(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Tie(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function O$(t){const e={};for(const n in t)e[n]=t[n];return e}const gx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N$(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<gx.length;s++)n=gx[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function oy(t){this.src=t,this.g={},this.h=0}oy.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=US(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new Sie(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function MS(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=A$(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(sy(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function US(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var WC="closure_lm_"+(1e6*Math.random()|0),PE={};function x$(t,e,n,r,i){if(r&&r.once)return L$(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)x$(t,e[s],n,r,i);return null}return n=zC(n),t&&t[xd]?t.O(e,n,Nd(r)?!!r.capture:!!r,i):D$(t,e,n,!1,r,i)}function D$(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Nd(i)?!!i.capture:!!i,u=BC(t);if(u||(t[WC]=u=new oy(t)),n=u.add(e,n,r,o,s),n.proxy)return n;if(r=Iie(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)gie||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(U$(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Iie(){function t(n){return e.call(t.src,t.listener,n)}const e=Cie;return t}function L$(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)L$(t,e[s],n,r,i);return null}return n=zC(n),t&&t[xd]?t.P(e,n,Nd(r)?!!r.capture:!!r,i):D$(t,e,n,!0,r,i)}function M$(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)M$(t,e[s],n,r,i);else r=Nd(r)?!!r.capture:!!r,n=zC(n),t&&t[xd]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=US(s,n,r,i),-1<n&&(sy(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=BC(t))&&(e=t.g[e.toString()],t=-1,e&&(t=US(e,n,r,i)),(n=-1<t?e[t]:null)&&jC(n))}function jC(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[xd])MS(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(U$(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=BC(e))?(MS(n,t),n.h==0&&(n.src=null,e[WC]=null)):sy(t)}}}function U$(t){return t in PE?PE[t]:PE[t]="on"+t}function Cie(t,e){if(t.fa)t=!0;else{e=new Bf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&jC(t),t=n.call(r,e)}return t}function BC(t){return t=t[WC],t instanceof oy?t:null}var kE="__closure_events_fn_"+(1e9*Math.random()>>>0);function zC(t){return typeof t=="function"?t:(t[kE]||(t[kE]=function(e){return t.handleEvent(e)}),t[kE])}function ln(){_a.call(this),this.i=new oy(this),this.S=this,this.J=null}hn(ln,_a);ln.prototype[xd]=!0;ln.prototype.removeEventListener=function(t,e,n,r){M$(this,t,e,n,r)};function Tn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Vn(e,t);else if(e instanceof Vn)e.target=e.target||t;else{var i=e;e=new Vn(r,t),N$(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=dg(o,r,!0,e)&&i}if(o=e.g=t,i=dg(o,r,!0,e)&&i,i=dg(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=dg(o,r,!1,e)&&i}ln.prototype.N=function(){if(ln.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)sy(n[r]);delete t.g[e],t.h--}}this.J=null};ln.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ln.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function dg(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var u=o.listener,l=o.la||o.src;o.ia&&MS(t.i,o),i=u.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var HC=Ce.JSON.stringify;class Rie{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Aie(){var t=GC;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Pie{constructor(){this.h=this.g=null}add(e,n){const r=F$.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var F$=new Rie(()=>new kie,t=>t.reset());class kie{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function bie(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Oie(t){Ce.setTimeout(()=>{throw t},0)}let zf,Hf=!1,GC=new Pie,$$=()=>{const t=Ce.Promise.resolve(void 0);zf=()=>{t.then(Nie)}};var Nie=()=>{for(var t;t=Aie();){try{t.h.call(t.g)}catch(n){Oie(n)}var e=F$;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Hf=!1};function ay(t,e){ln.call(this),this.h=t||1,this.g=e||Ce,this.j=$n(this.qb,this),this.l=Date.now()}hn(ay,ln);oe=ay.prototype;oe.ga=!1;oe.T=null;oe.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Tn(this,"tick"),this.ga&&(qC(this),this.start()))}};oe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function qC(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}oe.N=function(){ay.$.N.call(this),qC(this),delete this.g};function YC(t,e,n){if(typeof t=="function")n&&(t=$n(t,n));else if(t&&typeof t.handleEvent=="function")t=$n(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ce.setTimeout(t,e||0)}function V$(t){t.g=YC(()=>{t.g=null,t.i&&(t.i=!1,V$(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class xie extends _a{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:V$(this)}N(){super.N(),this.g&&(Ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gf(t){_a.call(this),this.h=t,this.g={}}hn(Gf,_a);var mx=[];function W$(t,e,n,r){Array.isArray(n)||(n&&(mx[0]=n.toString()),n=mx);for(var i=0;i<n.length;i++){var s=x$(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function j$(t){VC(t.g,function(e,n){this.g.hasOwnProperty(n)&&jC(e)},t),t.g={}}Gf.prototype.N=function(){Gf.$.N.call(this),j$(this)};Gf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function uy(){this.g=!0}uy.prototype.Ea=function(){this.g=!1};function Die(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",u=s.split("&"),l=0;l<u.length;l++){var h=u[l].split("=");if(1<h.length){var d=h[0];h=h[1];var p=d.split("_");o=2<=p.length&&p[1]=="type"?o+(d+"="+h+"&"):o+(d+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function Lie(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function _l(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Uie(t,n)+(r?" "+r:"")})}function Mie(t,e){t.info(function(){return"TIMEOUT: "+e})}uy.prototype.info=function(){};function Uie(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return HC(n)}catch{return e}}var Iu={},_x=null;function ly(){return _x=_x||new ln}Iu.Ta="serverreachability";function B$(t){Vn.call(this,Iu.Ta,t)}hn(B$,Vn);function qf(t){const e=ly();Tn(e,new B$(e))}Iu.STAT_EVENT="statevent";function z$(t,e){Vn.call(this,Iu.STAT_EVENT,t),this.stat=e}hn(z$,Vn);function tr(t){const e=ly();Tn(e,new z$(e,t))}Iu.Ua="timingevent";function H$(t,e){Vn.call(this,Iu.Ua,t),this.size=e}hn(H$,Vn);function Dd(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ce.setTimeout(function(){t()},e)}var cy={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},G$={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function KC(){}KC.prototype.h=null;function vx(t){return t.h||(t.h=t.i())}function q$(){}var Ld={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function QC(){Vn.call(this,"d")}hn(QC,Vn);function XC(){Vn.call(this,"c")}hn(XC,Vn);var FS;function hy(){}hn(hy,KC);hy.prototype.g=function(){return new XMLHttpRequest};hy.prototype.i=function(){return{}};FS=new hy;function Md(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Gf(this),this.P=Fie,t=xS?125:void 0,this.V=new ay(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Y$}function Y$(){this.i=null,this.g="",this.h=!1}var Fie=45e3,$S={},v_={};oe=Md.prototype;oe.setTimeout=function(t){this.P=t};function VS(t,e,n){t.L=1,t.v=dy(Ks(e)),t.s=n,t.S=!0,K$(t,null)}function K$(t,e){t.G=Date.now(),Ud(t),t.A=Ks(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),rV(n.i,"t",r),t.C=0,n=t.l.J,t.h=new Y$,t.g=IV(t.l,n?e:null,!t.s),0<t.O&&(t.M=new xie($n(t.Pa,t,t.g),t.O)),W$(t.U,t.g,"readystatechange",t.nb),e=t.I?O$(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),qf(),Die(t.j,t.u,t.A,t.m,t.W,t.s)}oe.nb=function(t){t=t.target;const e=this.M;e&&Ki(t)==3?e.l():this.Pa(t)};oe.Pa=function(t){try{if(t==this.g)e:{const d=Ki(this.g);var e=this.g.Ia();const p=this.g.da();if(!(3>d)&&(d!=3||xS||this.g&&(this.h.h||this.g.ja()||Sx(this.g)))){this.J||d!=4||e==7||(e==8||0>=p?qf(3):qf(2)),fy(this);var n=this.g.da();this.ca=n;t:if(Q$(this)){var r=Sx(this.g);t="";var i=r.length,s=Ki(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ja(this),Jh(this);var o="";break t}this.h.i=new Ce.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Lie(this.j,this.u,this.A,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jf(u)){var h=u;break t}}h=null}if(n=h)_l(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,WS(this,n);else{this.i=!1,this.o=3,tr(12),ja(this),Jh(this);break e}}this.S?(X$(this,d,o),xS&&this.i&&d==3&&(W$(this.U,this.V,"tick",this.mb),this.V.start())):(_l(this.j,this.m,o,null),WS(this,o)),d==4&&ja(this),this.i&&!this.J&&(d==4?wV(this.l,this):(this.i=!1,Ud(this)))}else sse(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,tr(12)):(this.o=0,tr(13)),ja(this),Jh(this)}}}catch{}finally{}};function Q$(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function X$(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=$ie(t,n),i==v_){e==4&&(t.o=4,tr(14),r=!1),_l(t.j,t.m,null,"[Incomplete Response]");break}else if(i==$S){t.o=4,tr(15),_l(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else _l(t.j,t.m,i,null),WS(t,i);Q$(t)&&i!=v_&&i!=$S&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,tr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),rR(e),e.M=!0,tr(11))):(_l(t.j,t.m,n,"[Invalid Chunked Response]"),ja(t),Jh(t))}oe.mb=function(){if(this.g){var t=Ki(this.g),e=this.g.ja();this.C<e.length&&(fy(this),X$(this,t,e),this.i&&t!=4&&Ud(this))}};function $ie(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?v_:(n=Number(e.substring(n,r)),isNaN(n)?$S:(r+=1,r+n>e.length?v_:(e=e.slice(r,r+n),t.C=r+n,e)))}oe.cancel=function(){this.J=!0,ja(this)};function Ud(t){t.Y=Date.now()+t.P,J$(t,t.P)}function J$(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Dd($n(t.lb,t),e)}function fy(t){t.B&&(Ce.clearTimeout(t.B),t.B=null)}oe.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(Mie(this.j,this.A),this.L!=2&&(qf(),tr(17)),ja(this),this.o=2,Jh(this)):J$(this,this.Y-t)};function Jh(t){t.l.H==0||t.J||wV(t.l,t)}function ja(t){fy(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,qC(t.V),j$(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function WS(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||jS(n.i,t))){if(!t.K&&jS(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)E_(n),my(n);else break e;nR(n),tr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Dd($n(n.ib,n),6e3));if(1>=oV(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ba(n,11)}else if((t.K||n.g==t)&&E_(n),!jf(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let h=i[e];if(n.V=h[0],h=h[1],n.H==2)if(h[0]=="c"){n.K=h[1],n.pa=h[2];const d=h[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const p=h[4];p!=null&&(n.Ga=p,n.l.info("SVER="+n.Ga));const g=h[5];g!=null&&typeof g=="number"&&0<g&&(r=1.5*g,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const v=t.g;if(v){const E=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(E){var s=r.i;s.g||E.indexOf("spdy")==-1&&E.indexOf("quic")==-1&&E.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(JC(s,s.h),s.h=null))}if(r.F){const R=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;R&&(r.Da=R,mt(r.I,r.F,R))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=TV(r,r.J?r.pa:null,r.Y),o.K){aV(r.i,o);var u=o,l=r.L;l&&u.setTimeout(l),u.B&&(fy(u),Ud(u)),r.g=o}else vV(r);0<n.j.length&&_y(n)}else h[0]!="stop"&&h[0]!="close"||Ba(n,7);else n.H==3&&(h[0]=="stop"||h[0]=="close"?h[0]=="stop"?Ba(n,7):tR(n):h[0]!="noop"&&n.h&&n.h.Aa(h),n.A=0)}}qf(4)}catch{}}function Vie(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ry(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Wie(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ry(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Z$(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ry(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Wie(t),r=Vie(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var eV=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jie(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Qa(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Qa){this.h=t.h,y_(this,t.j),this.s=t.s,this.g=t.g,w_(this,t.m),this.l=t.l;var e=t.i,n=new Yf;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),yx(this,n),this.o=t.o}else t&&(e=String(t).match(eV))?(this.h=!1,y_(this,e[1]||"",!0),this.s=Nh(e[2]||""),this.g=Nh(e[3]||"",!0),w_(this,e[4]),this.l=Nh(e[5]||"",!0),yx(this,e[6]||"",!0),this.o=Nh(e[7]||"")):(this.h=!1,this.i=new Yf(null,this.h))}Qa.prototype.toString=function(){var t=[],e=this.j;e&&t.push(xh(e,wx,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(xh(e,wx,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(xh(n,n.charAt(0)=="/"?Hie:zie,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",xh(n,qie)),t.join("")};function Ks(t){return new Qa(t)}function y_(t,e,n){t.j=n?Nh(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function w_(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function yx(t,e,n){e instanceof Yf?(t.i=e,Yie(t.i,t.h)):(n||(e=xh(e,Gie)),t.i=new Yf(e,t.h))}function mt(t,e,n){t.i.set(e,n)}function dy(t){return mt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Nh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function xh(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Bie),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Bie(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var wx=/[#\/\?@]/g,zie=/[#\?:]/g,Hie=/[#\?]/g,Gie=/[#\?@]/g,qie=/#/g;function Yf(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function va(t){t.g||(t.g=new Map,t.h=0,t.i&&jie(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}oe=Yf.prototype;oe.add=function(t,e){va(this),this.i=null,t=Rc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function tV(t,e){va(t),e=Rc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function nV(t,e){return va(t),e=Rc(t,e),t.g.has(e)}oe.forEach=function(t,e){va(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};oe.ta=function(){va(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};oe.Z=function(t){va(this);let e=[];if(typeof t=="string")nV(this,t)&&(e=e.concat(this.g.get(Rc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};oe.set=function(t,e){return va(this),this.i=null,t=Rc(this,t),nV(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};oe.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function rV(t,e,n){tV(t,e),0<n.length&&(t.i=null,t.g.set(Rc(t,e),FC(n)),t.h+=n.length)}oe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Rc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Yie(t,e){e&&!t.j&&(va(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(tV(this,r),rV(this,i,n))},t)),t.j=e}var Kie=class{constructor(t,e){this.g=t,this.map=e}};function iV(t){this.l=t||Qie,Ce.PerformanceNavigationTiming?(t=Ce.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ce.g&&Ce.g.Ka&&Ce.g.Ka()&&Ce.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Qie=10;function sV(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function oV(t){return t.h?1:t.g?t.g.size:0}function jS(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function JC(t,e){t.g?t.g.add(e):t.h=e}function aV(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}iV.prototype.cancel=function(){if(this.i=uV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function uV(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return FC(t.i)}var Xie=class{stringify(t){return Ce.JSON.stringify(t,void 0)}parse(t){return Ce.JSON.parse(t,void 0)}};function Jie(){this.g=new Xie}function Zie(t,e,n){const r=n||"";try{Z$(t,function(i,s){let o=i;Nd(i)&&(o=HC(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ese(t,e){const n=new uy;if(Ce.Image){const r=new Image;r.onload=fg(pg,n,r,"TestLoadImage: loaded",!0,e),r.onerror=fg(pg,n,r,"TestLoadImage: error",!1,e),r.onabort=fg(pg,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=fg(pg,n,r,"TestLoadImage: timeout",!1,e),Ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function pg(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Fd(t){this.l=t.fc||null,this.j=t.ob||!1}hn(Fd,KC);Fd.prototype.g=function(){return new py(this.l,this.j)};Fd.prototype.i=function(t){return function(){return t}}({});function py(t,e){ln.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=ZC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hn(py,ln);var ZC=0;oe=py.prototype;oe.open=function(t,e){if(this.readyState!=ZC)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Kf(this)};oe.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ce).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};oe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$d(this)),this.readyState=ZC};oe.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Kf(this)),this.g&&(this.readyState=3,Kf(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ce.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lV(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function lV(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}oe.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?$d(this):Kf(this),this.readyState==3&&lV(this)}};oe.Za=function(t){this.g&&(this.response=this.responseText=t,$d(this))};oe.Ya=function(t){this.g&&(this.response=t,$d(this))};oe.ka=function(){this.g&&$d(this)};function $d(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Kf(t)}oe.setRequestHeader=function(t,e){this.v.append(t,e)};oe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};oe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Kf(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(py.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var tse=Ce.JSON.parse;function Mt(t){ln.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=cV,this.L=this.M=!1}hn(Mt,ln);var cV="",nse=/^https?$/i,rse=["POST","PUT"];oe=Mt.prototype;oe.Oa=function(t){this.M=t};oe.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():FS.g(),this.C=this.u?vx(this.u):vx(FS),this.g.onreadystatechange=$n(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){Ex(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Ce.FormData&&t instanceof Ce.FormData,!(0<=A$(rse,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{dV(this),0<this.B&&((this.L=ise(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$n(this.ua,this)):this.A=YC(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Ex(this,s)}};function ise(t){return ic&&typeof t.timeout=="number"&&t.ontimeout!==void 0}oe.ua=function(){typeof UC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tn(this,"timeout"),this.abort(8))};function Ex(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,hV(t),gy(t)}function hV(t){t.F||(t.F=!0,Tn(t,"complete"),Tn(t,"error"))}oe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Tn(this,"complete"),Tn(this,"abort"),gy(this))};oe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gy(this,!0)),Mt.$.N.call(this)};oe.La=function(){this.s||(this.G||this.v||this.l?fV(this):this.kb())};oe.kb=function(){fV(this)};function fV(t){if(t.h&&typeof UC<"u"&&(!t.C[1]||Ki(t)!=4||t.da()!=2)){if(t.v&&Ki(t)==4)YC(t.La,0,t);else if(Tn(t,"readystatechange"),Ki(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(eV)[1]||null;!i&&Ce.self&&Ce.self.location&&(i=Ce.self.location.protocol.slice(0,-1)),r=!nse.test(i?i.toLowerCase():"")}n=r}if(n)Tn(t,"complete"),Tn(t,"success");else{t.m=6;try{var s=2<Ki(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",hV(t)}}finally{gy(t)}}}}function gy(t,e){if(t.g){dV(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Tn(t,"ready");try{n.onreadystatechange=r}catch{}}}function dV(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ce.clearTimeout(t.A),t.A=null)}oe.isActive=function(){return!!this.g};function Ki(t){return t.g?t.g.readyState:0}oe.da=function(){try{return 2<Ki(this)?this.g.status:-1}catch{return-1}};oe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};oe.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),tse(e)}};function Sx(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case cV:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function sse(t){const e={};t=(t.g&&2<=Ki(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(jf(t[r]))continue;var n=bie(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}Tie(e,function(r){return r.join(", ")})}oe.Ia=function(){return this.m};oe.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function pV(t){let e="";return VC(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function eR(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=pV(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):mt(t,e,n))}function yh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function gV(t){this.Ga=0,this.j=[],this.l=new uy,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=yh("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=yh("baseRetryDelayMs",5e3,t),this.hb=yh("retryDelaySeedMs",1e4,t),this.eb=yh("forwardChannelMaxRetries",2,t),this.xa=yh("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new iV(t&&t.concurrentRequestLimit),this.Ja=new Jie,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}oe=gV.prototype;oe.ra=8;oe.H=1;function tR(t){if(mV(t),t.H==3){var e=t.W++,n=Ks(t.I);if(mt(n,"SID",t.K),mt(n,"RID",e),mt(n,"TYPE","terminate"),Vd(t,n),e=new Md(t,t.l,e),e.L=2,e.v=dy(Ks(n)),n=!1,Ce.navigator&&Ce.navigator.sendBeacon)try{n=Ce.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Ce.Image&&(new Image().src=e.v,n=!0),n||(e.g=IV(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ud(e)}SV(t)}function my(t){t.g&&(rR(t),t.g.cancel(),t.g=null)}function mV(t){my(t),t.u&&(Ce.clearTimeout(t.u),t.u=null),E_(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ce.clearTimeout(t.m),t.m=null)}function _y(t){if(!sV(t.i)&&!t.m){t.m=!0;var e=t.Na;zf||$$(),Hf||(zf(),Hf=!0),GC.add(e,t),t.C=0}}function ose(t,e){return oV(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Dd($n(t.Na,t,e),EV(t,t.C)),t.C++,!0)}oe.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Md(this,this.l,t);let s=this.s;if(this.U&&(s?(s=O$(s),N$(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=_V(this,i,e),n=Ks(this.I),mt(n,"RID",t),mt(n,"CVER",22),this.F&&mt(n,"X-HTTP-Session-Id",this.F),Vd(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(pV(s)))+"&"+e:this.o&&eR(n,this.o,s)),JC(this.i,i),this.bb&&mt(n,"TYPE","init"),this.P?(mt(n,"$req",e),mt(n,"SID","null"),i.aa=!0,VS(i,n,null)):VS(i,n,e),this.H=2}}else this.H==3&&(t?Tx(this,t):this.j.length==0||sV(this.i)||Tx(this))};function Tx(t,e){var n;e?n=e.m:n=t.W++;const r=Ks(t.I);mt(r,"SID",t.K),mt(r,"RID",n),mt(r,"AID",t.V),Vd(t,r),t.o&&t.s&&eR(r,t.o,t.s),n=new Md(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=_V(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),JC(t.i,n),VS(n,r,e)}function Vd(t,e){t.na&&VC(t.na,function(n,r){mt(e,r,n)}),t.h&&Z$({},function(n,r){mt(e,r,n)})}function _V(t,e,n){n=Math.min(t.j.length,n);var r=t.h?$n(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let u=!0;for(let l=0;l<n;l++){let h=i[l].g;const d=i[l].map;if(h-=s,0>h)s=Math.max(0,i[l].g-100),u=!1;else try{Zie(d,o,"req"+h+"_")}catch{r&&r(d)}}if(u){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function vV(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;zf||$$(),Hf||(zf(),Hf=!0),GC.add(e,t),t.A=0}}function nR(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Dd($n(t.Ma,t),EV(t,t.A)),t.A++,!0)}oe.Ma=function(){if(this.u=null,yV(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Dd($n(this.jb,this),t)}};oe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,tr(10),my(this),yV(this))};function rR(t){t.B!=null&&(Ce.clearTimeout(t.B),t.B=null)}function yV(t){t.g=new Md(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ks(t.wa);mt(e,"RID","rpc"),mt(e,"SID",t.K),mt(e,"AID",t.V),mt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&mt(e,"TO",t.qa),mt(e,"TYPE","xmlhttp"),Vd(t,e),t.o&&t.s&&eR(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=dy(Ks(e)),n.s=null,n.S=!0,K$(n,t)}oe.ib=function(){this.v!=null&&(this.v=null,my(this),nR(this),tr(19))};function E_(t){t.v!=null&&(Ce.clearTimeout(t.v),t.v=null)}function wV(t,e){var n=null;if(t.g==e){E_(t),rR(t),t.g=null;var r=2}else if(jS(t.i,e))n=e.F,aV(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=ly(),Tn(r,new H$(r,n)),_y(t)}else vV(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&ose(t,e)||r==2&&nR(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ba(t,5);break;case 4:Ba(t,10);break;case 3:Ba(t,6);break;default:Ba(t,2)}}}function EV(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ba(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=$n(t.pb,t);n||(n=new Qa("//www.google.com/images/cleardot.gif"),Ce.location&&Ce.location.protocol=="http"||y_(n,"https"),dy(n)),ese(n.toString(),r)}else tr(2);t.H=0,t.h&&t.h.za(e),SV(t),mV(t)}oe.pb=function(t){t?(this.l.info("Successfully pinged google.com"),tr(2)):(this.l.info("Failed to ping google.com"),tr(1))};function SV(t){if(t.H=0,t.ma=[],t.h){const e=uV(t.i);(e.length!=0||t.j.length!=0)&&(dx(t.ma,e),dx(t.ma,t.j),t.i.i.length=0,FC(t.j),t.j.length=0),t.h.ya()}}function TV(t,e,n){var r=n instanceof Qa?Ks(n):new Qa(n);if(r.g!="")e&&(r.g=e+"."+r.g),w_(r,r.m);else{var i=Ce.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Qa(null);r&&y_(s,r),e&&(s.g=e),i&&w_(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&mt(r,n,e),mt(r,"VER",t.ra),Vd(t,r),r}function IV(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Mt(new Fd({ob:!0})):new Mt(t.va),e.Oa(t.J),e}oe.isActive=function(){return!!this.h&&this.h.isActive(this)};function CV(){}oe=CV.prototype;oe.Ba=function(){};oe.Aa=function(){};oe.za=function(){};oe.ya=function(){};oe.isActive=function(){return!0};oe.Va=function(){};function S_(){if(ic&&!(10<=Number(yie)))throw Error("Environmental error: no available transport.")}S_.prototype.g=function(t,e){return new Nr(t,e)};function Nr(t,e){ln.call(this),this.g=new gV(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!jf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!jf(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ac(this)}hn(Nr,ln);Nr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;tr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=TV(t,null,t.Y),_y(t)};Nr.prototype.close=function(){tR(this.g)};Nr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=HC(t),t=n);e.j.push(new Kie(e.fb++,t)),e.H==3&&_y(e)};Nr.prototype.N=function(){this.g.h=null,delete this.j,tR(this.g),delete this.g,Nr.$.N.call(this)};function RV(t){QC.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}hn(RV,QC);function AV(){XC.call(this),this.status=1}hn(AV,XC);function Ac(t){this.g=t}hn(Ac,CV);Ac.prototype.Ba=function(){Tn(this.g,"a")};Ac.prototype.Aa=function(t){Tn(this.g,new RV(t))};Ac.prototype.za=function(t){Tn(this.g,new AV)};Ac.prototype.ya=function(){Tn(this.g,"b")};function ase(){this.blockSize=-1}function Oi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}hn(Oi,ase);Oi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function bE(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Oi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)bE(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){bE(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){bE(this,r),i=0;break}}this.h=i,this.i+=e};Oi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function rt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var use={};function iR(t){return-128<=t&&128>t?mie(t,function(e){return new rt([e|0],0>e?-1:0)}):new rt([t|0],0>t?-1:0)}function Qi(t){if(isNaN(t)||!isFinite(t))return Nl;if(0>t)return wn(Qi(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=BS;return new rt(e,0)}function PV(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return wn(PV(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Qi(Math.pow(e,8)),r=Nl,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Qi(Math.pow(e,s)),r=r.R(s).add(Qi(o))):(r=r.R(n),r=r.add(Qi(o)))}return r}var BS=4294967296,Nl=iR(0),zS=iR(1),Ix=iR(16777216);oe=rt.prototype;oe.ea=function(){if(Xr(this))return-wn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:BS+r)*e,e*=BS}return t};oe.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ds(this))return"0";if(Xr(this))return"-"+wn(this).toString(t);for(var e=Qi(Math.pow(t,6)),n=this,r="";;){var i=I_(n,e).g;n=T_(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Ds(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};oe.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ds(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Xr(t){return t.h==-1}oe.X=function(t){return t=T_(this,t),Xr(t)?-1:Ds(t)?0:1};function wn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new rt(n,~t.h).add(zS)}oe.abs=function(){return Xr(this)?wn(this):this};oe.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new rt(n,n[n.length-1]&-2147483648?-1:0)};function T_(t,e){return t.add(wn(e))}oe.R=function(t){if(Ds(this)||Ds(t))return Nl;if(Xr(this))return Xr(t)?wn(this).R(wn(t)):wn(wn(this).R(t));if(Xr(t))return wn(this.R(wn(t)));if(0>this.X(Ix)&&0>t.X(Ix))return Qi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,u=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,gg(n,2*r+2*i),n[2*r+2*i+1]+=s*l,gg(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,gg(n,2*r+2*i+1),n[2*r+2*i+2]+=s*u,gg(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new rt(n,0)};function gg(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function wh(t,e){this.g=t,this.h=e}function I_(t,e){if(Ds(e))throw Error("division by zero");if(Ds(t))return new wh(Nl,Nl);if(Xr(t))return e=I_(wn(t),e),new wh(wn(e.g),wn(e.h));if(Xr(e))return e=I_(t,wn(e)),new wh(wn(e.g),e.h);if(30<t.g.length){if(Xr(t)||Xr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=zS,r=e;0>=r.X(t);)n=Cx(n),r=Cx(r);var i=Yu(n,1),s=Yu(r,1);for(r=Yu(r,2),n=Yu(n,2);!Ds(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Yu(r,1),n=Yu(n,1)}return e=T_(t,i.R(e)),new wh(i,e)}for(i=Nl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Qi(n),o=s.R(e);Xr(o)||0<o.X(t);)n-=r,s=Qi(n),o=s.R(e);Ds(s)&&(s=zS),i=i.add(s),t=T_(t,o)}return new wh(i,t)}oe.gb=function(t){return I_(this,t).h};oe.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new rt(n,this.h&t.h)};oe.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new rt(n,this.h|t.h)};oe.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new rt(n,this.h^t.h)};function Cx(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new rt(n,t.h)}function Yu(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new rt(i,t.h)}S_.prototype.createWebChannel=S_.prototype.g;Nr.prototype.send=Nr.prototype.u;Nr.prototype.open=Nr.prototype.m;Nr.prototype.close=Nr.prototype.close;cy.NO_ERROR=0;cy.TIMEOUT=8;cy.HTTP_ERROR=6;G$.COMPLETE="complete";q$.EventType=Ld;Ld.OPEN="a";Ld.CLOSE="b";Ld.ERROR="c";Ld.MESSAGE="d";ln.prototype.listen=ln.prototype.O;Mt.prototype.listenOnce=Mt.prototype.P;Mt.prototype.getLastError=Mt.prototype.Sa;Mt.prototype.getLastErrorCode=Mt.prototype.Ia;Mt.prototype.getStatus=Mt.prototype.da;Mt.prototype.getResponseJson=Mt.prototype.Wa;Mt.prototype.getResponseText=Mt.prototype.ja;Mt.prototype.send=Mt.prototype.ha;Mt.prototype.setWithCredentials=Mt.prototype.Oa;Oi.prototype.digest=Oi.prototype.l;Oi.prototype.reset=Oi.prototype.reset;Oi.prototype.update=Oi.prototype.j;rt.prototype.add=rt.prototype.add;rt.prototype.multiply=rt.prototype.R;rt.prototype.modulo=rt.prototype.gb;rt.prototype.compare=rt.prototype.X;rt.prototype.toNumber=rt.prototype.ea;rt.prototype.toString=rt.prototype.toString;rt.prototype.getBits=rt.prototype.D;rt.fromNumber=Qi;rt.fromString=PV;var lse=function(){return new S_},cse=function(){return ly()},OE=cy,hse=G$,fse=Iu,Rx={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},dse=Fd,mg=q$,pse=Mt,gse=Oi,xl=rt;const Ax="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc="10.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu=new Uv("@firebase/firestore");function Px(){return hu.logLevel}function ge(t,...e){if(hu.logLevel<=Ge.DEBUG){const n=e.map(sR);hu.debug(`Firestore (${Pc}): ${t}`,...n)}}function Qs(t,...e){if(hu.logLevel<=Ge.ERROR){const n=e.map(sR);hu.error(`Firestore (${Pc}): ${t}`,...n)}}function sc(t,...e){if(hu.logLevel<=Ge.WARN){const n=e.map(sR);hu.warn(`Firestore (${Pc}): ${t}`,...n)}}function sR(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(t="Unexpected state"){const e=`FIRESTORE (${Pc}) INTERNAL ASSERTION FAILED: `+t;throw Qs(e),new Error(e)}function yt(t,e){t||Ie()}function ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends as{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mse{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ln.UNAUTHENTICATED))}shutdown(){}}class _se{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vse{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ko;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ko,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},u=l=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ko)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(yt(typeof r.accessToken=="string"),new kV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return yt(e===null||typeof e=="string"),new Ln(e)}}class yse{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class wse{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new yse(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ese{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sse{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ge("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(yt(typeof n.token=="string"),this.R=n.token,new Ese(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tse(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Tse(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ze(t,e){return t<e?-1:t>e?1:0}function oc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new de(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nn.fromMillis(Date.now())}static fromDate(e){return nn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new nn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new nn(0,0))}static max(){return new Ae(new nn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ie(),r===void 0?r=e.length-n:r>e.length-n&&Ie(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Qf.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qf?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class _t extends Qf{construct(e,n,r){return new _t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new _t(n)}static emptyPath(){return new _t([])}}const Ise=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fn extends Qf{construct(e,n,r){return new Fn(e,n,r)}static isValidIdentifier(e){return Ise.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Fn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new de(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new de(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new de(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else u==="`"?(o=!o,i++):u!=="."||o?(r+=u,i++):(s(),i++)}if(s(),o)throw new de(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fn(n)}static emptyPath(){return new Fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(_t.fromString(e))}static fromName(e){return new _e(_t.fromString(e).popFirst(5))}static empty(){return new _e(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new _t(e.slice()))}}function Cse(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ae.fromTimestamp(r===1e9?new nn(n+1,0):new nn(n,r));return new ua(i,_e.empty(),e)}function Rse(t){return new ua(t.readTime,t.key,-1)}class ua{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ua(Ae.min(),_e.empty(),-1)}static max(){return new ua(Ae.max(),_e.empty(),-1)}}function Ase(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:Ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pse="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kse{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wd(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==Pse)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,r)=>{n(e)})}static reject(e){return new ee((n,r)=>{r(e)})}static waitFor(e){return new ee((n,r)=>{let i=0,s=0,o=!1;e.forEach(u=>{++i,u.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next(i=>i?ee.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ee((r,i)=>{const s=e.length,o=new Array(s);let u=0;for(let l=0;l<s;l++){const h=l;n(e[h]).next(d=>{o[h]=d,++u,u===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new ee((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function jd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}oR.ae=-1;function vy(t){return t==null}function C_(t){return t===0&&1/t==-1/0}function bse(t){return typeof t=="number"&&Number.isInteger(t)&&!C_(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function kc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function OV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new Ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _g(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _g(this.root,e,this.comparator,!1)}getReverseIterator(){return new _g(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _g(this.root,e,this.comparator,!0)}}class _g{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??vn.RED,this.left=i??vn.EMPTY,this.right=s??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new vn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return vn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,n,r,i,s){return this}insert(e,n,r){return new vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bx(this.data.getIterator())}getIteratorFrom(e){return new bx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Wn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Wn(this.comparator);return n.data=e,n}}class bx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.fields=e,e.sort(Fn.comparator)}static empty(){return new Ti([])}unionWith(e){let n=new Wn(Fn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ti(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new NV("Invalid base64 string: "+s):s}}(e);return new Hn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hn.EMPTY_BYTE_STRING=new Hn("");const Ose=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function la(t){if(yt(!!t),typeof t=="string"){let e=0;const n=Ose.exec(t);if(yt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:zt(t.seconds),nanos:zt(t.nanos)}}function zt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fu(t){return typeof t=="string"?Hn.fromBase64String(t):Hn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function uR(t){const e=t.mapValue.fields.__previous_value__;return aR(e)?uR(e):e}function Xf(t){const e=la(t.mapValue.fields.__local_write_time__.timestampValue);return new nn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nse{constructor(e,n,r,i,s,o,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=l,this.useFetchStreams=h}}class Jf{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Jf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Jf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function du(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?aR(t)?4:xse(t)?9007199254740991:10:Ie()}function ss(t,e){if(t===e)return!0;const n=du(t);if(n!==du(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xf(t).isEqual(Xf(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=la(i.timestampValue),u=la(s.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return fu(i.bytesValue).isEqual(fu(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return zt(i.geoPointValue.latitude)===zt(s.geoPointValue.latitude)&&zt(i.geoPointValue.longitude)===zt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return zt(i.integerValue)===zt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=zt(i.doubleValue),u=zt(s.doubleValue);return o===u?C_(o)===C_(u):isNaN(o)&&isNaN(u)}return!1}(t,e);case 9:return oc(t.arrayValue.values||[],e.arrayValue.values||[],ss);case 10:return function(i,s){const o=i.mapValue.fields||{},u=s.mapValue.fields||{};if(kx(o)!==kx(u))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(u[l]===void 0||!ss(o[l],u[l])))return!1;return!0}(t,e);default:return Ie()}}function Zf(t,e){return(t.values||[]).find(n=>ss(n,e))!==void 0}function ac(t,e){if(t===e)return 0;const n=du(t),r=du(e);if(n!==r)return Ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ze(t.booleanValue,e.booleanValue);case 2:return function(s,o){const u=zt(s.integerValue||s.doubleValue),l=zt(o.integerValue||o.doubleValue);return u<l?-1:u>l?1:u===l?0:isNaN(u)?isNaN(l)?0:-1:1}(t,e);case 3:return Ox(t.timestampValue,e.timestampValue);case 4:return Ox(Xf(t),Xf(e));case 5:return Ze(t.stringValue,e.stringValue);case 6:return function(s,o){const u=fu(s),l=fu(o);return u.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const u=s.split("/"),l=o.split("/");for(let h=0;h<u.length&&h<l.length;h++){const d=Ze(u[h],l[h]);if(d!==0)return d}return Ze(u.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const u=Ze(zt(s.latitude),zt(o.latitude));return u!==0?u:Ze(zt(s.longitude),zt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const u=s.values||[],l=o.values||[];for(let h=0;h<u.length&&h<l.length;++h){const d=ac(u[h],l[h]);if(d)return d}return Ze(u.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===vg.mapValue&&o===vg.mapValue)return 0;if(s===vg.mapValue)return 1;if(o===vg.mapValue)return-1;const u=s.fields||{},l=Object.keys(u),h=o.fields||{},d=Object.keys(h);l.sort(),d.sort();for(let p=0;p<l.length&&p<d.length;++p){const g=Ze(l[p],d[p]);if(g!==0)return g;const v=ac(u[l[p]],h[d[p]]);if(v!==0)return v}return Ze(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Ie()}}function Ox(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ze(t,e);const n=la(t),r=la(e),i=Ze(n.seconds,r.seconds);return i!==0?i:Ze(n.nanos,r.nanos)}function uc(t){return HS(t)}function HS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=la(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return fu(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=HS(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${HS(n.fields[o])}`;return i+"}"}(t.mapValue):Ie()}function Nx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function GS(t){return!!t&&"integerValue"in t}function lR(t){return!!t&&"arrayValue"in t}function xx(t){return!!t&&"nullValue"in t}function Dx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rm(t){return!!t&&"mapValue"in t}function Zh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return kc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Zh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function xse(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.value=e}static empty(){return new Jr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zh(n)}setAll(e){let n=Fn.emptyPath(),r={},i=[];e.forEach((o,u)=>{if(!n.isImmediateParentOf(u)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=u.popLast()}o?r[u.lastSegment()]=Zh(o):i.push(u.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());rm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ss(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];rm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){kc(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Jr(Zh(this.value))}}function xV(t){const e=[];return kc(t.fields,(n,r)=>{const i=new Fn([n]);if(rm(r)){const s=xV(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ti(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,n,r,i,s,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=u}static newInvalidDocument(e){return new Un(e,0,Ae.min(),Ae.min(),Ae.min(),Jr.empty(),0)}static newFoundDocument(e,n,r,i){return new Un(e,1,n,Ae.min(),r,i,0)}static newNoDocument(e,n){return new Un(e,2,n,Ae.min(),Ae.min(),Jr.empty(),0)}static newUnknownDocument(e,n){return new Un(e,3,n,Ae.min(),Ae.min(),Jr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e,n){this.position=e,this.inclusive=n}}function Lx(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=_e.comparator(_e.fromName(o.referenceValue),n.key):r=ac(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Mx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ss(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n="asc"){this.field=e,this.dir=n}}function Dse(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{}class Gt extends DV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Mse(e,n,r):n==="array-contains"?new $se(e,r):n==="in"?new Vse(e,r):n==="not-in"?new Wse(e,r):n==="array-contains-any"?new jse(e,r):new Gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Use(e,r):new Fse(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ac(n,this.value)):n!==null&&du(this.value)===du(n)&&this.matchesComparison(ac(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ni extends DV{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Ni(e,n)}matches(e){return LV(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function LV(t){return t.op==="and"}function MV(t){return Lse(t)&&LV(t)}function Lse(t){for(const e of t.filters)if(e instanceof Ni)return!1;return!0}function qS(t){if(t instanceof Gt)return t.field.canonicalString()+t.op.toString()+uc(t.value);if(MV(t))return t.filters.map(e=>qS(e)).join(",");{const e=t.filters.map(n=>qS(n)).join(",");return`${t.op}(${e})`}}function UV(t,e){return t instanceof Gt?function(r,i){return i instanceof Gt&&r.op===i.op&&r.field.isEqual(i.field)&&ss(r.value,i.value)}(t,e):t instanceof Ni?function(r,i){return i instanceof Ni&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,u)=>s&&UV(o,i.filters[u]),!0):!1}(t,e):void Ie()}function FV(t){return t instanceof Gt?function(n){return`${n.field.canonicalString()} ${n.op} ${uc(n.value)}`}(t):t instanceof Ni?function(n){return n.op.toString()+" {"+n.getFilters().map(FV).join(" ,")+"}"}(t):"Filter"}class Mse extends Gt{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class Use extends Gt{constructor(e,n){super(e,"in",n),this.keys=$V("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Fse extends Gt{constructor(e,n){super(e,"not-in",n),this.keys=$V("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $V(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>_e.fromName(r.referenceValue))}class $se extends Gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lR(n)&&Zf(n.arrayValue,this.value)}}class Vse extends Gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zf(this.value.arrayValue,n)}}class Wse extends Gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Zf(this.value.arrayValue,n)}}class jse extends Gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lR(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Zf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bse{constructor(e,n=null,r=[],i=[],s=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=u,this.he=null}}function Ux(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Bse(t,e,n,r,i,s,o)}function cR(t){const e=ke(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>qS(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),vy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>uc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>uc(r)).join(",")),e.he=n}return e.he}function hR(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Dse(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!UV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Mx(t.startAt,e.startAt)&&Mx(t.endAt,e.endAt)}function YS(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n=null,r=[],i=[],s=null,o="F",u=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=u,this.endAt=l,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function zse(t,e,n,r,i,s,o,u){return new Bd(t,e,n,r,i,s,o,u)}function VV(t){return new Bd(t)}function Fx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function WV(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function fR(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function jV(t){return t.collectionGroup!==null}function Dl(t){const e=ke(t);if(e.Pe===null){e.Pe=[];const n=fR(e),r=WV(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new ef(n)),e.Pe.push(new ef(Fn.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new ef(Fn.keyField(),s))}}}return e.Pe}function Xs(t){const e=ke(t);if(!e.Ie)if(e.limitType==="F")e.Ie=Ux(e.path,e.collectionGroup,Dl(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Dl(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new ef(s.field,o))}const r=e.endAt?new R_(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new R_(e.startAt.position,e.startAt.inclusive):null;e.Ie=Ux(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.Ie}function KS(t,e){e.getFirstInequalityField(),fR(t);const n=t.filters.concat([e]);return new Bd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function QS(t,e,n){return new Bd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yy(t,e){return hR(Xs(t),Xs(e))&&t.limitType===e.limitType}function BV(t){return`${cR(Xs(t))}|lt:${t.limitType}`}function XS(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>FV(i)).join(", ")}]`),vy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>uc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>uc(i)).join(",")),`Target(${r})`}(Xs(t))}; limitType=${t.limitType})`}function wy(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):_e.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Dl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,u,l){const h=Lx(o,u,l);return o.inclusive?h<=0:h<0}(r.startAt,Dl(r),i)||r.endAt&&!function(o,u,l){const h=Lx(o,u,l);return o.inclusive?h>=0:h>0}(r.endAt,Dl(r),i))}(t,e)}function Hse(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zV(t){return(e,n)=>{let r=!1;for(const i of Dl(t)){const s=Gse(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Gse(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):function(s,o,u){const l=o.data.field(s),h=u.data.field(s);return l!==null&&h!==null?ac(l,h):Ie()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){kc(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return OV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qse=new Ot(_e.comparator);function Js(){return qse}const HV=new Ot(_e.comparator);function Dh(...t){let e=HV;for(const n of t)e=e.insert(n.key,n);return e}function GV(t){let e=HV;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function za(){return tf()}function qV(){return tf()}function tf(){return new bc(t=>t.toString(),(t,e)=>t.isEqual(e))}const Yse=new Ot(_e.comparator),Kse=new Wn(_e.comparator);function We(...t){let e=Kse;for(const n of t)e=e.add(n);return e}const Qse=new Wn(Ze);function Xse(){return Qse}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:C_(e)?"-0":e}}function KV(t){return{integerValue:""+t}}function Jse(t,e){return bse(e)?KV(e):YV(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(){this._=void 0}}function Zse(t,e,n){return t instanceof A_?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&aR(s)&&(s=uR(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ed?XV(t,e):t instanceof td?JV(t,e):function(i,s){const o=QV(i,s),u=$x(o)+$x(i.Te);return GS(o)&&GS(i.Te)?KV(u):YV(i.serializer,u)}(t,e)}function eoe(t,e,n){return t instanceof ed?XV(t,e):t instanceof td?JV(t,e):n}function QV(t,e){return t instanceof P_?function(r){return GS(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class A_ extends Ey{}class ed extends Ey{constructor(e){super(),this.elements=e}}function XV(t,e){const n=ZV(e);for(const r of t.elements)n.some(i=>ss(i,r))||n.push(r);return{arrayValue:{values:n}}}class td extends Ey{constructor(e){super(),this.elements=e}}function JV(t,e){let n=ZV(e);for(const r of t.elements)n=n.filter(i=>!ss(i,r));return{arrayValue:{values:n}}}class P_ extends Ey{constructor(e,n){super(),this.serializer=e,this.Te=n}}function $x(t){return zt(t.integerValue||t.doubleValue)}function ZV(t){return lR(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function toe(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ed&&i instanceof ed||r instanceof td&&i instanceof td?oc(r.elements,i.elements,ss):r instanceof P_&&i instanceof P_?ss(r.Te,i.Te):r instanceof A_&&i instanceof A_}(t.transform,e.transform)}class noe{constructor(e,n){this.version=e,this.transformResults=n}}class $s{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $s}static exists(e){return new $s(void 0,e)}static updateTime(e){return new $s(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function im(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Sy{}function e4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new n4(t.key,$s.none()):new zd(t.key,t.data,$s.none());{const n=t.data,r=Jr.empty();let i=new Wn(Fn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Cu(t.key,r,new Ti(i.toArray()),$s.none())}}function roe(t,e,n){t instanceof zd?function(i,s,o){const u=i.value.clone(),l=Wx(i.fieldTransforms,s,o.transformResults);u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):t instanceof Cu?function(i,s,o){if(!im(i.precondition,s))return void s.convertToUnknownDocument(o.version);const u=Wx(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(t4(i)),l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function nf(t,e,n,r){return t instanceof zd?function(s,o,u,l){if(!im(s.precondition,o))return u;const h=s.value.clone(),d=jx(s.fieldTransforms,l,o);return h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof Cu?function(s,o,u,l){if(!im(s.precondition,o))return u;const h=jx(s.fieldTransforms,l,o),d=o.data;return d.setAll(t4(s)),d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,u){return im(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u}(t,e,n)}function ioe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=QV(r.transform,i||null);s!=null&&(n===null&&(n=Jr.empty()),n.set(r.field,s))}return n||null}function Vx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&oc(r,i,(s,o)=>toe(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zd extends Sy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Cu extends Sy{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function t4(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Wx(t,e,n){const r=new Map;yt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,u=e.data.field(s.field);r.set(s.field,eoe(o,u,n[i]))}return r}function jx(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Zse(s,o,e))}return r}class n4 extends Sy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class soe extends Sy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ooe{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&roe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=nf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=nf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=qV();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let u=this.applyToLocalView(o,s.mutatedFields);u=n.has(i.key)?null:u;const l=e4(o,u);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),We())}isEqual(e){return this.batchId===e.batchId&&oc(this.mutations,e.mutations,(n,r)=>Vx(n,r))&&oc(this.baseMutations,e.baseMutations,(n,r)=>Vx(n,r))}}class dR{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){yt(e.mutations.length===r.length);let i=function(){return Yse}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new dR(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aoe{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uoe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,ze;function loe(t){switch(t){default:return Ie();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function r4(t){if(t===void 0)return Qs("GRPC error has no .code"),K.UNKNOWN;switch(t){case Bt.OK:return K.OK;case Bt.CANCELLED:return K.CANCELLED;case Bt.UNKNOWN:return K.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return K.INTERNAL;case Bt.UNAVAILABLE:return K.UNAVAILABLE;case Bt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Bt.NOT_FOUND:return K.NOT_FOUND;case Bt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Bt.ABORTED:return K.ABORTED;case Bt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Bt.DATA_LOSS:return K.DATA_LOSS;default:return Ie()}}(ze=Bt||(Bt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return yg}static getOrCreateInstance(){return yg===null&&(yg=new pR),yg}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let yg=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function coe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hoe=new xl([4294967295,4294967295],0);function Bx(t){const e=coe().encode(t),n=new gse;return n.update(e),new Uint8Array(n.digest())}function zx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new xl([n,r],0),new xl([i,s],0)]}class gR{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Lh(`Invalid padding: ${n}`);if(r<0)throw new Lh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Lh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Lh(`Invalid padding when bitmap length is 0: ${n}`);this.de=8*e.length-n,this.Ae=xl.fromNumber(this.de)}Re(e,n,r){let i=e.add(n.multiply(xl.fromNumber(r)));return i.compare(hoe)===1&&(i=new xl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ae).toNumber()}Ve(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.de===0)return!1;const n=Bx(e),[r,i]=zx(n);for(let s=0;s<this.hashCount;s++){const o=this.Re(r,i,s);if(!this.Ve(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new gR(s,i,n);return r.forEach(u=>o.insert(u)),o}insert(e){if(this.de===0)return;const n=Bx(e),[r,i]=zx(n);for(let s=0;s<this.hashCount;s++){const o=this.Re(r,i,s);this.me(o)}}me(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Lh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Hd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ty(Ae.min(),i,new Ot(Ze),Js(),We())}}class Hd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Hd(r,n,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,n,r,i){this.fe=e,this.removedTargetIds=n,this.key=r,this.ge=i}}class i4{constructor(e,n){this.targetId=e,this.pe=n}}class s4{constructor(e,n,r=Hn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Hx{constructor(){this.ye=0,this.we=qx(),this.Se=Hn.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}get current(){return this.be}get resumeToken(){return this.Se}get ve(){return this.ye!==0}get Ce(){return this.De}Fe(e){e.approximateByteSize()>0&&(this.De=!0,this.Se=e)}Me(){let e=We(),n=We(),r=We();return this.we.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ie()}}),new Hd(this.Se,this.be,e,n,r)}xe(){this.De=!1,this.we=qx()}Oe(e,n){this.De=!0,this.we=this.we.insert(e,n)}Ne(e){this.De=!0,this.we=this.we.remove(e)}Be(){this.ye+=1}Le(){this.ye-=1}ke(){this.De=!0,this.be=!0}}class foe{constructor(e){this.qe=e,this.Qe=new Map,this.Ke=Js(),this.$e=Gx(),this.Ue=new Ot(Ze)}We(e){for(const n of e.fe)e.ge&&e.ge.isFoundDocument()?this.Ge(n,e.ge):this.ze(n,e.key,e.ge);for(const n of e.removedTargetIds)this.ze(n,e.key,e.ge)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Fe(e.resumeToken);break;case 1:r.Le(),r.ve||r.xe(),r.Fe(e.resumeToken);break;case 2:r.Le(),r.ve||this.removeTarget(n);break;case 3:this.Je(n)&&(r.ke(),r.Fe(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Fe(e.resumeToken));break;default:Ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){var n,r;const i=e.targetId,s=e.pe.count,o=this.Xe(i);if(o){const u=o.target;if(YS(u))if(s===0){const l=new _e(u.path);this.ze(i,l,Un.newNoDocument(l,Ae.min()))}else yt(s===1);else{const l=this.et(i);if(l!==s){const h=this.tt(e,l);if(h.status!==0){this.Ye(i);const d=h.status===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,d)}(n=pR.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(p,g,v,E){var R,C,S,T,k,b;const F={localCacheCount:v,existenceFilterCount:E.count},V=E.unchangedNames;return V&&(F.bloomFilter={applied:p===0,hashCount:(R=V==null?void 0:V.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(T=(S=(C=V==null?void 0:V.bits)===null||C===void 0?void 0:C.bitmap)===null||S===void 0?void 0:S.length)!==null&&T!==void 0?T:0,padding:(b=(k=V==null?void 0:V.bits)===null||k===void 0?void 0:k.padding)!==null&&b!==void 0?b:0},g&&(F.bloomFilter.mightContain=g)),F}(h.status,(r=h.nt)!==null&&r!==void 0?r:null,l,e.pe))}}}}tt(e,n){const{unchangedNames:r,count:i}=e.pe;if(!r||!r.bits)return{status:1};const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=r;let l,h;try{l=fu(s).toUint8Array()}catch(p){if(p instanceof NV)return sc("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw p}try{h=new gR(l,o,u)}catch(p){return sc(p instanceof Lh?"BloomFilter error: ":"Applying bloom filter failed: ",p),{status:1}}const d=p=>{const g=this.qe.rt();return h.mightContain(`projects/${g.projectId}/databases/${g.database}/documents/${p}`)};return h.de===0?{status:1}:{status:i===n-this.it(e.targetId,d)?0:2,nt:d}}it(e,n){const r=this.qe.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{n(s.path.canonicalString())||(this.ze(e,s,null),i++)}),i}st(e){const n=new Map;this.Qe.forEach((s,o)=>{const u=this.Xe(o);if(u){if(s.current&&YS(u.target)){const l=new _e(u.target.path);this.Ke.get(l)!==null||this.ot(o,l)||this.ze(o,l,Un.newNoDocument(l,e))}s.Ce&&(n.set(o,s.Me()),s.xe())}});let r=We();this.$e.forEach((s,o)=>{let u=!0;o.forEachWhile(l=>{const h=this.Xe(l);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.Ke.forEach((s,o)=>o.setReadTime(e));const i=new Ty(e,n,this.Ue,this.Ke,r);return this.Ke=Js(),this.$e=Gx(),this.Ue=new Ot(Ze),i}Ge(e,n){if(!this.Je(e))return;const r=this.ot(e,n.key)?2:0;this.He(e).Oe(n.key,r),this.Ke=this.Ke.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ot(e,n)?i.Oe(n,1):i.Ne(n),this.$e=this.$e.insert(n,this._t(n).delete(e)),r&&(this.Ke=this.Ke.insert(n,r))}removeTarget(e){this.Qe.delete(e)}et(e){const n=this.He(e).Me();return this.qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Be(e){this.He(e).Be()}He(e){let n=this.Qe.get(e);return n||(n=new Hx,this.Qe.set(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Wn(Ze),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.Qe.get(e);return n&&n.ve?null:this.qe.ut(e)}Ye(e){this.Qe.set(e,new Hx),this.qe.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ot(e,n){return this.qe.getRemoteKeysForTarget(e).has(n)}}function Gx(){return new Ot(_e.comparator)}function qx(){return new Ot(_e.comparator)}const doe=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),poe=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),goe=(()=>({and:"AND",or:"OR"}))();class moe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function JS(t,e){return t.useProto3Json||vy(e)?e:{value:e}}function k_(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function o4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _oe(t,e){return k_(t,e.toTimestamp())}function rs(t){return yt(!!t),Ae.fromTimestamp(function(n){const r=la(n);return new nn(r.seconds,r.nanos)}(t))}function mR(t,e){return function(r){return new _t(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function a4(t){const e=_t.fromString(t);return yt(h4(e)),e}function ZS(t,e){return mR(t.databaseId,e.path)}function NE(t,e){const n=a4(e);if(n.get(1)!==t.databaseId.projectId)throw new de(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(u4(n))}function eT(t,e){return mR(t.databaseId,e)}function voe(t){const e=a4(t);return e.length===4?_t.emptyPath():u4(e)}function tT(t){return new _t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function u4(t){return yt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Yx(t,e,n){return{name:ZS(t,e),fields:n.value.mapValue.fields}}function yoe(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,d){return h.useProto3Json?(yt(d===void 0||typeof d=="string"),Hn.fromBase64String(d||"")):(yt(d===void 0||d instanceof Uint8Array),Hn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&function(h){const d=h.code===void 0?K.UNKNOWN:r4(h.code);return new de(d,h.message||"")}(o);n=new s4(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=NE(t,r.document.name),s=rs(r.document.updateTime),o=r.document.createTime?rs(r.document.createTime):Ae.min(),u=new Jr({mapValue:{fields:r.document.fields}}),l=Un.newFoundDocument(i,s,o,u),h=r.targetIds||[],d=r.removedTargetIds||[];n=new sm(h,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=NE(t,r.document),s=r.readTime?rs(r.readTime):Ae.min(),o=Un.newNoDocument(i,s),u=r.removedTargetIds||[];n=new sm([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=NE(t,r.document),s=r.removedTargetIds||[];n=new sm([],s,i,null)}else{if(!("filter"in e))return Ie();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new uoe(i,s),u=r.targetId;n=new i4(u,o)}}return n}function woe(t,e){let n;if(e instanceof zd)n={update:Yx(t,e.key,e.value)};else if(e instanceof n4)n={delete:ZS(t,e.key)};else if(e instanceof Cu)n={update:Yx(t,e.key,e.data),updateMask:koe(e.fieldMask)};else{if(!(e instanceof soe))return Ie();n={verify:ZS(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const u=o.transform;if(u instanceof A_)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof ed)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof td)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof P_)return{fieldPath:o.field.canonicalString(),increment:u.Te};throw Ie()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:_oe(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ie()}(t,e.precondition)),n}function Eoe(t,e){return t&&t.length>0?(yt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?rs(i.updateTime):rs(s);return o.isEqual(Ae.min())&&(o=rs(s)),new noe(o,i.transformResults||[])}(n,e))):[]}function Soe(t,e){return{documents:[eT(t,e.path)]}}function Toe(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=eT(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=eT(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return c4(Ni.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(h=>function(p){return{field:el(p.field),direction:Roe(p.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=JS(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function Ioe(t){let e=voe(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){yt(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(p){const g=l4(p);return g instanceof Ni&&MV(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(g=>function(E){return new ef(tl(E.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(g))}(n.orderBy));let u=null;n.limit&&(u=function(p){let g;return g=typeof p=="object"?p.value:p,vy(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(p){const g=!!p.before,v=p.values||[];return new R_(v,g)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const g=!p.before,v=p.values||[];return new R_(v,g)}(n.endAt)),zse(e,i,o,s,u,"F",l,h)}function Coe(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function l4(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=tl(n.unaryFilter.field);return Gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=tl(n.unaryFilter.field);return Gt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=tl(n.unaryFilter.field);return Gt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=tl(n.unaryFilter.field);return Gt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(t):t.fieldFilter!==void 0?function(n){return Gt.create(tl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ni.create(n.compositeFilter.filters.map(r=>l4(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ie()}}(n.compositeFilter.op))}(t):Ie()}function Roe(t){return doe[t]}function Aoe(t){return poe[t]}function Poe(t){return goe[t]}function el(t){return{fieldPath:t.canonicalString()}}function tl(t){return Fn.fromServerFormat(t.fieldPath)}function c4(t){return t instanceof Gt?function(n){if(n.op==="=="){if(Dx(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NAN"}};if(xx(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Dx(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NOT_NAN"}};if(xx(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(n.field),op:Aoe(n.op),value:n.value}}}(t):t instanceof Ni?function(n){const r=n.getFilters().map(i=>c4(i));return r.length===1?r[0]:{compositeFilter:{op:Poe(n.op),filters:r}}}(t):Ie()}function koe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function h4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n,r,i,s=Ae.min(),o=Ae.min(),u=Hn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=l}withSequenceNumber(e){return new No(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class boe{constructor(e){this.ct=e}}function Ooe(t){const e=Ioe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?QS(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Noe{constructor(){this.sn=new xoe}addToCollectionParentIndex(e,n){return this.sn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.sn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(ua.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(ua.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class xoe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Wn(_t.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Wn(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e){this.Mn=e}next(){return this.Mn+=2,this.Mn}static xn(){return new lc(0)}static On(){return new lc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Doe{constructor(){this.changes=new bc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Loe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Moe{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&nf(r.mutation,i,Ti.empty(),nn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,We()).next(()=>r))}getLocalViewOfDocuments(e,n,r=We()){const i=za();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Dh();return s.forEach((u,l)=>{o=o.insert(u,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=za();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,We()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,u)=>{n.set(o,u)})})}computeViews(e,n,r,i){let s=Js();const o=tf(),u=function(){return tf()}();return n.forEach((l,h)=>{const d=r.get(h.key);i.has(h.key)&&(d===void 0||d.mutation instanceof Cu)?s=s.insert(h.key,h):d!==void 0?(o.set(h.key,d.mutation.getFieldMask()),nf(d.mutation,h,d.mutation.getFieldMask(),nn.now())):o.set(h.key,Ti.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((h,d)=>o.set(h,d)),n.forEach((h,d)=>{var p;return u.set(h,new Loe(d,(p=o.get(h))!==null&&p!==void 0?p:null))}),u))}recalculateAndSaveOverlays(e,n){const r=tf();let i=new Ot((o,u)=>o-u),s=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const u of o)u.keys().forEach(l=>{const h=n.get(l);if(h===null)return;let d=r.get(l)||Ti.empty();d=u.applyToLocalView(h,d),r.set(l,d);const p=(i.get(u.batchId)||We()).add(l);i=i.insert(u.batchId,p)})}).next(()=>{const o=[],u=i.getReverseIterator();for(;u.hasNext();){const l=u.getNext(),h=l.key,d=l.value,p=qV();d.forEach(g=>{if(!s.has(g)){const v=e4(n.get(g),r.get(g));v!==null&&p.set(g,v),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,p))}return ee.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jV(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ee.resolve(za());let u=-1,l=s;return o.next(h=>ee.forEach(h,(d,p)=>(u<p.largestBatchId&&(u=p.largestBatchId),s.get(d)?ee.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{l=l.insert(d,g)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,l,h,We())).next(d=>({batchId:u,changes:GV(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(r=>{let i=Dh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Dh();return this.indexManager.getCollectionParents(e,i).next(o=>ee.forEach(o,u=>{const l=function(d,p){return new Bd(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(h=>{h.forEach((d,p)=>{s=s.insert(d,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((u,l)=>{const h=l.getKey();s.get(h)===null&&(s=s.insert(h,Un.newInvalidDocument(h)))});let o=Dh();return s.forEach((u,l)=>{const h=i.get(u);h!==void 0&&nf(h.mutation,l,Ti.empty(),nn.now()),wy(n,l)&&(o=o.insert(u,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uoe{constructor(e){this.serializer=e,this.ar=new Map,this.ur=new Map}getBundleMetadata(e,n){return ee.resolve(this.ar.get(n))}saveBundleMetadata(e,n){return this.ar.set(n.id,function(i){return{id:i.id,version:i.version,createTime:rs(i.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.ur.get(n))}saveNamedQuery(e,n){return this.ur.set(n.name,function(i){return{name:i.name,query:Ooe(i.bundledQuery),readTime:rs(i.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Foe{constructor(){this.overlays=new Ot(_e.comparator),this.cr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=za();return ee.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.cr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.cr.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const i=za(),s=n.length+1,o=new _e(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const l=u.getNext().value,h=l.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ot((h,d)=>h-d);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let d=s.get(h.largestBatchId);d===null&&(d=za(),s=s.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const u=za(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((h,d)=>u.set(h,d)),!(u.size()>=i)););return ee.resolve(u)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.cr.get(i.largestBatchId).delete(r.key);this.cr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new aoe(n,r));let s=this.cr.get(n);s===void 0&&(s=We(),this.cr.set(n,s)),this.cr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(){this.lr=new Wn(on.hr),this.Pr=new Wn(on.Ir)}isEmpty(){return this.lr.isEmpty()}addReference(e,n){const r=new on(e,n);this.lr=this.lr.add(r),this.Pr=this.Pr.add(r)}Tr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Er(new on(e,n))}dr(e,n){e.forEach(r=>this.removeReference(r,n))}Ar(e){const n=new _e(new _t([])),r=new on(n,e),i=new on(n,e+1),s=[];return this.Pr.forEachInRange([r,i],o=>{this.Er(o),s.push(o.key)}),s}Rr(){this.lr.forEach(e=>this.Er(e))}Er(e){this.lr=this.lr.delete(e),this.Pr=this.Pr.delete(e)}Vr(e){const n=new _e(new _t([])),r=new on(n,e),i=new on(n,e+1);let s=We();return this.Pr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new on(e,0),r=this.lr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class on{constructor(e,n){this.key=e,this.mr=n}static hr(e,n){return _e.comparator(e.key,n.key)||Ze(e.mr,n.mr)}static Ir(e,n){return Ze(e.mr,n.mr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $oe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new Wn(on.hr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ooe(s,n,r,i);this.mutationQueue.push(o);for(const u of i)this.pr=this.pr.add(new on(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ee.resolve(o)}lookupMutationBatch(e,n){return ee.resolve(this.yr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.wr(r),s=i<0?0:i;return ee.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.gr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new on(n,0),i=new on(n,Number.POSITIVE_INFINITY),s=[];return this.pr.forEachInRange([r,i],o=>{const u=this.yr(o.mr);s.push(u)}),ee.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wn(Ze);return n.forEach(i=>{const s=new on(i,0),o=new on(i,Number.POSITIVE_INFINITY);this.pr.forEachInRange([s,o],u=>{r=r.add(u.mr)})}),ee.resolve(this.Sr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;_e.isDocumentKey(s)||(s=s.child(""));const o=new on(new _e(s),0);let u=new Wn(Ze);return this.pr.forEachWhile(l=>{const h=l.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(l.mr)),!0)},o),ee.resolve(this.Sr(u))}Sr(e){const n=[];return e.forEach(r=>{const i=this.yr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){yt(this.br(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.pr;return ee.forEach(n.mutations,i=>{const s=new on(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.pr=r})}Cn(e){}containsKey(e,n){const r=new on(n,0),i=this.pr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}br(e,n){return this.wr(e)}wr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}yr(e){const n=this.wr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Voe{constructor(e){this.Dr=e,this.docs=function(){return new Ot(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Dr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():Un.newInvalidDocument(n))}getEntries(e,n){let r=Js();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Un.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Js();const o=n.path,u=new _e(o.child("")),l=this.docs.getIteratorFrom(u);for(;l.hasNext();){const{key:h,value:{document:d}}=l.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||Ase(Rse(d),r)<=0||(i.has(d.key)||wy(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return ee.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ie()}vr(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Woe(this)}getSize(e){return ee.resolve(this.size)}}class Woe extends Doe{constructor(e){super(),this.sr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.sr.addEntry(e,i)):this.sr.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.sr.getEntry(e,n)}getAllFromCache(e,n){return this.sr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class joe{constructor(e){this.persistence=e,this.Cr=new bc(n=>cR(n),hR),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new _R,this.targetCount=0,this.Or=lc.xn()}forEachTarget(e,n){return this.Cr.forEach((r,i)=>n(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.Fr)}allocateTargetId(e){return this.highestTargetId=this.Or.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Fr&&(this.Fr=n),ee.resolve()}Ln(e){this.Cr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Or=new lc(n),this.highestTargetId=n),e.sequenceNumber>this.Fr&&(this.Fr=e.sequenceNumber)}addTargetData(e,n){return this.Ln(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Ln(n),ee.resolve()}removeTargetData(e,n){return this.Cr.delete(n.target),this.Mr.Ar(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Cr.forEach((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Cr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),ee.waitFor(s).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.Cr.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.Mr.Tr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.Mr.dr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ee.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Mr.Ar(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Mr.Vr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.Mr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Boe{constructor(e,n){this.Nr={},this.overlays={},this.Br=new oR(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=e(this),this.kr=new joe(this),this.indexManager=new Noe,this.remoteDocumentCache=function(i){return new Voe(i)}(r=>this.referenceDelegate.qr(r)),this.serializer=new boe(n),this.Qr=new Uoe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Lr=!1,Promise.resolve()}get started(){return this.Lr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Foe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Nr[e.toKey()];return r||(r=new $oe(n,this.referenceDelegate),this.Nr[e.toKey()]=r),r}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Qr}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const i=new zoe(this.Br.next());return this.referenceDelegate.Kr(),r(i).next(s=>this.referenceDelegate.$r(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ur(e,n){return ee.or(Object.values(this.Nr).map(r=>()=>r.containsKey(e,n)))}}class zoe extends kse{constructor(e){super(),this.currentSequenceNumber=e}}class vR{constructor(e){this.persistence=e,this.Wr=new _R,this.Gr=null}static zr(e){return new vR(e)}get jr(){if(this.Gr)return this.Gr;throw Ie()}addReference(e,n,r){return this.Wr.addReference(r,n),this.jr.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Wr.removeReference(r,n),this.jr.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.jr.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Wr.Ar(n.targetId).forEach(i=>this.jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Kr(){this.Gr=new Set}$r(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.jr,r=>{const i=_e.fromPath(r);return this.Hr(e,i).next(s=>{s||n.removeEntry(i,Ae.min())})}).next(()=>(this.Gr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hr(e,n).next(r=>{r?this.jr.delete(n.toString()):this.jr.add(n.toString())})}qr(e){return 0}Hr(e,n){return ee.or([()=>ee.resolve(this.Wr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ur(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Li=r,this.ki=i}static qi(e,n){let r=We(),i=We();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new yR(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hoe{constructor(){this.Qi=!1}initialize(e,n){this.Ki=e,this.indexManager=n,this.Qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.$i(e,n).next(s=>s||this.Ui(e,n,i,r)).next(s=>s||this.Wi(e,n))}$i(e,n){if(Fx(n))return ee.resolve(null);let r=Xs(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=QS(n,null,"F"),r=Xs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=We(...s);return this.Ki.getDocuments(e,o).next(u=>this.indexManager.getMinOffset(e,r).next(l=>{const h=this.Gi(n,u);return this.zi(n,h,o,l.readTime)?this.$i(e,QS(n,null,"F")):this.ji(e,h,n,l)}))})))}Ui(e,n,r,i){return Fx(n)||i.isEqual(Ae.min())?this.Wi(e,n):this.Ki.getDocuments(e,r).next(s=>{const o=this.Gi(n,s);return this.zi(n,o,r,i)?this.Wi(e,n):(Px()<=Ge.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),XS(n)),this.ji(e,o,n,Cse(i,-1)))})}Gi(e,n){let r=new Wn(zV(e));return n.forEach((i,s)=>{wy(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Wi(e,n){return Px()<=Ge.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",XS(n)),this.Ki.getDocumentsMatchingQuery(e,n,ua.min())}ji(e,n,r,i){return this.Ki.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Goe{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Ot(Ze),this.Yi=new bc(s=>cR(s),hR),this.Zi=new Map,this.Xi=e.getRemoteDocumentCache(),this.kr=e.getTargetCache(),this.Qr=e.getBundleCache(),this.es(r)}es(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Moe(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function qoe(t,e,n,r){return new Goe(t,e,n,r)}async function f4(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.es(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],u=[];let l=We();for(const h of i){o.push(h.batchId);for(const d of h.mutations)l=l.add(d.key)}for(const h of s){u.push(h.batchId);for(const d of h.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(h=>({ts:h,removedBatchIds:o,addedBatchIds:u}))})})}function Yoe(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Xi.newChangeBuffer({trackRemovals:!0});return function(u,l,h,d){const p=h.batch,g=p.keys();let v=ee.resolve();return g.forEach(E=>{v=v.next(()=>d.getEntry(l,E)).next(R=>{const C=h.docVersions.get(E);yt(C!==null),R.version.compareTo(C)<0&&(p.applyToRemoteDocument(R,h),R.isValidDocument()&&(R.setReadTime(h.commitVersion),d.addEntry(R)))})}),v.next(()=>u.mutationQueue.removeMutationBatch(l,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let l=We();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(l=l.add(u.batch.mutations[h].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function d4(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.kr.getLastRemoteSnapshotVersion(n))}function Koe(t,e){const n=ke(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const u=[];e.targetChanges.forEach((d,p)=>{const g=i.get(p);if(!g)return;u.push(n.kr.removeMatchingKeys(s,d.removedDocuments,p).next(()=>n.kr.addMatchingKeys(s,d.addedDocuments,p)));let v=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(Hn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),i=i.insert(p,v),function(R,C,S){return R.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(g,v,d)&&u.push(n.kr.updateTargetData(s,v))});let l=Js(),h=We();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),u.push(Qoe(s,o,e.documentUpdates).next(d=>{l=d.ns,h=d.rs})),!r.isEqual(Ae.min())){const d=n.kr.getLastRemoteSnapshotVersion(s).next(p=>n.kr.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(d)}return ee.waitFor(u).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,h)).next(()=>l)}).then(s=>(n.Ji=i,s))}function Qoe(t,e,n){let r=We(),i=We();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Js();return n.forEach((u,l)=>{const h=s.get(u);l.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),l.isNoDocument()&&l.version.isEqual(Ae.min())?(e.removeEntry(u,l.readTime),o=o.insert(u,l)):!h.isValidDocument()||l.version.compareTo(h.version)>0||l.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(l),o=o.insert(u,l)):ge("LocalStore","Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",l.version)}),{ns:o,rs:i}})}function Xoe(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Joe(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.kr.getTargetData(r,e).next(s=>s?(i=s,ee.resolve(i)):n.kr.allocateTargetId(r).next(o=>(i=new No(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function nT(t,e,n){const r=ke(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!jd(o))throw o;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function Kx(t,e,n){const r=ke(t);let i=Ae.min(),s=We();return r.persistence.runTransaction("Execute query","readonly",o=>function(l,h,d){const p=ke(l),g=p.Yi.get(d);return g!==void 0?ee.resolve(p.Ji.get(g)):p.kr.getTargetData(h,d)}(r,o,Xs(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.kr.getMatchingKeysForTargetId(o,u.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:Ae.min(),n?s:We())).next(u=>(Zoe(r,Hse(e),u),{documents:u,ss:s})))}function Zoe(t,e,n){let r=t.Zi.get(e)||Ae.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Zi.set(e,r)}class Qx{constructor(){this.activeTargetIds=Xse()}hs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ps(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ls(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eae{constructor(){this.Hs=new Qx,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hs.hs(e),this.Js[e]||"not-current"}updateQueryState(e,n,r){this.Js[e]=n}removeLocalQueryTarget(e){this.Hs.Ps(e)}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){delete this.Js[e]}getAllActiveQueryTargets(){return this.Hs.activeTargetIds}isActiveQueryTarget(e){return this.Hs.activeTargetIds.has(e)}start(){return this.Hs=new Qx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tae{Ys(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(){this.Zs=()=>this.Xs(),this.eo=()=>this.no(),this.ro=[],this.io()}Ys(e){this.ro.push(e)}shutdown(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}Xs(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ro)e(0)}no(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ro)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wg=null;function xE(){return wg===null?wg=function(){return 268435456+Math.round(2147483648*Math.random())}():wg++,"0x"+wg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nae={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rae{constructor(e){this.so=e.so,this.oo=e.oo}_o(e){this.ao=e}uo(e){this.co=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.so(e)}ho(){this.ao()}Po(e){this.co(e)}Io(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="WebChannelConnection";class iae extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http";this.To=r+"://"+n.host,this.Eo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get Ao(){return!1}Ro(n,r,i,s,o){const u=xE(),l=this.Vo(n,r);ge("RestConnection",`Sending RPC '${n}' ${u}:`,l,i);const h={};return this.mo(h,s,o),this.fo(n,l,h,i).then(d=>(ge("RestConnection",`Received RPC '${n}' ${u}: `,d),d),d=>{throw sc("RestConnection",`RPC '${n}' ${u} failed with error: `,d,"url: ",l,"request:",i),d})}po(n,r,i,s,o,u){return this.Ro(n,r,i,s,o)}mo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Pc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Vo(n,r){const i=nae[n];return`${this.To}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}fo(e,n,r,i){const s=xE();return new Promise((o,u)=>{const l=new pse;l.setWithCredentials(!0),l.listenOnce(hse.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case OE.NO_ERROR:const d=l.getResponseJson();ge(Nn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case OE.TIMEOUT:ge(Nn,`RPC '${e}' ${s} timed out`),u(new de(K.DEADLINE_EXCEEDED,"Request time out"));break;case OE.HTTP_ERROR:const p=l.getStatus();if(ge(Nn,`RPC '${e}' ${s} failed with status:`,p,"response text:",l.getResponseText()),p>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g==null?void 0:g.error;if(v&&v.status&&v.message){const E=function(C){const S=C.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(S)>=0?S:K.UNKNOWN}(v.status);u(new de(E,v.message))}else u(new de(K.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new de(K.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{ge(Nn,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);ge(Nn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}yo(e,n,r){const i=xE(),s=[this.To,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=lse(),u=cse(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(l.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(l.xmlHttpFactory=new dse({})),this.mo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");ge(Nn,`Creating RPC '${e}' stream ${i}: ${d}`,l);const p=o.createWebChannel(d,l);let g=!1,v=!1;const E=new rae({so:C=>{v?ge(Nn,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(g||(ge(Nn,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),ge(Nn,`RPC '${e}' stream ${i} sending:`,C),p.send(C))},oo:()=>p.close()}),R=(C,S,T)=>{C.listen(S,k=>{try{T(k)}catch(b){setTimeout(()=>{throw b},0)}})};return R(p,mg.EventType.OPEN,()=>{v||ge(Nn,`RPC '${e}' stream ${i} transport opened.`)}),R(p,mg.EventType.CLOSE,()=>{v||(v=!0,ge(Nn,`RPC '${e}' stream ${i} transport closed`),E.Po())}),R(p,mg.EventType.ERROR,C=>{v||(v=!0,sc(Nn,`RPC '${e}' stream ${i} transport errored:`,C),E.Po(new de(K.UNAVAILABLE,"The operation could not be completed")))}),R(p,mg.EventType.MESSAGE,C=>{var S;if(!v){const T=C.data[0];yt(!!T);const k=T,b=k.error||((S=k[0])===null||S===void 0?void 0:S.error);if(b){ge(Nn,`RPC '${e}' stream ${i} received error:`,b);const F=b.status;let V=function(ie){const re=Bt[ie];if(re!==void 0)return r4(re)}(F),W=b.message;V===void 0&&(V=K.INTERNAL,W="Unknown error status: "+F+" with message "+b.message),v=!0,E.Po(new de(V,W)),p.close()}else ge(Nn,`RPC '${e}' stream ${i} received:`,T),E.Io(T)}}),R(u,fse.STAT_EVENT,C=>{C.stat===Rx.PROXY?ge(Nn,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===Rx.NOPROXY&&ge(Nn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.ho()},0),E}}function DE(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(t){return new moe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.wo=r,this.So=i,this.bo=s,this.Do=0,this.vo=null,this.Co=Date.now(),this.reset()}reset(){this.Do=0}Fo(){this.Do=this.bo}Mo(e){this.cancel();const n=Math.floor(this.Do+this.xo()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Do} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.vo=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.Do*=this.So,this.Do<this.wo&&(this.Do=this.wo),this.Do>this.bo&&(this.Do=this.bo)}Oo(){this.vo!==null&&(this.vo.skipDelay(),this.vo=null)}cancel(){this.vo!==null&&(this.vo.cancel(),this.vo=null)}xo(){return(Math.random()-.5)*this.Do}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n,r,i,s,o,u,l){this.ii=e,this.No=r,this.Bo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=l,this.state=0,this.Lo=0,this.ko=null,this.qo=null,this.stream=null,this.Qo=new p4(e,n)}Ko(){return this.state===1||this.state===5||this.$o()}$o(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Uo()}async stop(){this.Ko()&&await this.close(0)}Wo(){this.state=0,this.Qo.reset()}Go(){this.$o()&&this.ko===null&&(this.ko=this.ii.enqueueAfterDelay(this.No,6e4,()=>this.zo()))}jo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.$o())return this.close(0)}Ho(){this.ko&&(this.ko.cancel(),this.ko=null)}Jo(){this.qo&&(this.qo.cancel(),this.qo=null)}async close(e,n){this.Ho(),this.Jo(),this.Qo.cancel(),this.Lo++,e!==4?this.Qo.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(Qs(n.toString()),Qs("Using maximum backoff delay to prevent overloading the backend."),this.Qo.Fo()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.uo(n)}Yo(){}auth(){this.state=1;const e=this.Zo(this.Lo),n=this.Lo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Lo===n&&this.Xo(r,i)},r=>{e(()=>{const i=new de(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.e_(i)})})}Xo(e,n){const r=this.Zo(this.Lo);this.stream=this.t_(e,n),this.stream._o(()=>{r(()=>(this.state=2,this.qo=this.ii.enqueueAfterDelay(this.Bo,1e4,()=>(this.$o()&&(this.state=3),Promise.resolve())),this.listener._o()))}),this.stream.uo(i=>{r(()=>this.e_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Uo(){this.state=5,this.Qo.Mo(async()=>{this.state=0,this.start()})}e_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Zo(e){return n=>{this.ii.enqueueAndForget(()=>this.Lo===e?n():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sae extends g4{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}t_(e,n){return this.connection.yo("Listen",e,n)}onMessage(e){this.Qo.reset();const n=yoe(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ae.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ae.min():o.readTime?rs(o.readTime):Ae.min()}(e);return this.listener.n_(n,r)}r_(e){const n={};n.database=tT(this.serializer),n.addTarget=function(s,o){let u;const l=o.target;if(u=YS(l)?{documents:Soe(s,l)}:{query:Toe(s,l)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=o4(s,o.resumeToken);const h=JS(s,o.expectedCount);h!==null&&(u.expectedCount=h)}else if(o.snapshotVersion.compareTo(Ae.min())>0){u.readTime=k_(s,o.snapshotVersion.toTimestamp());const h=JS(s,o.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=Coe(this.serializer,e);r&&(n.labels=r),this.jo(n)}i_(e){const n={};n.database=tT(this.serializer),n.removeTarget=e,this.jo(n)}}class oae extends g4{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.s_=!1}get o_(){return this.s_}start(){this.s_=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.s_&&this.__([])}t_(e,n){return this.connection.yo("Write",e,n)}onMessage(e){if(yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.s_){this.Qo.reset();const n=Eoe(e.writeResults,e.commitTime),r=rs(e.commitTime);return this.listener.a_(r,n)}return yt(!e.writeResults||e.writeResults.length===0),this.s_=!0,this.listener.u_()}c_(){const e={};e.database=tT(this.serializer),this.jo(e)}__(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>woe(this.serializer,r))};this.jo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aae extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.l_=!1}h_(){if(this.l_)throw new de(K.FAILED_PRECONDITION,"The client has already been terminated.")}Ro(e,n,r){return this.h_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Ro(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new de(K.UNKNOWN,i.toString())})}po(e,n,r,i){return this.h_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.po(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new de(K.UNKNOWN,s.toString())})}terminate(){this.l_=!0}}class uae{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.I_=0,this.T_=null,this.E_=!0}d_(){this.I_===0&&(this.A_("Unknown"),this.T_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.T_=null,this.R_("Backend didn't respond within 10 seconds."),this.A_("Offline"),Promise.resolve())))}V_(e){this.state==="Online"?this.A_("Unknown"):(this.I_++,this.I_>=1&&(this.m_(),this.R_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.A_("Offline")))}set(e){this.m_(),this.I_=0,e==="Online"&&(this.E_=!1),this.A_(e)}A_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}R_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.E_?(Qs(n),this.E_=!1):ge("OnlineStateTracker",n)}m_(){this.T_!==null&&(this.T_.cancel(),this.T_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lae{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.f_=[],this.g_=new Map,this.p_=new Set,this.y_=[],this.w_=s,this.w_.Ys(o=>{r.enqueueAndForget(async()=>{Ru(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(l){const h=ke(l);h.p_.add(4),await Gd(h),h.S_.set("Unknown"),h.p_.delete(4),await Cy(h)}(this))})}),this.S_=new uae(r,i)}}async function Cy(t){if(Ru(t))for(const e of t.y_)await e(!0)}async function Gd(t){for(const e of t.y_)await e(!1)}function m4(t,e){const n=ke(t);n.g_.has(e.targetId)||(n.g_.set(e.targetId,e),SR(n)?ER(n):Oc(n).$o()&&wR(n,e))}function _4(t,e){const n=ke(t),r=Oc(n);n.g_.delete(e),r.$o()&&v4(n,e),n.g_.size===0&&(r.$o()?r.Go():Ru(n)&&n.S_.set("Unknown"))}function wR(t,e){if(t.b_.Be(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oc(t).r_(e)}function v4(t,e){t.b_.Be(e),Oc(t).i_(e)}function ER(t){t.b_=new foe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.g_.get(e)||null,rt:()=>t.datastore.serializer.databaseId}),Oc(t).start(),t.S_.d_()}function SR(t){return Ru(t)&&!Oc(t).Ko()&&t.g_.size>0}function Ru(t){return ke(t).p_.size===0}function y4(t){t.b_=void 0}async function cae(t){t.g_.forEach((e,n)=>{wR(t,e)})}async function hae(t,e){y4(t),SR(t)?(t.S_.V_(e),ER(t)):t.S_.set("Unknown")}async function fae(t,e,n){if(t.S_.set("Online"),e instanceof s4&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const u of s.targetIds)i.g_.has(u)&&(await i.remoteSyncer.rejectListen(u,o),i.g_.delete(u),i.b_.removeTarget(u))}(t,e)}catch(r){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await b_(t,r)}else if(e instanceof sm?t.b_.We(e):e instanceof i4?t.b_.Ze(e):t.b_.je(e),!n.isEqual(Ae.min()))try{const r=await d4(t.localStore);n.compareTo(r)>=0&&await function(s,o){const u=s.b_.st(o);return u.targetChanges.forEach((l,h)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.g_.get(h);d&&s.g_.set(h,d.withResumeToken(l.resumeToken,o))}}),u.targetMismatches.forEach((l,h)=>{const d=s.g_.get(l);if(!d)return;s.g_.set(l,d.withResumeToken(Hn.EMPTY_BYTE_STRING,d.snapshotVersion)),v4(s,l);const p=new No(d.target,l,h,d.sequenceNumber);wR(s,p)}),s.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){ge("RemoteStore","Failed to raise snapshot:",r),await b_(t,r)}}async function b_(t,e,n){if(!jd(e))throw e;t.p_.add(1),await Gd(t),t.S_.set("Offline"),n||(n=()=>d4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await n(),t.p_.delete(1),await Cy(t)})}function w4(t,e){return e().catch(n=>b_(t,n,e))}async function Ry(t){const e=ke(t),n=ca(e);let r=e.f_.length>0?e.f_[e.f_.length-1].batchId:-1;for(;dae(e);)try{const i=await Xoe(e.localStore,r);if(i===null){e.f_.length===0&&n.Go();break}r=i.batchId,pae(e,i)}catch(i){await b_(e,i)}E4(e)&&S4(e)}function dae(t){return Ru(t)&&t.f_.length<10}function pae(t,e){t.f_.push(e);const n=ca(t);n.$o()&&n.o_&&n.__(e.mutations)}function E4(t){return Ru(t)&&!ca(t).Ko()&&t.f_.length>0}function S4(t){ca(t).start()}async function gae(t){ca(t).c_()}async function mae(t){const e=ca(t);for(const n of t.f_)e.__(n.mutations)}async function _ae(t,e,n){const r=t.f_.shift(),i=dR.from(r,e,n);await w4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ry(t)}async function vae(t,e){e&&ca(t).o_&&await async function(r,i){if(function(o){return loe(o)&&o!==K.ABORTED}(i.code)){const s=r.f_.shift();ca(r).Wo(),await w4(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ry(r)}}(t,e),E4(t)&&S4(t)}async function Jx(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const r=Ru(n);n.p_.add(3),await Gd(n),r&&n.S_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.p_.delete(3),await Cy(n)}async function yae(t,e){const n=ke(t);e?(n.p_.delete(2),await Cy(n)):e||(n.p_.add(2),await Gd(n),n.S_.set("Unknown"))}function Oc(t){return t.D_||(t.D_=function(n,r,i){const s=ke(n);return s.h_(),new sae(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{_o:cae.bind(null,t),uo:hae.bind(null,t),n_:fae.bind(null,t)}),t.y_.push(async e=>{e?(t.D_.Wo(),SR(t)?ER(t):t.S_.set("Unknown")):(await t.D_.stop(),y4(t))})),t.D_}function ca(t){return t.v_||(t.v_=function(n,r,i){const s=ke(n);return s.h_(),new oae(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{_o:gae.bind(null,t),uo:vae.bind(null,t),u_:mae.bind(null,t),a_:_ae.bind(null,t)}),t.y_.push(async e=>{e?(t.v_.Wo(),await Ry(t)):(await t.v_.stop(),t.f_.length>0&&(ge("RemoteStore",`Stopping write stream with ${t.f_.length} pending writes`),t.f_=[]))})),t.v_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ko,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,u=new TR(e,n,o,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function IR(t,e){if(Qs("AsyncQueue",`${e}: ${t}`),jd(t))return new de(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=Dh(),this.sortedSet=new Ot(this.comparator)}static emptySet(e){return new Ll(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ll)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ll;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(){this.C_=new Ot(_e.comparator)}track(e){const n=e.doc.key,r=this.C_.get(n);r?e.type!==0&&r.type===3?this.C_=this.C_.insert(n,e):e.type===3&&r.type!==1?this.C_=this.C_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.C_=this.C_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.C_=this.C_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.C_=this.C_.remove(n):e.type===1&&r.type===2?this.C_=this.C_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.C_=this.C_.insert(n,{type:2,doc:e.doc}):Ie():this.C_=this.C_.insert(n,e)}F_(){const e=[];return this.C_.inorderTraversal((n,r)=>{e.push(r)}),e}}class cc{constructor(e,n,r,i,s,o,u,l,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=l,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(u=>{o.push({type:0,doc:u})}),new cc(e,n,Ll.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wae{constructor(){this.M_=void 0,this.listeners=[]}}class Eae{constructor(){this.queries=new bc(e=>BV(e),yy),this.onlineState="Unknown",this.x_=new Set}}async function Sae(t,e){const n=ke(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new wae),i)try{s.M_=await n.onListen(r)}catch(o){const u=IR(o,`Initialization of query '${XS(e.query)}' failed`);return void e.onError(u)}n.queries.set(r,s),s.listeners.push(e),e.O_(n.onlineState),s.M_&&e.N_(s.M_)&&CR(n)}async function Tae(t,e){const n=ke(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Iae(t,e){const n=ke(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const u of o.listeners)u.N_(i)&&(r=!0);o.M_=i}}r&&CR(n)}function Cae(t,e,n){const r=ke(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function CR(t){t.x_.forEach(e=>{e.next()})}class Rae{constructor(e,n,r){this.query=e,this.B_=n,this.L_=!1,this.k_=null,this.onlineState="Unknown",this.options=r||{}}N_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new cc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.L_?this.q_(e)&&(this.B_.next(e),n=!0):this.Q_(e,this.onlineState)&&(this.K_(e),n=!0),this.k_=e,n}onError(e){this.B_.error(e)}O_(e){this.onlineState=e;let n=!1;return this.k_&&!this.L_&&this.Q_(this.k_,e)&&(this.K_(this.k_),n=!0),n}Q_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.U_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}q_(e){if(e.docChanges.length>0)return!0;const n=this.k_&&this.k_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}K_(e){e=cc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.L_=!0,this.B_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e){this.key=e}}class I4{constructor(e){this.key=e}}class Aae{constructor(e,n){this.query=e,this.Z_=n,this.X_=null,this.hasCachedResults=!1,this.current=!1,this.ea=We(),this.mutatedKeys=We(),this.ta=zV(e),this.na=new Ll(this.ta)}get ra(){return this.Z_}ia(e,n){const r=n?n.sa:new Zx,i=n?n.na:this.na;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,u=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{const g=i.get(d),v=wy(this.query,p)?p:null,E=!!g&&this.mutatedKeys.has(g.key),R=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let C=!1;g&&v?g.data.isEqual(v.data)?E!==R&&(r.track({type:3,doc:v}),C=!0):this.oa(g,v)||(r.track({type:2,doc:v}),C=!0,(l&&this.ta(v,l)>0||h&&this.ta(v,h)<0)&&(u=!0)):!g&&v?(r.track({type:0,doc:v}),C=!0):g&&!v&&(r.track({type:1,doc:g}),C=!0,(l||h)&&(u=!0)),C&&(v?(o=o.add(v),s=R?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{na:o,sa:r,zi:u,mutatedKeys:s}}oa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.na;this.na=e.na,this.mutatedKeys=e.mutatedKeys;const s=e.sa.F_();s.sort((h,d)=>function(g,v){const E=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return E(g)-E(v)}(h.type,d.type)||this.ta(h.doc,d.doc)),this._a(r);const o=n?this.aa():[],u=this.ea.size===0&&this.current?1:0,l=u!==this.X_;return this.X_=u,s.length!==0||l?{snapshot:new cc(this.query,e.na,i,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ua:o}:{ua:o}}O_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({na:this.na,sa:new Zx,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ua:[]}}ca(e){return!this.Z_.has(e)&&!!this.na.has(e)&&!this.na.get(e).hasLocalMutations}_a(e){e&&(e.addedDocuments.forEach(n=>this.Z_=this.Z_.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Z_=this.Z_.delete(n)),this.current=e.current)}aa(){if(!this.current)return[];const e=this.ea;this.ea=We(),this.na.forEach(r=>{this.ca(r.key)&&(this.ea=this.ea.add(r.key))});const n=[];return e.forEach(r=>{this.ea.has(r)||n.push(new I4(r))}),this.ea.forEach(r=>{e.has(r)||n.push(new T4(r))}),n}la(e){this.Z_=e.ss,this.ea=We();const n=this.ia(e.documents);return this.applyChanges(n,!0)}ha(){return cc.fromInitialDocuments(this.query,this.na,this.mutatedKeys,this.X_===0,this.hasCachedResults)}}class Pae{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class kae{constructor(e){this.key=e,this.Pa=!1}}class bae{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ia={},this.Ta=new bc(u=>BV(u),yy),this.Ea=new Map,this.da=new Set,this.Aa=new Ot(_e.comparator),this.Ra=new Map,this.Va=new _R,this.ma={},this.fa=new Map,this.ga=lc.On(),this.onlineState="Unknown",this.pa=void 0}get isPrimaryClient(){return this.pa===!0}}async function Oae(t,e){const n=Wae(t);let r,i;const s=n.Ta.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ha();else{const o=await Joe(n.localStore,Xs(e)),u=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await Nae(n,e,r,u==="current",o.resumeToken),n.isPrimaryClient&&m4(n.remoteStore,o)}return i}async function Nae(t,e,n,r,i){t.ya=(p,g,v)=>async function(R,C,S,T){let k=C.view.ia(S);k.zi&&(k=await Kx(R.localStore,C.query,!1).then(({documents:V})=>C.view.ia(V,k)));const b=T&&T.targetChanges.get(C.targetId),F=C.view.applyChanges(k,R.isPrimaryClient,b);return tD(R,C.targetId,F.ua),F.snapshot}(t,p,g,v);const s=await Kx(t.localStore,e,!0),o=new Aae(e,s.ss),u=o.ia(s.documents),l=Hd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(u,t.isPrimaryClient,l);tD(t,n,h.ua);const d=new Pae(e,n,o);return t.Ta.set(e,d),t.Ea.has(n)?t.Ea.get(n).push(e):t.Ea.set(n,[e]),h.snapshot}async function xae(t,e){const n=ke(t),r=n.Ta.get(e),i=n.Ea.get(r.targetId);if(i.length>1)return n.Ea.set(r.targetId,i.filter(s=>!yy(s,e))),void n.Ta.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await nT(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),_4(n.remoteStore,r.targetId),rT(n,r.targetId)}).catch(Wd)):(rT(n,r.targetId),await nT(n.localStore,r.targetId,!0))}async function Dae(t,e,n){const r=jae(t);try{const i=await function(o,u){const l=ke(o),h=nn.now(),d=u.reduce((v,E)=>v.add(E.key),We());let p,g;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let E=Js(),R=We();return l.Xi.getEntries(v,d).next(C=>{E=C,E.forEach((S,T)=>{T.isValidDocument()||(R=R.add(S))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,E)).next(C=>{p=C;const S=[];for(const T of u){const k=ioe(T,p.get(T.key).overlayedDocument);k!=null&&S.push(new Cu(T.key,k,xV(k.value.mapValue),$s.exists(!0)))}return l.mutationQueue.addMutationBatch(v,h,S,u)}).next(C=>{g=C;const S=C.applyToLocalDocumentSet(p,R);return l.documentOverlayCache.saveOverlays(v,C.batchId,S)})}).then(()=>({batchId:g.batchId,changes:GV(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,u,l){let h=o.ma[o.currentUser.toKey()];h||(h=new Ot(Ze)),h=h.insert(u,l),o.ma[o.currentUser.toKey()]=h}(r,i.batchId,n),await qd(r,i.changes),await Ry(r.remoteStore)}catch(i){const s=IR(i,"Failed to persist write");n.reject(s)}}async function C4(t,e){const n=ke(t);try{const r=await Koe(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ra.get(s);o&&(yt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Pa=!0:i.modifiedDocuments.size>0?yt(o.Pa):i.removedDocuments.size>0&&(yt(o.Pa),o.Pa=!1))}),await qd(n,r,e)}catch(r){await Wd(r)}}function eD(t,e,n){const r=ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Ta.forEach((s,o)=>{const u=o.view.O_(e);u.snapshot&&i.push(u.snapshot)}),function(o,u){const l=ke(o);l.onlineState=u;let h=!1;l.queries.forEach((d,p)=>{for(const g of p.listeners)g.O_(u)&&(h=!0)}),h&&CR(l)}(r.eventManager,e),i.length&&r.Ia.n_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Lae(t,e,n){const r=ke(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ra.get(e),s=i&&i.key;if(s){let o=new Ot(_e.comparator);o=o.insert(s,Un.newNoDocument(s,Ae.min()));const u=We().add(s),l=new Ty(Ae.min(),new Map,new Ot(Ze),o,u);await C4(r,l),r.Aa=r.Aa.remove(s),r.Ra.delete(e),RR(r)}else await nT(r.localStore,e,!1).then(()=>rT(r,e,n)).catch(Wd)}async function Mae(t,e){const n=ke(t),r=e.batch.batchId;try{const i=await Yoe(n.localStore,e);A4(n,r,null),R4(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await qd(n,i)}catch(i){await Wd(i)}}async function Uae(t,e,n){const r=ke(t);try{const i=await function(o,u){const l=ke(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return l.mutationQueue.lookupMutationBatch(h,u).next(p=>(yt(p!==null),d=p.keys(),l.mutationQueue.removeMutationBatch(h,p))).next(()=>l.mutationQueue.performConsistencyCheck(h)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(h,d,u)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>l.localDocuments.getDocuments(h,d))})}(r.localStore,e);A4(r,e,n),R4(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await qd(r,i)}catch(i){await Wd(i)}}function R4(t,e){(t.fa.get(e)||[]).forEach(n=>{n.resolve()}),t.fa.delete(e)}function A4(t,e,n){const r=ke(t);let i=r.ma[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ma[r.currentUser.toKey()]=i}}function rT(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ea.get(e))t.Ta.delete(r),n&&t.Ia.wa(r,n);t.Ea.delete(e),t.isPrimaryClient&&t.Va.Ar(e).forEach(r=>{t.Va.containsKey(r)||P4(t,r)})}function P4(t,e){t.da.delete(e.path.canonicalString());const n=t.Aa.get(e);n!==null&&(_4(t.remoteStore,n),t.Aa=t.Aa.remove(e),t.Ra.delete(n),RR(t))}function tD(t,e,n){for(const r of n)r instanceof T4?(t.Va.addReference(r.key,e),Fae(t,r)):r instanceof I4?(ge("SyncEngine","Document no longer in limbo: "+r.key),t.Va.removeReference(r.key,e),t.Va.containsKey(r.key)||P4(t,r.key)):Ie()}function Fae(t,e){const n=e.key,r=n.path.canonicalString();t.Aa.get(n)||t.da.has(r)||(ge("SyncEngine","New document in limbo: "+n),t.da.add(r),RR(t))}function RR(t){for(;t.da.size>0&&t.Aa.size<t.maxConcurrentLimboResolutions;){const e=t.da.values().next().value;t.da.delete(e);const n=new _e(_t.fromString(e)),r=t.ga.next();t.Ra.set(r,new kae(n)),t.Aa=t.Aa.insert(n,r),m4(t.remoteStore,new No(Xs(VV(n.path)),r,"TargetPurposeLimboResolution",oR.ae))}}async function qd(t,e,n){const r=ke(t),i=[],s=[],o=[];r.Ta.isEmpty()||(r.Ta.forEach((u,l)=>{o.push(r.ya(l,e,n).then(h=>{if((h||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,h!=null&&h.fromCache?"not-current":"current"),h){i.push(h);const d=yR.qi(l.targetId,h);s.push(d)}}))}),await Promise.all(o),r.Ia.n_(i),await async function(l,h){const d=ke(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>ee.forEach(h,g=>ee.forEach(g.Li,v=>d.persistence.referenceDelegate.addReference(p,g.targetId,v)).next(()=>ee.forEach(g.ki,v=>d.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))}catch(p){if(!jd(p))throw p;ge("LocalStore","Failed to update sequence numbers: "+p)}for(const p of h){const g=p.targetId;if(!p.fromCache){const v=d.Ji.get(g),E=v.snapshotVersion,R=v.withLastLimboFreeSnapshotVersion(E);d.Ji=d.Ji.insert(g,R)}}}(r.localStore,s))}async function $ae(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const r=await f4(n.localStore,e);n.currentUser=e,function(s,o){s.fa.forEach(u=>{u.forEach(l=>{l.reject(new de(K.CANCELLED,o))})}),s.fa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await qd(n,r.ts)}}function Vae(t,e){const n=ke(t),r=n.Ra.get(e);if(r&&r.Pa)return We().add(r.key);{let i=We();const s=n.Ea.get(e);if(!s)return i;for(const o of s){const u=n.Ta.get(o);i=i.unionWith(u.view.ra)}return i}}function Wae(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=C4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vae.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lae.bind(null,e),e.Ia.n_=Iae.bind(null,e.eventManager),e.Ia.wa=Cae.bind(null,e.eventManager),e}function jae(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Mae.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Uae.bind(null,e),e}class nD{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Iy(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return qoe(this.persistence,new Hoe,e.initialUser,this.serializer)}createPersistence(e){return new Boe(vR.zr,this.serializer)}createSharedClientState(e){return new eae}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Bae{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>eD(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$ae.bind(null,this.syncEngine),await yae(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Eae}()}createDatastore(e){const n=Iy(e.databaseInfo.databaseId),r=function(s){return new iae(s)}(e.databaseInfo);return function(s,o,u,l){return new aae(s,o,u,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,u){return new lae(r,i,s,o,u)}(this.localStore,this.datastore,e.asyncQueue,n=>eD(this.syncEngine,n,0),function(){return Xx.v()?new Xx:new tae}())}createSyncEngine(e,n){return function(i,s,o,u,l,h,d){const p=new bae(i,s,o,u,l,h);return d&&(p.pa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ke(n);ge("RemoteStore","RemoteStore shutting down."),r.p_.add(5),await Gd(r),r.w_.shutdown(),r.S_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zae{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Da(this.observer.next,e)}error(e){this.observer.error?this.Da(this.observer.error,e):Qs("Uncaught Error in snapshot listener:",e.toString())}va(){this.muted=!0}Da(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hae{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ln.UNAUTHENTICATED,this.clientId=bV.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ge("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ge("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new de(K.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ko;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=IR(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function LE(t,e){t.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await f4(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function rD(t,e){t.asyncQueue.verifyOperationInProgress();const n=await qae(t);ge("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Jx(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Jx(e.remoteStore,s)),t._onlineComponents=e}function Gae(t){return t.name==="FirebaseError"?t.code===K.FAILED_PRECONDITION||t.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function qae(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await LE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Gae(n))throw n;sc("Error using user provided cache. Falling back to memory cache: "+n),await LE(t,new nD)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await LE(t,new nD);return t._offlineComponents}async function k4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await rD(t,t._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await rD(t,new Bae))),t._onlineComponents}function Yae(t){return k4(t).then(e=>e.syncEngine)}async function Kae(t){const e=await k4(t),n=e.eventManager;return n.onListen=Oae.bind(null,e.syncEngine),n.onUnlisten=xae.bind(null,e.syncEngine),n}function Qae(t,e,n={}){const r=new Ko;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,u,l,h){const d=new zae({next:g=>{o.enqueueAndForget(()=>Tae(s,p)),g.fromCache&&l.source==="server"?h.reject(new de(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),p=new Rae(u,d,{includeMetadataChanges:!0,U_:!0});return Sae(s,p)}(await Kae(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(t,e,n){if(!n)throw new de(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Xae(t,e,n,r){if(e===!0&&r===!0)throw new de(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function sD(t){if(!_e.isDocumentKey(t))throw new de(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function oD(t){if(_e.isDocumentKey(t))throw new de(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ay(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie()}function nd(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ay(t);throw new de(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new de(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Xae("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=b4((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new de(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new de(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new de(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Py{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aD({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new de(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new de(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aD(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new mse;switch(r.type){case"firstParty":return new wse(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=iD.get(n);r&&(ge("ComponentProvider","Removing Datastore"),iD.delete(n),r.terminate())}(this),Promise.resolve()}}function Jae(t,e,n,r={}){var i;const s=(t=nd(t,Py))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&sc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let u,l;if(typeof r.mockUserToken=="string")u=r.mockUserToken,l=Ln.MOCK_USER;else{u=NI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new de(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ln(h)}t._authCredentials=new _se(new kV(u,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Nc(this.firestore,e,this._query)}}class kr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kr(this.firestore,e,this._key)}}class Qo extends Nc{constructor(e,n,r){super(e,n,VV(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kr(this.firestore,null,new _e(e))}withConverter(e){return new Qo(this.firestore,e,this._path)}}function Zae(t,e,...n){if(t=wt(t),O4("collection","path",e),t instanceof Py){const r=_t.fromString(e,...n);return oD(r),new Qo(t,null,r)}{if(!(t instanceof kr||t instanceof Qo))throw new de(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_t.fromString(e,...n));return oD(r),new Qo(t.firestore,null,r)}}function eue(t,e,...n){if(t=wt(t),arguments.length===1&&(e=bV.V()),O4("doc","path",e),t instanceof Py){const r=_t.fromString(e,...n);return sD(r),new kr(t,null,new _e(r))}{if(!(t instanceof kr||t instanceof Qo))throw new de(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_t.fromString(e,...n));return sD(r),new kr(t.firestore,t instanceof Qo?t.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tue{constructor(){this.Ua=Promise.resolve(),this.Wa=[],this.Ga=!1,this.za=[],this.ja=null,this.Ha=!1,this.Ja=!1,this.Ya=[],this.Qo=new p4(this,"async_queue_retry"),this.Za=()=>{const n=DE();n&&ge("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Qo.Oo()};const e=DE();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Za)}get isShuttingDown(){return this.Ga}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xa(),this.eu(e)}enterRestrictedMode(e){if(!this.Ga){this.Ga=!0,this.Ja=e||!1;const n=DE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Za)}}enqueue(e){if(this.Xa(),this.Ga)return new Promise(()=>{});const n=new Ko;return this.eu(()=>this.Ga&&this.Ja?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Wa.push(e),this.tu()))}async tu(){if(this.Wa.length!==0){try{await this.Wa[0](),this.Wa.shift(),this.Qo.reset()}catch(e){if(!jd(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.Wa.length>0&&this.Qo.Mo(()=>this.tu())}}eu(e){const n=this.Ua.then(()=>(this.Ha=!0,e().catch(r=>{this.ja=r,this.Ha=!1;const i=function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),u}(r);throw Qs("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ha=!1,r))));return this.Ua=n,n}enqueueAfterDelay(e,n,r){this.Xa(),this.Ya.indexOf(e)>-1&&(n=0);const i=TR.createAndSchedule(this,e,n,r,s=>this.nu(s));return this.za.push(i),i}Xa(){this.ja&&Ie()}verifyOperationInProgress(){}async ru(){let e;do e=this.Ua,await e;while(e!==this.Ua)}iu(e){for(const n of this.za)if(n.timerId===e)return!0;return!1}su(e){return this.ru().then(()=>{this.za.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.za)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ru()})}ou(e){this.Ya.push(e)}nu(e){const n=this.za.indexOf(e);this.za.splice(n,1)}}class AR extends Py{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new tue}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||x4(this),this._firestoreClient.terminate()}}function nue(t,e){const n=typeof t=="object"?t:Fv(),r=typeof t=="string"?t:e||"(default)",i=wd(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=OI("firestore");s&&Jae(i,...s)}return i}function N4(t){return t._firestoreClient||x4(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function x4(t){var e,n,r;const i=t._freezeSettings(),s=function(u,l,h,d){return new Nse(u,l,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,b4(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Hae(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hc(Hn.fromBase64String(e))}catch(n){throw new de(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new hc(Hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rue=/^__.*__$/;class iue{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Cu(e,this.data,this.fieldMask,n,this.fieldTransforms):new zd(e,this.data,n,this.fieldTransforms)}}function L4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class bR{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this._u(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get au(){return this.settings.au}uu(e){return new bR(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.uu({path:r,lu:!1});return i.hu(e),i}Pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.uu({path:r,lu:!1});return i._u(),i}Iu(e){return this.uu({path:void 0,lu:!0})}Tu(e){return O_(e,this.settings.methodName,this.settings.Eu||!1,this.path,this.settings.du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_u(){if(this.path)for(let e=0;e<this.path.length;e++)this.hu(this.path.get(e))}hu(e){if(e.length===0)throw this.Tu("Document fields must not be empty");if(L4(this.au)&&rue.test(e))throw this.Tu('Document fields cannot begin and end with "__"')}}class sue{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Iy(e)}Au(e,n,r,i=!1){return new bR({au:e,methodName:n,du:r,path:Fn.emptyPath(),lu:!1,Eu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function M4(t){const e=t._freezeSettings(),n=Iy(t._databaseId);return new sue(t._databaseId,!!e.ignoreUndefinedProperties,n)}function oue(t,e,n,r,i,s={}){const o=t.Au(s.merge||s.mergeFields?2:0,e,n,i);$4("Data must be an object, but it was:",o,r);const u=U4(r,o);let l,h;if(s.merge)l=new Ti(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const p of s.mergeFields){const g=uue(e,p,n);if(!o.contains(g))throw new de(K.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);cue(d,g)||d.push(g)}l=new Ti(d),h=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,h=o.fieldTransforms;return new iue(new Jr(u),l,h)}function aue(t,e,n,r=!1){return OR(n,t.Au(r?4:3,e))}function OR(t,e){if(F4(t=wt(t)))return $4("Unsupported field value:",e,t),U4(t,e);if(t instanceof D4)return function(r,i){if(!L4(i.au))throw i.Tu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.lu&&e.au!==4)throw e.Tu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const u of r){let l=OR(u,i.Iu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Jse(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=nn.fromDate(r);return{timestampValue:k_(i.serializer,s)}}if(r instanceof nn){const s=new nn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:k_(i.serializer,s)}}if(r instanceof kR)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof hc)return{bytesValue:o4(i.serializer,r._byteString)};if(r instanceof kr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Tu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:mR(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Tu(`Unsupported field value: ${Ay(r)}`)}(t,e)}function U4(t,e){const n={};return OV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):kc(t,(r,i)=>{const s=OR(i,e.cu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function F4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nn||t instanceof kR||t instanceof hc||t instanceof kr||t instanceof D4)}function $4(t,e,n){if(!F4(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Ay(n);throw r==="an object"?e.Tu(t+" a custom object"):e.Tu(t+" "+r)}}function uue(t,e,n){if((e=wt(e))instanceof PR)return e._internalPath;if(typeof e=="string")return V4(t,e);throw O_("Field path arguments must be of type string or ",t,!1,void 0,n)}const lue=new RegExp("[~\\*/\\[\\]]");function V4(t,e,n){if(e.search(lue)>=0)throw O_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new PR(...e.split("."))._internalPath}catch{throw O_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function O_(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new de(K.INVALID_ARGUMENT,u+t+l)}function cue(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new kr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hue(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(NR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hue extends W4{data(){return super.data()}}function NR(t,e){return typeof e=="string"?V4(t,e):e instanceof PR?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fue(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xR{}class due extends xR{}function pue(t,e,...n){let r=[];e instanceof xR&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof DR).length,u=s.filter(l=>l instanceof ky).length;if(o>1||o>0&&u>0)throw new de(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ky extends due{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ky(e,n,r)}_apply(e){const n=this._parse(e);return j4(e._query,n),new Nc(e.firestore,e.converter,KS(e._query,n))}_parse(e){const n=M4(e.firestore);return function(s,o,u,l,h,d,p){let g;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new de(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){cD(p,d);const v=[];for(const E of p)v.push(lD(l,s,E));g={arrayValue:{values:v}}}else g=lD(l,s,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||cD(p,d),g=aue(u,o,p,d==="in"||d==="not-in");return Gt.create(h,d,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function uD(t,e,n){const r=e,i=NR("where",t);return ky._create(i,r,n)}class DR extends xR{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new DR(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ni.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const u=s.getFlattenedFilters();for(const l of u)j4(o,l),o=KS(o,l)}(e._query,n),new Nc(e.firestore,e.converter,KS(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function lD(t,e,n){if(typeof(n=wt(n))=="string"){if(n==="")throw new de(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jV(e)&&n.indexOf("/")!==-1)throw new de(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(_t.fromString(n));if(!_e.isDocumentKey(r))throw new de(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Nx(t,new _e(r))}if(n instanceof kr)return Nx(t,n._key);throw new de(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ay(n)}.`)}function cD(t,e){if(!Array.isArray(t)||t.length===0)throw new de(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function j4(t,e){if(e.isInequality()){const r=fR(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new de(K.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=WV(t);s!==null&&gue(t,i,s)}const n=function(i,s){for(const o of i)for(const u of o.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new de(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function gue(t,e,n){if(!n.isEqual(e))throw new de(K.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class mue{convertValue(e,n="none"){switch(du(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return kc(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new kR(zt(e.latitude),zt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=uR(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xf(e));default:return null}}convertTimestamp(e){const n=la(e);return new nn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_t.fromString(e);yt(h4(r));const i=new Jf(r.get(1),r.get(3)),s=new _e(r.popFirst(5));return i.isEqual(n)||Qs(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ue(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vue extends W4{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new om(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(NR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class om extends vue{data(e={}){return super.data(e)}}class yue{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Eg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new om(this._firestore,this._userDataWriter,r.key,r,new Eg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>{const l=new om(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Eg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const l=new om(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Eg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,d=-1;return u.type!==0&&(h=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),d=o.indexOf(u.doc.key)),{type:wue(u.type),doc:l,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function wue(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}class Eue extends mue{constructor(e){super(),this.firestore=e}convertBytes(e){return new hc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kr(this.firestore,null,n)}}function Sue(t){t=nd(t,Nc);const e=nd(t.firestore,AR),n=N4(e),r=new Eue(e);return fue(t._query),Qae(n,t._query).then(i=>new yue(e,r,t,i))}function Tue(t,e,n){t=nd(t,kr);const r=nd(t.firestore,AR),i=_ue(t.converter,e,n);return Iue(r,[oue(M4(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,$s.none())])}function Iue(t,e){return function(r,i){const s=new Ko;return r.asyncQueue.enqueueAndForget(async()=>Dae(await Yae(r),i,s)),s.promise}(N4(t),e)}(function(e,n=!0){(function(i){Pc=i})(ma),ia(new Hs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),u=new AR(new vse(r.getProvider("auth-internal")),new Sse(r.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new de(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jf(h.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),ni(Ax,"4.0.0",e),ni(Ax,"4.0.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4="firebasestorage.googleapis.com",z4="storageBucket",Cue=2*60*1e3,Rue=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft extends as{constructor(e,n,r=0){super(ME(e),`Firebase Storage: ${n} (${ME(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ft.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ME(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ut;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ut||(Ut={}));function ME(t){return"storage/"+t}function LR(){const t="An unknown error occurred, please check the error payload for server response.";return new Ft(Ut.UNKNOWN,t)}function Aue(t){return new Ft(Ut.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Pue(t){return new Ft(Ut.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function kue(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ft(Ut.UNAUTHENTICATED,t)}function bue(){return new Ft(Ut.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Oue(t){return new Ft(Ut.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Nue(){return new Ft(Ut.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xue(){return new Ft(Ut.CANCELED,"User canceled the upload/download.")}function Due(t){return new Ft(Ut.INVALID_URL,"Invalid URL '"+t+"'.")}function Lue(t){return new Ft(Ut.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Mue(){return new Ft(Ut.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+z4+"' property when initializing the app?")}function Uue(){return new Ft(Ut.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Fue(){return new Ft(Ut.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function $ue(t){return new Ft(Ut.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function iT(t){return new Ft(Ut.INVALID_ARGUMENT,t)}function H4(){return new Ft(Ut.APP_DELETED,"The Firebase app was deleted.")}function Vue(t){return new Ft(Ut.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function rf(t,e){return new Ft(Ut.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Eh(t){throw new Ft(Ut.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ar.makeFromUrl(e,n)}catch{return new Ar(e,"")}if(r.path==="")return r;throw Lue(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const o="(/(.*))?$",u=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function h(b){b.path_=decodeURIComponent(b.path)}const d="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",v=new RegExp(`^https?://${p}/${d}/b/${i}/o${g}`,"i"),E={bucket:1,path:3},R=n===B4?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",S=new RegExp(`^https?://${R}/${i}/${C}`,"i"),k=[{regex:u,indices:l,postModify:s},{regex:v,indices:E,postModify:h},{regex:S,indices:{bucket:1,path:2},postModify:h}];for(let b=0;b<k.length;b++){const F=k[b],V=F.regex.exec(e);if(V){const W=V[F.indices.bucket];let q=V[F.indices.path];q||(q=""),r=new Ar(W,q),F.postModify(r);break}}if(r==null)throw Due(e);return r}}class Wue{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jue(t,e,n){let r=1,i=null,s=null,o=!1,u=0;function l(){return u===2}let h=!1;function d(...C){h||(h=!0,e.apply(null,C))}function p(C){i=setTimeout(()=>{i=null,t(v,l())},C)}function g(){s&&clearTimeout(s)}function v(C,...S){if(h){g();return}if(C){g(),d.call(null,C,...S);return}if(l()||o){g(),d.call(null,C,...S);return}r<64&&(r*=2);let k;u===1?(u=2,k=0):k=(r+Math.random())*1e3,p(k)}let E=!1;function R(C){E||(E=!0,g(),!h&&(i!==null?(C||(u=2),clearTimeout(i),p(0)):C||(u=1)))}return p(0),s=setTimeout(()=>{o=!0,R(!0)},n),R}function Bue(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zue(t){return t!==void 0}function Hue(t){return typeof t=="object"&&!Array.isArray(t)}function MR(t){return typeof t=="string"||t instanceof String}function hD(t){return UR()&&t instanceof Blob}function UR(){return typeof Blob<"u"&&!KK()}function fD(t,e,n,r){if(r<e)throw iT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw iT(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function G4(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xa;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Xa||(Xa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gue(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class que{constructor(e,n,r,i,s,o,u,l,h,d,p,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=l,this.timeout_=h,this.progressCallback_=d,this.connectionFactory_=p,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,E)=>{this.resolve_=v,this.reject_=E,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Sg(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=u=>{const l=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,h)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const u=s.getErrorCode()===Xa.NO_ERROR,l=s.getStatus();if(!u||Gue(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===Xa.ABORT;r(!1,new Sg(!1,null,d));return}const h=this.successCodes_.indexOf(l)!==-1;r(!0,new Sg(h,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(u,u.getResponse());zue(l)?s(l):s()}catch(l){o(l)}else if(u!==null){const l=LR();l.serverResponse=u.getErrorText(),this.errorCallback_?o(this.errorCallback_(u,l)):o(l)}else if(i.canceled){const l=this.appDelete_?H4():xue();o(l)}else{const l=Nue();o(l)}};this.canceled_?n(!1,new Sg(!1,null,!0)):this.backoffId_=jue(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Bue(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Sg{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Yue(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Kue(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Que(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Xue(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Jue(t,e,n,r,i,s,o=!0){const u=G4(t.urlParams),l=t.url+u,h=Object.assign({},t.headers);return Que(h,e),Yue(h,n),Kue(h,s),Xue(h,r),new que(l,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zue(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function ele(...t){const e=Zue();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(UR())return new Blob(t);throw new Ft(Ut.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function tle(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nle(t){if(typeof atob>"u")throw $ue("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class UE{constructor(e,n){this.data=e,this.contentType=n||null}}function rle(t,e){switch(t){case Xi.RAW:return new UE(q4(e));case Xi.BASE64:case Xi.BASE64URL:return new UE(Y4(t,e));case Xi.DATA_URL:return new UE(sle(e),ole(e))}throw LR()}function q4(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function ile(t){let e;try{e=decodeURIComponent(t)}catch{throw rf(Xi.DATA_URL,"Malformed data URL.")}return q4(e)}function Y4(t,e){switch(t){case Xi.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw rf(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Xi.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw rf(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=nle(e)}catch(i){throw i.message.includes("polyfill")?i:rf(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class K4{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw rf(Xi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=ale(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function sle(t){const e=new K4(t);return e.base64?Y4(Xi.BASE64,e.rest):ile(e.rest)}function ole(t){return new K4(t).contentType}function ale(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n){let r=0,i="";hD(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(hD(this.data_)){const r=this.data_,i=tle(r,e,n);return i===null?null:new Io(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Io(r,!0)}}static getBlob(...e){if(UR()){const n=e.map(r=>r instanceof Io?r.data_:r);return new Io(ele.apply(null,n))}else{const n=e.map(o=>MR(o)?rle(Xi.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let u=0;u<o.length;u++)i[s++]=o[u]}),new Io(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(t){let e;try{e=JSON.parse(t)}catch{return null}return Hue(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ule(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function lle(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function X4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cle(t,e){return e}class Xn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||cle}}let Tg=null;function hle(t){return!MR(t)||t.length<2?t:X4(t)}function J4(){if(Tg)return Tg;const t=[];t.push(new Xn("bucket")),t.push(new Xn("generation")),t.push(new Xn("metageneration")),t.push(new Xn("name","fullPath",!0));function e(s,o){return hle(o)}const n=new Xn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Xn("size");return i.xform=r,t.push(i),t.push(new Xn("timeCreated")),t.push(new Xn("updated")),t.push(new Xn("md5Hash",null,!0)),t.push(new Xn("cacheControl",null,!0)),t.push(new Xn("contentDisposition",null,!0)),t.push(new Xn("contentEncoding",null,!0)),t.push(new Xn("contentLanguage",null,!0)),t.push(new Xn("contentType",null,!0)),t.push(new Xn("metadata","customMetadata",!0)),Tg=t,Tg}function fle(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Ar(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function dle(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return fle(r,t),r}function Z4(t,e,n){const r=Q4(e);return r===null?null:dle(t,r,n)}function ple(t,e,n,r){const i=Q4(e);if(i===null||!MR(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(h=>{const d=t.bucket,p=t.fullPath,g="/b/"+o(d)+"/o/"+o(p),v=FR(g,n,r),E=G4({alt:"media",token:h});return v+E})[0]}function gle(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class e3{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(t){if(!t)throw LR()}function mle(t,e){function n(r,i){const s=Z4(t,i,e);return t3(s!==null),s}return n}function _le(t,e){function n(r,i){const s=Z4(t,i,e);return t3(s!==null),ple(s,i,t.host,t._protocol)}return n}function n3(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=bue():i=kue():n.getStatus()===402?i=Pue(t.bucket):n.getStatus()===403?i=Oue(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function vle(t){const e=n3(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Aue(t.path)),s.serverResponse=i.serverResponse,s}return n}function yle(t,e,n){const r=e.fullServerUrl(),i=FR(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,u=new e3(i,s,_le(t,n),o);return u.errorHandler=vle(e),u}function wle(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Ele(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=wle(null,e)),r}function Sle(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function u(){let k="";for(let b=0;b<2;b++)k=k+Math.random().toString().slice(2);return k}const l=u();o["Content-Type"]="multipart/related; boundary="+l;const h=Ele(e,r,i),d=gle(h,n),p="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+h.contentType+`\r
\r
`,g=`\r
--`+l+"--",v=Io.getBlob(p,r,g);if(v===null)throw Uue();const E={name:h.fullPath},R=FR(s,t.host,t._protocol),C="POST",S=t.maxUploadRetryTime,T=new e3(R,C,mle(t,n),S);return T.urlParams=E,T.headers=o,T.body=v.uploadData(),T.errorHandler=n3(e),T}class Tle{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Xa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Xa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Xa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Eh("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Eh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Eh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Eh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Eh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Ile extends Tle{initXhr(){this.xhr_.responseType="text"}}function r3(){return new Ile}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n){this._service=e,n instanceof Ar?this._location=n:this._location=Ar.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new pu(e,n)}get root(){const e=new Ar(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return X4(this._location.path)}get storage(){return this._service}get parent(){const e=ule(this._location.path);if(e===null)return null;const n=new Ar(this._location.bucket,e);return new pu(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Vue(e)}}function Cle(t,e,n){t._throwIfRoot("uploadBytes");const r=Sle(t.storage,t._location,J4(),new Io(e,!0),n);return t.storage.makeRequestWithTokens(r,r3).then(i=>({metadata:i,ref:t}))}function Rle(t){t._throwIfRoot("getDownloadURL");const e=yle(t.storage,t._location,J4());return t.storage.makeRequestWithTokens(e,r3).then(n=>{if(n===null)throw Fue();return n})}function Ale(t,e){const n=lle(t._location.path,e),r=new Ar(t._location.bucket,n);return new pu(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ple(t){return/^[A-Za-z]+:\/\//.test(t)}function kle(t,e){return new pu(t,e)}function i3(t,e){if(t instanceof $R){const n=t;if(n._bucket==null)throw Mue();const r=new pu(n,n._bucket);return e!=null?i3(r,e):r}else return e!==void 0?Ale(t,e):t}function ble(t,e){if(e&&Ple(e)){if(t instanceof $R)return kle(t,e);throw iT("To use ref(service, url), the first argument must be a Storage instance.")}else return i3(t,e)}function dD(t,e){const n=e==null?void 0:e[z4];return n==null?null:Ar.makeFromBucketSpec(n,t)}function Ole(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:NI(i,t.app.options.projectId))}class $R{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=B4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Cue,this._maxUploadRetryTime=Rue,this._requests=new Set,i!=null?this._bucket=Ar.makeFromBucketSpec(i,this._host):this._bucket=dD(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ar.makeFromBucketSpec(this._url,e):this._bucket=dD(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fD("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fD("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new pu(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Wue(H4());{const o=Jue(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const pD="@firebase/storage",gD="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3="storage";function Nle(t,e,n){return t=wt(t),Cle(t,e,n)}function xle(t){return t=wt(t),Rle(t)}function Dle(t,e){return t=wt(t),ble(t,e)}function Lle(t=Fv(),e){t=wt(t);const r=wd(t,s3).getImmediate({identifier:e}),i=OI("storage");return i&&Mle(r,...i),r}function Mle(t,e,n,r={}){Ole(t,e,n,r)}function Ule(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new $R(n,r,i,e,ma)}function Fle(){ia(new Hs(s3,Ule,"PUBLIC").setMultipleInstances(!0)),ni(pD,gD,""),ni(pD,gD,"esm2017")}Fle();let Ig;const $le=new Uint8Array(16);function Vle(){if(!Ig&&(Ig=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ig))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ig($le)}const gn=[];for(let t=0;t<256;++t)gn.push((t+256).toString(16).slice(1));function Wle(t,e=0){return(gn[t[e+0]]+gn[t[e+1]]+gn[t[e+2]]+gn[t[e+3]]+"-"+gn[t[e+4]]+gn[t[e+5]]+"-"+gn[t[e+6]]+gn[t[e+7]]+"-"+gn[t[e+8]]+gn[t[e+9]]+"-"+gn[t[e+10]]+gn[t[e+11]]+gn[t[e+12]]+gn[t[e+13]]+gn[t[e+14]]+gn[t[e+15]]).toLowerCase()}const jle=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),mD={randomUUID:jle};function Ble(t,e,n){if(mD.randomUUID&&!e&&!t)return mD.randomUUID();t=t||{};const r=t.random||(t.rng||Vle)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return Wle(r)}var zle={apiKey:"AIzaSyAS70hZZxcHz-tNpYJtP0t3-f5vKPKa_xc",authDomain:"react-chat-app-5d058.firebaseapp.com",projectId:"react-chat-app-5d058",storageBucket:"react-chat-app-5d058.appspot.com",messagingSenderId:"464613708419",appId:"1:464613708419:web:a616818e812b956df041b6"},o3=function(e){return e.split("/").join(".").split("-").join("_")};function fc(t){return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fc(t)}function Cg(t,e,n){return e=Hle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hle(t){var e=Gle(t,"string");return fc(e)==="symbol"?e:String(e)}function Gle(t,e){if(fc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xi(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */xi=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(I,_,w){I[_]=w.value},i=typeof Symbol=="function"?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(I,_,w){return Object.defineProperty(I,_,{value:w,enumerable:!0,configurable:!0,writable:!0}),I[_]}try{l({},"")}catch{l=function(w,N,D){return w[N]=D}}function h(I,_,w,N){var D=_&&_.prototype instanceof g?_:g,O=Object.create(D.prototype),M=new ie(N||[]);return r(O,"_invoke",{value:F(I,w,M)}),O}function d(I,_,w){try{return{type:"normal",arg:I.call(_,w)}}catch(N){return{type:"throw",arg:N}}}t.wrap=h;var p={};function g(){}function v(){}function E(){}var R={};l(R,s,function(){return this});var C=Object.getPrototypeOf,S=C&&C(C(re([])));S&&S!==e&&n.call(S,s)&&(R=S);var T=E.prototype=g.prototype=Object.create(R);function k(I){["next","throw","return"].forEach(function(_){l(I,_,function(w){return this._invoke(_,w)})})}function b(I,_){function w(D,O,M,B){var H=d(I[D],I,O);if(H.type!=="throw"){var ue=H.arg,fe=ue.value;return fe&&fc(fe)=="object"&&n.call(fe,"__await")?_.resolve(fe.__await).then(function(Se){w("next",Se,M,B)},function(Se){w("throw",Se,M,B)}):_.resolve(fe).then(function(Se){ue.value=Se,M(ue)},function(Se){return w("throw",Se,M,B)})}B(H.arg)}var N;r(this,"_invoke",{value:function(O,M){function B(){return new _(function(H,ue){w(O,M,H,ue)})}return N=N?N.then(B,B):B()}})}function F(I,_,w){var N="suspendedStart";return function(D,O){if(N==="executing")throw new Error("Generator is already running");if(N==="completed"){if(D==="throw")throw O;return Ne()}for(w.method=D,w.arg=O;;){var M=w.delegate;if(M){var B=V(M,w);if(B){if(B===p)continue;return B}}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(N==="suspendedStart")throw N="completed",w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);N="executing";var H=d(I,_,w);if(H.type==="normal"){if(N=w.done?"completed":"suspendedYield",H.arg===p)continue;return{value:H.arg,done:w.done}}H.type==="throw"&&(N="completed",w.method="throw",w.arg=H.arg)}}}function V(I,_){var w=_.method,N=I.iterator[w];if(N===void 0)return _.delegate=null,w==="throw"&&I.iterator.return&&(_.method="return",_.arg=void 0,V(I,_),_.method==="throw")||w!=="return"&&(_.method="throw",_.arg=new TypeError("The iterator does not provide a '"+w+"' method")),p;var D=d(N,I.iterator,_.arg);if(D.type==="throw")return _.method="throw",_.arg=D.arg,_.delegate=null,p;var O=D.arg;return O?O.done?(_[I.resultName]=O.value,_.next=I.nextLoc,_.method!=="return"&&(_.method="next",_.arg=void 0),_.delegate=null,p):O:(_.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,p)}function W(I){var _={tryLoc:I[0]};1 in I&&(_.catchLoc=I[1]),2 in I&&(_.finallyLoc=I[2],_.afterLoc=I[3]),this.tryEntries.push(_)}function q(I){var _=I.completion||{};_.type="normal",delete _.arg,I.completion=_}function ie(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(W,this),this.reset(!0)}function re(I){if(I){var _=I[s];if(_)return _.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var w=-1,N=function D(){for(;++w<I.length;)if(n.call(I,w))return D.value=I[w],D.done=!1,D;return D.value=void 0,D.done=!0,D};return N.next=N}}return{next:Ne}}function Ne(){return{value:void 0,done:!0}}return v.prototype=E,r(T,"constructor",{value:E,configurable:!0}),r(E,"constructor",{value:v,configurable:!0}),v.displayName=l(E,u,"GeneratorFunction"),t.isGeneratorFunction=function(I){var _=typeof I=="function"&&I.constructor;return!!_&&(_===v||(_.displayName||_.name)==="GeneratorFunction")},t.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,E):(I.__proto__=E,l(I,u,"GeneratorFunction")),I.prototype=Object.create(T),I},t.awrap=function(I){return{__await:I}},k(b.prototype),l(b.prototype,o,function(){return this}),t.AsyncIterator=b,t.async=function(I,_,w,N,D){D===void 0&&(D=Promise);var O=new b(h(I,_,w,N),D);return t.isGeneratorFunction(_)?O:O.next().then(function(M){return M.done?M.value:O.next()})},k(T),l(T,u,"Generator"),l(T,s,function(){return this}),l(T,"toString",function(){return"[object Generator]"}),t.keys=function(I){var _=Object(I),w=[];for(var N in _)w.push(N);return w.reverse(),function D(){for(;w.length;){var O=w.pop();if(O in _)return D.value=O,D.done=!1,D}return D.done=!0,D}},t.values=re,ie.prototype={constructor:ie,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(q),!_)for(var w in this)w.charAt(0)==="t"&&n.call(this,w)&&!isNaN(+w.slice(1))&&(this[w]=void 0)},stop:function(){this.done=!0;var _=this.tryEntries[0].completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var w=this;function N(ue,fe){return M.type="throw",M.arg=_,w.next=ue,fe&&(w.method="next",w.arg=void 0),!!fe}for(var D=this.tryEntries.length-1;D>=0;--D){var O=this.tryEntries[D],M=O.completion;if(O.tryLoc==="root")return N("end");if(O.tryLoc<=this.prev){var B=n.call(O,"catchLoc"),H=n.call(O,"finallyLoc");if(B&&H){if(this.prev<O.catchLoc)return N(O.catchLoc,!0);if(this.prev<O.finallyLoc)return N(O.finallyLoc)}else if(B){if(this.prev<O.catchLoc)return N(O.catchLoc,!0)}else{if(!H)throw new Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return N(O.finallyLoc)}}}},abrupt:function(_,w){for(var N=this.tryEntries.length-1;N>=0;--N){var D=this.tryEntries[N];if(D.tryLoc<=this.prev&&n.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var O=D;break}}O&&(_==="break"||_==="continue")&&O.tryLoc<=w&&w<=O.finallyLoc&&(O=null);var M=O?O.completion:{};return M.type=_,M.arg=w,O?(this.method="next",this.next=O.finallyLoc,p):this.complete(M)},complete:function(_,w){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&w&&(this.next=w),p},finish:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.finallyLoc===_)return this.complete(N.completion,N.afterLoc),q(N),p}},catch:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.tryLoc===_){var D=N.completion;if(D.type==="throw"){var O=D.arg;q(N)}return O}}throw new Error("illegal catch attempt")},delegateYield:function(_,w,N){return this.delegate={iterator:re(_),resultName:w,nextLoc:N},this.method==="next"&&(this.arg=void 0),p}},t}function _D(t,e,n,r,i,s,o){try{var u=t[s](o),l=u.value}catch(h){n(h);return}u.done?e(l):Promise.resolve(l).then(r,i)}function Yd(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(l){_D(s,r,i,o,u,"next",l)}function u(l){_D(s,r,i,o,u,"throw",l)}o(void 0)})}}aU(zle);var Co=uie(),qle=Lle(),a3=nue(),Ro=Qv(),vl=function(){var e;return(e=Co.currentUser)===null||e===void 0?void 0:e.uid},Yle=function(){var t=Yd(xi().mark(function e(n){var r,i,s,o,u,l,h;return xi().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return r=n.avatar,i=n.email,s=n.nickname,o=n.password,u={user:null,error:null},l="",p.prev=3,p.next=6,Gne(Co,i,o);case 6:u.user=p.sent.user,p.next=12;break;case 9:p.prev=9,p.t0=p.catch(3),u.error=o3(p.t0.code);case 12:if(!(!u.error&&u.user)){p.next=28;break}if(h=Dle(qle,"avatars/".concat(i)),!r){p.next=24;break}return p.next=17,Nle(h,r);case 17:return p.next=19,xle(h);case 19:return l=p.sent,p.next=22,rx(u.user,{displayName:s,photoURL:l});case 22:p.next=26;break;case 24:return p.next=26,rx(u.user,{displayName:s});case 26:return p.next=28,Tue(eue(a3,Xt.Users,u.user.uid),{uid:u.user.uid,nickname:s,email:i,avatarUrl:l});case 28:return p.abrupt("return",u);case 29:case"end":return p.stop()}},e,null,[[3,9]])}));return function(n){return t.apply(this,arguments)}}(),Kle=function(){var t=Yd(xi().mark(function e(n){var r,i,s;return xi().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return r=n.email,i=n.password,s={user:null,error:null},u.prev=2,u.next=5,qne(Co,r,i);case 5:s.user=u.sent.user,u.next=11;break;case 8:u.prev=8,u.t0=u.catch(2),s.error=o3(u.t0.code);case 11:return u.abrupt("return",s);case 12:case"end":return u.stop()}},e,null,[[2,8]])}));return function(n){return t.apply(this,arguments)}}(),Qle=function(){var t=Yd(xi().mark(function e(n){var r,i,s,o;return xi().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return r={users:[],error:null},i=[],s=pue(Zae(a3,Xt.Users),uD("nickname",">=",n),uD("nickname","<","".concat(n,""))),l.prev=3,l.next=6,Sue(s);case 6:o=l.sent,o.forEach(function(h){i.push(h.data())}),l.next=13;break;case 10:l.prev=10,l.t0=l.catch(3),r.error="firestoreSearchUser";case 13:return r.users=i,l.abrupt("return",r);case 15:case"end":return l.stop()}},e,null,[[3,10]])}));return function(n){return t.apply(this,arguments)}}(),Xle=function(){var t=Yd(xi().mark(function e(n){var r,i,s,o,u,l,h,d;return xi().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return i={chat:null,error:null},s=(r=vl())!==null&&r!==void 0?r:"",o=s>n.uid?s+n.uid:n.uid+s,g.prev=3,g.next=6,RS(qs(wi(Ro),"".concat(Xt.Chats,"/").concat(o)));case 6:if(l=g.sent,!(!l.exists()&&Co.currentUser)){g.next=14;break}return g.next=10,Qh(wi(Ro,"".concat(Xt.Chats,"/").concat(o)),{createdAt:kl()});case 10:return g.next=12,Qh(wi(Ro,"".concat(Xt.UserChats,"/").concat(s,"/").concat(o)),{interlocutorInfo:{avatarUrl:n.avatarUrl,nickname:n.nickname,uid:n.uid},lastUpdate:kl(),chatUid:o});case 12:return g.next=14,Qh(wi(Ro,"".concat(Xt.UserChats,"/").concat(n.uid,"/").concat(o)),{interlocutorInfo:{avatarUrl:(h=Co.currentUser.photoURL)!==null&&h!==void 0?h:"",nickname:(d=Co.currentUser.displayName)!==null&&d!==void 0?d:"",uid:Co.currentUser.uid},lastUpdate:kl(),chatUid:o});case 14:return g.next=16,RS(qs(wi(Ro),"".concat(Xt.UserChats,"/").concat((u=Co.currentUser)===null||u===void 0?void 0:u.uid,"/").concat(o)));case 16:i.chat=g.sent.val(),g.next=22;break;case 19:g.prev=19,g.t0=g.catch(3),i.error="firebaseGetUserChat";case 22:return g.abrupt("return",i);case 23:case"end":return g.stop()}},e,null,[[3,19]])}));return function(n){return t.apply(this,arguments)}}(),Jle=function(){var t=Yd(xi().mark(function e(n,r){var i,s,o,u,l,h;return xi().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return o=Qv(),u=wi(o,"".concat(Xt.Chats,"/").concat(r,"/").concat(Xt.Messages)),l=fee(u),Qh(l,{text:n,senderId:vl(),id:Ble(),createdAt:kl(),imgUrl:""}),p.next=6,RS(qs(wi(Ro),"".concat(Xt.UserChats,"/").concat(vl(),"/").concat(r)));case 6:return h=p.sent.val(),p.next=9,EN(wi(Ro),(i={},Cg(i,"".concat(Xt.UserChats,"/").concat(vl(),"/").concat(r,"/lastUpdate"),kl()),Cg(i,"".concat(Xt.UserChats,"/").concat(vl(),"/").concat(r,"/lastMessage"),n),i));case 9:return p.next=11,EN(wi(Ro),(s={},Cg(s,"".concat(Xt.UserChats,"/").concat(h.interlocutorInfo.uid,"/").concat(r,"/lastUpdate"),kl()),Cg(s,"".concat(Xt.UserChats,"/").concat(h.interlocutorInfo.uid,"/").concat(r,"/lastMessage"),n),s));case 11:case"end":return p.stop()}},e)}));return function(n,r){return t.apply(this,arguments)}}(),Zle={getCurrentUser:vl,registerUser:Yle,loginUser:Kle,searchUser:Qle,getUserChat:Xle,sendMessage:Jle};WF.create({baseURL:"https://dummyjson.com/auth/login",timeout:1e4,headers:{"Content-Type":"application/json"}});var Kd={firebase:Zle};const ece="zyS",tce="_4EF",vD={container:ece,sendContainer:tce};function nce(t,e){return oce(t)||sce(t,e)||ice(t,e)||rce()}function rce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ice(t,e){if(t){if(typeof t=="string")return yD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yD(t,e)}}function yD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,u=[],l=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(d){h=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function oce(t){if(Array.isArray(t))return t}var ace=function(){var e=X.useState(""),n=nce(e,2),r=n[0],i=n[1],s=Or(function(p){return p.user}),o=s.chat,u=function(g){g==null||g.preventDefault(),r!==""&&o&&(Kd.firebase.sendMessage(r,o.chatUid),i(""))},l=function(){o&&u()},h=function(g){g.code==="Enter"&&u()},d=function(g){i(g.target.value)};return ot("form",{className:vD.container,onSubmit:u,children:[te("input",{placeholder:"Type something...",type:"text",value:r,onChange:d,onKeyDown:h}),ot("div",{className:vD.sendContainer,children:[ot("label",{htmlFor:"file",children:[te(Hm.AddAvatar,{}),te("input",{hidden:!0,id:"file",type:"file"})]}),te("button",{onClick:l,children:"Send"})]})]})},uce=function(){return te("div",{className:"layout",children:te(YM,{})})};function sT(t){return sT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sT(t)}var xc=function(){for(var e=[],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return uu.map(r,function(s){if(s)switch(sT(s)){case"string":e.push(s);break;case"object":uu(s).entries().map(function(o){return o[1]&&e.push(o[0]),null});break}return null}),e.join(" ")};const lce="-uQ",cce="mI2",wD={container:lce,dotFlashing:cce};var hce=function(e){var n=e.className;return te("span",{className:xc(wD.container,n),children:te("span",{className:wD.dotFlashing})})};//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var u3;function ae(){return u3.apply(null,arguments)}function fce(t){u3=t}function Di(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function Ja(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Qe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function VR(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Qe(t,e))return!1;return!0}function cr(t){return t===void 0}function Zs(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Qd(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function l3(t,e){var n=[],r,i=t.length;for(r=0;r<i;++r)n.push(e(t[r],r));return n}function xo(t,e){for(var n in e)Qe(e,n)&&(t[n]=e[n]);return Qe(e,"toString")&&(t.toString=e.toString),Qe(e,"valueOf")&&(t.valueOf=e.valueOf),t}function cs(t,e,n,r){return x3(t,e,n,r,!0).utc()}function dce(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Oe(t){return t._pf==null&&(t._pf=dce()),t._pf}var oT;Array.prototype.some?oT=Array.prototype.some:oT=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function WR(t){if(t._isValid==null){var e=Oe(t),n=oT.call(e.parsedDateParts,function(i){return i!=null}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r}return t._isValid}function by(t){var e=cs(NaN);return t!=null?xo(Oe(e),t):Oe(e).userInvalidated=!0,e}var ED=ae.momentProperties=[],FE=!1;function jR(t,e){var n,r,i,s=ED.length;if(cr(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),cr(e._i)||(t._i=e._i),cr(e._f)||(t._f=e._f),cr(e._l)||(t._l=e._l),cr(e._strict)||(t._strict=e._strict),cr(e._tzm)||(t._tzm=e._tzm),cr(e._isUTC)||(t._isUTC=e._isUTC),cr(e._offset)||(t._offset=e._offset),cr(e._pf)||(t._pf=Oe(e)),cr(e._locale)||(t._locale=e._locale),s>0)for(n=0;n<s;n++)r=ED[n],i=e[r],cr(i)||(t[r]=i);return t}function Xd(t){jR(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),FE===!1&&(FE=!0,ae.updateOffset(this),FE=!1)}function Li(t){return t instanceof Xd||t!=null&&t._isAMomentObject!=null}function c3(t){ae.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function ai(t,e){var n=!0;return xo(function(){if(ae.deprecationHandler!=null&&ae.deprecationHandler(null,t),n){var r=[],i,s,o,u=arguments.length;for(s=0;s<u;s++){if(i="",typeof arguments[s]=="object"){i+=`
[`+s+"] ";for(o in arguments[0])Qe(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[s];r.push(i)}c3(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var SD={};function h3(t,e){ae.deprecationHandler!=null&&ae.deprecationHandler(t,e),SD[t]||(c3(e),SD[t]=!0)}ae.suppressDeprecationWarnings=!1;ae.deprecationHandler=null;function hs(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function pce(t){var e,n;for(n in t)Qe(t,n)&&(e=t[n],hs(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function aT(t,e){var n=xo({},t),r;for(r in e)Qe(e,r)&&(Ja(t[r])&&Ja(e[r])?(n[r]={},xo(n[r],t[r]),xo(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)Qe(t,r)&&!Qe(e,r)&&Ja(t[r])&&(n[r]=xo({},n[r]));return n}function BR(t){t!=null&&this.set(t)}var uT;Object.keys?uT=Object.keys:uT=function(t){var e,n=[];for(e in t)Qe(t,e)&&n.push(e);return n};var gce={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function mce(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return hs(r)?r.call(e,n):r}function os(t,e,n){var r=""+Math.abs(t),i=e-r.length,s=t>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var zR=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Rg=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,$E={},Ml={};function me(t,e,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),t&&(Ml[t]=i),e&&(Ml[e[0]]=function(){return os(i.apply(this,arguments),e[1],e[2])}),n&&(Ml[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function _ce(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function vce(t){var e=t.match(zR),n,r;for(n=0,r=e.length;n<r;n++)Ml[e[n]]?e[n]=Ml[e[n]]:e[n]=_ce(e[n]);return function(i){var s="",o;for(o=0;o<r;o++)s+=hs(e[o])?e[o].call(i,t):e[o];return s}}function am(t,e){return t.isValid()?(e=f3(e,t.localeData()),$E[e]=$E[e]||vce(e),$E[e](t)):t.localeData().invalidDate()}function f3(t,e){var n=5;function r(i){return e.longDateFormat(i)||i}for(Rg.lastIndex=0;n>=0&&Rg.test(t);)t=t.replace(Rg,r),Rg.lastIndex=0,n-=1;return t}var yce={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function wce(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(zR).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var Ece="Invalid date";function Sce(){return this._invalidDate}var Tce="%d",Ice=/\d{1,2}/;function Cce(t){return this._ordinal.replace("%d",t)}var Rce={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Ace(t,e,n,r){var i=this._relativeTime[n];return hs(i)?i(t,e,n,r):i.replace(/%d/i,t)}function Pce(t,e){var n=this._relativeTime[t>0?"future":"past"];return hs(n)?n(e):n.replace(/%s/i,e)}var sf={};function Gn(t,e){var n=t.toLowerCase();sf[n]=sf[n+"s"]=sf[e]=t}function ui(t){return typeof t=="string"?sf[t]||sf[t.toLowerCase()]:void 0}function HR(t){var e={},n,r;for(r in t)Qe(t,r)&&(n=ui(r),n&&(e[n]=t[r]));return e}var d3={};function qn(t,e){d3[t]=e}function kce(t){var e=[],n;for(n in t)Qe(t,n)&&e.push({unit:n,priority:d3[n]});return e.sort(function(r,i){return r.priority-i.priority}),e}function Oy(t){return t%4===0&&t%100!==0||t%400===0}function Qr(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Ue(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=Qr(e)),n}function Dc(t,e){return function(n){return n!=null?(p3(this,t,n),ae.updateOffset(this,e),this):N_(this,t)}}function N_(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function p3(t,e,n){t.isValid()&&!isNaN(n)&&(e==="FullYear"&&Oy(t.year())&&t.month()===1&&t.date()===29?(n=Ue(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Uy(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function bce(t){return t=ui(t),hs(this[t])?this[t]():this}function Oce(t,e){if(typeof t=="object"){t=HR(t);var n=kce(t),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](t[n[r].unit])}else if(t=ui(t),hs(this[t]))return this[t](e);return this}var g3=/\d/,Fr=/\d\d/,m3=/\d{3}/,GR=/\d{4}/,Ny=/[+-]?\d{6}/,St=/\d\d?/,_3=/\d\d\d\d?/,v3=/\d\d\d\d\d\d?/,xy=/\d{1,3}/,qR=/\d{1,4}/,Dy=/[+-]?\d{1,6}/,Lc=/\d+/,Ly=/[+-]?\d+/,Nce=/Z|[+-]\d\d:?\d\d/gi,My=/Z|[+-]\d\d(?::?\d\d)?/gi,xce=/[+-]?\d+(\.\d{1,3})?/,Jd=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,x_;x_={};function ce(t,e,n){x_[t]=hs(e)?e:function(r,i){return r&&n?n:e}}function Dce(t,e){return Qe(x_,t)?x_[t](e._strict,e._locale):new RegExp(Lce(t))}function Lce(t){return Cr(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,i,s){return n||r||i||s}))}function Cr(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var lT={};function ut(t,e){var n,r=e,i;for(typeof t=="string"&&(t=[t]),Zs(e)&&(r=function(s,o){o[e]=Ue(s)}),i=t.length,n=0;n<i;n++)lT[t[n]]=r}function Zd(t,e){ut(t,function(n,r,i,s){i._w=i._w||{},e(n,i._w,i,s)})}function Mce(t,e,n){e!=null&&Qe(lT,t)&&lT[t](e,n._a,n,t)}var jn=0,Ls=1,qi=2,tn=3,Ii=4,Ms=5,Ha=6,Uce=7,Fce=8;function $ce(t,e){return(t%e+e)%e}var Wt;Array.prototype.indexOf?Wt=Array.prototype.indexOf:Wt=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function Uy(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=$ce(e,12);return t+=(e-n)/12,n===1?Oy(t)?29:28:31-n%7%2}me("M",["MM",2],"Mo",function(){return this.month()+1});me("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});me("MMMM",0,0,function(t){return this.localeData().months(this,t)});Gn("month","M");qn("month",8);ce("M",St);ce("MM",St,Fr);ce("MMM",function(t,e){return e.monthsShortRegex(t)});ce("MMMM",function(t,e){return e.monthsRegex(t)});ut(["M","MM"],function(t,e){e[Ls]=Ue(t)-1});ut(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);i!=null?e[Ls]=i:Oe(n).invalidMonth=t});var Vce="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),y3="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),w3=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Wce=Jd,jce=Jd;function Bce(t,e){return t?Di(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||w3).test(e)?"format":"standalone"][t.month()]:Di(this._months)?this._months:this._months.standalone}function zce(t,e){return t?Di(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[w3.test(e)?"format":"standalone"][t.month()]:Di(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Hce(t,e,n){var r,i,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=cs([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?e==="MMM"?(i=Wt.call(this._shortMonthsParse,o),i!==-1?i:null):(i=Wt.call(this._longMonthsParse,o),i!==-1?i:null):e==="MMM"?(i=Wt.call(this._shortMonthsParse,o),i!==-1?i:(i=Wt.call(this._longMonthsParse,o),i!==-1?i:null)):(i=Wt.call(this._longMonthsParse,o),i!==-1?i:(i=Wt.call(this._shortMonthsParse,o),i!==-1?i:null))}function Gce(t,e,n){var r,i,s;if(this._monthsParseExact)return Hce.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=cs([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function E3(t,e){var n;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Ue(e);else if(e=t.localeData().monthsParse(e),!Zs(e))return t}return n=Math.min(t.date(),Uy(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function S3(t){return t!=null?(E3(this,t),ae.updateOffset(this,!0),this):N_(this,"Month")}function qce(){return Uy(this.year(),this.month())}function Yce(t){return this._monthsParseExact?(Qe(this,"_monthsRegex")||T3.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Qe(this,"_monthsShortRegex")||(this._monthsShortRegex=Wce),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function Kce(t){return this._monthsParseExact?(Qe(this,"_monthsRegex")||T3.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Qe(this,"_monthsRegex")||(this._monthsRegex=jce),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function T3(){function t(o,u){return u.length-o.length}var e=[],n=[],r=[],i,s;for(i=0;i<12;i++)s=cs([2e3,i]),e.push(this.monthsShort(s,"")),n.push(this.months(s,"")),r.push(this.months(s,"")),r.push(this.monthsShort(s,""));for(e.sort(t),n.sort(t),r.sort(t),i=0;i<12;i++)e[i]=Cr(e[i]),n[i]=Cr(n[i]);for(i=0;i<24;i++)r[i]=Cr(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}me("Y",0,0,function(){var t=this.year();return t<=9999?os(t,4):"+"+t});me(0,["YY",2],0,function(){return this.year()%100});me(0,["YYYY",4],0,"year");me(0,["YYYYY",5],0,"year");me(0,["YYYYYY",6,!0],0,"year");Gn("year","y");qn("year",1);ce("Y",Ly);ce("YY",St,Fr);ce("YYYY",qR,GR);ce("YYYYY",Dy,Ny);ce("YYYYYY",Dy,Ny);ut(["YYYYY","YYYYYY"],jn);ut("YYYY",function(t,e){e[jn]=t.length===2?ae.parseTwoDigitYear(t):Ue(t)});ut("YY",function(t,e){e[jn]=ae.parseTwoDigitYear(t)});ut("Y",function(t,e){e[jn]=parseInt(t,10)});function of(t){return Oy(t)?366:365}ae.parseTwoDigitYear=function(t){return Ue(t)+(Ue(t)>68?1900:2e3)};var I3=Dc("FullYear",!0);function Qce(){return Oy(this.year())}function Xce(t,e,n,r,i,s,o){var u;return t<100&&t>=0?(u=new Date(t+400,e,n,r,i,s,o),isFinite(u.getFullYear())&&u.setFullYear(t)):u=new Date(t,e,n,r,i,s,o),u}function rd(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function D_(t,e,n){var r=7+e-n,i=(7+rd(t,0,r).getUTCDay()-e)%7;return-i+r-1}function C3(t,e,n,r,i){var s=(7+n-r)%7,o=D_(t,r,i),u=1+7*(e-1)+s+o,l,h;return u<=0?(l=t-1,h=of(l)+u):u>of(t)?(l=t+1,h=u-of(t)):(l=t,h=u),{year:l,dayOfYear:h}}function id(t,e,n){var r=D_(t.year(),e,n),i=Math.floor((t.dayOfYear()-r-1)/7)+1,s,o;return i<1?(o=t.year()-1,s=i+Vs(o,e,n)):i>Vs(t.year(),e,n)?(s=i-Vs(t.year(),e,n),o=t.year()+1):(o=t.year(),s=i),{week:s,year:o}}function Vs(t,e,n){var r=D_(t,e,n),i=D_(t+1,e,n);return(of(t)-r+i)/7}me("w",["ww",2],"wo","week");me("W",["WW",2],"Wo","isoWeek");Gn("week","w");Gn("isoWeek","W");qn("week",5);qn("isoWeek",5);ce("w",St);ce("ww",St,Fr);ce("W",St);ce("WW",St,Fr);Zd(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=Ue(t)});function Jce(t){return id(t,this._week.dow,this._week.doy).week}var Zce={dow:0,doy:6};function ehe(){return this._week.dow}function the(){return this._week.doy}function nhe(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function rhe(t){var e=id(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}me("d",0,"do","day");me("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});me("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});me("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});me("e",0,0,"weekday");me("E",0,0,"isoWeekday");Gn("day","d");Gn("weekday","e");Gn("isoWeekday","E");qn("day",11);qn("weekday",11);qn("isoWeekday",11);ce("d",St);ce("e",St);ce("E",St);ce("dd",function(t,e){return e.weekdaysMinRegex(t)});ce("ddd",function(t,e){return e.weekdaysShortRegex(t)});ce("dddd",function(t,e){return e.weekdaysRegex(t)});Zd(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);i!=null?e.d=i:Oe(n).invalidWeekday=t});Zd(["d","e","E"],function(t,e,n,r){e[r]=Ue(t)});function ihe(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function she(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function YR(t,e){return t.slice(e,7).concat(t.slice(0,e))}var ohe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),R3="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ahe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),uhe=Jd,lhe=Jd,che=Jd;function hhe(t,e){var n=Di(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?YR(n,this._week.dow):t?n[t.day()]:n}function fhe(t){return t===!0?YR(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function dhe(t){return t===!0?YR(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function phe(t,e,n){var r,i,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=cs([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?e==="dddd"?(i=Wt.call(this._weekdaysParse,o),i!==-1?i:null):e==="ddd"?(i=Wt.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=Wt.call(this._minWeekdaysParse,o),i!==-1?i:null):e==="dddd"?(i=Wt.call(this._weekdaysParse,o),i!==-1||(i=Wt.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=Wt.call(this._minWeekdaysParse,o),i!==-1?i:null)):e==="ddd"?(i=Wt.call(this._shortWeekdaysParse,o),i!==-1||(i=Wt.call(this._weekdaysParse,o),i!==-1)?i:(i=Wt.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=Wt.call(this._minWeekdaysParse,o),i!==-1||(i=Wt.call(this._weekdaysParse,o),i!==-1)?i:(i=Wt.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function ghe(t,e,n){var r,i,s;if(this._weekdaysParseExact)return phe.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=cs([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function mhe(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=ihe(t,this.localeData()),this.add(t-e,"d")):e}function _he(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function vhe(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=she(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function yhe(t){return this._weekdaysParseExact?(Qe(this,"_weekdaysRegex")||KR.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Qe(this,"_weekdaysRegex")||(this._weekdaysRegex=uhe),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function whe(t){return this._weekdaysParseExact?(Qe(this,"_weekdaysRegex")||KR.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Qe(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=lhe),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ehe(t){return this._weekdaysParseExact?(Qe(this,"_weekdaysRegex")||KR.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Qe(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=che),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function KR(){function t(d,p){return p.length-d.length}var e=[],n=[],r=[],i=[],s,o,u,l,h;for(s=0;s<7;s++)o=cs([2e3,1]).day(s),u=Cr(this.weekdaysMin(o,"")),l=Cr(this.weekdaysShort(o,"")),h=Cr(this.weekdays(o,"")),e.push(u),n.push(l),r.push(h),i.push(u),i.push(l),i.push(h);e.sort(t),n.sort(t),r.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function QR(){return this.hours()%12||12}function She(){return this.hours()||24}me("H",["HH",2],0,"hour");me("h",["hh",2],0,QR);me("k",["kk",2],0,She);me("hmm",0,0,function(){return""+QR.apply(this)+os(this.minutes(),2)});me("hmmss",0,0,function(){return""+QR.apply(this)+os(this.minutes(),2)+os(this.seconds(),2)});me("Hmm",0,0,function(){return""+this.hours()+os(this.minutes(),2)});me("Hmmss",0,0,function(){return""+this.hours()+os(this.minutes(),2)+os(this.seconds(),2)});function A3(t,e){me(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}A3("a",!0);A3("A",!1);Gn("hour","h");qn("hour",13);function P3(t,e){return e._meridiemParse}ce("a",P3);ce("A",P3);ce("H",St);ce("h",St);ce("k",St);ce("HH",St,Fr);ce("hh",St,Fr);ce("kk",St,Fr);ce("hmm",_3);ce("hmmss",v3);ce("Hmm",_3);ce("Hmmss",v3);ut(["H","HH"],tn);ut(["k","kk"],function(t,e,n){var r=Ue(t);e[tn]=r===24?0:r});ut(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});ut(["h","hh"],function(t,e,n){e[tn]=Ue(t),Oe(n).bigHour=!0});ut("hmm",function(t,e,n){var r=t.length-2;e[tn]=Ue(t.substr(0,r)),e[Ii]=Ue(t.substr(r)),Oe(n).bigHour=!0});ut("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[tn]=Ue(t.substr(0,r)),e[Ii]=Ue(t.substr(r,2)),e[Ms]=Ue(t.substr(i)),Oe(n).bigHour=!0});ut("Hmm",function(t,e,n){var r=t.length-2;e[tn]=Ue(t.substr(0,r)),e[Ii]=Ue(t.substr(r))});ut("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[tn]=Ue(t.substr(0,r)),e[Ii]=Ue(t.substr(r,2)),e[Ms]=Ue(t.substr(i))});function The(t){return(t+"").toLowerCase().charAt(0)==="p"}var Ihe=/[ap]\.?m?\.?/i,Che=Dc("Hours",!0);function Rhe(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var k3={calendar:gce,longDateFormat:yce,invalidDate:Ece,ordinal:Tce,dayOfMonthOrdinalParse:Ice,relativeTime:Rce,months:Vce,monthsShort:y3,week:Zce,weekdays:ohe,weekdaysMin:ahe,weekdaysShort:R3,meridiemParse:Ihe},It={},Sh={},sd;function Ahe(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function TD(t){return t&&t.toLowerCase().replace("_","-")}function Phe(t){for(var e=0,n,r,i,s;e<t.length;){for(s=TD(t[e]).split("-"),n=s.length,r=TD(t[e+1]),r=r?r.split("-"):null;n>0;){if(i=Fy(s.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&Ahe(s,r)>=n-1)break;n--}e++}return sd}function khe(t){return t.match("^[^/\\\\]*$")!=null}function Fy(t){var e=null,n;if(It[t]===void 0&&typeof gm<"u"&&gm&&gm.exports&&khe(t))try{e=sd._abbr,n=require,n("./locale/"+t),Xo(e)}catch{It[t]=null}return It[t]}function Xo(t,e){var n;return t&&(cr(e)?n=no(t):n=XR(t,e),n?sd=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),sd._abbr}function XR(t,e){if(e!==null){var n,r=k3;if(e.abbr=t,It[t]!=null)h3("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=It[t]._config;else if(e.parentLocale!=null)if(It[e.parentLocale]!=null)r=It[e.parentLocale]._config;else if(n=Fy(e.parentLocale),n!=null)r=n._config;else return Sh[e.parentLocale]||(Sh[e.parentLocale]=[]),Sh[e.parentLocale].push({name:t,config:e}),null;return It[t]=new BR(aT(r,e)),Sh[t]&&Sh[t].forEach(function(i){XR(i.name,i.config)}),Xo(t),It[t]}else return delete It[t],null}function bhe(t,e){if(e!=null){var n,r,i=k3;It[t]!=null&&It[t].parentLocale!=null?It[t].set(aT(It[t]._config,e)):(r=Fy(t),r!=null&&(i=r._config),e=aT(i,e),r==null&&(e.abbr=t),n=new BR(e),n.parentLocale=It[t],It[t]=n),Xo(t)}else It[t]!=null&&(It[t].parentLocale!=null?(It[t]=It[t].parentLocale,t===Xo()&&Xo(t)):It[t]!=null&&delete It[t]);return It[t]}function no(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return sd;if(!Di(t)){if(e=Fy(t),e)return e;t=[t]}return Phe(t)}function Ohe(){return uT(It)}function JR(t){var e,n=t._a;return n&&Oe(t).overflow===-2&&(e=n[Ls]<0||n[Ls]>11?Ls:n[qi]<1||n[qi]>Uy(n[jn],n[Ls])?qi:n[tn]<0||n[tn]>24||n[tn]===24&&(n[Ii]!==0||n[Ms]!==0||n[Ha]!==0)?tn:n[Ii]<0||n[Ii]>59?Ii:n[Ms]<0||n[Ms]>59?Ms:n[Ha]<0||n[Ha]>999?Ha:-1,Oe(t)._overflowDayOfYear&&(e<jn||e>qi)&&(e=qi),Oe(t)._overflowWeeks&&e===-1&&(e=Uce),Oe(t)._overflowWeekday&&e===-1&&(e=Fce),Oe(t).overflow=e),t}var Nhe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xhe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Dhe=/Z|[+-]\d\d(?::?\d\d)?/,Ag=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],VE=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Lhe=/^\/?Date\((-?\d+)/i,Mhe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Uhe={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function b3(t){var e,n,r=t._i,i=Nhe.exec(r)||xhe.exec(r),s,o,u,l,h=Ag.length,d=VE.length;if(i){for(Oe(t).iso=!0,e=0,n=h;e<n;e++)if(Ag[e][1].exec(i[1])){o=Ag[e][0],s=Ag[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(i[3]){for(e=0,n=d;e<n;e++)if(VE[e][1].exec(i[3])){u=(i[2]||" ")+VE[e][0];break}if(u==null){t._isValid=!1;return}}if(!s&&u!=null){t._isValid=!1;return}if(i[4])if(Dhe.exec(i[4]))l="Z";else{t._isValid=!1;return}t._f=o+(u||"")+(l||""),eA(t)}else t._isValid=!1}function Fhe(t,e,n,r,i,s){var o=[$he(t),y3.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return s&&o.push(parseInt(s,10)),o}function $he(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function Vhe(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Whe(t,e,n){if(t){var r=R3.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return Oe(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function jhe(t,e,n){if(t)return Uhe[t];if(e)return 0;var r=parseInt(n,10),i=r%100,s=(r-i)/100;return s*60+i}function O3(t){var e=Mhe.exec(Vhe(t._i)),n;if(e){if(n=Fhe(e[4],e[3],e[2],e[5],e[6],e[7]),!Whe(e[1],n,t))return;t._a=n,t._tzm=jhe(e[8],e[9],e[10]),t._d=rd.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),Oe(t).rfc2822=!0}else t._isValid=!1}function Bhe(t){var e=Lhe.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(b3(t),t._isValid===!1)delete t._isValid;else return;if(O3(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:ae.createFromInputFallback(t)}ae.createFromInputFallback=ai("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function nl(t,e,n){return t??e??n}function zhe(t){var e=new Date(ae.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function ZR(t){var e,n,r=[],i,s,o;if(!t._d){for(i=zhe(t),t._w&&t._a[qi]==null&&t._a[Ls]==null&&Hhe(t),t._dayOfYear!=null&&(o=nl(t._a[jn],i[jn]),(t._dayOfYear>of(o)||t._dayOfYear===0)&&(Oe(t)._overflowDayOfYear=!0),n=rd(o,0,t._dayOfYear),t._a[Ls]=n.getUTCMonth(),t._a[qi]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[tn]===24&&t._a[Ii]===0&&t._a[Ms]===0&&t._a[Ha]===0&&(t._nextDay=!0,t._a[tn]=0),t._d=(t._useUTC?rd:Xce).apply(null,r),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[tn]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==s&&(Oe(t).weekdayMismatch=!0)}}function Hhe(t){var e,n,r,i,s,o,u,l,h;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,o=4,n=nl(e.GG,t._a[jn],id(Et(),1,4).year),r=nl(e.W,1),i=nl(e.E,1),(i<1||i>7)&&(l=!0)):(s=t._locale._week.dow,o=t._locale._week.doy,h=id(Et(),s,o),n=nl(e.gg,t._a[jn],h.year),r=nl(e.w,h.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+s,(e.e<0||e.e>6)&&(l=!0)):i=s),r<1||r>Vs(n,s,o)?Oe(t)._overflowWeeks=!0:l!=null?Oe(t)._overflowWeekday=!0:(u=C3(n,r,i,s,o),t._a[jn]=u.year,t._dayOfYear=u.dayOfYear)}ae.ISO_8601=function(){};ae.RFC_2822=function(){};function eA(t){if(t._f===ae.ISO_8601){b3(t);return}if(t._f===ae.RFC_2822){O3(t);return}t._a=[],Oe(t).empty=!0;var e=""+t._i,n,r,i,s,o,u=e.length,l=0,h,d;for(i=f3(t._f,t._locale).match(zR)||[],d=i.length,n=0;n<d;n++)s=i[n],r=(e.match(Dce(s,t))||[])[0],r&&(o=e.substr(0,e.indexOf(r)),o.length>0&&Oe(t).unusedInput.push(o),e=e.slice(e.indexOf(r)+r.length),l+=r.length),Ml[s]?(r?Oe(t).empty=!1:Oe(t).unusedTokens.push(s),Mce(s,r,t)):t._strict&&!r&&Oe(t).unusedTokens.push(s);Oe(t).charsLeftOver=u-l,e.length>0&&Oe(t).unusedInput.push(e),t._a[tn]<=12&&Oe(t).bigHour===!0&&t._a[tn]>0&&(Oe(t).bigHour=void 0),Oe(t).parsedDateParts=t._a.slice(0),Oe(t).meridiem=t._meridiem,t._a[tn]=Ghe(t._locale,t._a[tn],t._meridiem),h=Oe(t).era,h!==null&&(t._a[jn]=t._locale.erasConvertYear(h,t._a[jn])),ZR(t),JR(t)}function Ghe(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function qhe(t){var e,n,r,i,s,o,u=!1,l=t._f.length;if(l===0){Oe(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<l;i++)s=0,o=!1,e=jR({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],eA(e),WR(e)&&(o=!0),s+=Oe(e).charsLeftOver,s+=Oe(e).unusedTokens.length*10,Oe(e).score=s,u?s<r&&(r=s,n=e):(r==null||s<r||o)&&(r=s,n=e,o&&(u=!0));xo(t,n||e)}function Yhe(t){if(!t._d){var e=HR(t._i),n=e.day===void 0?e.date:e.day;t._a=l3([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),ZR(t)}}function Khe(t){var e=new Xd(JR(N3(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function N3(t){var e=t._i,n=t._f;return t._locale=t._locale||no(t._l),e===null||n===void 0&&e===""?by({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Li(e)?new Xd(JR(e)):(Qd(e)?t._d=e:Di(n)?qhe(t):n?eA(t):Qhe(t),WR(t)||(t._d=null),t))}function Qhe(t){var e=t._i;cr(e)?t._d=new Date(ae.now()):Qd(e)?t._d=new Date(e.valueOf()):typeof e=="string"?Bhe(t):Di(e)?(t._a=l3(e.slice(0),function(n){return parseInt(n,10)}),ZR(t)):Ja(e)?Yhe(t):Zs(e)?t._d=new Date(e):ae.createFromInputFallback(t)}function x3(t,e,n,r,i){var s={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(Ja(t)&&VR(t)||Di(t)&&t.length===0)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=t,s._f=e,s._strict=r,Khe(s)}function Et(t,e,n,r){return x3(t,e,n,r,!1)}var Xhe=ai("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Et.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:by()}),Jhe=ai("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Et.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:by()});function D3(t,e){var n,r;if(e.length===1&&Di(e[0])&&(e=e[0]),!e.length)return Et();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function Zhe(){var t=[].slice.call(arguments,0);return D3("isBefore",t)}function efe(){var t=[].slice.call(arguments,0);return D3("isAfter",t)}var tfe=function(){return Date.now?Date.now():+new Date},Th=["year","quarter","month","week","day","hour","minute","second","millisecond"];function nfe(t){var e,n=!1,r,i=Th.length;for(e in t)if(Qe(t,e)&&!(Wt.call(Th,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<i;++r)if(t[Th[r]]){if(n)return!1;parseFloat(t[Th[r]])!==Ue(t[Th[r]])&&(n=!0)}return!0}function rfe(){return this._isValid}function ife(){return Ui(NaN)}function $y(t){var e=HR(t),n=e.year||0,r=e.quarter||0,i=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,u=e.hour||0,l=e.minute||0,h=e.second||0,d=e.millisecond||0;this._isValid=nfe(e),this._milliseconds=+d+h*1e3+l*6e4+u*1e3*60*60,this._days=+o+s*7,this._months=+i+r*3+n*12,this._data={},this._locale=no(),this._bubble()}function um(t){return t instanceof $y}function cT(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function sfe(t,e,n){var r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),s=0,o;for(o=0;o<r;o++)(n&&t[o]!==e[o]||!n&&Ue(t[o])!==Ue(e[o]))&&s++;return s+i}function L3(t,e){me(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+os(~~(n/60),2)+e+os(~~n%60,2)})}L3("Z",":");L3("ZZ","");ce("Z",My);ce("ZZ",My);ut(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=tA(My,t)});var ofe=/([\+\-]|\d\d)/gi;function tA(t,e){var n=(e||"").match(t),r,i,s;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(ofe)||["-",0,0],s=+(i[1]*60)+Ue(i[2]),s===0?0:i[0]==="+"?s:-s)}function nA(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(Li(t)||Qd(t)?t.valueOf():Et(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),ae.updateOffset(n,!1),n):Et(t).local()}function hT(t){return-Math.round(t._d.getTimezoneOffset())}ae.updateOffset=function(){};function afe(t,e,n){var r=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=tA(My,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(i=hT(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?F3(this,Ui(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ae.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:hT(this)}function ufe(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function lfe(t){return this.utcOffset(0,t)}function cfe(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(hT(this),"m")),this}function hfe(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=tA(Nce,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function ffe(t){return this.isValid()?(t=t?Et(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function dfe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function pfe(){if(!cr(this._isDSTShifted))return this._isDSTShifted;var t={},e;return jR(t,this),t=N3(t),t._a?(e=t._isUTC?cs(t._a):Et(t._a),this._isDSTShifted=this.isValid()&&sfe(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function gfe(){return this.isValid()?!this._isUTC:!1}function mfe(){return this.isValid()?this._isUTC:!1}function M3(){return this.isValid()?this._isUTC&&this._offset===0:!1}var _fe=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,vfe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ui(t,e){var n=t,r=null,i,s,o;return um(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:Zs(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=_fe.exec(t))?(i=r[1]==="-"?-1:1,n={y:0,d:Ue(r[qi])*i,h:Ue(r[tn])*i,m:Ue(r[Ii])*i,s:Ue(r[Ms])*i,ms:Ue(cT(r[Ha]*1e3))*i}):(r=vfe.exec(t))?(i=r[1]==="-"?-1:1,n={y:ka(r[2],i),M:ka(r[3],i),w:ka(r[4],i),d:ka(r[5],i),h:ka(r[6],i),m:ka(r[7],i),s:ka(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=yfe(Et(n.from),Et(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),s=new $y(n),um(t)&&Qe(t,"_locale")&&(s._locale=t._locale),um(t)&&Qe(t,"_isValid")&&(s._isValid=t._isValid),s}Ui.fn=$y.prototype;Ui.invalid=ife;function ka(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function ID(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function yfe(t,e){var n;return t.isValid()&&e.isValid()?(e=nA(e,t),t.isBefore(e)?n=ID(t,e):(n=ID(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function U3(t,e){return function(n,r){var i,s;return r!==null&&!isNaN(+r)&&(h3(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=r,r=s),i=Ui(n,r),F3(this,i,t),this}}function F3(t,e,n,r){var i=e._milliseconds,s=cT(e._days),o=cT(e._months);t.isValid()&&(r=r??!0,o&&E3(t,N_(t,"Month")+o*n),s&&p3(t,"Date",N_(t,"Date")+s*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&ae.updateOffset(t,s||o))}var wfe=U3(1,"add"),Efe=U3(-1,"subtract");function $3(t){return typeof t=="string"||t instanceof String}function Sfe(t){return Li(t)||Qd(t)||$3(t)||Zs(t)||Ife(t)||Tfe(t)||t===null||t===void 0}function Tfe(t){var e=Ja(t)&&!VR(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,s,o=r.length;for(i=0;i<o;i+=1)s=r[i],n=n||Qe(t,s);return e&&n}function Ife(t){var e=Di(t),n=!1;return e&&(n=t.filter(function(r){return!Zs(r)&&$3(t)}).length===0),e&&n}function Cfe(t){var e=Ja(t)&&!VR(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,s;for(i=0;i<r.length;i+=1)s=r[i],n=n||Qe(t,s);return e&&n}function Rfe(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Afe(t,e){arguments.length===1&&(arguments[0]?Sfe(arguments[0])?(t=arguments[0],e=void 0):Cfe(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Et(),r=nA(n,this).startOf("day"),i=ae.calendarFormat(this,r)||"sameElse",s=e&&(hs(e[i])?e[i].call(this,n):e[i]);return this.format(s||this.localeData().calendar(i,this,Et(n)))}function Pfe(){return new Xd(this)}function kfe(t,e){var n=Li(t)?t:Et(t);return this.isValid()&&n.isValid()?(e=ui(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function bfe(t,e){var n=Li(t)?t:Et(t);return this.isValid()&&n.isValid()?(e=ui(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function Ofe(t,e,n,r){var i=Li(t)?t:Et(t),s=Li(e)?e:Et(e);return this.isValid()&&i.isValid()&&s.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(s,n):!this.isAfter(s,n))):!1}function Nfe(t,e){var n=Li(t)?t:Et(t),r;return this.isValid()&&n.isValid()?(e=ui(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function xfe(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Dfe(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function Lfe(t,e,n){var r,i,s;if(!this.isValid())return NaN;if(r=nA(t,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,e=ui(e),e){case"year":s=lm(this,r)/12;break;case"month":s=lm(this,r);break;case"quarter":s=lm(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:Qr(s)}function lm(t,e){if(t.date()<e.date())return-lm(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),i,s;return e-r<0?(i=t.clone().add(n-1,"months"),s=(e-r)/(r-i)):(i=t.clone().add(n+1,"months"),s=(e-r)/(i-r)),-(n+s)||0}ae.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";ae.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Mfe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Ufe(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?am(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):hs(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",am(n,"Z")):am(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Ffe(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,i,s;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(n+r+i+s)}function $fe(t){t||(t=this.isUtc()?ae.defaultFormatUtc:ae.defaultFormat);var e=am(this,t);return this.localeData().postformat(e)}function Vfe(t,e){return this.isValid()&&(Li(t)&&t.isValid()||Et(t).isValid())?Ui({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Wfe(t){return this.from(Et(),t)}function jfe(t,e){return this.isValid()&&(Li(t)&&t.isValid()||Et(t).isValid())?Ui({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Bfe(t){return this.to(Et(),t)}function V3(t){var e;return t===void 0?this._locale._abbr:(e=no(t),e!=null&&(this._locale=e),this)}var W3=ai("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function j3(){return this._locale}var L_=1e3,Ul=60*L_,M_=60*Ul,B3=(365*400+97)*24*M_;function Fl(t,e){return(t%e+e)%e}function z3(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-B3:new Date(t,e,n).valueOf()}function H3(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-B3:Date.UTC(t,e,n)}function zfe(t){var e,n;if(t=ui(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?H3:z3,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Fl(e+(this._isUTC?0:this.utcOffset()*Ul),M_);break;case"minute":e=this._d.valueOf(),e-=Fl(e,Ul);break;case"second":e=this._d.valueOf(),e-=Fl(e,L_);break}return this._d.setTime(e),ae.updateOffset(this,!0),this}function Hfe(t){var e,n;if(t=ui(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?H3:z3,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=M_-Fl(e+(this._isUTC?0:this.utcOffset()*Ul),M_)-1;break;case"minute":e=this._d.valueOf(),e+=Ul-Fl(e,Ul)-1;break;case"second":e=this._d.valueOf(),e+=L_-Fl(e,L_)-1;break}return this._d.setTime(e),ae.updateOffset(this,!0),this}function Gfe(){return this._d.valueOf()-(this._offset||0)*6e4}function qfe(){return Math.floor(this.valueOf()/1e3)}function Yfe(){return new Date(this.valueOf())}function Kfe(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Qfe(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Xfe(){return this.isValid()?this.toISOString():null}function Jfe(){return WR(this)}function Zfe(){return xo({},Oe(this))}function ede(){return Oe(this).overflow}function tde(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}me("N",0,0,"eraAbbr");me("NN",0,0,"eraAbbr");me("NNN",0,0,"eraAbbr");me("NNNN",0,0,"eraName");me("NNNNN",0,0,"eraNarrow");me("y",["y",1],"yo","eraYear");me("y",["yy",2],0,"eraYear");me("y",["yyy",3],0,"eraYear");me("y",["yyyy",4],0,"eraYear");ce("N",rA);ce("NN",rA);ce("NNN",rA);ce("NNNN",fde);ce("NNNNN",dde);ut(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?Oe(n).era=i:Oe(n).invalidEra=t});ce("y",Lc);ce("yy",Lc);ce("yyy",Lc);ce("yyyy",Lc);ce("yo",pde);ut(["y","yy","yyy","yyyy"],jn);ut(["yo"],function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[jn]=n._locale.eraYearOrdinalParse(t,i):e[jn]=parseInt(t,10)});function nde(t,e){var n,r,i,s=this._eras||no("en")._eras;for(n=0,r=s.length;n<r;++n){switch(typeof s[n].since){case"string":i=ae(s[n].since).startOf("day"),s[n].since=i.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":i=ae(s[n].until).startOf("day").valueOf(),s[n].until=i.valueOf();break}}return s}function rde(t,e,n){var r,i,s=this.eras(),o,u,l;for(t=t.toUpperCase(),r=0,i=s.length;r<i;++r)if(o=s[r].name.toUpperCase(),u=s[r].abbr.toUpperCase(),l=s[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(u===t)return s[r];break;case"NNNN":if(o===t)return s[r];break;case"NNNNN":if(l===t)return s[r];break}else if([o,u,l].indexOf(t)>=0)return s[r]}function ide(t,e){var n=t.since<=t.until?1:-1;return e===void 0?ae(t.since).year():ae(t.since).year()+(e-t.offset)*n}function sde(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function ode(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function ade(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function ude(){var t,e,n,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until||i[t].until<=r&&r<=i[t].since)return(this.year()-ae(i[t].since).year())*n+i[t].offset;return this.year()}function lde(t){return Qe(this,"_erasNameRegex")||iA.call(this),t?this._erasNameRegex:this._erasRegex}function cde(t){return Qe(this,"_erasAbbrRegex")||iA.call(this),t?this._erasAbbrRegex:this._erasRegex}function hde(t){return Qe(this,"_erasNarrowRegex")||iA.call(this),t?this._erasNarrowRegex:this._erasRegex}function rA(t,e){return e.erasAbbrRegex(t)}function fde(t,e){return e.erasNameRegex(t)}function dde(t,e){return e.erasNarrowRegex(t)}function pde(t,e){return e._eraYearOrdinalRegex||Lc}function iA(){var t=[],e=[],n=[],r=[],i,s,o=this.eras();for(i=0,s=o.length;i<s;++i)e.push(Cr(o[i].name)),t.push(Cr(o[i].abbr)),n.push(Cr(o[i].narrow)),r.push(Cr(o[i].name)),r.push(Cr(o[i].abbr)),r.push(Cr(o[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}me(0,["gg",2],0,function(){return this.weekYear()%100});me(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Vy(t,e){me(0,[t,t.length],0,e)}Vy("gggg","weekYear");Vy("ggggg","weekYear");Vy("GGGG","isoWeekYear");Vy("GGGGG","isoWeekYear");Gn("weekYear","gg");Gn("isoWeekYear","GG");qn("weekYear",1);qn("isoWeekYear",1);ce("G",Ly);ce("g",Ly);ce("GG",St,Fr);ce("gg",St,Fr);ce("GGGG",qR,GR);ce("gggg",qR,GR);ce("GGGGG",Dy,Ny);ce("ggggg",Dy,Ny);Zd(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=Ue(t)});Zd(["gg","GG"],function(t,e,n,r){e[r]=ae.parseTwoDigitYear(t)});function gde(t){return G3.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function mde(t){return G3.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function _de(){return Vs(this.year(),1,4)}function vde(){return Vs(this.isoWeekYear(),1,4)}function yde(){var t=this.localeData()._week;return Vs(this.year(),t.dow,t.doy)}function wde(){var t=this.localeData()._week;return Vs(this.weekYear(),t.dow,t.doy)}function G3(t,e,n,r,i){var s;return t==null?id(this,r,i).year:(s=Vs(t,r,i),e>s&&(e=s),Ede.call(this,t,e,n,r,i))}function Ede(t,e,n,r,i){var s=C3(t,e,n,r,i),o=rd(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}me("Q",0,"Qo","quarter");Gn("quarter","Q");qn("quarter",7);ce("Q",g3);ut("Q",function(t,e){e[Ls]=(Ue(t)-1)*3});function Sde(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}me("D",["DD",2],"Do","date");Gn("date","D");qn("date",9);ce("D",St);ce("DD",St,Fr);ce("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});ut(["D","DD"],qi);ut("Do",function(t,e){e[qi]=Ue(t.match(St)[0])});var q3=Dc("Date",!0);me("DDD",["DDDD",3],"DDDo","dayOfYear");Gn("dayOfYear","DDD");qn("dayOfYear",4);ce("DDD",xy);ce("DDDD",m3);ut(["DDD","DDDD"],function(t,e,n){n._dayOfYear=Ue(t)});function Tde(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}me("m",["mm",2],0,"minute");Gn("minute","m");qn("minute",14);ce("m",St);ce("mm",St,Fr);ut(["m","mm"],Ii);var Ide=Dc("Minutes",!1);me("s",["ss",2],0,"second");Gn("second","s");qn("second",15);ce("s",St);ce("ss",St,Fr);ut(["s","ss"],Ms);var Cde=Dc("Seconds",!1);me("S",0,0,function(){return~~(this.millisecond()/100)});me(0,["SS",2],0,function(){return~~(this.millisecond()/10)});me(0,["SSS",3],0,"millisecond");me(0,["SSSS",4],0,function(){return this.millisecond()*10});me(0,["SSSSS",5],0,function(){return this.millisecond()*100});me(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});me(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});me(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});me(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Gn("millisecond","ms");qn("millisecond",16);ce("S",xy,g3);ce("SS",xy,Fr);ce("SSS",xy,m3);var Do,Y3;for(Do="SSSS";Do.length<=9;Do+="S")ce(Do,Lc);function Rde(t,e){e[Ha]=Ue(("0."+t)*1e3)}for(Do="S";Do.length<=9;Do+="S")ut(Do,Rde);Y3=Dc("Milliseconds",!1);me("z",0,0,"zoneAbbr");me("zz",0,0,"zoneName");function Ade(){return this._isUTC?"UTC":""}function Pde(){return this._isUTC?"Coordinated Universal Time":""}var Z=Xd.prototype;Z.add=wfe;Z.calendar=Afe;Z.clone=Pfe;Z.diff=Lfe;Z.endOf=Hfe;Z.format=$fe;Z.from=Vfe;Z.fromNow=Wfe;Z.to=jfe;Z.toNow=Bfe;Z.get=bce;Z.invalidAt=ede;Z.isAfter=kfe;Z.isBefore=bfe;Z.isBetween=Ofe;Z.isSame=Nfe;Z.isSameOrAfter=xfe;Z.isSameOrBefore=Dfe;Z.isValid=Jfe;Z.lang=W3;Z.locale=V3;Z.localeData=j3;Z.max=Jhe;Z.min=Xhe;Z.parsingFlags=Zfe;Z.set=Oce;Z.startOf=zfe;Z.subtract=Efe;Z.toArray=Kfe;Z.toObject=Qfe;Z.toDate=Yfe;Z.toISOString=Ufe;Z.inspect=Ffe;typeof Symbol<"u"&&Symbol.for!=null&&(Z[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Z.toJSON=Xfe;Z.toString=Mfe;Z.unix=qfe;Z.valueOf=Gfe;Z.creationData=tde;Z.eraName=sde;Z.eraNarrow=ode;Z.eraAbbr=ade;Z.eraYear=ude;Z.year=I3;Z.isLeapYear=Qce;Z.weekYear=gde;Z.isoWeekYear=mde;Z.quarter=Z.quarters=Sde;Z.month=S3;Z.daysInMonth=qce;Z.week=Z.weeks=nhe;Z.isoWeek=Z.isoWeeks=rhe;Z.weeksInYear=yde;Z.weeksInWeekYear=wde;Z.isoWeeksInYear=_de;Z.isoWeeksInISOWeekYear=vde;Z.date=q3;Z.day=Z.days=mhe;Z.weekday=_he;Z.isoWeekday=vhe;Z.dayOfYear=Tde;Z.hour=Z.hours=Che;Z.minute=Z.minutes=Ide;Z.second=Z.seconds=Cde;Z.millisecond=Z.milliseconds=Y3;Z.utcOffset=afe;Z.utc=lfe;Z.local=cfe;Z.parseZone=hfe;Z.hasAlignedHourOffset=ffe;Z.isDST=dfe;Z.isLocal=gfe;Z.isUtcOffset=mfe;Z.isUtc=M3;Z.isUTC=M3;Z.zoneAbbr=Ade;Z.zoneName=Pde;Z.dates=ai("dates accessor is deprecated. Use date instead.",q3);Z.months=ai("months accessor is deprecated. Use month instead",S3);Z.years=ai("years accessor is deprecated. Use year instead",I3);Z.zone=ai("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",ufe);Z.isDSTShifted=ai("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",pfe);function kde(t){return Et(t*1e3)}function bde(){return Et.apply(null,arguments).parseZone()}function K3(t){return t}var Xe=BR.prototype;Xe.calendar=mce;Xe.longDateFormat=wce;Xe.invalidDate=Sce;Xe.ordinal=Cce;Xe.preparse=K3;Xe.postformat=K3;Xe.relativeTime=Ace;Xe.pastFuture=Pce;Xe.set=pce;Xe.eras=nde;Xe.erasParse=rde;Xe.erasConvertYear=ide;Xe.erasAbbrRegex=cde;Xe.erasNameRegex=lde;Xe.erasNarrowRegex=hde;Xe.months=Bce;Xe.monthsShort=zce;Xe.monthsParse=Gce;Xe.monthsRegex=Kce;Xe.monthsShortRegex=Yce;Xe.week=Jce;Xe.firstDayOfYear=the;Xe.firstDayOfWeek=ehe;Xe.weekdays=hhe;Xe.weekdaysMin=dhe;Xe.weekdaysShort=fhe;Xe.weekdaysParse=ghe;Xe.weekdaysRegex=yhe;Xe.weekdaysShortRegex=whe;Xe.weekdaysMinRegex=Ehe;Xe.isPM=The;Xe.meridiem=Rhe;function U_(t,e,n,r){var i=no(),s=cs().set(r,e);return i[n](s,t)}function Q3(t,e,n){if(Zs(t)&&(e=t,t=void 0),t=t||"",e!=null)return U_(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=U_(t,r,n,"month");return i}function sA(t,e,n,r){typeof t=="boolean"?(Zs(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,Zs(e)&&(n=e,e=void 0),e=e||"");var i=no(),s=t?i._week.dow:0,o,u=[];if(n!=null)return U_(e,(n+s)%7,r,"day");for(o=0;o<7;o++)u[o]=U_(e,(o+s)%7,r,"day");return u}function Ode(t,e){return Q3(t,e,"months")}function Nde(t,e){return Q3(t,e,"monthsShort")}function xde(t,e,n){return sA(t,e,n,"weekdays")}function Dde(t,e,n){return sA(t,e,n,"weekdaysShort")}function Lde(t,e,n){return sA(t,e,n,"weekdaysMin")}Xo("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=Ue(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});ae.lang=ai("moment.lang is deprecated. Use moment.locale instead.",Xo);ae.langData=ai("moment.langData is deprecated. Use moment.localeData instead.",no);var Ts=Math.abs;function Mde(){var t=this._data;return this._milliseconds=Ts(this._milliseconds),this._days=Ts(this._days),this._months=Ts(this._months),t.milliseconds=Ts(t.milliseconds),t.seconds=Ts(t.seconds),t.minutes=Ts(t.minutes),t.hours=Ts(t.hours),t.months=Ts(t.months),t.years=Ts(t.years),this}function X3(t,e,n,r){var i=Ui(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function Ude(t,e){return X3(this,t,e,1)}function Fde(t,e){return X3(this,t,e,-1)}function CD(t){return t<0?Math.floor(t):Math.ceil(t)}function $de(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,i,s,o,u,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=CD(fT(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,i=Qr(t/1e3),r.seconds=i%60,s=Qr(i/60),r.minutes=s%60,o=Qr(s/60),r.hours=o%24,e+=Qr(o/24),l=Qr(J3(e)),n+=l,e-=CD(fT(l)),u=Qr(n/12),n%=12,r.days=e,r.months=n,r.years=u,this}function J3(t){return t*4800/146097}function fT(t){return t*146097/4800}function Vde(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=ui(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+J3(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(fT(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function Wde(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Ue(this._months/12)*31536e6:NaN}function ro(t){return function(){return this.as(t)}}var jde=ro("ms"),Bde=ro("s"),zde=ro("m"),Hde=ro("h"),Gde=ro("d"),qde=ro("w"),Yde=ro("M"),Kde=ro("Q"),Qde=ro("y");function Xde(){return Ui(this)}function Jde(t){return t=ui(t),this.isValid()?this[t+"s"]():NaN}function Au(t){return function(){return this.isValid()?this._data[t]:NaN}}var Zde=Au("milliseconds"),epe=Au("seconds"),tpe=Au("minutes"),npe=Au("hours"),rpe=Au("days"),ipe=Au("months"),spe=Au("years");function ope(){return Qr(this.days()/7)}var Rs=Math.round,yl={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ape(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function upe(t,e,n,r){var i=Ui(t).abs(),s=Rs(i.as("s")),o=Rs(i.as("m")),u=Rs(i.as("h")),l=Rs(i.as("d")),h=Rs(i.as("M")),d=Rs(i.as("w")),p=Rs(i.as("y")),g=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||o<=1&&["m"]||o<n.m&&["mm",o]||u<=1&&["h"]||u<n.h&&["hh",u]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(g=g||d<=1&&["w"]||d<n.w&&["ww",d]),g=g||h<=1&&["M"]||h<n.M&&["MM",h]||p<=1&&["y"]||["yy",p],g[2]=e,g[3]=+t>0,g[4]=r,ape.apply(null,g)}function lpe(t){return t===void 0?Rs:typeof t=="function"?(Rs=t,!0):!1}function cpe(t,e){return yl[t]===void 0?!1:e===void 0?yl[t]:(yl[t]=e,t==="s"&&(yl.ss=e-1),!0)}function hpe(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=yl,i,s;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},yl,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),i=this.localeData(),s=upe(this,!n,r,i),n&&(s=i.pastFuture(+this,s)),i.postformat(s)}var WE=Math.abs;function Ku(t){return(t>0)-(t<0)||+t}function Wy(){if(!this.isValid())return this.localeData().invalidDate();var t=WE(this._milliseconds)/1e3,e=WE(this._days),n=WE(this._months),r,i,s,o,u=this.asSeconds(),l,h,d,p;return u?(r=Qr(t/60),i=Qr(r/60),t%=60,r%=60,s=Qr(n/12),n%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=u<0?"-":"",h=Ku(this._months)!==Ku(u)?"-":"",d=Ku(this._days)!==Ku(u)?"-":"",p=Ku(this._milliseconds)!==Ku(u)?"-":"",l+"P"+(s?h+s+"Y":"")+(n?h+n+"M":"")+(e?d+e+"D":"")+(i||r||t?"T":"")+(i?p+i+"H":"")+(r?p+r+"M":"")+(t?p+o+"S":"")):"P0D"}var He=$y.prototype;He.isValid=rfe;He.abs=Mde;He.add=Ude;He.subtract=Fde;He.as=Vde;He.asMilliseconds=jde;He.asSeconds=Bde;He.asMinutes=zde;He.asHours=Hde;He.asDays=Gde;He.asWeeks=qde;He.asMonths=Yde;He.asQuarters=Kde;He.asYears=Qde;He.valueOf=Wde;He._bubble=$de;He.clone=Xde;He.get=Jde;He.milliseconds=Zde;He.seconds=epe;He.minutes=tpe;He.hours=npe;He.days=rpe;He.weeks=ope;He.months=ipe;He.years=spe;He.humanize=hpe;He.toISOString=Wy;He.toString=Wy;He.toJSON=Wy;He.locale=V3;He.localeData=j3;He.toIsoString=ai("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Wy);He.lang=W3;me("X",0,0,"unix");me("x",0,0,"valueOf");ce("x",Ly);ce("X",xce);ut("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});ut("x",function(t,e,n){n._d=new Date(Ue(t))});//! moment.js
ae.version="2.29.4";fce(Et);ae.fn=Z;ae.min=Zhe;ae.max=efe;ae.now=tfe;ae.utc=cs;ae.unix=kde;ae.months=Ode;ae.isDate=Qd;ae.locale=Xo;ae.invalid=by;ae.duration=Ui;ae.isMoment=Li;ae.weekdays=xde;ae.parseZone=bde;ae.localeData=no;ae.isDuration=um;ae.monthsShort=Nde;ae.weekdaysMin=Lde;ae.defineLocale=XR;ae.updateLocale=bhe;ae.locales=Ohe;ae.weekdaysShort=Dde;ae.normalizeUnits=ui;ae.relativeTimeRounding=lpe;ae.relativeTimeThreshold=cpe;ae.calendarFormat=Rfe;ae.prototype=Z;ae.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const fpe="Pyf",dpe="i-p",ppe="F2M",gpe="_2Sx",Pg={message:fpe,owner:dpe,content:ppe,info:gpe};var mpe=function(e){var n=e.text,r=e.senderId,i=e.createdAt,s=Or(function(l){return l.user}),o=s.chat,u=s.user;return ot("div",{className:xc(Pg.message,(u==null?void 0:u.uid)===r&&Pg.owner),children:[ot("div",{className:Pg.info,children:[te("img",{alt:"avatar",src:(u==null?void 0:u.uid)===r?u.avatarUrl:o==null?void 0:o.interlocutorInfo.avatarUrl}),te("span",{children:ae(i).format("LT")})]}),te("div",{className:Pg.content,children:te("p",{children:n})})]})};const _pe="_6GP",vpe={container:_pe};function ype(t,e){return Tpe(t)||Spe(t,e)||Epe(t,e)||wpe()}function wpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Epe(t,e){if(t){if(typeof t=="string")return RD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RD(t,e)}}function RD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Spe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,u=[],l=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(d){h=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function Tpe(t){if(Array.isArray(t))return t}var Ipe=function(){var e=Or(function(l){return l.user}),n=e.chat,r=X.useState([]),i=ype(r,2),s=i[0],o=i[1],u=X.useRef(null);return X.useEffect(function(){o([]);var l=wi(Qv(),"".concat(Xt.Chats,"/").concat(n==null?void 0:n.chatUid,"/").concat(Xt.Messages)),h=RF(l,function(d){if(d.val()){var p=Object.values(d.val());o(p)}});return function(){h()}},[n==null?void 0:n.chatUid]),X.useEffect(function(){if(u.current){var l;(l=u.current.lastElementChild)===null||l===void 0||l.scrollIntoView({behavior:"smooth"})}},[s]),te("div",{ref:u,className:vpe.container,children:uu.map(s,function(l){return te(mpe,{...l},l.id)})})};function Ei(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ha(t){return!!t&&!!t[Ct]}function eo(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===xpe}(t)||Array.isArray(t)||!!t[xD]||!!(!((e=t.constructor)===null||e===void 0)&&e[xD])||oA(t)||aA(t))}function gu(t,e,n){n===void 0&&(n=!1),Mc(t)===0?(n?Object.keys:Vl)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function Mc(t){var e=t[Ct];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:oA(t)?2:aA(t)?3:0}function $l(t,e){return Mc(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Cpe(t,e){return Mc(t)===2?t.get(e):t[e]}function Z3(t,e,n){var r=Mc(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function e6(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function oA(t){return Ope&&t instanceof Map}function aA(t){return Npe&&t instanceof Set}function Ma(t){return t.o||t.t}function uA(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=n6(t);delete e[Ct];for(var n=Vl(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function lA(t,e){return e===void 0&&(e=!1),cA(t)||ha(t)||!eo(t)||(Mc(t)>1&&(t.set=t.add=t.clear=t.delete=Rpe),Object.freeze(t),e&&gu(t,function(n,r){return lA(r,!0)},!0)),t}function Rpe(){Ei(2)}function cA(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function is(t){var e=mT[t];return e||Ei(18,t),e}function Ape(t,e){mT[t]||(mT[t]=e)}function dT(){return od}function jE(t,e){e&&(is("Patches"),t.u=[],t.s=[],t.v=e)}function F_(t){pT(t),t.p.forEach(Ppe),t.p=null}function pT(t){t===od&&(od=t.l)}function AD(t){return od={p:[],l:od,h:t,m:!0,_:0}}function Ppe(t){var e=t[Ct];e.i===0||e.i===1?e.j():e.O=!0}function BE(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.g||is("ES5").S(e,t,r),r?(n[Ct].P&&(F_(e),Ei(4)),eo(t)&&(t=$_(e,t),e.l||V_(e,t)),e.u&&is("Patches").M(n[Ct].t,t,e.u,e.s)):t=$_(e,n,[]),F_(e),e.u&&e.v(e.u,e.s),t!==t6?t:void 0}function $_(t,e,n){if(cA(e))return e;var r=e[Ct];if(!r)return gu(e,function(u,l){return PD(t,r,e,u,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return V_(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=uA(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),gu(s,function(u,l){return PD(t,r,i,u,l,n,o)}),V_(t,i,!1),n&&t.u&&is("Patches").N(r,n,t.u,t.s)}return r.o}function PD(t,e,n,r,i,s,o){if(ha(i)){var u=$_(t,i,s&&e&&e.i!==3&&!$l(e.R,r)?s.concat(r):void 0);if(Z3(n,r,u),!ha(u))return;t.m=!1}else o&&n.add(i);if(eo(i)&&!cA(i)){if(!t.h.D&&t._<1)return;$_(t,i),e&&e.A.l||V_(t,i)}}function V_(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&lA(e,n)}function zE(t,e){var n=t[Ct];return(n?Ma(n):t)[e]}function kD(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Ao(t){t.P||(t.P=!0,t.l&&Ao(t.l))}function HE(t){t.o||(t.o=uA(t.t))}function gT(t,e,n){var r=oA(e)?is("MapSet").F(e,n):aA(e)?is("MapSet").T(e,n):t.g?function(i,s){var o=Array.isArray(i),u={i:o?1:0,A:s?s.A:dT(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=u,h=ad;o&&(l=[u],h=Mh);var d=Proxy.revocable(l,h),p=d.revoke,g=d.proxy;return u.k=g,u.j=p,g}(e,n):is("ES5").J(e,n);return(n?n.A:dT()).p.push(r),r}function kpe(t){return ha(t)||Ei(22,t),function e(n){if(!eo(n))return n;var r,i=n[Ct],s=Mc(n);if(i){if(!i.P&&(i.i<4||!is("ES5").K(i)))return i.t;i.I=!0,r=bD(n,s),i.I=!1}else r=bD(n,s);return gu(r,function(o,u){i&&Cpe(i.t,o)===u||Z3(r,o,e(u))}),s===3?new Set(r):r}(t)}function bD(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return uA(t)}function bpe(){function t(s,o){var u=i[s];return u?u.enumerable=o:i[s]=u={configurable:!0,enumerable:o,get:function(){var l=this[Ct];return ad.get(l,s)},set:function(l){var h=this[Ct];ad.set(h,s,l)}},u}function e(s){for(var o=s.length-1;o>=0;o--){var u=s[o][Ct];if(!u.P)switch(u.i){case 5:r(u)&&Ao(u);break;case 4:n(u)&&Ao(u)}}}function n(s){for(var o=s.t,u=s.k,l=Vl(u),h=l.length-1;h>=0;h--){var d=l[h];if(d!==Ct){var p=o[d];if(p===void 0&&!$l(o,d))return!0;var g=u[d],v=g&&g[Ct];if(v?v.t!==p:!e6(g,p))return!0}}var E=!!o[Ct];return l.length!==Vl(o).length+(E?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var u=Object.getOwnPropertyDescriptor(o,o.length-1);if(u&&!u.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};Ape("ES5",{J:function(s,o){var u=Array.isArray(s),l=function(d,p){if(d){for(var g=Array(p.length),v=0;v<p.length;v++)Object.defineProperty(g,""+v,t(v,!0));return g}var E=n6(p);delete E[Ct];for(var R=Vl(E),C=0;C<R.length;C++){var S=R[C];E[S]=t(S,d||!!E[S].enumerable)}return Object.create(Object.getPrototypeOf(p),E)}(u,s),h={i:u?5:4,A:o?o.A:dT(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,O:!1,C:!1};return Object.defineProperty(l,Ct,{value:h,writable:!0}),l},S:function(s,o,u){u?ha(o)&&o[Ct].A===s&&e(s.p):(s.u&&function l(h){if(h&&typeof h=="object"){var d=h[Ct];if(d){var p=d.t,g=d.k,v=d.R,E=d.i;if(E===4)gu(g,function(k){k!==Ct&&(p[k]!==void 0||$l(p,k)?v[k]||l(g[k]):(v[k]=!0,Ao(d)))}),gu(p,function(k){g[k]!==void 0||$l(g,k)||(v[k]=!1,Ao(d))});else if(E===5){if(r(d)&&(Ao(d),v.length=!0),g.length<p.length)for(var R=g.length;R<p.length;R++)v[R]=!1;else for(var C=p.length;C<g.length;C++)v[C]=!0;for(var S=Math.min(g.length,p.length),T=0;T<S;T++)g.hasOwnProperty(T)||(v[T]=!0),v[T]===void 0&&l(g[T])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var OD,od,hA=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Ope=typeof Map<"u",Npe=typeof Set<"u",ND=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",t6=hA?Symbol.for("immer-nothing"):((OD={})["immer-nothing"]=!0,OD),xD=hA?Symbol.for("immer-draftable"):"__$immer_draftable",Ct=hA?Symbol.for("immer-state"):"__$immer_state",xpe=""+Object.prototype.constructor,Vl=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,n6=Object.getOwnPropertyDescriptors||function(t){var e={};return Vl(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},mT={},ad={get:function(t,e){if(e===Ct)return t;var n=Ma(t);if(!$l(n,e))return function(i,s,o){var u,l=kD(s,o);return l?"value"in l?l.value:(u=l.get)===null||u===void 0?void 0:u.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!eo(r)?r:r===zE(t.t,e)?(HE(t),t.o[e]=gT(t.A.h,r,t)):r},has:function(t,e){return e in Ma(t)},ownKeys:function(t){return Reflect.ownKeys(Ma(t))},set:function(t,e,n){var r=kD(Ma(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=zE(Ma(t),e),s=i==null?void 0:i[Ct];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(e6(n,i)&&(n!==void 0||$l(t.t,e)))return!0;HE(t),Ao(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return zE(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,HE(t),Ao(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Ma(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){Ei(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Ei(12)}},Mh={};gu(ad,function(t,e){Mh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Mh.deleteProperty=function(t,e){return Mh.set.call(this,t,e,void 0)},Mh.set=function(t,e,n){return ad.set.call(this,t[0],e,n,t[0])};var Dpe=function(){function t(n){var r=this;this.g=ND,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var u=s;s=i;var l=r;return function(R){var C=this;R===void 0&&(R=u);for(var S=arguments.length,T=Array(S>1?S-1:0),k=1;k<S;k++)T[k-1]=arguments[k];return l.produce(R,function(b){var F;return(F=s).call.apply(F,[C,b].concat(T))})}}var h;if(typeof s!="function"&&Ei(6),o!==void 0&&typeof o!="function"&&Ei(7),eo(i)){var d=AD(r),p=gT(r,i,void 0),g=!0;try{h=s(p),g=!1}finally{g?F_(d):pT(d)}return typeof Promise<"u"&&h instanceof Promise?h.then(function(R){return jE(d,o),BE(R,d)},function(R){throw F_(d),R}):(jE(d,o),BE(h,d))}if(!i||typeof i!="object"){if((h=s(i))===void 0&&(h=i),h===t6&&(h=void 0),r.D&&lA(h,!0),o){var v=[],E=[];is("Patches").M(i,h,v,E),o(v,E)}return h}Ei(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(h){for(var d=arguments.length,p=Array(d>1?d-1:0),g=1;g<d;g++)p[g-1]=arguments[g];return r.produceWithPatches(h,function(v){return i.apply(void 0,[v].concat(p))})};var o,u,l=r.produce(i,s,function(h,d){o=h,u=d});return typeof Promise<"u"&&l instanceof Promise?l.then(function(h){return[h,o,u]}):[l,o,u]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){eo(n)||Ei(8),ha(n)&&(n=kpe(n));var r=AD(this),i=gT(this,n,void 0);return i[Ct].C=!0,pT(r),i},e.finishDraft=function(n,r){var i=n&&n[Ct],s=i.A;return jE(s,r),BE(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!ND&&Ei(20),this.g=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=is("Patches").$;return ha(n)?o(n,r):this.produce(n,function(u){return o(u,r)})},t}(),xr=new Dpe,r6=xr.produce;xr.produceWithPatches.bind(xr);xr.setAutoFreeze.bind(xr);xr.setUseProxies.bind(xr);xr.applyPatches.bind(xr);xr.createDraft.bind(xr);xr.finishDraft.bind(xr);function ud(t){return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function Lpe(t,e){if(ud(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ud(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mpe(t){var e=Lpe(t,"string");return ud(e)==="symbol"?e:String(e)}function Upe(t,e,n){return e=Mpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DD(Object(n),!0).forEach(function(r){Upe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dn(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var MD=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),GE=function(){return Math.random().toString(36).substring(7).split("").join(".")},W_={INIT:"@@redux/INIT"+GE(),REPLACE:"@@redux/REPLACE"+GE(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+GE()}};function Fpe(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function fA(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Dn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Dn(1));return n(fA)(t,e)}if(typeof t!="function")throw new Error(Dn(2));var i=t,s=e,o=[],u=o,l=!1;function h(){u===o&&(u=o.slice())}function d(){if(l)throw new Error(Dn(3));return s}function p(R){if(typeof R!="function")throw new Error(Dn(4));if(l)throw new Error(Dn(5));var C=!0;return h(),u.push(R),function(){if(C){if(l)throw new Error(Dn(6));C=!1,h();var T=u.indexOf(R);u.splice(T,1),o=null}}}function g(R){if(!Fpe(R))throw new Error(Dn(7));if(typeof R.type>"u")throw new Error(Dn(8));if(l)throw new Error(Dn(9));try{l=!0,s=i(s,R)}finally{l=!1}for(var C=o=u,S=0;S<C.length;S++){var T=C[S];T()}return R}function v(R){if(typeof R!="function")throw new Error(Dn(10));i=R,g({type:W_.REPLACE})}function E(){var R,C=p;return R={subscribe:function(T){if(typeof T!="object"||T===null)throw new Error(Dn(11));function k(){T.next&&T.next(d())}k();var b=C(k);return{unsubscribe:b}}},R[MD]=function(){return this},R}return g({type:W_.INIT}),r={dispatch:g,subscribe:p,getState:d,replaceReducer:v},r[MD]=E,r}function $pe(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:W_.INIT});if(typeof r>"u")throw new Error(Dn(12));if(typeof n(void 0,{type:W_.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Dn(13))})}function i6(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{$pe(n)}catch(u){o=u}return function(l,h){if(l===void 0&&(l={}),o)throw o;for(var d=!1,p={},g=0;g<s.length;g++){var v=s[g],E=n[v],R=l[v],C=E(R,h);if(typeof C>"u")throw h&&h.type,new Error(Dn(14));p[v]=C,d=d||C!==R}return d=d||s.length!==Object.keys(l).length,d?p:l}}function ld(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function s6(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Dn(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},u=e.map(function(l){return l(o)});return s=ld.apply(void 0,u)(i.dispatch),LD(LD({},i),{},{dispatch:s})}}}function o6(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(u){return typeof u=="function"?u(i,s,t):o(u)}}};return e}var a6=o6();a6.withExtraArgument=o6;const UD=a6;var Vpe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wpe=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(h){return function(d){return l([h,d])}}function l(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(d){h=[6,d],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},j_=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},jpe=Object.defineProperty,Bpe=Object.defineProperties,zpe=Object.getOwnPropertyDescriptors,FD=Object.getOwnPropertySymbols,Hpe=Object.prototype.hasOwnProperty,Gpe=Object.prototype.propertyIsEnumerable,$D=function(t,e,n){return e in t?jpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Jo=function(t,e){for(var n in e||(e={}))Hpe.call(e,n)&&$D(t,n,e[n]);if(FD)for(var r=0,i=FD(e);r<i.length;r++){var n=i[r];Gpe.call(e,n)&&$D(t,n,e[n])}return t},qE=function(t,e){return Bpe(t,zpe(e))},qpe=function(t,e,n){return new Promise(function(r,i){var s=function(l){try{u(n.next(l))}catch(h){i(h)}},o=function(l){try{u(n.throw(l))}catch(h){i(h)}},u=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};u((n=n.apply(t,e)).next())})},Ype=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ld:ld.apply(null,arguments)};function Kpe(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var Qpe=function(t){Vpe(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,j_([void 0],n[0].concat(this)))):new(e.bind.apply(e,j_([void 0],n.concat(this))))},e}(Array);function _T(t){return eo(t)?r6(t,function(){}):t}function Xpe(t){return typeof t=="boolean"}function Jpe(){return function(e){return Zpe(e)}}function Zpe(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new Qpe;return n&&(Xpe(n)?r.push(UD):r.push(UD.withExtraArgument(n.extraArgument))),r}var ege=!0;function tge(t){var e=Jpe(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,u=n.devTools,l=u===void 0?!0:u,h=n.preloadedState,d=h===void 0?void 0:h,p=n.enhancers,g=p===void 0?void 0:p,v;if(typeof i=="function")v=i;else if(Kpe(i))v=i6(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var E=o;typeof E=="function"&&(E=E(e));var R=s6.apply(void 0,E),C=ld;l&&(C=Ype(Jo({trace:!ege},typeof l=="object"&&l)));var S=[R];Array.isArray(g)?S=j_([R],g):typeof g=="function"&&(S=g(S));var T=C.apply(void 0,S);return fA(v,d,T)}function Zo(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Jo(Jo({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function u6(t){var e={},n=[],r,i={addCase:function(s,o){var u=typeof s=="string"?s:s.type;if(u in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[u]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function nge(t){return typeof t=="function"}function rge(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?u6(e):[e,n,r],s=i[0],o=i[1],u=i[2],l;if(nge(t))l=function(){return _T(t())};else{var h=_T(t);l=function(){return h}}function d(p,g){p===void 0&&(p=l());var v=j_([s[g.type]],o.filter(function(E){var R=E.matcher;return R(g)}).map(function(E){var R=E.reducer;return R}));return v.filter(function(E){return!!E}).length===0&&(v=[u]),v.reduce(function(E,R){if(R)if(ha(E)){var C=E,S=R(C,g);return S===void 0?E:S}else{if(eo(E))return r6(E,function(T){return R(T,g)});var S=R(E,g);if(S===void 0){if(E===null)return E;throw Error("A case reducer on a non-draftable value must not return undefined")}return S}return E},p)}return d.getInitialState=l,d}function ige(t,e){return t+"/"+e}function dA(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:_T(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},u={};i.forEach(function(d){var p=r[d],g=ige(e,d),v,E;"reducer"in p?(v=p.reducer,E=p.prepare):v=p,s[d]=v,o[g]=v,u[d]=E?Zo(g,E):Zo(g)});function l(){var d=typeof t.extraReducers=="function"?u6(t.extraReducers):[t.extraReducers],p=d[0],g=p===void 0?{}:p,v=d[1],E=v===void 0?[]:v,R=d[2],C=R===void 0?void 0:R,S=Jo(Jo({},g),o);return rge(n,function(T){for(var k in S)T.addCase(k,S[k]);for(var b=0,F=E;b<F.length;b++){var V=F[b];T.addMatcher(V.matcher,V.reducer)}C&&T.addDefaultCase(C)})}var h;return{name:e,reducer:function(d,p){return h||(h=l()),h(d,p)},actions:u,caseReducers:s,getInitialState:function(){return h||(h=l()),h.getInitialState()}}}var sge="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",oge=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=sge[Math.random()*64|0];return e},age=["name","message","stack","code"],YE=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),VD=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),uge=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=age;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,n,r){var i=Zo(e+"/fulfilled",function(h,d,p,g){return{payload:h,meta:qE(Jo({},g||{}),{arg:p,requestId:d,requestStatus:"fulfilled"})}}),s=Zo(e+"/pending",function(h,d,p){return{payload:void 0,meta:qE(Jo({},p||{}),{arg:d,requestId:h,requestStatus:"pending"})}}),o=Zo(e+"/rejected",function(h,d,p,g,v){return{payload:g,error:(r&&r.serializeError||uge)(h||"Rejected"),meta:qE(Jo({},v||{}),{arg:p,requestId:d,rejectedWithValue:!!g,requestStatus:"rejected",aborted:(h==null?void 0:h.name)==="AbortError",condition:(h==null?void 0:h.name)==="ConditionError"})}}),u=typeof AbortController<"u"?AbortController:function(){function h(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return h.prototype.abort=function(){},h}();function l(h){return function(d,p,g){var v=r!=null&&r.idGenerator?r.idGenerator(h):oge(),E=new u,R;function C(T){R=T,E.abort()}var S=function(){return qpe(this,null,function(){var T,k,b,F,V,W,q;return Wpe(this,function(ie){switch(ie.label){case 0:return ie.trys.push([0,4,,5]),F=(T=r==null?void 0:r.condition)==null?void 0:T.call(r,h,{getState:p,extra:g}),cge(F)?[4,F]:[3,2];case 1:F=ie.sent(),ie.label=2;case 2:if(F===!1||E.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return V=new Promise(function(re,Ne){return E.signal.addEventListener("abort",function(){return Ne({name:"AbortError",message:R||"Aborted"})})}),d(s(v,h,(k=r==null?void 0:r.getPendingMeta)==null?void 0:k.call(r,{requestId:v,arg:h},{getState:p,extra:g}))),[4,Promise.race([V,Promise.resolve(n(h,{dispatch:d,getState:p,extra:g,requestId:v,signal:E.signal,abort:C,rejectWithValue:function(re,Ne){return new YE(re,Ne)},fulfillWithValue:function(re,Ne){return new VD(re,Ne)}})).then(function(re){if(re instanceof YE)throw re;return re instanceof VD?i(re.payload,v,h,re.meta):i(re,v,h)})])];case 3:return b=ie.sent(),[3,5];case 4:return W=ie.sent(),b=W instanceof YE?o(null,v,h,W.payload,W.meta):o(W,v,h),[3,5];case 5:return q=r&&!r.dispatchConditionRejection&&o.match(b)&&b.meta.condition,q||d(b),[2,b]}})})}();return Object.assign(S,{abort:C,requestId:v,arg:h,unwrap:function(){return S.then(lge)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function lge(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function cge(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var pA="listenerMiddleware";Zo(pA+"/add");Zo(pA+"/removeAll");Zo(pA+"/remove");var WD;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);bpe();var af;(function(t){t.loginUser="loginUser",t.registerUser="registerUser",t.searchUser="searchUser"})(af||(af={}));var uf;(function(t){t.isLoginUser="isLoginUser",t.isRegisterUser="isRegisterUser",t.isSearchUser="isSearchUser"})(uf||(uf={}));var jD={user:null,searchedUsers:[],chat:null},Ye=dA({name:"user",initialState:jD,reducers:{loginUser:function(e,n){},loginUserSuccess:function(e,n){var r=n.payload;e.user=r},loginUserError:function(e,n){},registerUser:function(e,n){},registerUserSuccess:function(e,n){var r=n.payload;e.user=r},registerUserError:function(e,n){},searchUser:function(e,n){},searchUserSuccess:function(e,n){var r=n.payload;e.searchedUsers=r},searchUserError:function(e,n){},clearSearchedUser:function(e){e.searchedUsers=[]},getInterlocutor:function(e,n){},getInterlocutorSuccess:function(e,n){var r=n.payload;e.chat=r},getInterlocutorError:function(e,n){},logout:function(){return jD}}});function hge(t,e){return gge(t)||pge(t,e)||dge(t,e)||fge()}function fge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dge(t,e){if(t){if(typeof t=="string")return BD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BD(t,e)}}function BD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,u=[],l=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(d){h=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function gge(t){if(Array.isArray(t))return t}var zD={loading:{isLoginUser:!1,isRegisterUser:!1,isSearchUser:!1},errors:{loginUser:null,registerUser:null,searchUser:null}},gA=dA({name:"app",initialState:zD,reducers:{setError:function(e,n){var r=n.payload,i=r.error,s=r.errorType;e.errors[s]=i},resetErrors:function(e){e.errors=uu.cloneDeep(zD.errors)}},extraReducers:function(e){var n=function(i,s,o){var u=hge(i,3),l=u[0],h=u[1],d=u[2];e.addCase(l,function(p){p.loading[s]=!0,p.errors[o]=null}),e.addCase(h,function(p){p.loading[s]=!1}),e.addCase(d,function(p,g){p.loading[s]=!1,p.errors[o]=g.payload})};n([Ye.actions.loginUser,Ye.actions.loginUserSuccess,Ye.actions.loginUserError],uf.isLoginUser,af.loginUser),n([Ye.actions.registerUser,Ye.actions.registerUserSuccess,Ye.actions.registerUserError],uf.isRegisterUser,af.registerUser),n([Ye.actions.searchUser,Ye.actions.searchUserSuccess,Ye.actions.searchUserError],uf.isSearchUser,af.searchUser)}}),mge={isChatOpened:!1},l6=dA({name:"user",initialState:mge,reducers:{setIsChatOpened:function(e,n){var r=n.payload;e.isChatOpened=r}}});const _ge="zsV",vge="_6Re",yge="rML",wge="bff",kg={container:_ge,title:vge,opened:yge,user:wge};var Ege=function(){var e=_c(),n=Or(function(u){return u.user}),r=n.user,i=Or(function(u){return u.cache}),s=i.isChatOpened,o=function(){e(Ye.actions.logout())};return ot("div",{className:kg.container,children:[te(xv,{className:xc(kg.title,s&&kg.opened),to:En.Root,children:"Chat"}),ot("div",{className:kg.user,children:[te("img",{alt:"avatar",src:r==null?void 0:r.avatarUrl}),te("span",{children:r==null?void 0:r.nickname}),te("button",{onClick:o,children:"logout"})]})]})},Sge=function(e){var n=e.children,r=Or(function(s){return s.user}),i=r.user;return i!=null&&i.uid?n:te(CK,{to:"".concat(En.Root).concat(En.Login)})};const Tge="AAI",Ige="DfR",Cge="jvh",Rge="_0Pa",bg={container:Tge,chat:Ige,chatInfo:Cge,username:Rge};function HD(t,e){return bge(t)||kge(t,e)||Pge(t,e)||Age()}function Age(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pge(t,e){if(t){if(typeof t=="string")return GD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GD(t,e)}}function GD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,u=[],l=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(d){h=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function bge(t){if(Array.isArray(t))return t}var Oge=function(){var e=X.useState(""),n=HD(e,2),r=n[0],i=n[1],s=X.useState(""),o=HD(s,2),u=o[0],l=o[1],h=_c(),d=Or(function(R){return R.user}),p=d.searchedUsers,g=function(C){if(C==null||C.preventDefault(),u===""){h(Ye.actions.clearSearchedUser());return}r!==u&&u!==""&&h(Ye.actions.searchUser(u))},v=function(C){C.code==="Enter"&&(i(u),g())},E=function(C){l(C.target.value)};return kI(function(){h(Ye.actions.clearSearchedUser())}),ot("form",{className:bg.container,onSubmit:g,children:[te("input",{placeholder:"Find a user",type:"text",value:u,onChange:E,onKeyDown:v}),uu.map(p,function(R){var C=function(){l(""),i(""),h(Ye.actions.getInterlocutor(R)),h(Ye.actions.clearSearchedUser())};return ot("button",{className:bg.chat,onClick:C,children:[te("img",{alt:"avatar",src:R.avatarUrl}),te("div",{className:bg.chatInfo,children:te("span",{className:bg.username,children:R.nickname})})]},R.uid)})]})};const Nge="eGh",xge="FKL",Dge="QCC",KE={container:Nge,hide:xge,content:Dge};var Lge=function(){var e=Or(function(r){return r.cache}),n=e.isChatOpened;return ot("div",{className:xc(KE.container,n&&KE.hide),children:[te(Ege,{}),ot("div",{className:KE.content,children:[te(Oge,{}),te(Nee,{})]})]})};const Mge="PhY",Uge="xxr",Fge="uJq",$ge="BZ4",Og={chat:Mge,active:Uge,chatInfo:Fge,username:$ge};var Vge=function(e){var n=e.chatInfo,r=e.isActive,i=_c(),s=function(){i(Ye.actions.getInterlocutor(uu.clone(n.interlocutorInfo))),i(Ye.actions.clearSearchedUser())};return ot("button",{className:xc(Og.chat,r&&Og.active),onClick:s,children:[te("img",{alt:"avatar",src:n.interlocutorInfo.avatarUrl}),ot("div",{className:Og.chatInfo,children:[te("span",{className:Og.username,children:n.interlocutorInfo.nickname}),te("span",{children:ae(n.lastUpdate).fromNow()}),te("p",{children:n.lastMessage})]})]},n.interlocutorInfo.uid)},Wge=X.memo(Vge);const jge="Rbz",Bge="ZJj",qD={container:jge,closed:Bge};var zge=function(){var e=_d(),n=_c(),r=X.useMemo(function(){return!!e.pathname.match(/\/.+/g)},[e.pathname]);return X.useEffect(function(){n(l6.actions.setIsChatOpened(r)),console.log(r)},[r]),ot("div",{className:xc(qD.container,!r&&qD.closed),children:[te(Lge,{}),te(YM,{})]})};const Hge="YEy",Gge="nrP",qge="EIi",Yge="_1Wn",Kge="DjV",Qge="Cim",Qu={container:Hge,title:Gge,subtitle:qge,form:Yge,error:Kge,login:Qge};function vT(t){return vT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vT(t)}function yT(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */yT=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(I,_,w){I[_]=w.value},i=typeof Symbol=="function"?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(I,_,w){return Object.defineProperty(I,_,{value:w,enumerable:!0,configurable:!0,writable:!0}),I[_]}try{l({},"")}catch{l=function(w,N,D){return w[N]=D}}function h(I,_,w,N){var D=_&&_.prototype instanceof g?_:g,O=Object.create(D.prototype),M=new ie(N||[]);return r(O,"_invoke",{value:F(I,w,M)}),O}function d(I,_,w){try{return{type:"normal",arg:I.call(_,w)}}catch(N){return{type:"throw",arg:N}}}t.wrap=h;var p={};function g(){}function v(){}function E(){}var R={};l(R,s,function(){return this});var C=Object.getPrototypeOf,S=C&&C(C(re([])));S&&S!==e&&n.call(S,s)&&(R=S);var T=E.prototype=g.prototype=Object.create(R);function k(I){["next","throw","return"].forEach(function(_){l(I,_,function(w){return this._invoke(_,w)})})}function b(I,_){function w(D,O,M,B){var H=d(I[D],I,O);if(H.type!=="throw"){var ue=H.arg,fe=ue.value;return fe&&vT(fe)=="object"&&n.call(fe,"__await")?_.resolve(fe.__await).then(function(Se){w("next",Se,M,B)},function(Se){w("throw",Se,M,B)}):_.resolve(fe).then(function(Se){ue.value=Se,M(ue)},function(Se){return w("throw",Se,M,B)})}B(H.arg)}var N;r(this,"_invoke",{value:function(O,M){function B(){return new _(function(H,ue){w(O,M,H,ue)})}return N=N?N.then(B,B):B()}})}function F(I,_,w){var N="suspendedStart";return function(D,O){if(N==="executing")throw new Error("Generator is already running");if(N==="completed"){if(D==="throw")throw O;return Ne()}for(w.method=D,w.arg=O;;){var M=w.delegate;if(M){var B=V(M,w);if(B){if(B===p)continue;return B}}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(N==="suspendedStart")throw N="completed",w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);N="executing";var H=d(I,_,w);if(H.type==="normal"){if(N=w.done?"completed":"suspendedYield",H.arg===p)continue;return{value:H.arg,done:w.done}}H.type==="throw"&&(N="completed",w.method="throw",w.arg=H.arg)}}}function V(I,_){var w=_.method,N=I.iterator[w];if(N===void 0)return _.delegate=null,w==="throw"&&I.iterator.return&&(_.method="return",_.arg=void 0,V(I,_),_.method==="throw")||w!=="return"&&(_.method="throw",_.arg=new TypeError("The iterator does not provide a '"+w+"' method")),p;var D=d(N,I.iterator,_.arg);if(D.type==="throw")return _.method="throw",_.arg=D.arg,_.delegate=null,p;var O=D.arg;return O?O.done?(_[I.resultName]=O.value,_.next=I.nextLoc,_.method!=="return"&&(_.method="next",_.arg=void 0),_.delegate=null,p):O:(_.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,p)}function W(I){var _={tryLoc:I[0]};1 in I&&(_.catchLoc=I[1]),2 in I&&(_.finallyLoc=I[2],_.afterLoc=I[3]),this.tryEntries.push(_)}function q(I){var _=I.completion||{};_.type="normal",delete _.arg,I.completion=_}function ie(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(W,this),this.reset(!0)}function re(I){if(I){var _=I[s];if(_)return _.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var w=-1,N=function D(){for(;++w<I.length;)if(n.call(I,w))return D.value=I[w],D.done=!1,D;return D.value=void 0,D.done=!0,D};return N.next=N}}return{next:Ne}}function Ne(){return{value:void 0,done:!0}}return v.prototype=E,r(T,"constructor",{value:E,configurable:!0}),r(E,"constructor",{value:v,configurable:!0}),v.displayName=l(E,u,"GeneratorFunction"),t.isGeneratorFunction=function(I){var _=typeof I=="function"&&I.constructor;return!!_&&(_===v||(_.displayName||_.name)==="GeneratorFunction")},t.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,E):(I.__proto__=E,l(I,u,"GeneratorFunction")),I.prototype=Object.create(T),I},t.awrap=function(I){return{__await:I}},k(b.prototype),l(b.prototype,o,function(){return this}),t.AsyncIterator=b,t.async=function(I,_,w,N,D){D===void 0&&(D=Promise);var O=new b(h(I,_,w,N),D);return t.isGeneratorFunction(_)?O:O.next().then(function(M){return M.done?M.value:O.next()})},k(T),l(T,u,"Generator"),l(T,s,function(){return this}),l(T,"toString",function(){return"[object Generator]"}),t.keys=function(I){var _=Object(I),w=[];for(var N in _)w.push(N);return w.reverse(),function D(){for(;w.length;){var O=w.pop();if(O in _)return D.value=O,D.done=!1,D}return D.done=!0,D}},t.values=re,ie.prototype={constructor:ie,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(q),!_)for(var w in this)w.charAt(0)==="t"&&n.call(this,w)&&!isNaN(+w.slice(1))&&(this[w]=void 0)},stop:function(){this.done=!0;var _=this.tryEntries[0].completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var w=this;function N(ue,fe){return M.type="throw",M.arg=_,w.next=ue,fe&&(w.method="next",w.arg=void 0),!!fe}for(var D=this.tryEntries.length-1;D>=0;--D){var O=this.tryEntries[D],M=O.completion;if(O.tryLoc==="root")return N("end");if(O.tryLoc<=this.prev){var B=n.call(O,"catchLoc"),H=n.call(O,"finallyLoc");if(B&&H){if(this.prev<O.catchLoc)return N(O.catchLoc,!0);if(this.prev<O.finallyLoc)return N(O.finallyLoc)}else if(B){if(this.prev<O.catchLoc)return N(O.catchLoc,!0)}else{if(!H)throw new Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return N(O.finallyLoc)}}}},abrupt:function(_,w){for(var N=this.tryEntries.length-1;N>=0;--N){var D=this.tryEntries[N];if(D.tryLoc<=this.prev&&n.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var O=D;break}}O&&(_==="break"||_==="continue")&&O.tryLoc<=w&&w<=O.finallyLoc&&(O=null);var M=O?O.completion:{};return M.type=_,M.arg=w,O?(this.method="next",this.next=O.finallyLoc,p):this.complete(M)},complete:function(_,w){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&w&&(this.next=w),p},finish:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.finallyLoc===_)return this.complete(N.completion,N.afterLoc),q(N),p}},catch:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.tryLoc===_){var D=N.completion;if(D.type==="throw"){var O=D.arg;q(N)}return O}}throw new Error("illegal catch attempt")},delegateYield:function(_,w,N){return this.delegate={iterator:re(_),resultName:w,nextLoc:N},this.method==="next"&&(this.arg=void 0),p}},t}function YD(t,e,n,r,i,s,o){try{var u=t[s](o),l=u.value}catch(h){n(h);return}u.done?e(l):Promise.resolve(l).then(r,i)}function Xge(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(l){YD(s,r,i,o,u,"next",l)}function u(l){YD(s,r,i,o,u,"throw",l)}o(void 0)})}}var Jge=function(){var e=PM(),n=e.t,r=_c(),i=Or(function(h){return h.app}),s=i.errors.loginUser,o=i.loading.isLoginUser,u=function(){var h=Xge(yT().mark(function d(p){var g,v,E;return yT().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:p.preventDefault(),g=p.target,v=g.email,E=g.password,r(Ye.actions.loginUser({email:v.value,password:E.value}));case 3:case"end":return C.stop()}},d)}));return function(p){return h.apply(this,arguments)}}(),l=function(){r(gA.actions.resetErrors())};return ot("div",{className:Qu.container,children:[te("h2",{className:Qu.title,children:"Chat"}),te("h3",{className:Qu.subtitle,children:"Login"}),ot("form",{className:Qu.form,onSubmit:u,children:[te("input",{required:!0,name:Lo.Email,placeholder:"email@mail.com",type:"email"}),te("input",{required:!0,name:Lo.Password,placeholder:"password",type:"password"}),s&&te("p",{className:Qu.error,children:n(s)}),te("button",{disabled:o,type:"submit",children:"Sign in"})]}),ot("p",{className:Qu.login,children:["Don't have an account?"," ",te(xv,{to:"".concat(En.Root).concat(En.Register),onClick:l,children:"Register"})]})]})};function cd(t){return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function Zge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c6(r.key),r)}}function eme(t,e,n){return e&&KD(t.prototype,e),n&&KD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tme(t,e,n){return e=c6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c6(t){var e=nme(t,"string");return cd(e)==="symbol"?e:String(e)}function nme(t,e){if(cd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uc=function(){function t(){Zge(this,t)}return eme(t,null,[{key:"navigate",value:function(n,r){this.navigator&&(typeof n=="number"?this.navigator(n):this.navigator(n,r))}}]),t}();tme(Uc,"navigator",null);var rme=function(){return Uc.navigator=PI(),null};const ime="jS7",sme="oSO",ome="rMO",ame="myD",Ng={container:ime,title:sme,loading:ome,loadingDots:ame};var QD=function(){return kI(function(){setTimeout(function(){Uc.navigate(En.Root)},3e3)}),ot("div",{className:Ng.container,children:[te("p",{className:Ng.title,children:"This page doesn't exist."}),ot("p",{className:Ng.loading,children:["Redirecting to the homepage",te(hce,{className:Ng.loadingDots})]})]})};const ume="Kv-",lme="Sx9",cme="ldd",hme="-ft",fme="jUq",dme="LLm",Xu={container:ume,title:lme,subtitle:cme,form:hme,error:fme,login:dme};var Lo;(function(t){t.Nickname="nickname",t.Email="email",t.Password="password",t.File="file"})(Lo||(Lo={}));function wT(t){return wT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wT(t)}function ET(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ET=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(I,_,w){I[_]=w.value},i=typeof Symbol=="function"?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(I,_,w){return Object.defineProperty(I,_,{value:w,enumerable:!0,configurable:!0,writable:!0}),I[_]}try{l({},"")}catch{l=function(w,N,D){return w[N]=D}}function h(I,_,w,N){var D=_&&_.prototype instanceof g?_:g,O=Object.create(D.prototype),M=new ie(N||[]);return r(O,"_invoke",{value:F(I,w,M)}),O}function d(I,_,w){try{return{type:"normal",arg:I.call(_,w)}}catch(N){return{type:"throw",arg:N}}}t.wrap=h;var p={};function g(){}function v(){}function E(){}var R={};l(R,s,function(){return this});var C=Object.getPrototypeOf,S=C&&C(C(re([])));S&&S!==e&&n.call(S,s)&&(R=S);var T=E.prototype=g.prototype=Object.create(R);function k(I){["next","throw","return"].forEach(function(_){l(I,_,function(w){return this._invoke(_,w)})})}function b(I,_){function w(D,O,M,B){var H=d(I[D],I,O);if(H.type!=="throw"){var ue=H.arg,fe=ue.value;return fe&&wT(fe)=="object"&&n.call(fe,"__await")?_.resolve(fe.__await).then(function(Se){w("next",Se,M,B)},function(Se){w("throw",Se,M,B)}):_.resolve(fe).then(function(Se){ue.value=Se,M(ue)},function(Se){return w("throw",Se,M,B)})}B(H.arg)}var N;r(this,"_invoke",{value:function(O,M){function B(){return new _(function(H,ue){w(O,M,H,ue)})}return N=N?N.then(B,B):B()}})}function F(I,_,w){var N="suspendedStart";return function(D,O){if(N==="executing")throw new Error("Generator is already running");if(N==="completed"){if(D==="throw")throw O;return Ne()}for(w.method=D,w.arg=O;;){var M=w.delegate;if(M){var B=V(M,w);if(B){if(B===p)continue;return B}}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(N==="suspendedStart")throw N="completed",w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);N="executing";var H=d(I,_,w);if(H.type==="normal"){if(N=w.done?"completed":"suspendedYield",H.arg===p)continue;return{value:H.arg,done:w.done}}H.type==="throw"&&(N="completed",w.method="throw",w.arg=H.arg)}}}function V(I,_){var w=_.method,N=I.iterator[w];if(N===void 0)return _.delegate=null,w==="throw"&&I.iterator.return&&(_.method="return",_.arg=void 0,V(I,_),_.method==="throw")||w!=="return"&&(_.method="throw",_.arg=new TypeError("The iterator does not provide a '"+w+"' method")),p;var D=d(N,I.iterator,_.arg);if(D.type==="throw")return _.method="throw",_.arg=D.arg,_.delegate=null,p;var O=D.arg;return O?O.done?(_[I.resultName]=O.value,_.next=I.nextLoc,_.method!=="return"&&(_.method="next",_.arg=void 0),_.delegate=null,p):O:(_.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,p)}function W(I){var _={tryLoc:I[0]};1 in I&&(_.catchLoc=I[1]),2 in I&&(_.finallyLoc=I[2],_.afterLoc=I[3]),this.tryEntries.push(_)}function q(I){var _=I.completion||{};_.type="normal",delete _.arg,I.completion=_}function ie(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(W,this),this.reset(!0)}function re(I){if(I){var _=I[s];if(_)return _.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var w=-1,N=function D(){for(;++w<I.length;)if(n.call(I,w))return D.value=I[w],D.done=!1,D;return D.value=void 0,D.done=!0,D};return N.next=N}}return{next:Ne}}function Ne(){return{value:void 0,done:!0}}return v.prototype=E,r(T,"constructor",{value:E,configurable:!0}),r(E,"constructor",{value:v,configurable:!0}),v.displayName=l(E,u,"GeneratorFunction"),t.isGeneratorFunction=function(I){var _=typeof I=="function"&&I.constructor;return!!_&&(_===v||(_.displayName||_.name)==="GeneratorFunction")},t.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,E):(I.__proto__=E,l(I,u,"GeneratorFunction")),I.prototype=Object.create(T),I},t.awrap=function(I){return{__await:I}},k(b.prototype),l(b.prototype,o,function(){return this}),t.AsyncIterator=b,t.async=function(I,_,w,N,D){D===void 0&&(D=Promise);var O=new b(h(I,_,w,N),D);return t.isGeneratorFunction(_)?O:O.next().then(function(M){return M.done?M.value:O.next()})},k(T),l(T,u,"Generator"),l(T,s,function(){return this}),l(T,"toString",function(){return"[object Generator]"}),t.keys=function(I){var _=Object(I),w=[];for(var N in _)w.push(N);return w.reverse(),function D(){for(;w.length;){var O=w.pop();if(O in _)return D.value=O,D.done=!1,D}return D.done=!0,D}},t.values=re,ie.prototype={constructor:ie,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(q),!_)for(var w in this)w.charAt(0)==="t"&&n.call(this,w)&&!isNaN(+w.slice(1))&&(this[w]=void 0)},stop:function(){this.done=!0;var _=this.tryEntries[0].completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var w=this;function N(ue,fe){return M.type="throw",M.arg=_,w.next=ue,fe&&(w.method="next",w.arg=void 0),!!fe}for(var D=this.tryEntries.length-1;D>=0;--D){var O=this.tryEntries[D],M=O.completion;if(O.tryLoc==="root")return N("end");if(O.tryLoc<=this.prev){var B=n.call(O,"catchLoc"),H=n.call(O,"finallyLoc");if(B&&H){if(this.prev<O.catchLoc)return N(O.catchLoc,!0);if(this.prev<O.finallyLoc)return N(O.finallyLoc)}else if(B){if(this.prev<O.catchLoc)return N(O.catchLoc,!0)}else{if(!H)throw new Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return N(O.finallyLoc)}}}},abrupt:function(_,w){for(var N=this.tryEntries.length-1;N>=0;--N){var D=this.tryEntries[N];if(D.tryLoc<=this.prev&&n.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var O=D;break}}O&&(_==="break"||_==="continue")&&O.tryLoc<=w&&w<=O.finallyLoc&&(O=null);var M=O?O.completion:{};return M.type=_,M.arg=w,O?(this.method="next",this.next=O.finallyLoc,p):this.complete(M)},complete:function(_,w){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&w&&(this.next=w),p},finish:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.finallyLoc===_)return this.complete(N.completion,N.afterLoc),q(N),p}},catch:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.tryLoc===_){var D=N.completion;if(D.type==="throw"){var O=D.arg;q(N)}return O}}throw new Error("illegal catch attempt")},delegateYield:function(_,w,N){return this.delegate={iterator:re(_),resultName:w,nextLoc:N},this.method==="next"&&(this.arg=void 0),p}},t}function XD(t,e,n,r,i,s,o){try{var u=t[s](o),l=u.value}catch(h){n(h);return}u.done?e(l):Promise.resolve(l).then(r,i)}function pme(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(l){XD(s,r,i,o,u,"next",l)}function u(l){XD(s,r,i,o,u,"throw",l)}o(void 0)})}}function gme(t,e){return yme(t)||vme(t,e)||_me(t,e)||mme()}function mme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _me(t,e){if(t){if(typeof t=="string")return JD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JD(t,e)}}function JD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,u=[],l=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(d){h=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function yme(t){if(Array.isArray(t))return t}var wme=function(){var e=X.useState(""),n=gme(e,2),r=n[0],i=n[1],s=PM(),o=s.t,u=_c(),l=Or(function(E){return E.app}),h=l.errors.registerUser,d=l.loading.isRegisterUser,p=function(R){if(R.target.files){var C=R.target.files[0],S=new FileReader;S.onload=function(){S.readyState===2&&typeof S.result=="string"&&i(S.result)},C&&S.readAsDataURL(C)}},g=function(){var E=pme(ET().mark(function R(C){var S,T,k,b,F;return ET().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:C.preventDefault(),S=C.target,T=S.nickname,k=S.email,b=S.password,F=S.file,u(Ye.actions.registerUser({nickname:T.value,email:k.value,password:b.value,avatar:F.files&&F.files[0]}));case 3:case"end":return W.stop()}},R)}));return function(C){return E.apply(this,arguments)}}(),v=function(){u(gA.actions.resetErrors())};return ot("div",{className:Xu.container,children:[te("h2",{className:Xu.title,children:"Chat"}),te("h3",{className:Xu.subtitle,children:"Register"}),ot("form",{className:Xu.form,onSubmit:g,children:[te("input",{required:!0,name:Lo.Nickname,placeholder:"Nickname",type:"text"}),te("input",{required:!0,name:Lo.Email,placeholder:"email@mail.com",type:"email"}),te("input",{required:!0,minLength:6,name:Lo.Password,placeholder:"password",type:"password"}),ot("label",{htmlFor:"file",children:[te("input",{hidden:!0,id:"file",name:Lo.File,type:"file",onChange:p}),te(Hm.AddAvatar,{}),r?te("img",{alt:"avatar",src:r}):te("span",{children:"Add an avatar"})]}),h&&te("p",{className:Xu.error,children:o(h)}),te("button",{disabled:d,type:"submit",children:"Sign up"})]}),ot("p",{className:Xu.login,children:["Do you already have an account?"," ",te(xv,{to:"".concat(En.Root).concat(En.Login),onClick:v,children:"Login"})]})]})},Eme=function(){return ot(NK,{children:[te(rme,{}),ot(AK,{children:[ot(Na,{element:te(uce,{}),errorElement:te(QD,{}),path:En.Root,children:[te(Na,{element:te(Sge,{children:te(zge,{})}),path:En.Root,children:te(Na,{element:te(VK,{}),path:":".concat(oS.ChatId)})}),te(Na,{element:te(Jge,{}),path:En.Login}),te(Na,{element:te(wme,{}),path:En.Register})]}),te(Na,{element:te(QD,{}),path:"*"})]})]})},mA="persist:",h6="persist/FLUSH",_A="persist/REHYDRATE",f6="persist/PAUSE",d6="persist/PERSIST",p6="persist/PURGE",g6="persist/REGISTER",Sme=-1;function cm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cm=function(n){return typeof n}:cm=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},cm(t)}function ZD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tme(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZD(n,!0).forEach(function(r){Ime(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZD(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ime(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cme(t,e,n,r){r.debug;var i=Tme({},n);return t&&cm(t)==="object"&&Object.keys(t).forEach(function(s){s!=="_persist"&&e[s]===n[s]&&(i[s]=t[s])}),i}function Rme(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,s="".concat(t.keyPrefix!==void 0?t.keyPrefix:mA).concat(t.key),o=t.storage,u;t.serialize===!1?u=function(F){return F}:typeof t.serialize=="function"?u=t.serialize:u=Ame;var l=t.writeFailHandler||null,h={},d={},p=[],g=null,v=null,E=function(F){Object.keys(F).forEach(function(V){S(V)&&h[V]!==F[V]&&p.indexOf(V)===-1&&p.push(V)}),Object.keys(h).forEach(function(V){F[V]===void 0&&S(V)&&p.indexOf(V)===-1&&h[V]!==void 0&&p.push(V)}),g===null&&(g=setInterval(R,i)),h=F};function R(){if(p.length===0){g&&clearInterval(g),g=null;return}var b=p.shift(),F=r.reduce(function(V,W){return W.in(V,b,h)},h[b]);if(F!==void 0)try{d[b]=u(F)}catch(V){console.error("redux-persist/createPersistoid: error serializing state",V)}else delete d[b];p.length===0&&C()}function C(){Object.keys(d).forEach(function(b){h[b]===void 0&&delete d[b]}),v=o.setItem(s,u(d)).catch(T)}function S(b){return!(n&&n.indexOf(b)===-1&&b!=="_persist"||e&&e.indexOf(b)!==-1)}function T(b){l&&l(b)}var k=function(){for(;p.length!==0;)R();return v||Promise.resolve()};return{update:E,flush:k}}function Ame(t){return JSON.stringify(t)}function Pme(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:mA).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(o){return o}:typeof t.deserialize=="function"?i=t.deserialize:i=kme,r.getItem(n).then(function(s){if(s)try{var o={},u=i(s);return Object.keys(u).forEach(function(l){o[l]=e.reduceRight(function(h,d){return d.out(h,l,u)},i(u[l]))}),o}catch(l){throw l}else return})}function kme(t){return JSON.parse(t)}function bme(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:mA).concat(t.key);return e.removeItem(n,Ome)}function Ome(t){}function eL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eL(n,!0).forEach(function(r){Nme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eL(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nme(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xme(t,e){if(t==null)return{};var n=Dme(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dme(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Lme=5e3;function Mme(t,e){var n=t.version!==void 0?t.version:Sme;t.debug;var r=t.stateReconciler===void 0?Cme:t.stateReconciler,i=t.getStoredState||Pme,s=t.timeout!==void 0?t.timeout:Lme,o=null,u=!1,l=!0,h=function(p){return p._persist.rehydrated&&o&&!l&&o.update(p),p};return function(d,p){var g=d||{},v=g._persist,E=xme(g,["_persist"]),R=E;if(p.type===d6){var C=!1,S=function(q,ie){C||(p.rehydrate(t.key,q,ie),C=!0)};if(s&&setTimeout(function(){!C&&S(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},s),l=!1,o||(o=Rme(t)),v)return Is({},e(R,p),{_persist:v});if(typeof p.rehydrate!="function"||typeof p.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return p.register(t.key),i(t).then(function(W){var q=t.migrate||function(ie,re){return Promise.resolve(ie)};q(W,n).then(function(ie){S(ie)},function(ie){S(void 0,ie)})},function(W){S(void 0,W)}),Is({},e(R,p),{_persist:{version:n,rehydrated:!1}})}else{if(p.type===p6)return u=!0,p.result(bme(t)),Is({},e(R,p),{_persist:v});if(p.type===h6)return p.result(o&&o.flush()),Is({},e(R,p),{_persist:v});if(p.type===f6)l=!0;else if(p.type===_A){if(u)return Is({},R,{_persist:Is({},v,{rehydrated:!0})});if(p.key===t.key){var T=e(R,p),k=p.payload,b=r!==!1&&k!==void 0?r(k,d,T,t):T,F=Is({},b,{_persist:Is({},v,{rehydrated:!0})});return h(F)}}}if(!v)return e(d,p);var V=e(R,p);return V===R?d:h(Is({},V,{_persist:v}))}}function tL(t){return $me(t)||Fme(t)||Ume()}function Ume(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Fme(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function $me(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function nL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ST(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nL(n,!0).forEach(function(r){Vme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nL(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vme(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m6={registry:[],bootstrapped:!1},Wme=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m6,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case g6:return ST({},e,{registry:[].concat(tL(e.registry),[n.key])});case _A:var r=e.registry.indexOf(n.key),i=tL(e.registry);return i.splice(r,1),ST({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function jme(t,e,n){var r=n||!1,i=fA(Wme,m6,e&&e.enhancer?e.enhancer:void 0),s=function(h){i.dispatch({type:g6,key:h})},o=function(h,d,p){var g={type:_A,payload:d,err:p,key:h};t.dispatch(g),i.dispatch(g),r&&u.getState().bootstrapped&&(r(),r=!1)},u=ST({},i,{purge:function(){var h=[];return t.dispatch({type:p6,result:function(p){h.push(p)}}),Promise.all(h)},flush:function(){var h=[];return t.dispatch({type:h6,result:function(p){h.push(p)}}),Promise.all(h)},pause:function(){t.dispatch({type:f6})},persist:function(){t.dispatch({type:d6,register:s,rehydrate:o})}});return e&&e.manualPersist||u.persist(),u}var vA={},yA={};yA.__esModule=!0;yA.default=Hme;function hm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hm=function(n){return typeof n}:hm=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},hm(t)}function QE(){}var Bme={getItem:QE,setItem:QE,removeItem:QE};function zme(t){if((typeof self>"u"?"undefined":hm(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function Hme(t){var e="".concat(t,"Storage");return zme(e)?self[e]:Bme}vA.__esModule=!0;vA.default=Yme;var Gme=qme(yA);function qme(t){return t&&t.__esModule?t:{default:t}}function Yme(t){var e=(0,Gme.default)(t);return{getItem:function(r){return new Promise(function(i,s){i(e.getItem(r))})},setItem:function(r,i){return new Promise(function(s,o){s(e.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,s){i(e.removeItem(r))})}}}var _6=void 0,Kme=Qme(vA);function Qme(t){return t&&t.__esModule?t:{default:t}}var Xme=(0,Kme.default)("local");_6=Xme;var Fi=function(e){return"@@redux-saga/"+e},Jme=Fi("CANCEL_PROMISE"),v6=Fi("CHANNEL_END"),y6=Fi("IO"),rL=Fi("MATCH"),w6=Fi("MULTICAST"),E6=Fi("SAGA_ACTION"),S6=Fi("SELF_CANCELLATION"),Zme=Fi("TASK"),Wl=Fi("TASK_CANCEL"),T6=Fi("TERMINATE"),e_e=Fi("LOCATION"),I6=function(e){return e==null},fm=function(e){return e!=null},mr=function(e){return typeof e=="function"},wA=function(e){return typeof e=="string"},ya=Array.isArray,jy=function(e){return e&&mr(e.then)},EA=function(e){return e&&mr(e.next)&&mr(e.throw)},iL=function t(e){return e&&(wA(e)||R6(e)||mr(e)||ya(e)&&e.every(t))},SA=function(e){return e&&mr(e.take)&&mr(e.close)},C6=function(e){return mr(e)&&e.hasOwnProperty("toString")},R6=function(e){return Boolean(e)&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype},t_e=function(e){return SA(e)&&e[w6]},n_e=function(e){return function(){return e}},r_e=n_e(!0),Zn=function(){},i_e=function(e){return e},TA=function(e,n){jm(e,n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(n).forEach(function(r){e[r]=n[r]})},s_e=function(e,n){var r;return(r=[]).concat.apply(r,n.map(e))};function By(t,e){var n=t.indexOf(e);n>=0&&t.splice(n,1)}function o_e(t){var e=!1;return function(){e||(e=!0,t())}}var a_e=function(e){throw e},u_e=function(e){return{value:e,done:!0}};function TT(t,e,n){e===void 0&&(e=a_e),n===void 0&&(n="iterator");var r={meta:{name:n},next:t,throw:e,return:u_e,isSagaIterator:!0};return typeof Symbol<"u"&&(r[Symbol.iterator]=function(){return r}),r}function l_e(t,e){var n=e.sagaStack;console.error(t),console.error(n)}var A6=function(e){return Array.apply(null,new Array(e))},c_e=function(e){return function(n){return e(Object.defineProperty(n,E6,{value:!0}))}},P6=function(e){return e===T6},k6=function(e){return e===Wl},b6=function(e){return P6(e)||k6(e)};function O6(t,e){var n=Object.keys(t),r=n.length,i=0,s,o=ya(t)?A6(r):{},u={};function l(){i===r&&(s=!0,e(o))}return n.forEach(function(h){var d=function(g,v){s||(v||b6(g)?(e.cancel(),e(g,v)):(o[h]=g,i++,l()))};d.cancel=Zn,u[h]=d}),e.cancel=function(){s||(s=!0,n.forEach(function(h){return u[h].cancel()}))},u}function IA(t){return{name:t.name||"anonymous",location:N6(t)}}function N6(t){return t[e_e]}var h_e="Channel's Buffer overflow!",f_e=1,d_e=3,x6=4;function p_e(t,e){t===void 0&&(t=10);var n=new Array(t),r=0,i=0,s=0,o=function(d){n[i]=d,i=(i+1)%t,r++},u=function(){if(r!=0){var d=n[s];return n[s]=null,r--,s=(s+1)%t,d}},l=function(){for(var d=[];r;)d.push(u());return d};return{isEmpty:function(){return r==0},put:function(d){if(r<t)o(d);else{var p;switch(e){case f_e:throw new Error(h_e);case d_e:n[i]=d,i=(i+1)%t,s=i;break;case x6:p=2*t,n=l(),r=n.length,i=n.length,s=0,n.length=p,t=p,o(d);break}}},take:u,flush:l}}var g_e=function(e){return p_e(e,x6)},dm="TAKE",D6="PUT",L6="ALL",m_e="RACE",M6="CALL",__e="CPS",U6="FORK",v_e="JOIN",F6="CANCEL",y_e="SELECT",w_e="ACTION_CHANNEL",E_e="CANCELLED",S_e="FLUSH",T_e="GET_CONTEXT",I_e="SET_CONTEXT",ea=function(e,n){var r;return r={},r[y6]=!0,r.combinator=!1,r.type=e,r.payload=n,r};function C_e(t,e){if(t===void 0&&(t="*"),iL(t))return fm(e)&&console.warn("take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types"),ea(dm,{pattern:t});if(t_e(t)&&fm(e)&&iL(e))return ea(dm,{channel:t,pattern:e});if(SA(t))return fm(e)&&console.warn("take(channel) takes one argument but two were provided. Second argument is ignored."),ea(dm,{channel:t})}function fa(t,e){return I6(e)&&(e=t,t=void 0),ea(D6,{channel:t,action:e})}function R_e(t){var e=ea(L6,t);return e.combinator=!0,e}function $6(t,e){var n=null,r;return mr(t)?r=t:(ya(t)?(n=t[0],r=t[1]):(n=t.context,r=t.fn),n&&wA(r)&&mr(n[r])&&(r=n[r])),{context:n,fn:r,args:e}}function zy(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return ea(M6,$6(t,n))}function V6(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return ea(U6,$6(t,n))}function A_e(t){return t===void 0&&(t=S6),ea(F6,t)}function P_e(){var t={};return t.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),t}var W6=[],Hy=0;function k_e(t){try{CA(),t()}finally{z6()}}function j6(t){W6.push(t),Hy||(CA(),H6())}function B6(t){try{return CA(),t()}finally{H6()}}function CA(){Hy++}function z6(){Hy--}function H6(){z6();for(var t;!Hy&&(t=W6.shift())!==void 0;)k_e(t)}var b_e=function(e){return function(n){return e.some(function(r){return RA(r)(n)})}},O_e=function(e){return function(n){return e(n)}},sL=function(e){return function(n){return n.type===String(e)}},N_e=function(e){return function(n){return n.type===e}},G6=function(){return r_e};function RA(t){var e=t==="*"?G6:wA(t)?sL:ya(t)?b_e:C6(t)?sL:mr(t)?O_e:R6(t)?N_e:null;if(e===null)throw new Error("invalid pattern: "+t);return e(t)}var lf={type:v6},AA=function(e){return e&&e.type===v6};function x_e(t){t===void 0&&(t=g_e());var e=!1,n=[];function r(u){if(!e){if(n.length===0)return t.put(u);var l=n.shift();l(u)}}function i(u){e&&t.isEmpty()?u(lf):t.isEmpty()?(n.push(u),u.cancel=function(){By(n,u)}):u(t.take())}function s(u){if(e&&t.isEmpty()){u(lf);return}u(t.flush())}function o(){if(!e){e=!0;var u=n;n=[];for(var l=0,h=u.length;l<h;l++){var d=u[l];d(lf)}}}return{take:i,put:r,flush:s,close:o}}function D_e(){var t,e=!1,n=[],r=n,i=function(){r===n&&(r=n.slice())},s=function(){e=!0;var u=n=r;r=[],u.forEach(function(l){l(lf)})};return t={},t[w6]=!0,t.put=function(u){if(!e){if(AA(u)){s();return}for(var l=n=r,h=0,d=l.length;h<d;h++){var p=l[h];p[rL](u)&&(p.cancel(),p(u))}}},t.take=function(u,l){if(l===void 0&&(l=G6),e){u(lf);return}u[rL]=l,i(),r.push(u),u.cancel=o_e(function(){i(),By(r,u)})},t.close=s,t}function q6(){var t=D_e(),e=t.put;return t.put=function(n){if(n[E6]){e(n);return}j6(function(){e(n)})},t}var Ua=0,Ps=1,pm=2,Y6=3;function PA(t,e){var n=t[Jme];mr(n)&&(e.cancel=n),t.then(e,function(r){e(r,!0)})}var ep=0,K6=function(){return++ep},pn;function L_e(t,e){return t.isSagaIterator?{name:t.meta.name}:IA(e)}function M_e(t){var e=t.context,n=t.fn,r=t.args;try{var i=n.apply(e,r);if(EA(i))return i;var s=!1,o=function(l){return s?{value:l,done:!0}:(s=!0,{value:i,done:!jy(i)})};return TT(o)}catch(u){return TT(function(){throw u})}}function U_e(t,e,n){var r=e.channel,i=e.action,s=e.resolve;j6(function(){var o;try{o=(r?r.put:t.dispatch)(i)}catch(u){n(u,!0);return}s&&jy(o)?PA(o,n):n(o)})}function F_e(t,e,n){var r=e.channel,i=r===void 0?t.channel:r,s=e.pattern,o=e.maybe,u=function(h){if(h instanceof Error){n(h,!0);return}if(AA(h)&&!o){n(T6);return}n(h)};try{i.take(u,fm(s)?RA(s):null)}catch(l){n(l,!0);return}n.cancel=u.cancel}function $_e(t,e,n,r){var i=e.context,s=e.fn,o=e.args,u=r.task;try{var l=s.apply(i,o);if(jy(l)){PA(l,n);return}if(EA(l)){Gy(t,l,u.context,ep,IA(s),!1,n);return}n(l)}catch(h){n(h,!0)}}function V_e(t,e,n){var r=e.context,i=e.fn,s=e.args;try{var o=function(l,h){I6(l)?n(h):n(l,!0)};i.apply(r,s.concat(o)),o.cancel&&(n.cancel=o.cancel)}catch(u){n(u,!0)}}function W_e(t,e,n,r){var i=e.context,s=e.fn,o=e.args,u=e.detached,l=r.task,h=M_e({context:i,fn:s,args:o}),d=L_e(h,s);B6(function(){var p=Gy(t,h,l.context,ep,d,u,void 0);u?n(p):p.isRunning()?(l.queue.addTask(p),n(p)):p.isAborted()?l.queue.abort(p.error()):n(p)})}function j_e(t,e,n,r){var i=r.task,s=function(l,h){if(l.isRunning()){var d={task:i,cb:h};h.cancel=function(){l.isRunning()&&By(l.joiners,d)},l.joiners.push(d)}else l.isAborted()?h(l.error(),!0):h(l.result())};if(ya(e)){if(e.length===0){n([]);return}var o=O6(e,n);e.forEach(function(u,l){s(u,o[l])})}else s(e,n)}function XE(t){t.isRunning()&&t.cancel()}function B_e(t,e,n,r){var i=r.task;e===S6?XE(i):ya(e)?e.forEach(XE):XE(e),n()}function z_e(t,e,n,r){var i=r.digestEffect,s=ep,o=Object.keys(e);if(o.length===0){n(ya(e)?[]:{});return}var u=O6(e,n);o.forEach(function(l){i(e[l],s,u[l],l)})}function H_e(t,e,n,r){var i=r.digestEffect,s=ep,o=Object.keys(e),u=ya(e)?A6(o.length):{},l={},h=!1;o.forEach(function(d){var p=function(v,E){h||(E||b6(v)?(n.cancel(),n(v,E)):(n.cancel(),h=!0,u[d]=v,n(u)))};p.cancel=Zn,l[d]=p}),n.cancel=function(){h||(h=!0,o.forEach(function(d){return l[d].cancel()}))},o.forEach(function(d){h||i(e[d],s,l[d],d)})}function G_e(t,e,n){var r=e.selector,i=e.args;try{var s=r.apply(void 0,[t.getState()].concat(i));n(s)}catch(o){n(o,!0)}}function q_e(t,e,n){var r=e.pattern,i=e.buffer,s=x_e(i),o=RA(r),u=function h(d){AA(d)||t.channel.take(h,o),s.put(d)},l=s.close;s.close=function(){u.cancel(),l()},t.channel.take(u,o),n(s)}function Y_e(t,e,n,r){var i=r.task;n(i.isCancelled())}function K_e(t,e,n){e.flush(n)}function Q_e(t,e,n,r){var i=r.task;n(i.context[e])}function X_e(t,e,n,r){var i=r.task;TA(i.context,e),n()}var J_e=(pn={},pn[dm]=F_e,pn[D6]=U_e,pn[L6]=z_e,pn[m_e]=H_e,pn[M6]=$_e,pn[__e]=V_e,pn[U6]=W_e,pn[v_e]=j_e,pn[F6]=B_e,pn[y_e]=G_e,pn[w_e]=q_e,pn[E_e]=Y_e,pn[S_e]=K_e,pn[T_e]=Q_e,pn[I_e]=X_e,pn);function Z_e(t,e,n){var r=[],i,s=!1;l(t);var o=function(){return r};function u(d){e(),h(),n(d,!0)}function l(d){r.push(d),d.cont=function(p,g){s||(By(r,d),d.cont=Zn,g?u(p):(d===t&&(i=p),r.length||(s=!0,n(i))))}}function h(){s||(s=!0,r.forEach(function(d){d.cont=Zn,d.cancel()}),r=[])}return{addTask:l,cancelAll:h,abort:u,getTasks:o}}function Q6(t,e){return t+"?"+e}function eve(t){var e=N6(t);if(e){var n=e.code,r=e.fileName,i=e.lineNumber,s=n+"  "+Q6(r,i);return s}return""}function oL(t){var e=t.name,n=t.location;return n?e+"  "+Q6(n.fileName,n.lineNumber):e}function tve(t){var e=s_e(function(n){return n.cancelledTasks},t);return e.length?["Tasks cancelled due to error:"].concat(e).join(`
`):""}var kA=null,cf=[],nve=function(e){e.crashedEffect=kA,cf.push(e)},X6=function(){kA=null,cf.length=0},rve=function(e){kA=e},ive=function(){var e=cf[0],n=cf.slice(1),r=e.crashedEffect?eve(e.crashedEffect):null,i="The above error occurred in task "+oL(e.meta)+(r?` 
 when executing effect `+r:"");return[i].concat(n.map(function(s){return"    created by "+oL(s.meta)}),[tve(cf)]).join(`
`)};function sve(t,e,n,r,i,s,o){var u;o===void 0&&(o=Zn);var l=Ua,h,d,p=null,g=[],v=Object.create(n),E=Z_e(e,function(){g.push.apply(g,E.getTasks().map(function(F){return F.meta.name}))},C);function R(){l===Ua&&(l=Ps,E.cancelAll(),C(Wl,!1))}function C(b,F){if(!F)b===Wl?l=Ps:l!==Ps&&(l=Y6),h=b,p&&p.resolve(b);else{if(l=pm,nve({meta:i,cancelledTasks:g}),k.isRoot){var V=ive();X6(),t.onError(b,{sagaStack:V})}d=b,p&&p.reject(b)}k.cont(b,F),k.joiners.forEach(function(W){W.cb(b,F)}),k.joiners=null}function S(b){TA(v,b)}function T(){return p||(p=P_e(),l===pm?p.reject(d):l!==Ua&&p.resolve(h)),p.promise}var k=(u={},u[Zme]=!0,u.id=r,u.meta=i,u.isRoot=s,u.context=v,u.joiners=[],u.queue=E,u.cancel=R,u.cont=o,u.end=C,u.setContext=S,u.toPromise=T,u.isRunning=function(){return l===Ua},u.isCancelled=function(){return l===Ps||l===Ua&&e.status===Ps},u.isAborted=function(){return l===pm},u.result=function(){return h},u.error=function(){return d},u);return k}function Gy(t,e,n,r,i,s,o){var u=t.finalizeRunEffect(v);g.cancel=Zn;var l={meta:i,cancel:p,status:Ua},h=sve(t,l,n,r,i,s,o),d={task:h,digestEffect:E};function p(){l.status===Ua&&(l.status=Ps,g(Wl))}return o&&(o.cancel=h.cancel),g(),h;function g(R,C){try{var S;C?(S=e.throw(R),X6()):k6(R)?(l.status=Ps,g.cancel(),S=mr(e.return)?e.return(Wl):{done:!0,value:Wl}):P6(R)?S=mr(e.return)?e.return():{done:!0}:S=e.next(R),S.done?(l.status!==Ps&&(l.status=Y6),l.cont(S.value)):E(S.value,r,g)}catch(T){if(l.status===Ps)throw T;l.status=pm,l.cont(T,!0)}}function v(R,C,S){if(jy(R))PA(R,S);else if(EA(R))Gy(t,R,h.context,C,i,!1,S);else if(R&&R[y6]){var T=J_e[R.type];T(t,R.payload,S,d)}else S(R)}function E(R,C,S,T){T===void 0&&(T="");var k=K6();t.sagaMonitor&&t.sagaMonitor.effectTriggered({effectId:k,parentEffectId:C,label:T,effect:R});var b;function F(V,W){b||(b=!0,S.cancel=Zn,t.sagaMonitor&&(W?t.sagaMonitor.effectRejected(k,V):t.sagaMonitor.effectResolved(k,V)),W&&rve(R),S(V,W))}F.cancel=Zn,S.cancel=function(){b||(b=!0,F.cancel(),F.cancel=Zn,t.sagaMonitor&&t.sagaMonitor.effectCancelled(k))},u(R,k,F)}}function ove(t,e){for(var n=t.channel,r=n===void 0?q6():n,i=t.dispatch,s=t.getState,o=t.context,u=o===void 0?{}:o,l=t.sagaMonitor,h=t.effectMiddlewares,d=t.onError,p=d===void 0?l_e:d,g=arguments.length,v=new Array(g>2?g-2:0),E=2;E<g;E++)v[E-2]=arguments[E];var R=e.apply(void 0,v),C=K6();l&&(l.rootSagaStarted=l.rootSagaStarted||Zn,l.effectTriggered=l.effectTriggered||Zn,l.effectResolved=l.effectResolved||Zn,l.effectRejected=l.effectRejected||Zn,l.effectCancelled=l.effectCancelled||Zn,l.actionDispatched=l.actionDispatched||Zn,l.rootSagaStarted({effectId:C,saga:e,args:v}));var S;if(h){var T=ld.apply(void 0,h);S=function(F){return function(V,W,q){var ie=function(Ne){return F(Ne,W,q)};return T(ie)(V)}}}else S=i_e;var k={channel:r,dispatch:c_e(i),getState:s,sagaMonitor:l,onError:p,finalizeRunEffect:S};return B6(function(){var b=Gy(k,R,u,C,IA(e),!0,void 0);return l&&l.effectResolved(C,b),b})}function ave(t){var e=t===void 0?{}:t,n=e.context,r=n===void 0?{}:n,i=e.channel,s=i===void 0?q6():i,o=e.sagaMonitor,u=oY(e,["context","channel","sagaMonitor"]),l;function h(d){var p=d.getState,g=d.dispatch;return l=ove.bind(null,jm({},u,{context:r,channel:s,dispatch:g,getState:p,sagaMonitor:o})),function(v){return function(E){o&&o.actionDispatched&&o.actionDispatched(E);var R=v(E);return s.put(E),R}}}return h.run=function(){return l.apply(void 0,arguments)},h.setContext=function(d){TA(r,d)},h}var aL=function(e){return{done:!0,value:e}},JE={};function uve(t){return SA(t)?"channel":C6(t)?String(t):mr(t)?t.name:String(t)}function lve(t,e,n){var r,i,s,o=e;function u(l,h){if(o===JE)return aL(l);if(h&&!i)throw o=JE,h;r&&r(l);var d=h?t[i](h):t[o]();return o=d.nextState,s=d.effect,r=d.stateUpdater,i=d.errorState,o===JE?aL(l):s}return TT(u,function(l){return u(null,l)},n)}function cve(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s={done:!1,value:C_e(t)},o=function(v){return{done:!1,value:V6.apply(void 0,[e].concat(r,[v]))}},u=function(v){return{done:!1,value:A_e(v)}},l,h,d=function(v){return l=v},p=function(v){return h=v};return lve({q1:function(){return{nextState:"q2",effect:s,stateUpdater:p}},q2:function(){return l?{nextState:"q3",effect:u(l)}:{nextState:"q1",effect:o(h),stateUpdater:d}},q3:function(){return{nextState:"q1",effect:o(h),stateUpdater:d}}},"q1","takeLatest("+uve(t)+", "+e.name+")")}function xg(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return V6.apply(void 0,[cve,t,e].concat(r))}function IT(t){return IT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IT(t)}var hve=Mi().mark(J6);function Mi(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Mi=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(I,_,w){I[_]=w.value},i=typeof Symbol=="function"?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(I,_,w){return Object.defineProperty(I,_,{value:w,enumerable:!0,configurable:!0,writable:!0}),I[_]}try{l({},"")}catch{l=function(w,N,D){return w[N]=D}}function h(I,_,w,N){var D=_&&_.prototype instanceof g?_:g,O=Object.create(D.prototype),M=new ie(N||[]);return r(O,"_invoke",{value:F(I,w,M)}),O}function d(I,_,w){try{return{type:"normal",arg:I.call(_,w)}}catch(N){return{type:"throw",arg:N}}}t.wrap=h;var p={};function g(){}function v(){}function E(){}var R={};l(R,s,function(){return this});var C=Object.getPrototypeOf,S=C&&C(C(re([])));S&&S!==e&&n.call(S,s)&&(R=S);var T=E.prototype=g.prototype=Object.create(R);function k(I){["next","throw","return"].forEach(function(_){l(I,_,function(w){return this._invoke(_,w)})})}function b(I,_){function w(D,O,M,B){var H=d(I[D],I,O);if(H.type!=="throw"){var ue=H.arg,fe=ue.value;return fe&&IT(fe)=="object"&&n.call(fe,"__await")?_.resolve(fe.__await).then(function(Se){w("next",Se,M,B)},function(Se){w("throw",Se,M,B)}):_.resolve(fe).then(function(Se){ue.value=Se,M(ue)},function(Se){return w("throw",Se,M,B)})}B(H.arg)}var N;r(this,"_invoke",{value:function(O,M){function B(){return new _(function(H,ue){w(O,M,H,ue)})}return N=N?N.then(B,B):B()}})}function F(I,_,w){var N="suspendedStart";return function(D,O){if(N==="executing")throw new Error("Generator is already running");if(N==="completed"){if(D==="throw")throw O;return Ne()}for(w.method=D,w.arg=O;;){var M=w.delegate;if(M){var B=V(M,w);if(B){if(B===p)continue;return B}}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(N==="suspendedStart")throw N="completed",w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);N="executing";var H=d(I,_,w);if(H.type==="normal"){if(N=w.done?"completed":"suspendedYield",H.arg===p)continue;return{value:H.arg,done:w.done}}H.type==="throw"&&(N="completed",w.method="throw",w.arg=H.arg)}}}function V(I,_){var w=_.method,N=I.iterator[w];if(N===void 0)return _.delegate=null,w==="throw"&&I.iterator.return&&(_.method="return",_.arg=void 0,V(I,_),_.method==="throw")||w!=="return"&&(_.method="throw",_.arg=new TypeError("The iterator does not provide a '"+w+"' method")),p;var D=d(N,I.iterator,_.arg);if(D.type==="throw")return _.method="throw",_.arg=D.arg,_.delegate=null,p;var O=D.arg;return O?O.done?(_[I.resultName]=O.value,_.next=I.nextLoc,_.method!=="return"&&(_.method="next",_.arg=void 0),_.delegate=null,p):O:(_.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,p)}function W(I){var _={tryLoc:I[0]};1 in I&&(_.catchLoc=I[1]),2 in I&&(_.finallyLoc=I[2],_.afterLoc=I[3]),this.tryEntries.push(_)}function q(I){var _=I.completion||{};_.type="normal",delete _.arg,I.completion=_}function ie(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(W,this),this.reset(!0)}function re(I){if(I){var _=I[s];if(_)return _.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var w=-1,N=function D(){for(;++w<I.length;)if(n.call(I,w))return D.value=I[w],D.done=!1,D;return D.value=void 0,D.done=!0,D};return N.next=N}}return{next:Ne}}function Ne(){return{value:void 0,done:!0}}return v.prototype=E,r(T,"constructor",{value:E,configurable:!0}),r(E,"constructor",{value:v,configurable:!0}),v.displayName=l(E,u,"GeneratorFunction"),t.isGeneratorFunction=function(I){var _=typeof I=="function"&&I.constructor;return!!_&&(_===v||(_.displayName||_.name)==="GeneratorFunction")},t.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,E):(I.__proto__=E,l(I,u,"GeneratorFunction")),I.prototype=Object.create(T),I},t.awrap=function(I){return{__await:I}},k(b.prototype),l(b.prototype,o,function(){return this}),t.AsyncIterator=b,t.async=function(I,_,w,N,D){D===void 0&&(D=Promise);var O=new b(h(I,_,w,N),D);return t.isGeneratorFunction(_)?O:O.next().then(function(M){return M.done?M.value:O.next()})},k(T),l(T,u,"Generator"),l(T,s,function(){return this}),l(T,"toString",function(){return"[object Generator]"}),t.keys=function(I){var _=Object(I),w=[];for(var N in _)w.push(N);return w.reverse(),function D(){for(;w.length;){var O=w.pop();if(O in _)return D.value=O,D.done=!1,D}return D.done=!0,D}},t.values=re,ie.prototype={constructor:ie,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(q),!_)for(var w in this)w.charAt(0)==="t"&&n.call(this,w)&&!isNaN(+w.slice(1))&&(this[w]=void 0)},stop:function(){this.done=!0;var _=this.tryEntries[0].completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var w=this;function N(ue,fe){return M.type="throw",M.arg=_,w.next=ue,fe&&(w.method="next",w.arg=void 0),!!fe}for(var D=this.tryEntries.length-1;D>=0;--D){var O=this.tryEntries[D],M=O.completion;if(O.tryLoc==="root")return N("end");if(O.tryLoc<=this.prev){var B=n.call(O,"catchLoc"),H=n.call(O,"finallyLoc");if(B&&H){if(this.prev<O.catchLoc)return N(O.catchLoc,!0);if(this.prev<O.finallyLoc)return N(O.finallyLoc)}else if(B){if(this.prev<O.catchLoc)return N(O.catchLoc,!0)}else{if(!H)throw new Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return N(O.finallyLoc)}}}},abrupt:function(_,w){for(var N=this.tryEntries.length-1;N>=0;--N){var D=this.tryEntries[N];if(D.tryLoc<=this.prev&&n.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var O=D;break}}O&&(_==="break"||_==="continue")&&O.tryLoc<=w&&w<=O.finallyLoc&&(O=null);var M=O?O.completion:{};return M.type=_,M.arg=w,O?(this.method="next",this.next=O.finallyLoc,p):this.complete(M)},complete:function(_,w){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&w&&(this.next=w),p},finish:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.finallyLoc===_)return this.complete(N.completion,N.afterLoc),q(N),p}},catch:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.tryLoc===_){var D=N.completion;if(D.type==="throw"){var O=D.arg;q(N)}return O}}throw new Error("illegal catch attempt")},delegateYield:function(_,w,N){return this.delegate={iterator:re(_),resultName:w,nextLoc:N},this.method==="next"&&(this.arg=void 0),p}},t}function fve(t){var e=t.payload;return Mi().mark(function n(){var r,i,s,o,u;return Mi().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,zy(Kd.firebase.registerUser,e);case 2:if(r=h.sent,!(!r.error&&r.user)){h.next=8;break}return u={avatarUrl:(i=r.user.photoURL)!==null&&i!==void 0?i:"",email:(s=r.user.email)!==null&&s!==void 0?s:"",nickname:(o=r.user.displayName)!==null&&o!==void 0?o:"",uid:r.user.uid},h.next=7,fa(Ye.actions.registerUserSuccess(u));case 7:Uc.navigate(En.Root);case 8:if(!r.error){h.next=11;break}return h.next=11,fa(Ye.actions.registerUserError(r.error));case 11:case"end":return h.stop()}},n)})()}function dve(t){var e=t.payload;return Mi().mark(function n(){var r,i,s,o,u;return Mi().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,zy(Kd.firebase.loginUser,e);case 2:if(r=h.sent,!(!r.error&&r.user)){h.next=8;break}return u={avatarUrl:(i=r.user.photoURL)!==null&&i!==void 0?i:"",email:(s=r.user.email)!==null&&s!==void 0?s:"",nickname:(o=r.user.displayName)!==null&&o!==void 0?o:"",uid:r.user.uid},h.next=7,fa(Ye.actions.loginUserSuccess(u));case 7:Uc.navigate(En.Root);case 8:if(!r.error){h.next=11;break}return h.next=11,fa(Ye.actions.loginUserError(r.error));case 11:case"end":return h.stop()}},n)})()}function pve(t){var e=t.payload;return Mi().mark(function n(){var r;return Mi().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,zy(Kd.firebase.searchUser,e);case 2:if(r=s.sent,!(!r.error&&r.users)){s.next=6;break}return s.next=6,fa(Ye.actions.searchUserSuccess(r.users));case 6:if(!r.error){s.next=9;break}return s.next=9,fa(Ye.actions.searchUserError(r.error));case 9:case"end":return s.stop()}},n)})()}function gve(t){var e=t.payload;return Mi().mark(function n(){var r;return Mi().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,zy(Kd.firebase.getUserChat,e);case 2:if(r=s.sent,!(!r.error&&r.chat)){s.next=7;break}return s.next=6,fa(Ye.actions.getInterlocutorSuccess(r.chat));case 6:Uc.navigate("".concat(r.chat.chatUid));case 7:if(!r.error){s.next=10;break}return s.next=10,fa(Ye.actions.getInterlocutorError(r.error));case 10:case"end":return s.stop()}},n)})()}function J6(){return Mi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xg(Ye.actions.registerUser,fve);case 2:return e.next=4,xg(Ye.actions.loginUser,dve);case 4:return e.next=6,xg(Ye.actions.searchUser,pve);case 6:return e.next=8,xg(Ye.actions.getInterlocutor,gve);case 8:case"end":return e.stop()}},hve)}function CT(t){return CT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CT(t)}function bA(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */bA=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(I,_,w){I[_]=w.value},i=typeof Symbol=="function"?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(I,_,w){return Object.defineProperty(I,_,{value:w,enumerable:!0,configurable:!0,writable:!0}),I[_]}try{l({},"")}catch{l=function(w,N,D){return w[N]=D}}function h(I,_,w,N){var D=_&&_.prototype instanceof g?_:g,O=Object.create(D.prototype),M=new ie(N||[]);return r(O,"_invoke",{value:F(I,w,M)}),O}function d(I,_,w){try{return{type:"normal",arg:I.call(_,w)}}catch(N){return{type:"throw",arg:N}}}t.wrap=h;var p={};function g(){}function v(){}function E(){}var R={};l(R,s,function(){return this});var C=Object.getPrototypeOf,S=C&&C(C(re([])));S&&S!==e&&n.call(S,s)&&(R=S);var T=E.prototype=g.prototype=Object.create(R);function k(I){["next","throw","return"].forEach(function(_){l(I,_,function(w){return this._invoke(_,w)})})}function b(I,_){function w(D,O,M,B){var H=d(I[D],I,O);if(H.type!=="throw"){var ue=H.arg,fe=ue.value;return fe&&CT(fe)=="object"&&n.call(fe,"__await")?_.resolve(fe.__await).then(function(Se){w("next",Se,M,B)},function(Se){w("throw",Se,M,B)}):_.resolve(fe).then(function(Se){ue.value=Se,M(ue)},function(Se){return w("throw",Se,M,B)})}B(H.arg)}var N;r(this,"_invoke",{value:function(O,M){function B(){return new _(function(H,ue){w(O,M,H,ue)})}return N=N?N.then(B,B):B()}})}function F(I,_,w){var N="suspendedStart";return function(D,O){if(N==="executing")throw new Error("Generator is already running");if(N==="completed"){if(D==="throw")throw O;return Ne()}for(w.method=D,w.arg=O;;){var M=w.delegate;if(M){var B=V(M,w);if(B){if(B===p)continue;return B}}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(N==="suspendedStart")throw N="completed",w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);N="executing";var H=d(I,_,w);if(H.type==="normal"){if(N=w.done?"completed":"suspendedYield",H.arg===p)continue;return{value:H.arg,done:w.done}}H.type==="throw"&&(N="completed",w.method="throw",w.arg=H.arg)}}}function V(I,_){var w=_.method,N=I.iterator[w];if(N===void 0)return _.delegate=null,w==="throw"&&I.iterator.return&&(_.method="return",_.arg=void 0,V(I,_),_.method==="throw")||w!=="return"&&(_.method="throw",_.arg=new TypeError("The iterator does not provide a '"+w+"' method")),p;var D=d(N,I.iterator,_.arg);if(D.type==="throw")return _.method="throw",_.arg=D.arg,_.delegate=null,p;var O=D.arg;return O?O.done?(_[I.resultName]=O.value,_.next=I.nextLoc,_.method!=="return"&&(_.method="next",_.arg=void 0),_.delegate=null,p):O:(_.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,p)}function W(I){var _={tryLoc:I[0]};1 in I&&(_.catchLoc=I[1]),2 in I&&(_.finallyLoc=I[2],_.afterLoc=I[3]),this.tryEntries.push(_)}function q(I){var _=I.completion||{};_.type="normal",delete _.arg,I.completion=_}function ie(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(W,this),this.reset(!0)}function re(I){if(I){var _=I[s];if(_)return _.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var w=-1,N=function D(){for(;++w<I.length;)if(n.call(I,w))return D.value=I[w],D.done=!1,D;return D.value=void 0,D.done=!0,D};return N.next=N}}return{next:Ne}}function Ne(){return{value:void 0,done:!0}}return v.prototype=E,r(T,"constructor",{value:E,configurable:!0}),r(E,"constructor",{value:v,configurable:!0}),v.displayName=l(E,u,"GeneratorFunction"),t.isGeneratorFunction=function(I){var _=typeof I=="function"&&I.constructor;return!!_&&(_===v||(_.displayName||_.name)==="GeneratorFunction")},t.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,E):(I.__proto__=E,l(I,u,"GeneratorFunction")),I.prototype=Object.create(T),I},t.awrap=function(I){return{__await:I}},k(b.prototype),l(b.prototype,o,function(){return this}),t.AsyncIterator=b,t.async=function(I,_,w,N,D){D===void 0&&(D=Promise);var O=new b(h(I,_,w,N),D);return t.isGeneratorFunction(_)?O:O.next().then(function(M){return M.done?M.value:O.next()})},k(T),l(T,u,"Generator"),l(T,s,function(){return this}),l(T,"toString",function(){return"[object Generator]"}),t.keys=function(I){var _=Object(I),w=[];for(var N in _)w.push(N);return w.reverse(),function D(){for(;w.length;){var O=w.pop();if(O in _)return D.value=O,D.done=!1,D}return D.done=!0,D}},t.values=re,ie.prototype={constructor:ie,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(q),!_)for(var w in this)w.charAt(0)==="t"&&n.call(this,w)&&!isNaN(+w.slice(1))&&(this[w]=void 0)},stop:function(){this.done=!0;var _=this.tryEntries[0].completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var w=this;function N(ue,fe){return M.type="throw",M.arg=_,w.next=ue,fe&&(w.method="next",w.arg=void 0),!!fe}for(var D=this.tryEntries.length-1;D>=0;--D){var O=this.tryEntries[D],M=O.completion;if(O.tryLoc==="root")return N("end");if(O.tryLoc<=this.prev){var B=n.call(O,"catchLoc"),H=n.call(O,"finallyLoc");if(B&&H){if(this.prev<O.catchLoc)return N(O.catchLoc,!0);if(this.prev<O.finallyLoc)return N(O.finallyLoc)}else if(B){if(this.prev<O.catchLoc)return N(O.catchLoc,!0)}else{if(!H)throw new Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return N(O.finallyLoc)}}}},abrupt:function(_,w){for(var N=this.tryEntries.length-1;N>=0;--N){var D=this.tryEntries[N];if(D.tryLoc<=this.prev&&n.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var O=D;break}}O&&(_==="break"||_==="continue")&&O.tryLoc<=w&&w<=O.finallyLoc&&(O=null);var M=O?O.completion:{};return M.type=_,M.arg=w,O?(this.method="next",this.next=O.finallyLoc,p):this.complete(M)},complete:function(_,w){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&w&&(this.next=w),p},finish:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.finallyLoc===_)return this.complete(N.completion,N.afterLoc),q(N),p}},catch:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.tryLoc===_){var D=N.completion;if(D.type==="throw"){var O=D.arg;q(N)}return O}}throw new Error("illegal catch attempt")},delegateYield:function(_,w,N){return this.delegate={iterator:re(_),resultName:w,nextLoc:N},this.method==="next"&&(this.arg=void 0),p}},t}var mve=bA().mark(Z6);function Z6(){return bA().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R_e([J6()]);case 2:case"end":return e.stop()}},mve)}var _ve=i6({app:gA.reducer,user:Ye.reducer,cache:l6.reducer}),vve={key:"root",storage:_6},yve=Mme(vve,_ve),eW=ave(),wve=[s6(eW)],tW=tge({reducer:yve,enhancers:wve,middleware:function(e){return e({thunk:!1,serializableCheck:!1})}});eW.run(Z6);var Eve=jme(tW);const Sve={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class B_{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||Sve,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new B_(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new B_(this.logger,e)}}var Ji=new B_;class qy{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]=this.observers[r]||[],this.observers[r].push(n)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e]=this.observers[e].filter(r=>r!==n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[e]&&[].concat(this.observers[e]).forEach(o=>{o(...r)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(o=>{o.apply(o,[e,...r])})}}function Ih(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function uL(t){return t==null?"":""+t}function Tve(t,e,n){t.forEach(r=>{e[r]&&(n[r]=e[r])})}function OA(t,e,n){function r(o){return o&&o.indexOf("###")>-1?o.replace(/###/g,"."):o}function i(){return!t||typeof t=="string"}const s=typeof e!="string"?[].concat(e):e.split(".");for(;s.length>1;){if(i())return{};const o=r(s.shift());!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={}}return i()?{}:{obj:t,k:r(s.shift())}}function lL(t,e,n){const{obj:r,k:i}=OA(t,e,Object);r[i]=n}function Ive(t,e,n,r){const{obj:i,k:s}=OA(t,e,Object);i[s]=i[s]||[],r&&(i[s]=i[s].concat(n)),r||i[s].push(n)}function z_(t,e){const{obj:n,k:r}=OA(t,e);if(n)return n[r]}function Cve(t,e,n){const r=z_(t,n);return r!==void 0?r:z_(e,n)}function nW(t,e,n){for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):nW(t[r],e[r],n):t[r]=e[r]);return t}function Ju(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Rve={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Ave(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,e=>Rve[e]):t}const Pve=[" ",",","?","!",";"];function kve(t,e,n){e=e||"",n=n||"";const r=Pve.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const i=new RegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!i.test(t);if(!s){const o=t.indexOf(n);o>0&&!i.test(t.substring(0,o))&&(s=!0)}return s}function H_(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(n);let i=t;for(let s=0;s<r.length;++s){if(!i||typeof i[r[s]]=="string"&&s+1<r.length)return;if(i[r[s]]===void 0){let o=2,u=r.slice(s,s+o).join(n),l=i[u];for(;l===void 0&&r.length>s+o;)o++,u=r.slice(s,s+o).join(n),l=i[u];if(l===void 0)return;if(l===null)return null;if(e.endsWith(u)){if(typeof l=="string")return l;if(u&&typeof l[u]=="string")return l[u]}const h=r.slice(s+o).join(n);return h?H_(l,h,n):void 0}i=i[r[s]]}return i}function G_(t){return t&&t.indexOf("_")>0?t.replace("_","-"):t}class cL extends qy{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let u=[e,n];r&&typeof r!="string"&&(u=u.concat(r)),r&&typeof r=="string"&&(u=u.concat(s?r.split(s):r)),e.indexOf(".")>-1&&(u=e.split("."));const l=z_(this.data,u);return l||!o||typeof r!="string"?l:H_(this.data&&this.data[e]&&this.data[e][n],r,s)}addResource(e,n,r,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let u=[e,n];r&&(u=u.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(u=e.split("."),i=n,n=u[1]),this.addNamespaces(n),lL(this.data,u,i),s.silent||this.emit("added",e,n,r,i)}addResources(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in r)(typeof r[s]=="string"||Object.prototype.toString.apply(r[s])==="[object Array]")&&this.addResource(e,n,s,r[s],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},u=[e,n];e.indexOf(".")>-1&&(u=e.split("."),i=r,r=n,n=u[1]),this.addNamespaces(n);let l=z_(this.data,u)||{};i?nW(l,r,s):l={...l,...r},lL(this.data,u,l),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var rW={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(s=>{this.processors[s]&&(e=this.processors[s].process(e,n,r,i))}),e}};const hL={};class q_ extends qy{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Tve(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ji.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,n);return r&&r.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,u=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!kve(e,r,i);if(o&&!u){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:s};const h=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(h[0])>-1)&&(s=h.shift()),e=h.join(i)}return typeof s=="string"&&(s=[s]),{key:e,namespaces:s}}translate(e,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:u}=this.extractFromKey(e[e.length-1],n),l=u[u.length-1],h=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h&&h.toLowerCase()==="cimode"){if(d){const b=n.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${b}${o}`,usedKey:o,exactUsedKey:o,usedLng:h,usedNS:l}:`${l}${b}${o}`}return i?{res:o,usedKey:o,exactUsedKey:o,usedLng:h,usedNS:l}:o}const p=this.resolve(e,n);let g=p&&p.res;const v=p&&p.usedKey||o,E=p&&p.exactUsedKey||o,R=Object.prototype.toString.apply(g),C=["[object Number]","[object Function]","[object RegExp]"],S=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,T=!this.i18nFormat||this.i18nFormat.handleAsObject;if(T&&g&&(typeof g!="string"&&typeof g!="boolean"&&typeof g!="number")&&C.indexOf(R)<0&&!(typeof S=="string"&&R==="[object Array]")){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const b=this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,g,{...n,ns:u}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(p.res=b,p):b}if(s){const b=R==="[object Array]",F=b?[]:{},V=b?E:v;for(const W in g)if(Object.prototype.hasOwnProperty.call(g,W)){const q=`${V}${s}${W}`;F[W]=this.translate(q,{...n,joinArrays:!1,ns:u}),F[W]===q&&(F[W]=g[W])}g=F}}else if(T&&typeof S=="string"&&R==="[object Array]")g=g.join(S),g&&(g=this.extendTranslation(g,e,n,r));else{let b=!1,F=!1;const V=n.count!==void 0&&typeof n.count!="string",W=q_.hasDefaultValue(n),q=V?this.pluralResolver.getSuffix(h,n.count,n):"",ie=n.ordinal&&V?this.pluralResolver.getSuffix(h,n.count,{ordinal:!1}):"",re=n[`defaultValue${q}`]||n[`defaultValue${ie}`]||n.defaultValue;!this.isValidLookup(g)&&W&&(b=!0,g=re),this.isValidLookup(g)||(F=!0,g=o);const I=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&F?void 0:g,_=W&&re!==g&&this.options.updateMissing;if(F||b||_){if(this.logger.log(_?"updateKey":"missingKey",h,l,o,_?re:g),s){const O=this.resolve(o,{...n,keySeparator:!1});O&&O.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let w=[];const N=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&N&&N[0])for(let O=0;O<N.length;O++)w.push(N[O]);else this.options.saveMissingTo==="all"?w=this.languageUtils.toResolveHierarchy(n.lng||this.language):w.push(n.lng||this.language);const D=(O,M,B)=>{const H=W&&B!==g?B:I;this.options.missingKeyHandler?this.options.missingKeyHandler(O,l,M,H,_,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(O,l,M,H,_,n),this.emit("missingKey",O,l,M,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&V?w.forEach(O=>{this.pluralResolver.getSuffixes(O,n).forEach(M=>{D([O],o+M,n[`defaultValue${M}`]||re)})}):D(w,o,re))}g=this.extendTranslation(g,e,n,p,r),F&&g===o&&this.options.appendNamespaceToMissingKey&&(g=`${l}:${o}`),(F||b)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${o}`:o,b?g:void 0):g=this.options.parseMissingKeyHandler(g))}return i?(p.res=g,p):g}extendTranslation(e,n,r,i,s){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const h=typeof e=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(h){const g=e.match(this.interpolator.nestingRegexp);d=g&&g.length}let p=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,r.lng||this.language,r),h){const g=e.match(this.interpolator.nestingRegexp),v=g&&g.length;d<v&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var g=arguments.length,v=new Array(g),E=0;E<g;E++)v[E]=arguments[E];return s&&s[0]===v[0]&&!r.context?(o.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${n[0]}`),null):o.translate(...v,n)},r)),r.interpolation&&this.interpolator.reset()}const u=r.postProcess||this.options.postProcess,l=typeof u=="string"?[u]:u;return e!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(e=rW.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:i,...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,s,o,u;return typeof e=="string"&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const h=this.extractFromKey(l,n),d=h.key;i=d;let p=h.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));const g=n.count!==void 0&&typeof n.count!="string",v=g&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),E=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",R=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);p.forEach(C=>{this.isValidLookup(r)||(u=C,!hL[`${R[0]}-${C}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(u)&&(hL[`${R[0]}-${C}`]=!0,this.logger.warn(`key "${i}" for languages "${R.join(", ")}" won't get resolved as namespace "${u}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),R.forEach(S=>{if(this.isValidLookup(r))return;o=S;const T=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(T,d,S,C,n);else{let b;g&&(b=this.pluralResolver.getSuffix(S,n.count,n));const F=`${this.options.pluralSeparator}zero`,V=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(g&&(T.push(d+b),n.ordinal&&b.indexOf(V)===0&&T.push(d+b.replace(V,this.options.pluralSeparator)),v&&T.push(d+F)),E){const W=`${d}${this.options.contextSeparator}${n.context}`;T.push(W),g&&(T.push(W+b),n.ordinal&&b.indexOf(V)===0&&T.push(W+b.replace(V,this.options.pluralSeparator)),v&&T.push(W+F))}}let k;for(;k=T.pop();)this.isValidLookup(r)||(s=k,r=this.getResource(S,C,k,n))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:u}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}function ZE(t){return t.charAt(0).toUpperCase()+t.slice(1)}class fL{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ji.create("languageUtils")}getScriptPartFromCode(e){if(e=G_(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=G_(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=ZE(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=ZE(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=ZE(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(s=>{if(s===i)return s;if(!(s.indexOf("-")<0&&i.indexOf("-")<0)&&s.indexOf(i)===0)return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),typeof e=="string"&&(e=[e]),Object.prototype.toString.apply(e)==="[object Array]")return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),i=[],s=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):typeof e=="string"&&s(this.formatLanguageCode(e)),r.forEach(o=>{i.indexOf(o)<0&&s(this.formatLanguageCode(o))}),i}}let bve=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Ove={1:function(t){return Number(t>1)},2:function(t){return Number(t!=1)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(t==1?0:t>=2&&t<=4?1:2)},7:function(t){return Number(t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(t==1?0:t==2?1:t!=8&&t!=11?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(t==1?0:t==2?1:t<7?2:t<11?3:4)},11:function(t){return Number(t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(t!==0)},14:function(t){return Number(t==1?0:t==2?1:t==3?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:t!==0?1:2)},17:function(t){return Number(t==1||t%10==1&&t%100!=11?0:1)},18:function(t){return Number(t==0?0:t==1?1:2)},19:function(t){return Number(t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(t==1?0:t==0||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3)}};const Nve=["v1","v2","v3"],xve=["v4"],dL={zero:0,one:1,two:2,few:3,many:4,other:5};function Dve(){const t={};return bve.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:Ove[e.fc]}})}),t}class Lve{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=Ji.create("pluralResolver"),(!this.options.compatibilityJSON||xve.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Dve()}addRule(e,n){this.rules[e]=n}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(G_(e),{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,s)=>dL[i]-dL[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(e,i,n)):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:this.getSuffixRetroCompatible(i,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const r=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let i=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const s=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?s():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!Nve.includes(this.options.compatibilityJSON)}}function pL(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=Cve(t,e,n);return!s&&i&&typeof n=="string"&&(s=H_(t,n,r),s===void 0&&(s=H_(e,n,r))),s}class Mve{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Ji.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const n=e.interpolation;this.escape=n.escape!==void 0?n.escape:Ave,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?Ju(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?Ju(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?Ju(n.nestingPrefix):n.nestingPrefixEscaped||Ju("$t("),this.nestingSuffix=n.nestingSuffix?Ju(n.nestingSuffix):n.nestingSuffixEscaped||Ju(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=`${this.prefix}(.+?)${this.suffix}`;this.regexp=new RegExp(e,"g");const n=`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;this.regexpUnescape=new RegExp(n,"g");const r=`${this.nestingPrefix}(.+?)${this.nestingSuffix}`;this.nestingRegexp=new RegExp(r,"g")}interpolate(e,n,r,i){let s,o,u;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function h(E){return E.replace(/\$/g,"$$$$")}const d=E=>{if(E.indexOf(this.formatSeparator)<0){const T=pL(n,l,E,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(T,void 0,r,{...i,...n,interpolationkey:E}):T}const R=E.split(this.formatSeparator),C=R.shift().trim(),S=R.join(this.formatSeparator).trim();return this.format(pL(n,l,C,this.options.keySeparator,this.options.ignoreJSONStructure),S,r,{...i,...n,interpolationkey:C})};this.resetRegExp();const p=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,g=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:E=>h(E)},{regex:this.regexp,safeValue:E=>this.escapeValue?h(this.escape(E)):h(E)}].forEach(E=>{for(u=0;s=E.regex.exec(e);){const R=s[1].trim();if(o=d(R),o===void 0)if(typeof p=="function"){const S=p(e,s,i);o=typeof S=="string"?S:""}else if(i&&Object.prototype.hasOwnProperty.call(i,R))o="";else if(g){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${R} for interpolating ${e}`),o="";else typeof o!="string"&&!this.useRawValueToEscape&&(o=uL(o));const C=E.safeValue(o);if(e=e.replace(s[0],C),g?(E.regex.lastIndex+=o.length,E.regex.lastIndex-=s[0].length):E.regex.lastIndex=0,u++,u>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,s,o;function u(l,h){const d=this.nestingOptionsSeparator;if(l.indexOf(d)<0)return l;const p=l.split(new RegExp(`${d}[ ]*{`));let g=`{${p[1]}`;l=p[0],g=this.interpolate(g,o);const v=g.match(/'/g),E=g.match(/"/g);(v&&v.length%2===0&&!E||E.length%2!==0)&&(g=g.replace(/'/g,'"'));try{o=JSON.parse(g),h&&(o={...h,...o})}catch(R){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,R),`${l}${d}${g}`}return delete o.defaultValue,l}for(;i=this.nestingRegexp.exec(e);){let l=[];o={...r},o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let h=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const d=i[1].split(this.formatSeparator).map(p=>p.trim());i[1]=d.shift(),l=d,h=!0}if(s=n(u.call(this,i[1].trim(),o),o),s&&i[0]===e&&typeof s!="string")return s;typeof s!="string"&&(s=uL(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),h&&(s=l.reduce((d,p)=>this.format(d,p,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}function Uve(t){let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(o=>{if(!o)return;const[u,...l]=o.split(":"),h=l.join(":").trim().replace(/^'+|'+$/g,"");n[u.trim()]||(n[u.trim()]=h),h==="false"&&(n[u.trim()]=!1),h==="true"&&(n[u.trim()]=!0),isNaN(h)||(n[u.trim()]=parseInt(h,10))})}return{formatName:e,formatOptions:n}}function Zu(t){const e={};return function(r,i,s){const o=i+JSON.stringify(s);let u=e[o];return u||(u=t(G_(i),s),e[o]=u),u(r)}}class Fve{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Ji.create("formatter"),this.options=e,this.formats={number:Zu((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return s=>i.format(s)}),currency:Zu((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return s=>i.format(s)}),datetime:Zu((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return s=>i.format(s)}),relativetime:Zu((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return s=>i.format(s,r.range||"day")}),list:Zu((n,r)=>{const i=new Intl.ListFormat(n,{...r});return s=>i.format(s)})},this.init(e)}init(e){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Zu(n)}format(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return n.split(this.formatSeparator).reduce((u,l)=>{const{formatName:h,formatOptions:d}=Uve(l);if(this.formats[h]){let p=u;try{const g=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},v=g.locale||g.lng||i.locale||i.lng||r;p=this.formats[h](u,v,{...d,...i,...g})}catch(g){this.logger.warn(g)}return p}else this.logger.warn(`there was no format function for ${h}`);return u},e)}}function $ve(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}class Vve extends qy{constructor(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Ji.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(e,n,r,i){const s={},o={},u={},l={};return e.forEach(h=>{let d=!0;n.forEach(p=>{const g=`${h}|${p}`;!r.reload&&this.store.hasResourceBundle(h,p)?this.state[g]=2:this.state[g]<0||(this.state[g]===1?o[g]===void 0&&(o[g]=!0):(this.state[g]=1,d=!1,o[g]===void 0&&(o[g]=!0),s[g]===void 0&&(s[g]=!0),l[p]===void 0&&(l[p]=!0)))}),d||(u[h]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(u),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const i=e.split("|"),s=i[0],o=i[1];n&&this.emit("failedLoading",s,o,n),r&&this.store.addResourceBundle(s,o,r),this.state[e]=n?-1:2;const u={};this.queue.forEach(l=>{Ive(l.loaded,[s],o),$ve(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(h=>{u[h]||(u[h]={});const d=l.loaded[h];d.length&&d.forEach(p=>{u[h][p]===void 0&&(u[h][p]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:s,callback:o});return}this.readingCalls++;const u=(h,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(h&&d&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,s*2,o)},s);return}o(h,d)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const h=l(e,n);h&&typeof h.then=="function"?h.then(d=>u(null,d)).catch(u):u(null,h)}catch(h){u(h)}return}return l(e,n,u)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof n=="string"&&(n=[n]);const s=this.queueLoad(e,n,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(o,u)=>{o&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,o),!o&&u&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,u),this.loaded(e,o,u)})}saveMissing(e,n,r,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},u=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:s},h=this.backend.create.bind(this.backend);if(h.length<6)try{let d;h.length===5?d=h(e,n,r,i,l):d=h(e,n,r,i),d&&typeof d.then=="function"?d.then(p=>u(null,p)).catch(u):u(null,d)}catch(d){u(d)}else h(e,n,r,i,u,l)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}function gL(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let n={};if(typeof e[1]=="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(i=>{n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:(t,e,n,r)=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function mL(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function Dg(){}function Wve(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}class hd extends qy{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=mL(e),this.services={},this.logger=Ji,this.modules={external:[]},Wve(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=gL();this.options={...i,...this.options,...mL(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);function s(d){return d?typeof d=="function"?new d:d:null}if(!this.options.isClone){this.modules.logger?Ji.init(s(this.modules.logger),this.options):Ji.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=Fve);const p=new fL(this.options);this.store=new cL(this.options.resources,this.options);const g=this.services;g.logger=Ji,g.resourceStore=this.store,g.languageUtils=p,g.pluralResolver=new Lve(p,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(g.formatter=s(d),g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new Mve(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new Vve(s(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",function(v){for(var E=arguments.length,R=new Array(E>1?E-1:0),C=1;C<E;C++)R[C-1]=arguments[C];e.emit(v,...R)}),this.modules.languageDetector&&(g.languageDetector=s(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=s(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new q_(this.services,this.options),this.translator.on("*",function(v){for(var E=arguments.length,R=new Array(E>1?E-1:0),C=1;C<E;C++)R[C-1]=arguments[C];e.emit(v,...R)}),this.modules.external.forEach(v=>{v.init&&v.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Dg),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return e.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return e.store[d](...arguments),e}});const l=Ih(),h=()=>{const d=(p,g)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(g),r(p,g)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?h():setTimeout(h,0),l}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Dg;const i=typeof e=="string"?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode")return r();const s=[],o=u=>{if(!u)return;this.services.languageUtils.toResolveHierarchy(u).forEach(h=>{s.indexOf(h)<0&&s.push(h)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(u=>o(u)),this.services.backendConnector.load(s,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(u)})}else r(null)}reloadResources(e,n,r){const i=Ih();return e||(e=this.languages),n||(n=this.options.ns),r||(r=Dg),this.services.backendConnector.reload(e,n,s=>{i.resolve(),r(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&rW.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const i=Ih();this.emit("languageChanging",e);const s=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,h)=>{h?(s(h),this.translator.changeLanguage(h),this.isLanguageChangingTo=void 0,this.emit("languageChanged",h),this.logger.log("languageChanged",h)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},u=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const h=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);h&&(this.language||s(h),this.translator.language||this.translator.changeLanguage(h),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(h)),this.loadResources(h,d=>{o(d,h)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),i}getFixedT(e,n,r){var i=this;const s=function(o,u){let l;if(typeof u!="object"){for(var h=arguments.length,d=new Array(h>2?h-2:0),p=2;p<h;p++)d[p-2]=arguments[p];l=i.options.overloadTranslationOptionHandler([o,u].concat(d))}else l={...u};l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix=l.keyPrefix||r||s.keyPrefix;const g=i.options.keySeparator||".";let v;return l.keyPrefix&&Array.isArray(o)?v=o.map(E=>`${l.keyPrefix}${g}${E}`):v=l.keyPrefix?`${l.keyPrefix}${g}${o}`:o,i.t(v,l)};return typeof e=="string"?s.lng=e:s.lngs=e,s.ns=n,s.keyPrefix=r,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(u,l)=>{const h=this.services.backendConnector.state[`${u}|${l}`];return h===-1||h===2};if(n.precheck){const u=n.precheck(this,o);if(u!==void 0)return u}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!i||o(s,e)))}loadNamespaces(e,n){const r=Ih();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Ih();typeof e=="string"&&(e=[e]);const i=this.options.preload||[],s=e.filter(o=>i.indexOf(o)<0);return s.length?(this.options.preload=i.concat(s),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new fL(gL());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new hd(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Dg;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new hd(i);return(e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(u=>{s[u]=this[u]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r&&(s.store=new cL(this.store.data,i),s.services.resourceStore=s.store),s.translator=new q_(s.services,i),s.translator.on("*",function(u){for(var l=arguments.length,h=new Array(l>1?l-1:0),d=1;d<l;d++)h[d-1]=arguments[d];s.emit(u,...h)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Rn=hd.createInstance();Rn.createInstance=hd.createInstance;Rn.createInstance;Rn.dir;Rn.init;Rn.loadResources;Rn.reloadResources;Rn.use;Rn.changeLanguage;Rn.getFixedT;Rn.t;Rn.exists;Rn.setDefaultNamespace;Rn.hasLoadedNamespace;Rn.loadNamespaces;Rn.loadLanguages;var jve={auth:{email_already_in_use:"This email address is already in use!",user_not_found:"User is not found!",wrong_password:"Wrong password!",weak_password:"Password should be at least 6 characters"}};Rn.use(k7).init({resources:{en:{translation:jve}},lng:"en"});var Bve=function(){return te(bT.StrictMode,{children:te(N7,{i18n:Rn,children:te(SY,{store:tW,children:te($M,{persistor:Eve,children:te(Eme,{})})})})})};t1.createRoot(document.getElementById("root")).render(te(Bve,{}))});export default zve();
