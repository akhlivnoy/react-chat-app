var X8=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var lye=X8((_ye,_m)=>{function J8(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Z8(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vm={},eq={get exports(){return vm},set exports(t){vm=t}},K_={},X={},tq={get exports(){return X},set exports(t){X=t}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _d=Symbol.for("react.element"),nq=Symbol.for("react.portal"),rq=Symbol.for("react.fragment"),iq=Symbol.for("react.strict_mode"),sq=Symbol.for("react.profiler"),oq=Symbol.for("react.provider"),aq=Symbol.for("react.context"),uq=Symbol.for("react.forward_ref"),lq=Symbol.for("react.suspense"),cq=Symbol.for("react.memo"),hq=Symbol.for("react.lazy"),_b=Symbol.iterator;function fq(t){return t===null||typeof t!="object"?null:(t=_b&&t[_b]||t["@@iterator"],typeof t=="function"?t:null)}var AL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},PL=Object.assign,kL={};function vc(t,e,n){this.props=t,this.context=e,this.refs=kL,this.updater=n||AL}vc.prototype.isReactComponent={};vc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bL(){}bL.prototype=vc.prototype;function kT(t,e,n){this.props=t,this.context=e,this.refs=kL,this.updater=n||AL}var bT=kT.prototype=new bL;bT.constructor=kT;PL(bT,vc.prototype);bT.isPureReactComponent=!0;var vb=Array.isArray,OL=Object.prototype.hasOwnProperty,OT={current:null},NL={key:!0,ref:!0,__self:!0,__source:!0};function xL(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)OL.call(e,r)&&!NL.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var l=Array(u),h=0;h<u;h++)l[h]=arguments[h+2];i.children=l}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:_d,type:t,key:s,ref:o,props:i,_owner:OT.current}}function dq(t,e){return{$$typeof:_d,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function NT(t){return typeof t=="object"&&t!==null&&t.$$typeof===_d}function pq(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var yb=/\/+/g;function vw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?pq(""+t.key):e.toString(36)}function Ug(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case _d:case nq:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+vw(o,0):r,vb(i)?(n="",t!=null&&(n=t.replace(yb,"$&/")+"/"),Ug(i,e,n,"",function(h){return h})):i!=null&&(NT(i)&&(i=dq(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(yb,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",vb(t))for(var u=0;u<t.length;u++){s=t[u];var l=r+vw(s,u);o+=Ug(s,e,n,l,i)}else if(l=fq(t),typeof l=="function")for(t=l.call(t),u=0;!(s=t.next()).done;)s=s.value,l=r+vw(s,u++),o+=Ug(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Qp(t,e,n){if(t==null)return t;var r=[],i=0;return Ug(t,r,"","",function(s){return e.call(n,s,i++)}),r}function gq(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ur={current:null},Fg={transition:null},mq={ReactCurrentDispatcher:ur,ReactCurrentBatchConfig:Fg,ReactCurrentOwner:OT};je.Children={map:Qp,forEach:function(t,e,n){Qp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Qp(t,function(){e++}),e},toArray:function(t){return Qp(t,function(e){return e})||[]},only:function(t){if(!NT(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=vc;je.Fragment=rq;je.Profiler=sq;je.PureComponent=kT;je.StrictMode=iq;je.Suspense=lq;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mq;je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=PL({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=OT.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(l in e)OL.call(e,l)&&!NL.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&u!==void 0?u[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){u=Array(l);for(var h=0;h<l;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:_d,type:t.type,key:i,ref:s,props:r,_owner:o}};je.createContext=function(t){return t={$$typeof:aq,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:oq,_context:t},t.Consumer=t};je.createElement=xL;je.createFactory=function(t){var e=xL.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:uq,render:t}};je.isValidElement=NT;je.lazy=function(t){return{$$typeof:hq,_payload:{_status:-1,_result:t},_init:gq}};je.memo=function(t,e){return{$$typeof:cq,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=Fg.transition;Fg.transition={};try{t()}finally{Fg.transition=e}};je.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};je.useCallback=function(t,e){return ur.current.useCallback(t,e)};je.useContext=function(t){return ur.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return ur.current.useDeferredValue(t)};je.useEffect=function(t,e){return ur.current.useEffect(t,e)};je.useId=function(){return ur.current.useId()};je.useImperativeHandle=function(t,e,n){return ur.current.useImperativeHandle(t,e,n)};je.useInsertionEffect=function(t,e){return ur.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return ur.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return ur.current.useMemo(t,e)};je.useReducer=function(t,e,n){return ur.current.useReducer(t,e,n)};je.useRef=function(t){return ur.current.useRef(t)};je.useState=function(t){return ur.current.useState(t)};je.useSyncExternalStore=function(t,e,n){return ur.current.useSyncExternalStore(t,e,n)};je.useTransition=function(){return ur.current.useTransition()};je.version="18.2.0";(function(t){t.exports=je})(tq);const xT=Z8(X),r1=J8({__proto__:null,default:xT},[X]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _q=X,vq=Symbol.for("react.element"),yq=Symbol.for("react.fragment"),wq=Object.prototype.hasOwnProperty,Eq=_q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sq={key:!0,ref:!0,__self:!0,__source:!0};function DL(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)wq.call(e,r)&&!Sq.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:vq,type:t,key:s,ref:o,props:i,_owner:Eq.current}}K_.Fragment=yq;K_.jsx=DL;K_.jsxs=DL;(function(t){t.exports=K_})(eq);const Z=vm.jsx,Qe=vm.jsxs;var i1={},ym={},Tq={get exports(){return ym},set exports(t){ym=t}},Ur={},s1={},Iq={get exports(){return s1},set exports(t){s1=t}},LL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,B){var H=M.length;M.push(B);e:for(;0<H;){var ue=H-1>>>1,fe=M[ue];if(0<i(fe,B))M[ue]=B,M[H]=fe,H=ue;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var B=M[0],H=M.pop();if(H!==B){M[0]=H;e:for(var ue=0,fe=M.length,Se=fe>>>1;ue<Se;){var ps=2*(ue+1)-1,Wi=M[ps],jr=ps+1,xu=M[jr];if(0>i(Wi,H))jr<fe&&0>i(xu,Wi)?(M[ue]=xu,M[jr]=H,ue=jr):(M[ue]=Wi,M[ps]=H,ue=ps);else if(jr<fe&&0>i(xu,H))M[ue]=xu,M[jr]=H,ue=jr;else break e}}return B}function i(M,B){var H=M.sortIndex-B.sortIndex;return H!==0?H:M.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var l=[],h=[],d=1,p=null,g=3,v=!1,E=!1,C=!1,R=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(M){for(var B=n(h);B!==null;){if(B.callback===null)r(h);else if(B.startTime<=M)r(h),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(h)}}function b(M){if(C=!1,k(M),!E)if(n(l)!==null)E=!0,D(F);else{var B=n(h);B!==null&&O(b,B.startTime-M)}}function F(M,B){E=!1,C&&(C=!1,S(G),G=-1),v=!0;var H=g;try{for(k(B),p=n(l);p!==null&&(!(p.expirationTime>B)||M&&!Ne());){var ue=p.callback;if(typeof ue=="function"){p.callback=null,g=p.priorityLevel;var fe=ue(p.expirationTime<=B);B=t.unstable_now(),typeof fe=="function"?p.callback=fe:p===n(l)&&r(l),k(B)}else r(l);p=n(l)}if(p!==null)var Se=!0;else{var ps=n(h);ps!==null&&O(b,ps.startTime-B),Se=!1}return Se}finally{p=null,g=H,v=!1}}var V=!1,W=null,G=-1,ie=5,re=-1;function Ne(){return!(t.unstable_now()-re<ie)}function I(){if(W!==null){var M=t.unstable_now();re=M;var B=!0;try{B=W(!0,M)}finally{B?_():(V=!1,W=null)}}else V=!1}var _;if(typeof T=="function")_=function(){T(I)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,N=w.port2;w.port1.onmessage=I,_=function(){N.postMessage(null)}}else _=function(){R(I,0)};function D(M){W=M,V||(V=!0,_())}function O(M,B){G=R(function(){M(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){E||v||(E=!0,D(F))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(g){case 1:case 2:case 3:var B=3;break;default:B=g}var H=g;g=B;try{return M()}finally{g=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,B){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var H=g;g=M;try{return B()}finally{g=H}},t.unstable_scheduleCallback=function(M,B,H){var ue=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ue+H:ue):H=ue,M){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=H+fe,M={id:d++,callback:B,priorityLevel:M,startTime:H,expirationTime:fe,sortIndex:-1},H>ue?(M.sortIndex=H,e(h,M),n(l)===null&&M===n(h)&&(C?(S(G),G=-1):C=!0,O(b,H-ue))):(M.sortIndex=fe,e(l,M),E||v||(E=!0,D(F))),M},t.unstable_shouldYield=Ne,t.unstable_wrapCallback=function(M){var B=g;return function(){var H=g;g=B;try{return M.apply(this,arguments)}finally{g=H}}}})(LL);(function(t){t.exports=LL})(Iq);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ML=X,Dr=s1;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var UL=new Set,gf={};function yu(t,e){Gl(t,e),Gl(t+"Capture",e)}function Gl(t,e){for(gf[t]=e,t=0;t<e.length;t++)UL.add(e[t])}var Hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),o1=Object.prototype.hasOwnProperty,Cq=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wb={},Eb={};function Rq(t){return o1.call(Eb,t)?!0:o1.call(wb,t)?!1:Cq.test(t)?Eb[t]=!0:(wb[t]=!0,!1)}function Aq(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Pq(t,e,n,r){if(e===null||typeof e>"u"||Aq(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function lr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Cn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Cn[t]=new lr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Cn[e]=new lr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Cn[t]=new lr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Cn[t]=new lr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Cn[t]=new lr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Cn[t]=new lr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Cn[t]=new lr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Cn[t]=new lr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Cn[t]=new lr(t,5,!1,t.toLowerCase(),null,!1,!1)});var DT=/[\-:]([a-z])/g;function LT(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(DT,LT);Cn[e]=new lr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(DT,LT);Cn[e]=new lr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(DT,LT);Cn[e]=new lr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Cn[t]=new lr(t,1,!1,t.toLowerCase(),null,!1,!1)});Cn.xlinkHref=new lr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Cn[t]=new lr(t,1,!1,t.toLowerCase(),null,!0,!0)});function MT(t,e,n,r){var i=Cn.hasOwnProperty(e)?Cn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Pq(e,n,i,r)&&(n=null),r||i===null?Rq(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var io=ML.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xp=Symbol.for("react.element"),ul=Symbol.for("react.portal"),ll=Symbol.for("react.fragment"),UT=Symbol.for("react.strict_mode"),a1=Symbol.for("react.profiler"),FL=Symbol.for("react.provider"),$L=Symbol.for("react.context"),FT=Symbol.for("react.forward_ref"),u1=Symbol.for("react.suspense"),l1=Symbol.for("react.suspense_list"),$T=Symbol.for("react.memo"),yo=Symbol.for("react.lazy"),VL=Symbol.for("react.offscreen"),Sb=Symbol.iterator;function ch(t){return t===null||typeof t!="object"?null:(t=Sb&&t[Sb]||t["@@iterator"],typeof t=="function"?t:null)}var Ot=Object.assign,yw;function kh(t){if(yw===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);yw=e&&e[1]||""}return`
`+yw+t}var ww=!1;function Ew(t,e){if(!t||ww)return"";ww=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,u=s.length-1;1<=o&&0<=u&&i[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==s[u]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=u);break}}}finally{ww=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?kh(t):""}function kq(t){switch(t.tag){case 5:return kh(t.type);case 16:return kh("Lazy");case 13:return kh("Suspense");case 19:return kh("SuspenseList");case 0:case 2:case 15:return t=Ew(t.type,!1),t;case 11:return t=Ew(t.type.render,!1),t;case 1:return t=Ew(t.type,!0),t;default:return""}}function c1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ll:return"Fragment";case ul:return"Portal";case a1:return"Profiler";case UT:return"StrictMode";case u1:return"Suspense";case l1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $L:return(t.displayName||"Context")+".Consumer";case FL:return(t._context.displayName||"Context")+".Provider";case FT:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $T:return e=t.displayName||null,e!==null?e:c1(t.type)||"Memo";case yo:e=t._payload,t=t._init;try{return c1(t(e))}catch{}}return null}function bq(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return c1(e);case 8:return e===UT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ra(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function WL(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Oq(t){var e=WL(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Jp(t){t._valueTracker||(t._valueTracker=Oq(t))}function jL(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=WL(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function wm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function h1(t,e){var n=e.checked;return Ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Tb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ra(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function BL(t,e){e=e.checked,e!=null&&MT(t,"checked",e,!1)}function f1(t,e){BL(t,e);var n=ra(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?d1(t,e.type,n):e.hasOwnProperty("defaultValue")&&d1(t,e.type,ra(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ib(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function d1(t,e,n){(e!=="number"||wm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var bh=Array.isArray;function Il(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ra(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function p1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return Ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Cb(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(bh(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ra(n)}}function zL(t,e){var n=ra(e.value),r=ra(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Rb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function HL(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function g1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?HL(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zp,qL=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zp=Zp||document.createElement("div"),Zp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function mf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nq=["Webkit","ms","Moz","O"];Object.keys(Wh).forEach(function(t){Nq.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wh[e]=Wh[t]})});function GL(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wh.hasOwnProperty(t)&&Wh[t]?(""+e).trim():e+"px"}function YL(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=GL(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var xq=Ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function m1(t,e){if(e){if(xq[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function _1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var v1=null;function VT(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var y1=null,Cl=null,Rl=null;function Ab(t){if(t=wd(t)){if(typeof y1!="function")throw Error(J(280));var e=t.stateNode;e&&(e=ev(e),y1(t.stateNode,t.type,e))}}function KL(t){Cl?Rl?Rl.push(t):Rl=[t]:Cl=t}function QL(){if(Cl){var t=Cl,e=Rl;if(Rl=Cl=null,Ab(t),e)for(t=0;t<e.length;t++)Ab(e[t])}}function XL(t,e){return t(e)}function JL(){}var Sw=!1;function ZL(t,e,n){if(Sw)return t(e,n);Sw=!0;try{return XL(t,e,n)}finally{Sw=!1,(Cl!==null||Rl!==null)&&(JL(),QL())}}function _f(t,e){var n=t.stateNode;if(n===null)return null;var r=ev(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var w1=!1;if(Hs)try{var hh={};Object.defineProperty(hh,"passive",{get:function(){w1=!0}}),window.addEventListener("test",hh,hh),window.removeEventListener("test",hh,hh)}catch{w1=!1}function Dq(t,e,n,r,i,s,o,u,l){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(d){this.onError(d)}}var jh=!1,Em=null,Sm=!1,E1=null,Lq={onError:function(t){jh=!0,Em=t}};function Mq(t,e,n,r,i,s,o,u,l){jh=!1,Em=null,Dq.apply(Lq,arguments)}function Uq(t,e,n,r,i,s,o,u,l){if(Mq.apply(this,arguments),jh){if(jh){var h=Em;jh=!1,Em=null}else throw Error(J(198));Sm||(Sm=!0,E1=h)}}function wu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function e2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Pb(t){if(wu(t)!==t)throw Error(J(188))}function Fq(t){var e=t.alternate;if(!e){if(e=wu(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Pb(i),t;if(s===r)return Pb(i),e;s=s.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=s;break}if(u===r){o=!0,r=i,n=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===n){o=!0,n=s,r=i;break}if(u===r){o=!0,r=s,n=i;break}u=u.sibling}if(!o)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function t2(t){return t=Fq(t),t!==null?n2(t):null}function n2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=n2(t);if(e!==null)return e;t=t.sibling}return null}var r2=Dr.unstable_scheduleCallback,kb=Dr.unstable_cancelCallback,$q=Dr.unstable_shouldYield,Vq=Dr.unstable_requestPaint,Bt=Dr.unstable_now,Wq=Dr.unstable_getCurrentPriorityLevel,WT=Dr.unstable_ImmediatePriority,i2=Dr.unstable_UserBlockingPriority,Tm=Dr.unstable_NormalPriority,jq=Dr.unstable_LowPriority,s2=Dr.unstable_IdlePriority,Q_=null,ts=null;function Bq(t){if(ts&&typeof ts.onCommitFiberRoot=="function")try{ts.onCommitFiberRoot(Q_,t,void 0,(t.current.flags&128)===128)}catch{}}var Ai=Math.clz32?Math.clz32:qq,zq=Math.log,Hq=Math.LN2;function qq(t){return t>>>=0,t===0?32:31-(zq(t)/Hq|0)|0}var eg=64,tg=4194304;function Oh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Im(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var u=o&~i;u!==0?r=Oh(u):(s&=o,s!==0&&(r=Oh(s)))}else o=n&~i,o!==0?r=Oh(o):s!==0&&(r=Oh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ai(e),i=1<<n,r|=t[n],e&=~i;return r}function Gq(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yq(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ai(s),u=1<<o,l=i[o];l===-1?(!(u&n)||u&r)&&(i[o]=Gq(u,e)):l<=e&&(t.expiredLanes|=u),s&=~u}}function S1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function o2(){var t=eg;return eg<<=1,!(eg&4194240)&&(eg=64),t}function Tw(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function vd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ai(e),t[e]=n}function Kq(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ai(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function jT(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ai(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var rt=0;function a2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var u2,BT,l2,c2,h2,T1=!1,ng=[],Uo=null,Fo=null,$o=null,vf=new Map,yf=new Map,Eo=[],Qq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bb(t,e){switch(t){case"focusin":case"focusout":Uo=null;break;case"dragenter":case"dragleave":Fo=null;break;case"mouseover":case"mouseout":$o=null;break;case"pointerover":case"pointerout":vf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yf.delete(e.pointerId)}}function fh(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=wd(e),e!==null&&BT(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Xq(t,e,n,r,i){switch(e){case"focusin":return Uo=fh(Uo,t,e,n,r,i),!0;case"dragenter":return Fo=fh(Fo,t,e,n,r,i),!0;case"mouseover":return $o=fh($o,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return vf.set(s,fh(vf.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,yf.set(s,fh(yf.get(s)||null,t,e,n,r,i)),!0}return!1}function f2(t){var e=Va(t.target);if(e!==null){var n=wu(e);if(n!==null){if(e=n.tag,e===13){if(e=e2(n),e!==null){t.blockedOn=e,h2(t.priority,function(){l2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $g(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=I1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);v1=r,n.target.dispatchEvent(r),v1=null}else return e=wd(n),e!==null&&BT(e),t.blockedOn=n,!1;e.shift()}return!0}function Ob(t,e,n){$g(t)&&n.delete(e)}function Jq(){T1=!1,Uo!==null&&$g(Uo)&&(Uo=null),Fo!==null&&$g(Fo)&&(Fo=null),$o!==null&&$g($o)&&($o=null),vf.forEach(Ob),yf.forEach(Ob)}function dh(t,e){t.blockedOn===e&&(t.blockedOn=null,T1||(T1=!0,Dr.unstable_scheduleCallback(Dr.unstable_NormalPriority,Jq)))}function wf(t){function e(i){return dh(i,t)}if(0<ng.length){dh(ng[0],t);for(var n=1;n<ng.length;n++){var r=ng[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Uo!==null&&dh(Uo,t),Fo!==null&&dh(Fo,t),$o!==null&&dh($o,t),vf.forEach(e),yf.forEach(e),n=0;n<Eo.length;n++)r=Eo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Eo.length&&(n=Eo[0],n.blockedOn===null);)f2(n),n.blockedOn===null&&Eo.shift()}var Al=io.ReactCurrentBatchConfig,Cm=!0;function Zq(t,e,n,r){var i=rt,s=Al.transition;Al.transition=null;try{rt=1,zT(t,e,n,r)}finally{rt=i,Al.transition=s}}function eG(t,e,n,r){var i=rt,s=Al.transition;Al.transition=null;try{rt=4,zT(t,e,n,r)}finally{rt=i,Al.transition=s}}function zT(t,e,n,r){if(Cm){var i=I1(t,e,n,r);if(i===null)xw(t,e,r,Rm,n),bb(t,r);else if(Xq(i,t,e,n,r))r.stopPropagation();else if(bb(t,r),e&4&&-1<Qq.indexOf(t)){for(;i!==null;){var s=wd(i);if(s!==null&&u2(s),s=I1(t,e,n,r),s===null&&xw(t,e,r,Rm,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else xw(t,e,r,null,n)}}var Rm=null;function I1(t,e,n,r){if(Rm=null,t=VT(r),t=Va(t),t!==null)if(e=wu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=e2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Rm=t,null}function d2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wq()){case WT:return 1;case i2:return 4;case Tm:case jq:return 16;case s2:return 536870912;default:return 16}default:return 16}}var ko=null,HT=null,Vg=null;function p2(){if(Vg)return Vg;var t,e=HT,n=e.length,r,i="value"in ko?ko.value:ko.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Vg=i.slice(t,1<r?1-r:void 0)}function Wg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function rg(){return!0}function Nb(){return!1}function Fr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?rg:Nb,this.isPropagationStopped=Nb,this}return Ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rg)},persist:function(){},isPersistent:rg}),e}var yc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qT=Fr(yc),yd=Ot({},yc,{view:0,detail:0}),tG=Fr(yd),Iw,Cw,ph,X_=Ot({},yd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:GT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ph&&(ph&&t.type==="mousemove"?(Iw=t.screenX-ph.screenX,Cw=t.screenY-ph.screenY):Cw=Iw=0,ph=t),Iw)},movementY:function(t){return"movementY"in t?t.movementY:Cw}}),xb=Fr(X_),nG=Ot({},X_,{dataTransfer:0}),rG=Fr(nG),iG=Ot({},yd,{relatedTarget:0}),Rw=Fr(iG),sG=Ot({},yc,{animationName:0,elapsedTime:0,pseudoElement:0}),oG=Fr(sG),aG=Ot({},yc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uG=Fr(aG),lG=Ot({},yc,{data:0}),Db=Fr(lG),cG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fG={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dG(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fG[t])?!!e[t]:!1}function GT(){return dG}var pG=Ot({},yd,{key:function(t){if(t.key){var e=cG[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hG[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:GT,charCode:function(t){return t.type==="keypress"?Wg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gG=Fr(pG),mG=Ot({},X_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lb=Fr(mG),_G=Ot({},yd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:GT}),vG=Fr(_G),yG=Ot({},yc,{propertyName:0,elapsedTime:0,pseudoElement:0}),wG=Fr(yG),EG=Ot({},X_,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),SG=Fr(EG),TG=[9,13,27,32],YT=Hs&&"CompositionEvent"in window,Bh=null;Hs&&"documentMode"in document&&(Bh=document.documentMode);var IG=Hs&&"TextEvent"in window&&!Bh,g2=Hs&&(!YT||Bh&&8<Bh&&11>=Bh),Mb=String.fromCharCode(32),Ub=!1;function m2(t,e){switch(t){case"keyup":return TG.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var cl=!1;function CG(t,e){switch(t){case"compositionend":return _2(e);case"keypress":return e.which!==32?null:(Ub=!0,Mb);case"textInput":return t=e.data,t===Mb&&Ub?null:t;default:return null}}function RG(t,e){if(cl)return t==="compositionend"||!YT&&m2(t,e)?(t=p2(),Vg=HT=ko=null,cl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return g2&&e.locale!=="ko"?null:e.data;default:return null}}var AG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!AG[t.type]:e==="textarea"}function v2(t,e,n,r){KL(r),e=Am(e,"onChange"),0<e.length&&(n=new qT("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var zh=null,Ef=null;function PG(t){k2(t,0)}function J_(t){var e=dl(t);if(jL(e))return t}function kG(t,e){if(t==="change")return e}var y2=!1;if(Hs){var Aw;if(Hs){var Pw="oninput"in document;if(!Pw){var $b=document.createElement("div");$b.setAttribute("oninput","return;"),Pw=typeof $b.oninput=="function"}Aw=Pw}else Aw=!1;y2=Aw&&(!document.documentMode||9<document.documentMode)}function Vb(){zh&&(zh.detachEvent("onpropertychange",w2),Ef=zh=null)}function w2(t){if(t.propertyName==="value"&&J_(Ef)){var e=[];v2(e,Ef,t,VT(t)),ZL(PG,e)}}function bG(t,e,n){t==="focusin"?(Vb(),zh=e,Ef=n,zh.attachEvent("onpropertychange",w2)):t==="focusout"&&Vb()}function OG(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return J_(Ef)}function NG(t,e){if(t==="click")return J_(e)}function xG(t,e){if(t==="input"||t==="change")return J_(e)}function DG(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bi=typeof Object.is=="function"?Object.is:DG;function Sf(t,e){if(bi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!o1.call(e,i)||!bi(t[i],e[i]))return!1}return!0}function Wb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jb(t,e){var n=Wb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wb(n)}}function E2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?E2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function S2(){for(var t=window,e=wm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wm(t.document)}return e}function KT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function LG(t){var e=S2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&E2(n.ownerDocument.documentElement,n)){if(r!==null&&KT(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=jb(n,s);var o=jb(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var MG=Hs&&"documentMode"in document&&11>=document.documentMode,hl=null,C1=null,Hh=null,R1=!1;function Bb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;R1||hl==null||hl!==wm(r)||(r=hl,"selectionStart"in r&&KT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hh&&Sf(Hh,r)||(Hh=r,r=Am(C1,"onSelect"),0<r.length&&(e=new qT("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=hl)))}function ig(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var fl={animationend:ig("Animation","AnimationEnd"),animationiteration:ig("Animation","AnimationIteration"),animationstart:ig("Animation","AnimationStart"),transitionend:ig("Transition","TransitionEnd")},kw={},T2={};Hs&&(T2=document.createElement("div").style,"AnimationEvent"in window||(delete fl.animationend.animation,delete fl.animationiteration.animation,delete fl.animationstart.animation),"TransitionEvent"in window||delete fl.transitionend.transition);function Z_(t){if(kw[t])return kw[t];if(!fl[t])return t;var e=fl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in T2)return kw[t]=e[n];return t}var I2=Z_("animationend"),C2=Z_("animationiteration"),R2=Z_("animationstart"),A2=Z_("transitionend"),P2=new Map,zb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ga(t,e){P2.set(t,e),yu(e,[t])}for(var bw=0;bw<zb.length;bw++){var Ow=zb[bw],UG=Ow.toLowerCase(),FG=Ow[0].toUpperCase()+Ow.slice(1);ga(UG,"on"+FG)}ga(I2,"onAnimationEnd");ga(C2,"onAnimationIteration");ga(R2,"onAnimationStart");ga("dblclick","onDoubleClick");ga("focusin","onFocus");ga("focusout","onBlur");ga(A2,"onTransitionEnd");Gl("onMouseEnter",["mouseout","mouseover"]);Gl("onMouseLeave",["mouseout","mouseover"]);Gl("onPointerEnter",["pointerout","pointerover"]);Gl("onPointerLeave",["pointerout","pointerover"]);yu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yu("onBeforeInput",["compositionend","keypress","textInput","paste"]);yu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$G=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nh));function Hb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Uq(r,e,void 0,t),t.currentTarget=null}function k2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var u=r[o],l=u.instance,h=u.currentTarget;if(u=u.listener,l!==s&&i.isPropagationStopped())break e;Hb(i,u,h),s=l}else for(o=0;o<r.length;o++){if(u=r[o],l=u.instance,h=u.currentTarget,u=u.listener,l!==s&&i.isPropagationStopped())break e;Hb(i,u,h),s=l}}}if(Sm)throw t=E1,Sm=!1,E1=null,t}function _t(t,e){var n=e[O1];n===void 0&&(n=e[O1]=new Set);var r=t+"__bubble";n.has(r)||(b2(e,t,2,!1),n.add(r))}function Nw(t,e,n){var r=0;e&&(r|=4),b2(n,t,r,e)}var sg="_reactListening"+Math.random().toString(36).slice(2);function Tf(t){if(!t[sg]){t[sg]=!0,UL.forEach(function(n){n!=="selectionchange"&&($G.has(n)||Nw(n,!1,t),Nw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sg]||(e[sg]=!0,Nw("selectionchange",!1,e))}}function b2(t,e,n,r){switch(d2(e)){case 1:var i=Zq;break;case 4:i=eG;break;default:i=zT}n=i.bind(null,e,n,t),i=void 0,!w1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function xw(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;u!==null;){if(o=Va(u),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}u=u.parentNode}}r=r.return}ZL(function(){var h=s,d=VT(n),p=[];e:{var g=P2.get(t);if(g!==void 0){var v=qT,E=t;switch(t){case"keypress":if(Wg(n)===0)break e;case"keydown":case"keyup":v=gG;break;case"focusin":E="focus",v=Rw;break;case"focusout":E="blur",v=Rw;break;case"beforeblur":case"afterblur":v=Rw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=xb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=rG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=vG;break;case I2:case C2:case R2:v=oG;break;case A2:v=wG;break;case"scroll":v=tG;break;case"wheel":v=SG;break;case"copy":case"cut":case"paste":v=uG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Lb}var C=(e&4)!==0,R=!C&&t==="scroll",S=C?g!==null?g+"Capture":null:g;C=[];for(var T=h,k;T!==null;){k=T;var b=k.stateNode;if(k.tag===5&&b!==null&&(k=b,S!==null&&(b=_f(T,S),b!=null&&C.push(If(T,b,k)))),R)break;T=T.return}0<C.length&&(g=new v(g,E,null,n,d),p.push({event:g,listeners:C}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",g&&n!==v1&&(E=n.relatedTarget||n.fromElement)&&(Va(E)||E[qs]))break e;if((v||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,v?(E=n.relatedTarget||n.toElement,v=h,E=E?Va(E):null,E!==null&&(R=wu(E),E!==R||E.tag!==5&&E.tag!==6)&&(E=null)):(v=null,E=h),v!==E)){if(C=xb,b="onMouseLeave",S="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(C=Lb,b="onPointerLeave",S="onPointerEnter",T="pointer"),R=v==null?g:dl(v),k=E==null?g:dl(E),g=new C(b,T+"leave",v,n,d),g.target=R,g.relatedTarget=k,b=null,Va(d)===h&&(C=new C(S,T+"enter",E,n,d),C.target=k,C.relatedTarget=R,b=C),R=b,v&&E)t:{for(C=v,S=E,T=0,k=C;k;k=Ku(k))T++;for(k=0,b=S;b;b=Ku(b))k++;for(;0<T-k;)C=Ku(C),T--;for(;0<k-T;)S=Ku(S),k--;for(;T--;){if(C===S||S!==null&&C===S.alternate)break t;C=Ku(C),S=Ku(S)}C=null}else C=null;v!==null&&qb(p,g,v,C,!1),E!==null&&R!==null&&qb(p,R,E,C,!0)}}e:{if(g=h?dl(h):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var F=kG;else if(Fb(g))if(y2)F=xG;else{F=OG;var V=bG}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(F=NG);if(F&&(F=F(t,h))){v2(p,F,n,d);break e}V&&V(t,g,h),t==="focusout"&&(V=g._wrapperState)&&V.controlled&&g.type==="number"&&d1(g,"number",g.value)}switch(V=h?dl(h):window,t){case"focusin":(Fb(V)||V.contentEditable==="true")&&(hl=V,C1=h,Hh=null);break;case"focusout":Hh=C1=hl=null;break;case"mousedown":R1=!0;break;case"contextmenu":case"mouseup":case"dragend":R1=!1,Bb(p,n,d);break;case"selectionchange":if(MG)break;case"keydown":case"keyup":Bb(p,n,d)}var W;if(YT)e:{switch(t){case"compositionstart":var G="onCompositionStart";break e;case"compositionend":G="onCompositionEnd";break e;case"compositionupdate":G="onCompositionUpdate";break e}G=void 0}else cl?m2(t,n)&&(G="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(G="onCompositionStart");G&&(g2&&n.locale!=="ko"&&(cl||G!=="onCompositionStart"?G==="onCompositionEnd"&&cl&&(W=p2()):(ko=d,HT="value"in ko?ko.value:ko.textContent,cl=!0)),V=Am(h,G),0<V.length&&(G=new Db(G,t,null,n,d),p.push({event:G,listeners:V}),W?G.data=W:(W=_2(n),W!==null&&(G.data=W)))),(W=IG?CG(t,n):RG(t,n))&&(h=Am(h,"onBeforeInput"),0<h.length&&(d=new Db("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:h}),d.data=W))}k2(p,e)})}function If(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Am(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=_f(t,n),s!=null&&r.unshift(If(t,s,i)),s=_f(t,e),s!=null&&r.push(If(t,s,i))),t=t.return}return r}function Ku(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qb(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var u=n,l=u.alternate,h=u.stateNode;if(l!==null&&l===r)break;u.tag===5&&h!==null&&(u=h,i?(l=_f(n,s),l!=null&&o.unshift(If(n,l,u))):i||(l=_f(n,s),l!=null&&o.push(If(n,l,u)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var VG=/\r\n?/g,WG=/\u0000|\uFFFD/g;function Gb(t){return(typeof t=="string"?t:""+t).replace(VG,`
`).replace(WG,"")}function og(t,e,n){if(e=Gb(e),Gb(t)!==e&&n)throw Error(J(425))}function Pm(){}var A1=null,P1=null;function k1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var b1=typeof setTimeout=="function"?setTimeout:void 0,jG=typeof clearTimeout=="function"?clearTimeout:void 0,Yb=typeof Promise=="function"?Promise:void 0,BG=typeof queueMicrotask=="function"?queueMicrotask:typeof Yb<"u"?function(t){return Yb.resolve(null).then(t).catch(zG)}:b1;function zG(t){setTimeout(function(){throw t})}function Dw(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),wf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);wf(e)}function Vo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Kb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var wc=Math.random().toString(36).slice(2),Gi="__reactFiber$"+wc,Cf="__reactProps$"+wc,qs="__reactContainer$"+wc,O1="__reactEvents$"+wc,HG="__reactListeners$"+wc,qG="__reactHandles$"+wc;function Va(t){var e=t[Gi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qs]||n[Gi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Kb(t);t!==null;){if(n=t[Gi])return n;t=Kb(t)}return e}t=n,n=t.parentNode}return null}function wd(t){return t=t[Gi]||t[qs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function dl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function ev(t){return t[Cf]||null}var N1=[],pl=-1;function ma(t){return{current:t}}function wt(t){0>pl||(t.current=N1[pl],N1[pl]=null,pl--)}function gt(t,e){pl++,N1[pl]=t.current,t.current=e}var ia={},zn=ma(ia),_r=ma(!1),tu=ia;function Yl(t,e){var n=t.type.contextTypes;if(!n)return ia;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function vr(t){return t=t.childContextTypes,t!=null}function km(){wt(_r),wt(zn)}function Qb(t,e,n){if(zn.current!==ia)throw Error(J(168));gt(zn,e),gt(_r,n)}function O2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,bq(t)||"Unknown",i));return Ot({},n,r)}function bm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ia,tu=zn.current,gt(zn,t),gt(_r,_r.current),!0}function Xb(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=O2(t,e,tu),r.__reactInternalMemoizedMergedChildContext=t,wt(_r),wt(zn),gt(zn,t)):wt(_r),gt(_r,n)}var ks=null,tv=!1,Lw=!1;function N2(t){ks===null?ks=[t]:ks.push(t)}function GG(t){tv=!0,N2(t)}function _a(){if(!Lw&&ks!==null){Lw=!0;var t=0,e=rt;try{var n=ks;for(rt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ks=null,tv=!1}catch(i){throw ks!==null&&(ks=ks.slice(t+1)),r2(WT,_a),i}finally{rt=e,Lw=!1}}return null}var gl=[],ml=0,Om=null,Nm=0,Xr=[],Jr=0,nu=null,Ns=1,xs="";function Na(t,e){gl[ml++]=Nm,gl[ml++]=Om,Om=t,Nm=e}function x2(t,e,n){Xr[Jr++]=Ns,Xr[Jr++]=xs,Xr[Jr++]=nu,nu=t;var r=Ns;t=xs;var i=32-Ai(r)-1;r&=~(1<<i),n+=1;var s=32-Ai(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ns=1<<32-Ai(e)+i|n<<i|r,xs=s+t}else Ns=1<<s|n<<i|r,xs=t}function QT(t){t.return!==null&&(Na(t,1),x2(t,1,0))}function XT(t){for(;t===Om;)Om=gl[--ml],gl[ml]=null,Nm=gl[--ml],gl[ml]=null;for(;t===nu;)nu=Xr[--Jr],Xr[Jr]=null,xs=Xr[--Jr],Xr[Jr]=null,Ns=Xr[--Jr],Xr[Jr]=null}var Nr=null,Or=null,At=!1,Ei=null;function D2(t,e){var n=ni(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Jb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Nr=t,Or=Vo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Nr=t,Or=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=nu!==null?{id:Ns,overflow:xs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ni(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Nr=t,Or=null,!0):!1;default:return!1}}function x1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function D1(t){if(At){var e=Or;if(e){var n=e;if(!Jb(t,e)){if(x1(t))throw Error(J(418));e=Vo(n.nextSibling);var r=Nr;e&&Jb(t,e)?D2(r,n):(t.flags=t.flags&-4097|2,At=!1,Nr=t)}}else{if(x1(t))throw Error(J(418));t.flags=t.flags&-4097|2,At=!1,Nr=t}}}function Zb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Nr=t}function ag(t){if(t!==Nr)return!1;if(!At)return Zb(t),At=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!k1(t.type,t.memoizedProps)),e&&(e=Or)){if(x1(t))throw L2(),Error(J(418));for(;e;)D2(t,e),e=Vo(e.nextSibling)}if(Zb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Or=Vo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Or=null}}else Or=Nr?Vo(t.stateNode.nextSibling):null;return!0}function L2(){for(var t=Or;t;)t=Vo(t.nextSibling)}function Kl(){Or=Nr=null,At=!1}function JT(t){Ei===null?Ei=[t]:Ei.push(t)}var YG=io.ReactCurrentBatchConfig;function yi(t,e){if(t&&t.defaultProps){e=Ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var xm=ma(null),Dm=null,_l=null,ZT=null;function eI(){ZT=_l=Dm=null}function tI(t){var e=xm.current;wt(xm),t._currentValue=e}function L1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Pl(t,e){Dm=t,ZT=_l=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mr=!0),t.firstContext=null)}function oi(t){var e=t._currentValue;if(ZT!==t)if(t={context:t,memoizedValue:e,next:null},_l===null){if(Dm===null)throw Error(J(308));_l=t,Dm.dependencies={lanes:0,firstContext:t}}else _l=_l.next=t;return e}var Wa=null;function nI(t){Wa===null?Wa=[t]:Wa.push(t)}function M2(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,nI(e)):(n.next=i.next,i.next=n),e.interleaved=n,Gs(t,r)}function Gs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wo=!1;function rI(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function U2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ye&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Gs(t,n)}return i=r.interleaved,i===null?(e.next=e,nI(r)):(e.next=i.next,i.next=e),r.interleaved=e,Gs(t,n)}function jg(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jT(t,n)}}function eO(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Lm(t,e,n,r){var i=t.updateQueue;wo=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var l=u,h=l.next;l.next=null,o===null?s=h:o.next=h,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,u=d.lastBaseUpdate,u!==o&&(u===null?d.firstBaseUpdate=h:u.next=h,d.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;o=0,d=h=l=null,u=s;do{var g=u.lane,v=u.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:v,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var E=t,C=u;switch(g=e,v=n,C.tag){case 1:if(E=C.payload,typeof E=="function"){p=E.call(v,p,g);break e}p=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=C.payload,g=typeof E=="function"?E.call(v,p,g):E,g==null)break e;p=Ot({},p,g);break e;case 2:wo=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[u]:g.push(u))}else v={eventTime:v,lane:g,tag:u.tag,payload:u.payload,callback:u.callback,next:null},d===null?(h=d=v,l=p):d=d.next=v,o|=g;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;g=u,u=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(1);if(d===null&&(l=p),i.baseState=l,i.firstBaseUpdate=h,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);iu|=o,t.lanes=o,t.memoizedState=p}}function tO(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var F2=new ML.Component().refs;function M1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nv={isMounted:function(t){return(t=t._reactInternals)?wu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=sr(),i=Bo(t),s=Vs(r,i);s.payload=e,n!=null&&(s.callback=n),e=Wo(t,s,i),e!==null&&(Pi(e,t,i,r),jg(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=sr(),i=Bo(t),s=Vs(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Wo(t,s,i),e!==null&&(Pi(e,t,i,r),jg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=sr(),r=Bo(t),i=Vs(n,r);i.tag=2,e!=null&&(i.callback=e),e=Wo(t,i,r),e!==null&&(Pi(e,t,r,n),jg(e,t,r))}};function nO(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Sf(n,r)||!Sf(i,s):!0}function $2(t,e,n){var r=!1,i=ia,s=e.contextType;return typeof s=="object"&&s!==null?s=oi(s):(i=vr(e)?tu:zn.current,r=e.contextTypes,s=(r=r!=null)?Yl(t,i):ia),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function rO(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&nv.enqueueReplaceState(e,e.state,null)}function U1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=F2,rI(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=oi(s):(s=vr(e)?tu:zn.current,i.context=Yl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(M1(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&nv.enqueueReplaceState(i,i.state,null),Lm(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function gh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var u=i.refs;u===F2&&(u=i.refs={}),o===null?delete u[s]:u[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function ug(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function iO(t){var e=t._init;return e(t._payload)}function V2(t){function e(S,T){if(t){var k=S.deletions;k===null?(S.deletions=[T],S.flags|=16):k.push(T)}}function n(S,T){if(!t)return null;for(;T!==null;)e(S,T),T=T.sibling;return null}function r(S,T){for(S=new Map;T!==null;)T.key!==null?S.set(T.key,T):S.set(T.index,T),T=T.sibling;return S}function i(S,T){return S=zo(S,T),S.index=0,S.sibling=null,S}function s(S,T,k){return S.index=k,t?(k=S.alternate,k!==null?(k=k.index,k<T?(S.flags|=2,T):k):(S.flags|=2,T)):(S.flags|=1048576,T)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function u(S,T,k,b){return T===null||T.tag!==6?(T=jw(k,S.mode,b),T.return=S,T):(T=i(T,k),T.return=S,T)}function l(S,T,k,b){var F=k.type;return F===ll?d(S,T,k.props.children,b,k.key):T!==null&&(T.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===yo&&iO(F)===T.type)?(b=i(T,k.props),b.ref=gh(S,T,k),b.return=S,b):(b=Yg(k.type,k.key,k.props,null,S.mode,b),b.ref=gh(S,T,k),b.return=S,b)}function h(S,T,k,b){return T===null||T.tag!==4||T.stateNode.containerInfo!==k.containerInfo||T.stateNode.implementation!==k.implementation?(T=Bw(k,S.mode,b),T.return=S,T):(T=i(T,k.children||[]),T.return=S,T)}function d(S,T,k,b,F){return T===null||T.tag!==7?(T=Ka(k,S.mode,b,F),T.return=S,T):(T=i(T,k),T.return=S,T)}function p(S,T,k){if(typeof T=="string"&&T!==""||typeof T=="number")return T=jw(""+T,S.mode,k),T.return=S,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Xp:return k=Yg(T.type,T.key,T.props,null,S.mode,k),k.ref=gh(S,null,T),k.return=S,k;case ul:return T=Bw(T,S.mode,k),T.return=S,T;case yo:var b=T._init;return p(S,b(T._payload),k)}if(bh(T)||ch(T))return T=Ka(T,S.mode,k,null),T.return=S,T;ug(S,T)}return null}function g(S,T,k,b){var F=T!==null?T.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return F!==null?null:u(S,T,""+k,b);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Xp:return k.key===F?l(S,T,k,b):null;case ul:return k.key===F?h(S,T,k,b):null;case yo:return F=k._init,g(S,T,F(k._payload),b)}if(bh(k)||ch(k))return F!==null?null:d(S,T,k,b,null);ug(S,k)}return null}function v(S,T,k,b,F){if(typeof b=="string"&&b!==""||typeof b=="number")return S=S.get(k)||null,u(T,S,""+b,F);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Xp:return S=S.get(b.key===null?k:b.key)||null,l(T,S,b,F);case ul:return S=S.get(b.key===null?k:b.key)||null,h(T,S,b,F);case yo:var V=b._init;return v(S,T,k,V(b._payload),F)}if(bh(b)||ch(b))return S=S.get(k)||null,d(T,S,b,F,null);ug(T,b)}return null}function E(S,T,k,b){for(var F=null,V=null,W=T,G=T=0,ie=null;W!==null&&G<k.length;G++){W.index>G?(ie=W,W=null):ie=W.sibling;var re=g(S,W,k[G],b);if(re===null){W===null&&(W=ie);break}t&&W&&re.alternate===null&&e(S,W),T=s(re,T,G),V===null?F=re:V.sibling=re,V=re,W=ie}if(G===k.length)return n(S,W),At&&Na(S,G),F;if(W===null){for(;G<k.length;G++)W=p(S,k[G],b),W!==null&&(T=s(W,T,G),V===null?F=W:V.sibling=W,V=W);return At&&Na(S,G),F}for(W=r(S,W);G<k.length;G++)ie=v(W,S,G,k[G],b),ie!==null&&(t&&ie.alternate!==null&&W.delete(ie.key===null?G:ie.key),T=s(ie,T,G),V===null?F=ie:V.sibling=ie,V=ie);return t&&W.forEach(function(Ne){return e(S,Ne)}),At&&Na(S,G),F}function C(S,T,k,b){var F=ch(k);if(typeof F!="function")throw Error(J(150));if(k=F.call(k),k==null)throw Error(J(151));for(var V=F=null,W=T,G=T=0,ie=null,re=k.next();W!==null&&!re.done;G++,re=k.next()){W.index>G?(ie=W,W=null):ie=W.sibling;var Ne=g(S,W,re.value,b);if(Ne===null){W===null&&(W=ie);break}t&&W&&Ne.alternate===null&&e(S,W),T=s(Ne,T,G),V===null?F=Ne:V.sibling=Ne,V=Ne,W=ie}if(re.done)return n(S,W),At&&Na(S,G),F;if(W===null){for(;!re.done;G++,re=k.next())re=p(S,re.value,b),re!==null&&(T=s(re,T,G),V===null?F=re:V.sibling=re,V=re);return At&&Na(S,G),F}for(W=r(S,W);!re.done;G++,re=k.next())re=v(W,S,G,re.value,b),re!==null&&(t&&re.alternate!==null&&W.delete(re.key===null?G:re.key),T=s(re,T,G),V===null?F=re:V.sibling=re,V=re);return t&&W.forEach(function(I){return e(S,I)}),At&&Na(S,G),F}function R(S,T,k,b){if(typeof k=="object"&&k!==null&&k.type===ll&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Xp:e:{for(var F=k.key,V=T;V!==null;){if(V.key===F){if(F=k.type,F===ll){if(V.tag===7){n(S,V.sibling),T=i(V,k.props.children),T.return=S,S=T;break e}}else if(V.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===yo&&iO(F)===V.type){n(S,V.sibling),T=i(V,k.props),T.ref=gh(S,V,k),T.return=S,S=T;break e}n(S,V);break}else e(S,V);V=V.sibling}k.type===ll?(T=Ka(k.props.children,S.mode,b,k.key),T.return=S,S=T):(b=Yg(k.type,k.key,k.props,null,S.mode,b),b.ref=gh(S,T,k),b.return=S,S=b)}return o(S);case ul:e:{for(V=k.key;T!==null;){if(T.key===V)if(T.tag===4&&T.stateNode.containerInfo===k.containerInfo&&T.stateNode.implementation===k.implementation){n(S,T.sibling),T=i(T,k.children||[]),T.return=S,S=T;break e}else{n(S,T);break}else e(S,T);T=T.sibling}T=Bw(k,S.mode,b),T.return=S,S=T}return o(S);case yo:return V=k._init,R(S,T,V(k._payload),b)}if(bh(k))return E(S,T,k,b);if(ch(k))return C(S,T,k,b);ug(S,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,T!==null&&T.tag===6?(n(S,T.sibling),T=i(T,k),T.return=S,S=T):(n(S,T),T=jw(k,S.mode,b),T.return=S,S=T),o(S)):n(S,T)}return R}var Ql=V2(!0),W2=V2(!1),Ed={},ns=ma(Ed),Rf=ma(Ed),Af=ma(Ed);function ja(t){if(t===Ed)throw Error(J(174));return t}function iI(t,e){switch(gt(Af,e),gt(Rf,t),gt(ns,Ed),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:g1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=g1(e,t)}wt(ns),gt(ns,e)}function Xl(){wt(ns),wt(Rf),wt(Af)}function j2(t){ja(Af.current);var e=ja(ns.current),n=g1(e,t.type);e!==n&&(gt(Rf,t),gt(ns,n))}function sI(t){Rf.current===t&&(wt(ns),wt(Rf))}var kt=ma(0);function Mm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mw=[];function oI(){for(var t=0;t<Mw.length;t++)Mw[t]._workInProgressVersionPrimary=null;Mw.length=0}var Bg=io.ReactCurrentDispatcher,Uw=io.ReactCurrentBatchConfig,ru=0,bt=null,Xt=null,an=null,Um=!1,qh=!1,Pf=0,KG=0;function bn(){throw Error(J(321))}function aI(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bi(t[n],e[n]))return!1;return!0}function uI(t,e,n,r,i,s){if(ru=s,bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bg.current=t===null||t.memoizedState===null?ZG:e7,t=n(r,i),qh){s=0;do{if(qh=!1,Pf=0,25<=s)throw Error(J(301));s+=1,an=Xt=null,e.updateQueue=null,Bg.current=t7,t=n(r,i)}while(qh)}if(Bg.current=Fm,e=Xt!==null&&Xt.next!==null,ru=0,an=Xt=bt=null,Um=!1,e)throw Error(J(300));return t}function lI(){var t=Pf!==0;return Pf=0,t}function qi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?bt.memoizedState=an=t:an=an.next=t,an}function ai(){if(Xt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var e=an===null?bt.memoizedState:an.next;if(e!==null)an=e,Xt=t;else{if(t===null)throw Error(J(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},an===null?bt.memoizedState=an=t:an=an.next=t}return an}function kf(t,e){return typeof e=="function"?e(t):e}function Fw(t){var e=ai(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=Xt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var u=o=null,l=null,h=s;do{var d=h.lane;if((ru&d)===d)l!==null&&(l=l.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var p={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};l===null?(u=l=p,o=r):l=l.next=p,bt.lanes|=d,iu|=d}h=h.next}while(h!==null&&h!==s);l===null?o=r:l.next=u,bi(r,e.memoizedState)||(mr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,bt.lanes|=s,iu|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $w(t){var e=ai(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);bi(s,e.memoizedState)||(mr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function B2(){}function z2(t,e){var n=bt,r=ai(),i=e(),s=!bi(r.memoizedState,i);if(s&&(r.memoizedState=i,mr=!0),r=r.queue,cI(G2.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||an!==null&&an.memoizedState.tag&1){if(n.flags|=2048,bf(9,q2.bind(null,n,r,i,e),void 0,null),un===null)throw Error(J(349));ru&30||H2(n,e,i)}return i}function H2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function q2(t,e,n,r){e.value=n,e.getSnapshot=r,Y2(e)&&K2(t)}function G2(t,e,n){return n(function(){Y2(e)&&K2(t)})}function Y2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bi(t,n)}catch{return!0}}function K2(t){var e=Gs(t,1);e!==null&&Pi(e,t,1,-1)}function sO(t){var e=qi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kf,lastRenderedState:t},e.queue=t,t=t.dispatch=JG.bind(null,bt,t),[e.memoizedState,t]}function bf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Q2(){return ai().memoizedState}function zg(t,e,n,r){var i=qi();bt.flags|=t,i.memoizedState=bf(1|e,n,void 0,r===void 0?null:r)}function rv(t,e,n,r){var i=ai();r=r===void 0?null:r;var s=void 0;if(Xt!==null){var o=Xt.memoizedState;if(s=o.destroy,r!==null&&aI(r,o.deps)){i.memoizedState=bf(e,n,s,r);return}}bt.flags|=t,i.memoizedState=bf(1|e,n,s,r)}function oO(t,e){return zg(8390656,8,t,e)}function cI(t,e){return rv(2048,8,t,e)}function X2(t,e){return rv(4,2,t,e)}function J2(t,e){return rv(4,4,t,e)}function Z2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function eM(t,e,n){return n=n!=null?n.concat([t]):null,rv(4,4,Z2.bind(null,e,t),n)}function hI(){}function tM(t,e){var n=ai();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&aI(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function nM(t,e){var n=ai();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&aI(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function rM(t,e,n){return ru&21?(bi(n,e)||(n=o2(),bt.lanes|=n,iu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mr=!0),t.memoizedState=n)}function QG(t,e){var n=rt;rt=n!==0&&4>n?n:4,t(!0);var r=Uw.transition;Uw.transition={};try{t(!1),e()}finally{rt=n,Uw.transition=r}}function iM(){return ai().memoizedState}function XG(t,e,n){var r=Bo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sM(t))oM(e,n);else if(n=M2(t,e,n,r),n!==null){var i=sr();Pi(n,t,r,i),aM(n,e,r)}}function JG(t,e,n){var r=Bo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sM(t))oM(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,u=s(o,n);if(i.hasEagerState=!0,i.eagerState=u,bi(u,o)){var l=e.interleaved;l===null?(i.next=i,nI(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=M2(t,e,i,r),n!==null&&(i=sr(),Pi(n,t,r,i),aM(n,e,r))}}function sM(t){var e=t.alternate;return t===bt||e!==null&&e===bt}function oM(t,e){qh=Um=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function aM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jT(t,n)}}var Fm={readContext:oi,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useInsertionEffect:bn,useLayoutEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useMutableSource:bn,useSyncExternalStore:bn,useId:bn,unstable_isNewReconciler:!1},ZG={readContext:oi,useCallback:function(t,e){return qi().memoizedState=[t,e===void 0?null:e],t},useContext:oi,useEffect:oO,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,zg(4194308,4,Z2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return zg(4194308,4,t,e)},useInsertionEffect:function(t,e){return zg(4,2,t,e)},useMemo:function(t,e){var n=qi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=qi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=XG.bind(null,bt,t),[r.memoizedState,t]},useRef:function(t){var e=qi();return t={current:t},e.memoizedState=t},useState:sO,useDebugValue:hI,useDeferredValue:function(t){return qi().memoizedState=t},useTransition:function(){var t=sO(!1),e=t[0];return t=QG.bind(null,t[1]),qi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=bt,i=qi();if(At){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),un===null)throw Error(J(349));ru&30||H2(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,oO(G2.bind(null,r,s,t),[t]),r.flags|=2048,bf(9,q2.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=qi(),e=un.identifierPrefix;if(At){var n=xs,r=Ns;n=(r&~(1<<32-Ai(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Pf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=KG++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},e7={readContext:oi,useCallback:tM,useContext:oi,useEffect:cI,useImperativeHandle:eM,useInsertionEffect:X2,useLayoutEffect:J2,useMemo:nM,useReducer:Fw,useRef:Q2,useState:function(){return Fw(kf)},useDebugValue:hI,useDeferredValue:function(t){var e=ai();return rM(e,Xt.memoizedState,t)},useTransition:function(){var t=Fw(kf)[0],e=ai().memoizedState;return[t,e]},useMutableSource:B2,useSyncExternalStore:z2,useId:iM,unstable_isNewReconciler:!1},t7={readContext:oi,useCallback:tM,useContext:oi,useEffect:cI,useImperativeHandle:eM,useInsertionEffect:X2,useLayoutEffect:J2,useMemo:nM,useReducer:$w,useRef:Q2,useState:function(){return $w(kf)},useDebugValue:hI,useDeferredValue:function(t){var e=ai();return Xt===null?e.memoizedState=t:rM(e,Xt.memoizedState,t)},useTransition:function(){var t=$w(kf)[0],e=ai().memoizedState;return[t,e]},useMutableSource:B2,useSyncExternalStore:z2,useId:iM,unstable_isNewReconciler:!1};function Jl(t,e){try{var n="",r=e;do n+=kq(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Vw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function F1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var n7=typeof WeakMap=="function"?WeakMap:Map;function uM(t,e,n){n=Vs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Vm||(Vm=!0,Y1=r),F1(t,e)},n}function lM(t,e,n){n=Vs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){F1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){F1(t,e),typeof r!="function"&&(jo===null?jo=new Set([this]):jo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function aO(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new n7;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=m7.bind(null,t,e,n),e.then(t,t))}function uO(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lO(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Vs(-1,1),e.tag=2,Wo(n,e,1))),n.lanes|=1),t)}var r7=io.ReactCurrentOwner,mr=!1;function Zn(t,e,n,r){e.child=t===null?W2(e,null,n,r):Ql(e,t.child,n,r)}function cO(t,e,n,r,i){n=n.render;var s=e.ref;return Pl(e,i),r=uI(t,e,n,r,s,i),n=lI(),t!==null&&!mr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ys(t,e,i)):(At&&n&&QT(e),e.flags|=1,Zn(t,e,r,i),e.child)}function hO(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!yI(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,cM(t,e,s,r,i)):(t=Yg(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Sf,n(o,r)&&t.ref===e.ref)return Ys(t,e,i)}return e.flags|=1,t=zo(s,r),t.ref=e.ref,t.return=e,e.child=t}function cM(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Sf(s,r)&&t.ref===e.ref)if(mr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(mr=!0);else return e.lanes=t.lanes,Ys(t,e,i)}return $1(t,e,n,r,i)}function hM(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(yl,Pr),Pr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,gt(yl,Pr),Pr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,gt(yl,Pr),Pr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,gt(yl,Pr),Pr|=r;return Zn(t,e,i,n),e.child}function fM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function $1(t,e,n,r,i){var s=vr(n)?tu:zn.current;return s=Yl(e,s),Pl(e,i),n=uI(t,e,n,r,s,i),r=lI(),t!==null&&!mr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ys(t,e,i)):(At&&r&&QT(e),e.flags|=1,Zn(t,e,n,i),e.child)}function fO(t,e,n,r,i){if(vr(n)){var s=!0;bm(e)}else s=!1;if(Pl(e,i),e.stateNode===null)Hg(t,e),$2(e,n,r),U1(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var l=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=oi(h):(h=vr(n)?tu:zn.current,h=Yl(e,h));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||l!==h)&&rO(e,o,r,h),wo=!1;var g=e.memoizedState;o.state=g,Lm(e,r,o,i),l=e.memoizedState,u!==r||g!==l||_r.current||wo?(typeof d=="function"&&(M1(e,n,d,r),l=e.memoizedState),(u=wo||nO(e,n,u,r,g,l,h))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=h,r=u):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,U2(t,e),u=e.memoizedProps,h=e.type===e.elementType?u:yi(e.type,u),o.props=h,p=e.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=oi(l):(l=vr(n)?tu:zn.current,l=Yl(e,l));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==p||g!==l)&&rO(e,o,r,l),wo=!1,g=e.memoizedState,o.state=g,Lm(e,r,o,i);var E=e.memoizedState;u!==p||g!==E||_r.current||wo?(typeof v=="function"&&(M1(e,n,v,r),E=e.memoizedState),(h=wo||nO(e,n,h,r,g,E,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=h):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return V1(t,e,n,r,s,i)}function V1(t,e,n,r,i,s){fM(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Xb(e,n,!1),Ys(t,e,s);r=e.stateNode,r7.current=e;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ql(e,t.child,null,s),e.child=Ql(e,null,u,s)):Zn(t,e,u,s),e.memoizedState=r.state,i&&Xb(e,n,!0),e.child}function dM(t){var e=t.stateNode;e.pendingContext?Qb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Qb(t,e.context,!1),iI(t,e.containerInfo)}function dO(t,e,n,r,i){return Kl(),JT(i),e.flags|=256,Zn(t,e,n,r),e.child}var W1={dehydrated:null,treeContext:null,retryLane:0};function j1(t){return{baseLanes:t,cachePool:null,transitions:null}}function pM(t,e,n){var r=e.pendingProps,i=kt.current,s=!1,o=(e.flags&128)!==0,u;if((u=o)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),gt(kt,i&1),t===null)return D1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ov(o,r,0,null),t=Ka(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=j1(n),e.memoizedState=W1,t):fI(e,o));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return i7(t,e,o,r,u,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,u=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=zo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=zo(u,s):(s=Ka(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?j1(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=W1,r}return s=t.child,t=s.sibling,r=zo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function fI(t,e){return e=ov({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function lg(t,e,n,r){return r!==null&&JT(r),Ql(e,t.child,null,n),t=fI(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function i7(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Vw(Error(J(422))),lg(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ov({mode:"visible",children:r.children},i,0,null),s=Ka(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ql(e,t.child,null,o),e.child.memoizedState=j1(o),e.memoizedState=W1,s);if(!(e.mode&1))return lg(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(J(419)),r=Vw(s,r,void 0),lg(t,e,o,r)}if(u=(o&t.childLanes)!==0,mr||u){if(r=un,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Gs(t,i),Pi(r,t,i,-1))}return vI(),r=Vw(Error(J(421))),lg(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=_7.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Or=Vo(i.nextSibling),Nr=e,At=!0,Ei=null,t!==null&&(Xr[Jr++]=Ns,Xr[Jr++]=xs,Xr[Jr++]=nu,Ns=t.id,xs=t.overflow,nu=e),e=fI(e,r.children),e.flags|=4096,e)}function pO(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),L1(t.return,e,n)}function Ww(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function gM(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Zn(t,e,r.children,n),r=kt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pO(t,n,e);else if(t.tag===19)pO(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(gt(kt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Mm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ww(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Mm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ww(e,!0,n,null,s);break;case"together":Ww(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Hg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ys(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),iu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=zo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function s7(t,e,n){switch(e.tag){case 3:dM(e),Kl();break;case 5:j2(e);break;case 1:vr(e.type)&&bm(e);break;case 4:iI(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;gt(xm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(gt(kt,kt.current&1),e.flags|=128,null):n&e.child.childLanes?pM(t,e,n):(gt(kt,kt.current&1),t=Ys(t,e,n),t!==null?t.sibling:null);gt(kt,kt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return gM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),gt(kt,kt.current),r)break;return null;case 22:case 23:return e.lanes=0,hM(t,e,n)}return Ys(t,e,n)}var mM,B1,_M,vM;mM=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};B1=function(){};_M=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ja(ns.current);var s=null;switch(n){case"input":i=h1(t,i),r=h1(t,r),s=[];break;case"select":i=Ot({},i,{value:void 0}),r=Ot({},r,{value:void 0}),s=[];break;case"textarea":i=p1(t,i),r=p1(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Pm)}m1(n,r);var o;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var u=i[h];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(gf.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var l=r[h];if(u=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&l!==u&&(l!=null||u!=null))if(h==="style")if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(h,n)),n=l;else h==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,u=u?u.__html:void 0,l!=null&&u!==l&&(s=s||[]).push(h,l)):h==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(h,""+l):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(gf.hasOwnProperty(h)?(l!=null&&h==="onScroll"&&_t("scroll",t),s||u===l||(s=[])):(s=s||[]).push(h,l))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};vM=function(t,e,n,r){n!==r&&(e.flags|=4)};function mh(t,e){if(!At)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function On(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function o7(t,e,n){var r=e.pendingProps;switch(XT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return On(e),null;case 1:return vr(e.type)&&km(),On(e),null;case 3:return r=e.stateNode,Xl(),wt(_r),wt(zn),oI(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ag(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ei!==null&&(X1(Ei),Ei=null))),B1(t,e),On(e),null;case 5:sI(e);var i=ja(Af.current);if(n=e.type,t!==null&&e.stateNode!=null)_M(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return On(e),null}if(t=ja(ns.current),ag(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Gi]=e,r[Cf]=s,t=(e.mode&1)!==0,n){case"dialog":_t("cancel",r),_t("close",r);break;case"iframe":case"object":case"embed":_t("load",r);break;case"video":case"audio":for(i=0;i<Nh.length;i++)_t(Nh[i],r);break;case"source":_t("error",r);break;case"img":case"image":case"link":_t("error",r),_t("load",r);break;case"details":_t("toggle",r);break;case"input":Tb(r,s),_t("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},_t("invalid",r);break;case"textarea":Cb(r,s),_t("invalid",r)}m1(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&og(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&og(r.textContent,u,t),i=["children",""+u]):gf.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&_t("scroll",r)}switch(n){case"input":Jp(r),Ib(r,s,!0);break;case"textarea":Jp(r),Rb(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Pm)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=HL(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Gi]=e,t[Cf]=r,mM(t,e,!1,!1),e.stateNode=t;e:{switch(o=_1(n,r),n){case"dialog":_t("cancel",t),_t("close",t),i=r;break;case"iframe":case"object":case"embed":_t("load",t),i=r;break;case"video":case"audio":for(i=0;i<Nh.length;i++)_t(Nh[i],t);i=r;break;case"source":_t("error",t),i=r;break;case"img":case"image":case"link":_t("error",t),_t("load",t),i=r;break;case"details":_t("toggle",t),i=r;break;case"input":Tb(t,r),i=h1(t,r),_t("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ot({},r,{value:void 0}),_t("invalid",t);break;case"textarea":Cb(t,r),i=p1(t,r),_t("invalid",t);break;default:i=r}m1(n,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var l=u[s];s==="style"?YL(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&qL(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&mf(t,l):typeof l=="number"&&mf(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(gf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&_t("scroll",t):l!=null&&MT(t,s,l,o))}switch(n){case"input":Jp(t),Ib(t,r,!1);break;case"textarea":Jp(t),Rb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ra(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Il(t,!!r.multiple,s,!1):r.defaultValue!=null&&Il(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Pm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return On(e),null;case 6:if(t&&e.stateNode!=null)vM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=ja(Af.current),ja(ns.current),ag(e)){if(r=e.stateNode,n=e.memoizedProps,r[Gi]=e,(s=r.nodeValue!==n)&&(t=Nr,t!==null))switch(t.tag){case 3:og(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&og(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gi]=e,e.stateNode=r}return On(e),null;case 13:if(wt(kt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(At&&Or!==null&&e.mode&1&&!(e.flags&128))L2(),Kl(),e.flags|=98560,s=!1;else if(s=ag(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(J(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(J(317));s[Gi]=e}else Kl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;On(e),s=!1}else Ei!==null&&(X1(Ei),Ei=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||kt.current&1?en===0&&(en=3):vI())),e.updateQueue!==null&&(e.flags|=4),On(e),null);case 4:return Xl(),B1(t,e),t===null&&Tf(e.stateNode.containerInfo),On(e),null;case 10:return tI(e.type._context),On(e),null;case 17:return vr(e.type)&&km(),On(e),null;case 19:if(wt(kt),s=e.memoizedState,s===null)return On(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)mh(s,!1);else{if(en!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Mm(t),o!==null){for(e.flags|=128,mh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return gt(kt,kt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Bt()>Zl&&(e.flags|=128,r=!0,mh(s,!1),e.lanes=4194304)}else{if(!r)if(t=Mm(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),mh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!At)return On(e),null}else 2*Bt()-s.renderingStartTime>Zl&&n!==1073741824&&(e.flags|=128,r=!0,mh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Bt(),e.sibling=null,n=kt.current,gt(kt,r?n&1|2:n&1),e):(On(e),null);case 22:case 23:return _I(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Pr&1073741824&&(On(e),e.subtreeFlags&6&&(e.flags|=8192)):On(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function a7(t,e){switch(XT(e),e.tag){case 1:return vr(e.type)&&km(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xl(),wt(_r),wt(zn),oI(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return sI(e),null;case 13:if(wt(kt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Kl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return wt(kt),null;case 4:return Xl(),null;case 10:return tI(e.type._context),null;case 22:case 23:return _I(),null;case 24:return null;default:return null}}var cg=!1,Un=!1,u7=typeof WeakSet=="function"?WeakSet:Set,he=null;function vl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Dt(t,e,r)}else n.current=null}function z1(t,e,n){try{n()}catch(r){Dt(t,e,r)}}var gO=!1;function l7(t,e){if(A1=Cm,t=S2(),KT(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,u=-1,l=-1,h=0,d=0,p=t,g=null;t:for(;;){for(var v;p!==n||i!==0&&p.nodeType!==3||(u=o+i),p!==s||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(v=p.firstChild)!==null;)g=p,p=v;for(;;){if(p===t)break t;if(g===n&&++h===i&&(u=o),g===s&&++d===r&&(l=o),(v=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=v}n=u===-1||l===-1?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(P1={focusedElem:t,selectionRange:n},Cm=!1,he=e;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var C=E.memoizedProps,R=E.memoizedState,S=e.stateNode,T=S.getSnapshotBeforeUpdate(e.elementType===e.type?C:yi(e.type,C),R);S.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(b){Dt(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return E=gO,gO=!1,E}function Gh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&z1(e,n,s)}i=i.next}while(i!==r)}}function iv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function H1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function yM(t){var e=t.alternate;e!==null&&(t.alternate=null,yM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gi],delete e[Cf],delete e[O1],delete e[HG],delete e[qG])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wM(t){return t.tag===5||t.tag===3||t.tag===4}function mO(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function q1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Pm));else if(r!==4&&(t=t.child,t!==null))for(q1(t,e,n),t=t.sibling;t!==null;)q1(t,e,n),t=t.sibling}function G1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(G1(t,e,n),t=t.sibling;t!==null;)G1(t,e,n),t=t.sibling}var mn=null,wi=!1;function _o(t,e,n){for(n=n.child;n!==null;)EM(t,e,n),n=n.sibling}function EM(t,e,n){if(ts&&typeof ts.onCommitFiberUnmount=="function")try{ts.onCommitFiberUnmount(Q_,n)}catch{}switch(n.tag){case 5:Un||vl(n,e);case 6:var r=mn,i=wi;mn=null,_o(t,e,n),mn=r,wi=i,mn!==null&&(wi?(t=mn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):mn.removeChild(n.stateNode));break;case 18:mn!==null&&(wi?(t=mn,n=n.stateNode,t.nodeType===8?Dw(t.parentNode,n):t.nodeType===1&&Dw(t,n),wf(t)):Dw(mn,n.stateNode));break;case 4:r=mn,i=wi,mn=n.stateNode.containerInfo,wi=!0,_o(t,e,n),mn=r,wi=i;break;case 0:case 11:case 14:case 15:if(!Un&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&z1(n,e,o),i=i.next}while(i!==r)}_o(t,e,n);break;case 1:if(!Un&&(vl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Dt(n,e,u)}_o(t,e,n);break;case 21:_o(t,e,n);break;case 22:n.mode&1?(Un=(r=Un)||n.memoizedState!==null,_o(t,e,n),Un=r):_o(t,e,n);break;default:_o(t,e,n)}}function _O(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new u7),e.forEach(function(r){var i=v7.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function vi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,u=o;e:for(;u!==null;){switch(u.tag){case 5:mn=u.stateNode,wi=!1;break e;case 3:mn=u.stateNode.containerInfo,wi=!0;break e;case 4:mn=u.stateNode.containerInfo,wi=!0;break e}u=u.return}if(mn===null)throw Error(J(160));EM(s,o,i),mn=null,wi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(h){Dt(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)SM(e,t),e=e.sibling}function SM(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vi(e,t),Hi(t),r&4){try{Gh(3,t,t.return),iv(3,t)}catch(C){Dt(t,t.return,C)}try{Gh(5,t,t.return)}catch(C){Dt(t,t.return,C)}}break;case 1:vi(e,t),Hi(t),r&512&&n!==null&&vl(n,n.return);break;case 5:if(vi(e,t),Hi(t),r&512&&n!==null&&vl(n,n.return),t.flags&32){var i=t.stateNode;try{mf(i,"")}catch(C){Dt(t,t.return,C)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,u=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&BL(i,s),_1(u,o);var h=_1(u,s);for(o=0;o<l.length;o+=2){var d=l[o],p=l[o+1];d==="style"?YL(i,p):d==="dangerouslySetInnerHTML"?qL(i,p):d==="children"?mf(i,p):MT(i,d,p,h)}switch(u){case"input":f1(i,s);break;case"textarea":zL(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Il(i,!!s.multiple,v,!1):g!==!!s.multiple&&(s.defaultValue!=null?Il(i,!!s.multiple,s.defaultValue,!0):Il(i,!!s.multiple,s.multiple?[]:"",!1))}i[Cf]=s}catch(C){Dt(t,t.return,C)}}break;case 6:if(vi(e,t),Hi(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(C){Dt(t,t.return,C)}}break;case 3:if(vi(e,t),Hi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wf(e.containerInfo)}catch(C){Dt(t,t.return,C)}break;case 4:vi(e,t),Hi(t);break;case 13:vi(e,t),Hi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(gI=Bt())),r&4&&_O(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Un=(h=Un)||d,vi(e,t),Un=h):vi(e,t),Hi(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!d&&t.mode&1)for(he=t,d=t.child;d!==null;){for(p=he=d;he!==null;){switch(g=he,v=g.child,g.tag){case 0:case 11:case 14:case 15:Gh(4,g,g.return);break;case 1:vl(g,g.return);var E=g.stateNode;if(typeof E.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(C){Dt(r,n,C)}}break;case 5:vl(g,g.return);break;case 22:if(g.memoizedState!==null){yO(p);continue}}v!==null?(v.return=g,he=v):yO(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,u.style.display=GL("display",o))}catch(C){Dt(t,t.return,C)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(C){Dt(t,t.return,C)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:vi(e,t),Hi(t),r&4&&_O(t);break;case 21:break;default:vi(e,t),Hi(t)}}function Hi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(wM(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(mf(i,""),r.flags&=-33);var s=mO(t);G1(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,u=mO(t);q1(t,u,o);break;default:throw Error(J(161))}}catch(l){Dt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function c7(t,e,n){he=t,TM(t)}function TM(t,e,n){for(var r=(t.mode&1)!==0;he!==null;){var i=he,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||cg;if(!o){var u=i.alternate,l=u!==null&&u.memoizedState!==null||Un;u=cg;var h=Un;if(cg=o,(Un=l)&&!h)for(he=i;he!==null;)o=he,l=o.child,o.tag===22&&o.memoizedState!==null?wO(i):l!==null?(l.return=o,he=l):wO(i);for(;s!==null;)he=s,TM(s),s=s.sibling;he=i,cg=u,Un=h}vO(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,he=s):vO(t)}}function vO(t){for(;he!==null;){var e=he;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Un||iv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Un)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:yi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&tO(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}tO(e,o,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var d=h.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&wf(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Un||e.flags&512&&H1(e)}catch(g){Dt(e,e.return,g)}}if(e===t){he=null;break}if(n=e.sibling,n!==null){n.return=e.return,he=n;break}he=e.return}}function yO(t){for(;he!==null;){var e=he;if(e===t){he=null;break}var n=e.sibling;if(n!==null){n.return=e.return,he=n;break}he=e.return}}function wO(t){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{iv(4,e)}catch(l){Dt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Dt(e,i,l)}}var s=e.return;try{H1(e)}catch(l){Dt(e,s,l)}break;case 5:var o=e.return;try{H1(e)}catch(l){Dt(e,o,l)}}}catch(l){Dt(e,e.return,l)}if(e===t){he=null;break}var u=e.sibling;if(u!==null){u.return=e.return,he=u;break}he=e.return}}var h7=Math.ceil,$m=io.ReactCurrentDispatcher,dI=io.ReactCurrentOwner,ii=io.ReactCurrentBatchConfig,Ye=0,un=null,qt=null,Tn=0,Pr=0,yl=ma(0),en=0,Of=null,iu=0,sv=0,pI=0,Yh=null,gr=null,gI=0,Zl=1/0,As=null,Vm=!1,Y1=null,jo=null,hg=!1,bo=null,Wm=0,Kh=0,K1=null,qg=-1,Gg=0;function sr(){return Ye&6?Bt():qg!==-1?qg:qg=Bt()}function Bo(t){return t.mode&1?Ye&2&&Tn!==0?Tn&-Tn:YG.transition!==null?(Gg===0&&(Gg=o2()),Gg):(t=rt,t!==0||(t=window.event,t=t===void 0?16:d2(t.type)),t):1}function Pi(t,e,n,r){if(50<Kh)throw Kh=0,K1=null,Error(J(185));vd(t,n,r),(!(Ye&2)||t!==un)&&(t===un&&(!(Ye&2)&&(sv|=n),en===4&&So(t,Tn)),yr(t,r),n===1&&Ye===0&&!(e.mode&1)&&(Zl=Bt()+500,tv&&_a()))}function yr(t,e){var n=t.callbackNode;Yq(t,e);var r=Im(t,t===un?Tn:0);if(r===0)n!==null&&kb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&kb(n),e===1)t.tag===0?GG(EO.bind(null,t)):N2(EO.bind(null,t)),BG(function(){!(Ye&6)&&_a()}),n=null;else{switch(a2(r)){case 1:n=WT;break;case 4:n=i2;break;case 16:n=Tm;break;case 536870912:n=s2;break;default:n=Tm}n=OM(n,IM.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function IM(t,e){if(qg=-1,Gg=0,Ye&6)throw Error(J(327));var n=t.callbackNode;if(kl()&&t.callbackNode!==n)return null;var r=Im(t,t===un?Tn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=jm(t,r);else{e=r;var i=Ye;Ye|=2;var s=RM();(un!==t||Tn!==e)&&(As=null,Zl=Bt()+500,Ya(t,e));do try{p7();break}catch(u){CM(t,u)}while(1);eI(),$m.current=s,Ye=i,qt!==null?e=0:(un=null,Tn=0,e=en)}if(e!==0){if(e===2&&(i=S1(t),i!==0&&(r=i,e=Q1(t,i))),e===1)throw n=Of,Ya(t,0),So(t,r),yr(t,Bt()),n;if(e===6)So(t,r);else{if(i=t.current.alternate,!(r&30)&&!f7(i)&&(e=jm(t,r),e===2&&(s=S1(t),s!==0&&(r=s,e=Q1(t,s))),e===1))throw n=Of,Ya(t,0),So(t,r),yr(t,Bt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:xa(t,gr,As);break;case 3:if(So(t,r),(r&130023424)===r&&(e=gI+500-Bt(),10<e)){if(Im(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){sr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=b1(xa.bind(null,t,gr,As),e);break}xa(t,gr,As);break;case 4:if(So(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ai(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Bt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*h7(r/1960))-r,10<r){t.timeoutHandle=b1(xa.bind(null,t,gr,As),r);break}xa(t,gr,As);break;case 5:xa(t,gr,As);break;default:throw Error(J(329))}}}return yr(t,Bt()),t.callbackNode===n?IM.bind(null,t):null}function Q1(t,e){var n=Yh;return t.current.memoizedState.isDehydrated&&(Ya(t,e).flags|=256),t=jm(t,e),t!==2&&(e=gr,gr=n,e!==null&&X1(e)),t}function X1(t){gr===null?gr=t:gr.push.apply(gr,t)}function f7(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!bi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function So(t,e){for(e&=~pI,e&=~sv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ai(e),r=1<<n;t[n]=-1,e&=~r}}function EO(t){if(Ye&6)throw Error(J(327));kl();var e=Im(t,0);if(!(e&1))return yr(t,Bt()),null;var n=jm(t,e);if(t.tag!==0&&n===2){var r=S1(t);r!==0&&(e=r,n=Q1(t,r))}if(n===1)throw n=Of,Ya(t,0),So(t,e),yr(t,Bt()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xa(t,gr,As),yr(t,Bt()),null}function mI(t,e){var n=Ye;Ye|=1;try{return t(e)}finally{Ye=n,Ye===0&&(Zl=Bt()+500,tv&&_a())}}function su(t){bo!==null&&bo.tag===0&&!(Ye&6)&&kl();var e=Ye;Ye|=1;var n=ii.transition,r=rt;try{if(ii.transition=null,rt=1,t)return t()}finally{rt=r,ii.transition=n,Ye=e,!(Ye&6)&&_a()}}function _I(){Pr=yl.current,wt(yl)}function Ya(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,jG(n)),qt!==null)for(n=qt.return;n!==null;){var r=n;switch(XT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&km();break;case 3:Xl(),wt(_r),wt(zn),oI();break;case 5:sI(r);break;case 4:Xl();break;case 13:wt(kt);break;case 19:wt(kt);break;case 10:tI(r.type._context);break;case 22:case 23:_I()}n=n.return}if(un=t,qt=t=zo(t.current,null),Tn=Pr=e,en=0,Of=null,pI=sv=iu=0,gr=Yh=null,Wa!==null){for(e=0;e<Wa.length;e++)if(n=Wa[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Wa=null}return t}function CM(t,e){do{var n=qt;try{if(eI(),Bg.current=Fm,Um){for(var r=bt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Um=!1}if(ru=0,an=Xt=bt=null,qh=!1,Pf=0,dI.current=null,n===null||n.return===null){en=1,Of=e,qt=null;break}e:{var s=t,o=n.return,u=n,l=e;if(e=Tn,u.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=l,d=u,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=uO(o);if(v!==null){v.flags&=-257,lO(v,o,u,s,e),v.mode&1&&aO(s,h,e),e=v,l=h;var E=e.updateQueue;if(E===null){var C=new Set;C.add(l),e.updateQueue=C}else E.add(l);break e}else{if(!(e&1)){aO(s,h,e),vI();break e}l=Error(J(426))}}else if(At&&u.mode&1){var R=uO(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),lO(R,o,u,s,e),JT(Jl(l,u));break e}}s=l=Jl(l,u),en!==4&&(en=2),Yh===null?Yh=[s]:Yh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=uM(s,l,e);eO(s,S);break e;case 1:u=l;var T=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof T.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(jo===null||!jo.has(k)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=lM(s,u,e);eO(s,b);break e}}s=s.return}while(s!==null)}PM(n)}catch(F){e=F,qt===n&&n!==null&&(qt=n=n.return);continue}break}while(1)}function RM(){var t=$m.current;return $m.current=Fm,t===null?Fm:t}function vI(){(en===0||en===3||en===2)&&(en=4),un===null||!(iu&268435455)&&!(sv&268435455)||So(un,Tn)}function jm(t,e){var n=Ye;Ye|=2;var r=RM();(un!==t||Tn!==e)&&(As=null,Ya(t,e));do try{d7();break}catch(i){CM(t,i)}while(1);if(eI(),Ye=n,$m.current=r,qt!==null)throw Error(J(261));return un=null,Tn=0,en}function d7(){for(;qt!==null;)AM(qt)}function p7(){for(;qt!==null&&!$q();)AM(qt)}function AM(t){var e=bM(t.alternate,t,Pr);t.memoizedProps=t.pendingProps,e===null?PM(t):qt=e,dI.current=null}function PM(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=a7(n,e),n!==null){n.flags&=32767,qt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{en=6,qt=null;return}}else if(n=o7(n,e,Pr),n!==null){qt=n;return}if(e=e.sibling,e!==null){qt=e;return}qt=e=t}while(e!==null);en===0&&(en=5)}function xa(t,e,n){var r=rt,i=ii.transition;try{ii.transition=null,rt=1,g7(t,e,n,r)}finally{ii.transition=i,rt=r}return null}function g7(t,e,n,r){do kl();while(bo!==null);if(Ye&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Kq(t,s),t===un&&(qt=un=null,Tn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hg||(hg=!0,OM(Tm,function(){return kl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ii.transition,ii.transition=null;var o=rt;rt=1;var u=Ye;Ye|=4,dI.current=null,l7(t,n),SM(n,t),LG(P1),Cm=!!A1,P1=A1=null,t.current=n,c7(n),Vq(),Ye=u,rt=o,ii.transition=s}else t.current=n;if(hg&&(hg=!1,bo=t,Wm=i),s=t.pendingLanes,s===0&&(jo=null),Bq(n.stateNode),yr(t,Bt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vm)throw Vm=!1,t=Y1,Y1=null,t;return Wm&1&&t.tag!==0&&kl(),s=t.pendingLanes,s&1?t===K1?Kh++:(Kh=0,K1=t):Kh=0,_a(),null}function kl(){if(bo!==null){var t=a2(Wm),e=ii.transition,n=rt;try{if(ii.transition=null,rt=16>t?16:t,bo===null)var r=!1;else{if(t=bo,bo=null,Wm=0,Ye&6)throw Error(J(331));var i=Ye;for(Ye|=4,he=t.current;he!==null;){var s=he,o=s.child;if(he.flags&16){var u=s.deletions;if(u!==null){for(var l=0;l<u.length;l++){var h=u[l];for(he=h;he!==null;){var d=he;switch(d.tag){case 0:case 11:case 15:Gh(8,d,s)}var p=d.child;if(p!==null)p.return=d,he=p;else for(;he!==null;){d=he;var g=d.sibling,v=d.return;if(yM(d),d===h){he=null;break}if(g!==null){g.return=v,he=g;break}he=v}}}var E=s.alternate;if(E!==null){var C=E.child;if(C!==null){E.child=null;do{var R=C.sibling;C.sibling=null,C=R}while(C!==null)}}he=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,he=o;else e:for(;he!==null;){if(s=he,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Gh(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,he=S;break e}he=s.return}}var T=t.current;for(he=T;he!==null;){o=he;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,he=k;else e:for(o=T;he!==null;){if(u=he,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:iv(9,u)}}catch(F){Dt(u,u.return,F)}if(u===o){he=null;break e}var b=u.sibling;if(b!==null){b.return=u.return,he=b;break e}he=u.return}}if(Ye=i,_a(),ts&&typeof ts.onPostCommitFiberRoot=="function")try{ts.onPostCommitFiberRoot(Q_,t)}catch{}r=!0}return r}finally{rt=n,ii.transition=e}}return!1}function SO(t,e,n){e=Jl(n,e),e=uM(t,e,1),t=Wo(t,e,1),e=sr(),t!==null&&(vd(t,1,e),yr(t,e))}function Dt(t,e,n){if(t.tag===3)SO(t,t,n);else for(;e!==null;){if(e.tag===3){SO(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jo===null||!jo.has(r))){t=Jl(n,t),t=lM(e,t,1),e=Wo(e,t,1),t=sr(),e!==null&&(vd(e,1,t),yr(e,t));break}}e=e.return}}function m7(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=sr(),t.pingedLanes|=t.suspendedLanes&n,un===t&&(Tn&n)===n&&(en===4||en===3&&(Tn&130023424)===Tn&&500>Bt()-gI?Ya(t,0):pI|=n),yr(t,e)}function kM(t,e){e===0&&(t.mode&1?(e=tg,tg<<=1,!(tg&130023424)&&(tg=4194304)):e=1);var n=sr();t=Gs(t,e),t!==null&&(vd(t,e,n),yr(t,n))}function _7(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),kM(t,n)}function v7(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),kM(t,n)}var bM;bM=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||_r.current)mr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return mr=!1,s7(t,e,n);mr=!!(t.flags&131072)}else mr=!1,At&&e.flags&1048576&&x2(e,Nm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Hg(t,e),t=e.pendingProps;var i=Yl(e,zn.current);Pl(e,n),i=uI(null,e,r,t,i,n);var s=lI();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vr(r)?(s=!0,bm(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,rI(e),i.updater=nv,e.stateNode=i,i._reactInternals=e,U1(e,r,t,n),e=V1(null,e,r,!0,s,n)):(e.tag=0,At&&s&&QT(e),Zn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Hg(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=w7(r),t=yi(r,t),i){case 0:e=$1(null,e,r,t,n);break e;case 1:e=fO(null,e,r,t,n);break e;case 11:e=cO(null,e,r,t,n);break e;case 14:e=hO(null,e,r,yi(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yi(r,i),$1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yi(r,i),fO(t,e,r,i,n);case 3:e:{if(dM(e),t===null)throw Error(J(387));r=e.pendingProps,s=e.memoizedState,i=s.element,U2(t,e),Lm(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Jl(Error(J(423)),e),e=dO(t,e,r,n,i);break e}else if(r!==i){i=Jl(Error(J(424)),e),e=dO(t,e,r,n,i);break e}else for(Or=Vo(e.stateNode.containerInfo.firstChild),Nr=e,At=!0,Ei=null,n=W2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Kl(),r===i){e=Ys(t,e,n);break e}Zn(t,e,r,n)}e=e.child}return e;case 5:return j2(e),t===null&&D1(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,k1(r,i)?o=null:s!==null&&k1(r,s)&&(e.flags|=32),fM(t,e),Zn(t,e,o,n),e.child;case 6:return t===null&&D1(e),null;case 13:return pM(t,e,n);case 4:return iI(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ql(e,null,r,n):Zn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yi(r,i),cO(t,e,r,i,n);case 7:return Zn(t,e,e.pendingProps,n),e.child;case 8:return Zn(t,e,e.pendingProps.children,n),e.child;case 12:return Zn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,gt(xm,r._currentValue),r._currentValue=o,s!==null)if(bi(s.value,o)){if(s.children===i.children&&!_r.current){e=Ys(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){o=s.child;for(var l=u.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Vs(-1,n&-n),l.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var d=h.pending;d===null?l.next=l:(l.next=d.next,d.next=l),h.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),L1(s.return,n,e),u.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(J(341));o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),L1(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Zn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Pl(e,n),i=oi(i),r=r(i),e.flags|=1,Zn(t,e,r,n),e.child;case 14:return r=e.type,i=yi(r,e.pendingProps),i=yi(r.type,i),hO(t,e,r,i,n);case 15:return cM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yi(r,i),Hg(t,e),e.tag=1,vr(r)?(t=!0,bm(e)):t=!1,Pl(e,n),$2(e,r,i),U1(e,r,i,n),V1(null,e,r,!0,t,n);case 19:return gM(t,e,n);case 22:return hM(t,e,n)}throw Error(J(156,e.tag))};function OM(t,e){return r2(t,e)}function y7(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(t,e,n,r){return new y7(t,e,n,r)}function yI(t){return t=t.prototype,!(!t||!t.isReactComponent)}function w7(t){if(typeof t=="function")return yI(t)?1:0;if(t!=null){if(t=t.$$typeof,t===FT)return 11;if(t===$T)return 14}return 2}function zo(t,e){var n=t.alternate;return n===null?(n=ni(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Yg(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")yI(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ll:return Ka(n.children,i,s,e);case UT:o=8,i|=8;break;case a1:return t=ni(12,n,e,i|2),t.elementType=a1,t.lanes=s,t;case u1:return t=ni(13,n,e,i),t.elementType=u1,t.lanes=s,t;case l1:return t=ni(19,n,e,i),t.elementType=l1,t.lanes=s,t;case VL:return ov(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case FL:o=10;break e;case $L:o=9;break e;case FT:o=11;break e;case $T:o=14;break e;case yo:o=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=ni(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ka(t,e,n,r){return t=ni(7,t,r,e),t.lanes=n,t}function ov(t,e,n,r){return t=ni(22,t,r,e),t.elementType=VL,t.lanes=n,t.stateNode={isHidden:!1},t}function jw(t,e,n){return t=ni(6,t,null,e),t.lanes=n,t}function Bw(t,e,n){return e=ni(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function E7(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tw(0),this.expirationTimes=Tw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function wI(t,e,n,r,i,s,o,u,l){return t=new E7(t,e,n,u,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ni(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rI(s),t}function S7(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ul,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function NM(t){if(!t)return ia;t=t._reactInternals;e:{if(wu(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(vr(n))return O2(t,n,e)}return e}function xM(t,e,n,r,i,s,o,u,l){return t=wI(n,r,!0,t,i,s,o,u,l),t.context=NM(null),n=t.current,r=sr(),i=Bo(n),s=Vs(r,i),s.callback=e??null,Wo(n,s,i),t.current.lanes=i,vd(t,i,r),yr(t,r),t}function av(t,e,n,r){var i=e.current,s=sr(),o=Bo(i);return n=NM(n),e.context===null?e.context=n:e.pendingContext=n,e=Vs(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Wo(i,e,o),t!==null&&(Pi(t,i,o,s),jg(t,i,o)),o}function Bm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function TO(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function EI(t,e){TO(t,e),(t=t.alternate)&&TO(t,e)}function T7(){return null}var DM=typeof reportError=="function"?reportError:function(t){console.error(t)};function SI(t){this._internalRoot=t}uv.prototype.render=SI.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));av(t,e,null,null)};uv.prototype.unmount=SI.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;su(function(){av(null,t,null,null)}),e[qs]=null}};function uv(t){this._internalRoot=t}uv.prototype.unstable_scheduleHydration=function(t){if(t){var e=c2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Eo.length&&e!==0&&e<Eo[n].priority;n++);Eo.splice(n,0,t),n===0&&f2(t)}};function TI(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function IO(){}function I7(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=Bm(o);s.call(h)}}var o=xM(e,r,t,0,null,!1,!1,"",IO);return t._reactRootContainer=o,t[qs]=o.current,Tf(t.nodeType===8?t.parentNode:t),su(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var h=Bm(l);u.call(h)}}var l=wI(t,0,!1,null,null,!1,!1,"",IO);return t._reactRootContainer=l,t[qs]=l.current,Tf(t.nodeType===8?t.parentNode:t),su(function(){av(e,l,n,r)}),l}function cv(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var u=i;i=function(){var l=Bm(o);u.call(l)}}av(e,o,t,i)}else o=I7(n,e,t,i,r);return Bm(o)}u2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Oh(e.pendingLanes);n!==0&&(jT(e,n|1),yr(e,Bt()),!(Ye&6)&&(Zl=Bt()+500,_a()))}break;case 13:su(function(){var r=Gs(t,1);if(r!==null){var i=sr();Pi(r,t,1,i)}}),EI(t,1)}};BT=function(t){if(t.tag===13){var e=Gs(t,134217728);if(e!==null){var n=sr();Pi(e,t,134217728,n)}EI(t,134217728)}};l2=function(t){if(t.tag===13){var e=Bo(t),n=Gs(t,e);if(n!==null){var r=sr();Pi(n,t,e,r)}EI(t,e)}};c2=function(){return rt};h2=function(t,e){var n=rt;try{return rt=t,e()}finally{rt=n}};y1=function(t,e,n){switch(e){case"input":if(f1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ev(r);if(!i)throw Error(J(90));jL(r),f1(r,i)}}}break;case"textarea":zL(t,n);break;case"select":e=n.value,e!=null&&Il(t,!!n.multiple,e,!1)}};XL=mI;JL=su;var C7={usingClientEntryPoint:!1,Events:[wd,dl,ev,KL,QL,mI]},_h={findFiberByHostInstance:Va,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},R7={bundleType:_h.bundleType,version:_h.version,rendererPackageName:_h.rendererPackageName,rendererConfig:_h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:io.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=t2(t),t===null?null:t.stateNode},findFiberByHostInstance:_h.findFiberByHostInstance||T7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fg.isDisabled&&fg.supportsFiber)try{Q_=fg.inject(R7),ts=fg}catch{}}Ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C7;Ur.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!TI(e))throw Error(J(200));return S7(t,e,null,n)};Ur.createRoot=function(t,e){if(!TI(t))throw Error(J(299));var n=!1,r="",i=DM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=wI(t,1,!1,null,null,n,!1,r,i),t[qs]=e.current,Tf(t.nodeType===8?t.parentNode:t),new SI(e)};Ur.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=t2(e),t=t===null?null:t.stateNode,t};Ur.flushSync=function(t){return su(t)};Ur.hydrate=function(t,e,n){if(!lv(e))throw Error(J(200));return cv(null,t,e,!0,n)};Ur.hydrateRoot=function(t,e,n){if(!TI(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=DM;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=xM(e,null,t,1,n??null,i,!1,s,o),t[qs]=e.current,Tf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new uv(e)};Ur.render=function(t,e,n){if(!lv(e))throw Error(J(200));return cv(null,t,e,!1,n)};Ur.unmountComponentAtNode=function(t){if(!lv(t))throw Error(J(40));return t._reactRootContainer?(su(function(){cv(null,null,t,!1,function(){t._reactRootContainer=null,t[qs]=null})}),!0):!1};Ur.unstable_batchedUpdates=mI;Ur.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!lv(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return cv(t,e,n,!1,r)};Ur.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Ur})(Tq);var CO=ym;i1.createRoot=CO.createRoot,i1.hydrateRoot=CO.hydrateRoot;function A7(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const RO={};function J1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&RO[e[0]]||(typeof e[0]=="string"&&(RO[e[0]]=new Date),A7(...e))}const LM=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}};function AO(t,e,n){t.loadNamespaces(e,LM(t,n))}function PO(t,e,n,r){typeof n=="string"&&(n=[n]),n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,LM(t,r))}function P7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=e.languages[0],i=e.options?e.options.fallbackLng:!1,s=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(u,l)=>{const h=e.services.backendConnector.state[`${u}|${l}`];return h===-1||h===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(r,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(r,t)&&(!i||o(s,t)))}function k7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(J1("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:n.lng,precheck:(i,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!s(i.isLanguageChangingTo,t))return!1}}):P7(t,e,n)}const b7=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,O7={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},N7=t=>O7[t],x7=t=>t.replace(b7,N7);let Z1={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:x7};function D7(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Z1={...Z1,...t}}function L7(){return Z1}let MM;function M7(t){MM=t}function U7(){return MM}const F7={type:"3rdParty",init(t){D7(t.options.react),M7(t)}},UM=X.createContext();class $7{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const V7=(t,e)=>{const n=X.useRef();return X.useEffect(()=>{n.current=e?n.current:t},[t,e]),n.current};function FM(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=e,{i18n:r,defaultNS:i}=X.useContext(UM)||{},s=n||r||U7();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new $7),!s){J1("You will need to pass in an i18next instance by using initReactI18next");const k=(F,V)=>typeof V=="string"?V:V&&typeof V=="object"&&typeof V.defaultValue=="string"?V.defaultValue:Array.isArray(F)?F[F.length-1]:F,b=[k,{},!1];return b.t=k,b.i18n={},b.ready=!1,b}s.options.react&&s.options.react.wait!==void 0&&J1("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...L7(),...s.options.react,...e},{useSuspense:u,keyPrefix:l}=o;let h=t||i||s.options&&s.options.defaultNS;h=typeof h=="string"?[h]:h||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(h);const d=(s.isInitialized||s.initializedStoreOnce)&&h.every(k=>k7(k,s,o));function p(){return s.getFixedT(e.lng||null,o.nsMode==="fallback"?h:h[0],l)}const[g,v]=X.useState(p);let E=h.join();e.lng&&(E=`${e.lng}${E}`);const C=V7(E),R=X.useRef(!0);X.useEffect(()=>{const{bindI18n:k,bindI18nStore:b}=o;R.current=!0,!d&&!u&&(e.lng?PO(s,e.lng,h,()=>{R.current&&v(p)}):AO(s,h,()=>{R.current&&v(p)})),d&&C&&C!==E&&R.current&&v(p);function F(){R.current&&v(p)}return k&&s&&s.on(k,F),b&&s&&s.store.on(b,F),()=>{R.current=!1,k&&s&&k.split(" ").forEach(V=>s.off(V,F)),b&&s&&b.split(" ").forEach(V=>s.store.off(V,F))}},[s,E]);const S=X.useRef(!0);X.useEffect(()=>{R.current&&!S.current&&v(p),S.current=!1},[s,l]);const T=[g,s,d];if(T.t=g,T.i18n=s,T.ready=d,d||!d&&!u)return T;throw new Promise(k=>{e.lng?PO(s,e.lng,h,()=>k()):AO(s,h,()=>k())})}function W7(t){let{i18n:e,defaultNS:n,children:r}=t;const i=X.useMemo(()=>({i18n:e,defaultNS:n}),[e,n]);return X.createElement(UM.Provider,{value:i},r)}var eS={},j7={get exports(){return eS},set exports(t){eS=t}},$M={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ec=X;function B7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var z7=typeof Object.is=="function"?Object.is:B7,H7=ec.useState,q7=ec.useEffect,G7=ec.useLayoutEffect,Y7=ec.useDebugValue;function K7(t,e){var n=e(),r=H7({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return G7(function(){i.value=n,i.getSnapshot=e,zw(i)&&s({inst:i})},[t,n,e]),q7(function(){return zw(i)&&s({inst:i}),t(function(){zw(i)&&s({inst:i})})},[t]),Y7(n),n}function zw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!z7(t,n)}catch{return!0}}function Q7(t,e){return e()}var X7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Q7:K7;$M.useSyncExternalStore=ec.useSyncExternalStore!==void 0?ec.useSyncExternalStore:X7;(function(t){t.exports=$M})(j7);var tS={},J7={get exports(){return tS},set exports(t){tS=t}},VM={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv=X,Z7=eS;function eY(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tY=typeof Object.is=="function"?Object.is:eY,nY=Z7.useSyncExternalStore,rY=hv.useRef,iY=hv.useEffect,sY=hv.useMemo,oY=hv.useDebugValue;VM.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=rY(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=sY(function(){function l(v){if(!h){if(h=!0,d=v,v=r(v),i!==void 0&&o.hasValue){var E=o.value;if(i(E,v))return p=E}return p=v}if(E=p,tY(d,v))return E;var C=r(v);return i!==void 0&&i(E,C)?E:(d=v,p=C)}var h=!1,d,p,g=n===void 0?null:n;return[function(){return l(e())},g===null?void 0:function(){return l(g())}]},[e,n,r,i]);var u=nY(t,s[0],s[1]);return iY(function(){o.hasValue=!0,o.value=u},[u]),oY(u),u};(function(t){t.exports=VM})(J7);function aY(t){t()}let WM=aY;const uY=t=>WM=t,lY=()=>WM,sa=X.createContext(null);function jM(){return X.useContext(sa)}const cY=()=>{throw new Error("uSES not initialized!")};let BM=cY;const hY=t=>{BM=t},fY=(t,e)=>t===e;function dY(t=sa){const e=t===sa?jM:()=>X.useContext(t);return function(r,i=fY){const{store:s,subscription:o,getServerState:u}=e(),l=BM(o.addNestedSub,s.getState,u||s.getState,r,i);return X.useDebugValue(l),l}}const pY=dY();function zm(){return zm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zm.apply(this,arguments)}function gY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var nS={},mY={get exports(){return nS},set exports(t){nS=t}},st={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cn=typeof Symbol=="function"&&Symbol.for,II=cn?Symbol.for("react.element"):60103,CI=cn?Symbol.for("react.portal"):60106,fv=cn?Symbol.for("react.fragment"):60107,dv=cn?Symbol.for("react.strict_mode"):60108,pv=cn?Symbol.for("react.profiler"):60114,gv=cn?Symbol.for("react.provider"):60109,mv=cn?Symbol.for("react.context"):60110,RI=cn?Symbol.for("react.async_mode"):60111,_v=cn?Symbol.for("react.concurrent_mode"):60111,vv=cn?Symbol.for("react.forward_ref"):60112,yv=cn?Symbol.for("react.suspense"):60113,_Y=cn?Symbol.for("react.suspense_list"):60120,wv=cn?Symbol.for("react.memo"):60115,Ev=cn?Symbol.for("react.lazy"):60116,vY=cn?Symbol.for("react.block"):60121,yY=cn?Symbol.for("react.fundamental"):60117,wY=cn?Symbol.for("react.responder"):60118,EY=cn?Symbol.for("react.scope"):60119;function $r(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case II:switch(t=t.type,t){case RI:case _v:case fv:case pv:case dv:case yv:return t;default:switch(t=t&&t.$$typeof,t){case mv:case vv:case Ev:case wv:case gv:return t;default:return e}}case CI:return e}}}function zM(t){return $r(t)===_v}st.AsyncMode=RI;st.ConcurrentMode=_v;st.ContextConsumer=mv;st.ContextProvider=gv;st.Element=II;st.ForwardRef=vv;st.Fragment=fv;st.Lazy=Ev;st.Memo=wv;st.Portal=CI;st.Profiler=pv;st.StrictMode=dv;st.Suspense=yv;st.isAsyncMode=function(t){return zM(t)||$r(t)===RI};st.isConcurrentMode=zM;st.isContextConsumer=function(t){return $r(t)===mv};st.isContextProvider=function(t){return $r(t)===gv};st.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===II};st.isForwardRef=function(t){return $r(t)===vv};st.isFragment=function(t){return $r(t)===fv};st.isLazy=function(t){return $r(t)===Ev};st.isMemo=function(t){return $r(t)===wv};st.isPortal=function(t){return $r(t)===CI};st.isProfiler=function(t){return $r(t)===pv};st.isStrictMode=function(t){return $r(t)===dv};st.isSuspense=function(t){return $r(t)===yv};st.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===fv||t===_v||t===pv||t===dv||t===yv||t===_Y||typeof t=="object"&&t!==null&&(t.$$typeof===Ev||t.$$typeof===wv||t.$$typeof===gv||t.$$typeof===mv||t.$$typeof===vv||t.$$typeof===yY||t.$$typeof===wY||t.$$typeof===EY||t.$$typeof===vY)};st.typeOf=$r;(function(t){t.exports=st})(mY);var HM=nS,SY={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},TY={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},qM={};qM[HM.ForwardRef]=SY;qM[HM.Memo]=TY;var kO={},IY={get exports(){return kO},set exports(t){kO=t}},ot={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AI=Symbol.for("react.element"),PI=Symbol.for("react.portal"),Sv=Symbol.for("react.fragment"),Tv=Symbol.for("react.strict_mode"),Iv=Symbol.for("react.profiler"),Cv=Symbol.for("react.provider"),Rv=Symbol.for("react.context"),CY=Symbol.for("react.server_context"),Av=Symbol.for("react.forward_ref"),Pv=Symbol.for("react.suspense"),kv=Symbol.for("react.suspense_list"),bv=Symbol.for("react.memo"),Ov=Symbol.for("react.lazy"),RY=Symbol.for("react.offscreen"),GM;GM=Symbol.for("react.module.reference");function li(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case AI:switch(t=t.type,t){case Sv:case Iv:case Tv:case Pv:case kv:return t;default:switch(t=t&&t.$$typeof,t){case CY:case Rv:case Av:case Ov:case bv:case Cv:return t;default:return e}}case PI:return e}}}ot.ContextConsumer=Rv;ot.ContextProvider=Cv;ot.Element=AI;ot.ForwardRef=Av;ot.Fragment=Sv;ot.Lazy=Ov;ot.Memo=bv;ot.Portal=PI;ot.Profiler=Iv;ot.StrictMode=Tv;ot.Suspense=Pv;ot.SuspenseList=kv;ot.isAsyncMode=function(){return!1};ot.isConcurrentMode=function(){return!1};ot.isContextConsumer=function(t){return li(t)===Rv};ot.isContextProvider=function(t){return li(t)===Cv};ot.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===AI};ot.isForwardRef=function(t){return li(t)===Av};ot.isFragment=function(t){return li(t)===Sv};ot.isLazy=function(t){return li(t)===Ov};ot.isMemo=function(t){return li(t)===bv};ot.isPortal=function(t){return li(t)===PI};ot.isProfiler=function(t){return li(t)===Iv};ot.isStrictMode=function(t){return li(t)===Tv};ot.isSuspense=function(t){return li(t)===Pv};ot.isSuspenseList=function(t){return li(t)===kv};ot.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Sv||t===Iv||t===Tv||t===Pv||t===kv||t===RY||typeof t=="object"&&t!==null&&(t.$$typeof===Ov||t.$$typeof===bv||t.$$typeof===Cv||t.$$typeof===Rv||t.$$typeof===Av||t.$$typeof===GM||t.getModuleId!==void 0)};ot.typeOf=li;(function(t){t.exports=ot})(IY);function AY(){const t=lY();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const bO={notify(){},get:()=>[]};function PY(t,e){let n,r=bO;function i(p){return l(),r.subscribe(p)}function s(){r.notify()}function o(){d.onStateChange&&d.onStateChange()}function u(){return Boolean(n)}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=AY())}function h(){n&&(n(),n=void 0,r.clear(),r=bO)}const d={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:u,trySubscribe:l,tryUnsubscribe:h,getListeners:()=>r};return d}const kY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bY=kY?X.useLayoutEffect:X.useEffect;function OY({store:t,context:e,children:n,serverState:r}){const i=X.useMemo(()=>{const u=PY(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0}},[t,r]),s=X.useMemo(()=>t.getState(),[t]);bY(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,s]);const o=e||sa;return xT.createElement(o.Provider,{value:i},n)}function YM(t=sa){const e=t===sa?jM:()=>X.useContext(t);return function(){const{store:r}=e();return r}}const NY=YM();function xY(t=sa){const e=t===sa?NY:YM(t);return function(){return e().dispatch}}const DY=xY();hY(tS.useSyncExternalStoreWithSelector);uY(ym.unstable_batchedUpdates);function Kg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Kg=function(n){return typeof n}:Kg=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Kg(t)}function LY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function MY(t,e,n){return e&&OO(t.prototype,e),n&&OO(t,n),t}function UY(t,e){return e&&(Kg(e)==="object"||typeof e=="function")?e:Qg(t)}function rS(t){return rS=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},rS(t)}function Qg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&iS(t,e)}function iS(t,e){return iS=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},iS(t,e)}function Xg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var KM=function(t){FY(e,t);function e(){var n,r;LY(this,e);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=UY(this,(n=rS(e)).call.apply(n,[this].concat(s))),Xg(Qg(r),"state",{bootstrapped:!1}),Xg(Qg(r),"_unsubscribe",void 0),Xg(Qg(r),"handlePersistorState",function(){var u=r.props.persistor,l=u.getState(),h=l.bootstrapped;h&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return MY(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(X.PureComponent);Xg(KM,"defaultProps",{children:null,loading:null});/**
 * @remix-run/router v1.3.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nf(){return Nf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nf.apply(this,arguments)}var Oo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Oo||(Oo={}));const NO="popstate";function $Y(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:u="",hash:l=""}=Eu(i.location.hash.substr(1));return sS("",{pathname:o,search:u,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),u="";if(o&&o.getAttribute("href")){let l=i.location.href,h=l.indexOf("#");u=h===-1?l:l.slice(0,h)}return u+"#"+(typeof s=="string"?s:Hm(s))}function r(i,s){VY(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return jY(e,n,r,t)}function Yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function VY(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WY(){return Math.random().toString(36).substr(2,8)}function xO(t,e){return{usr:t.state,key:t.key,idx:e}}function sS(t,e,n,r){return n===void 0&&(n=null),Nf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Eu(e):e,{state:n,key:e&&e.key||r||WY()})}function Hm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Eu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function jY(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,u=Oo.Pop,l=null,h=d();h==null&&(h=0,o.replaceState(Nf({},o.state,{idx:h}),""));function d(){return(o.state||{idx:null}).idx}function p(){u=Oo.Pop;let R=d(),S=R==null?null:R-h;h=R,l&&l({action:u,location:C.location,delta:S})}function g(R,S){u=Oo.Push;let T=sS(C.location,R,S);n&&n(T,R),h=d()+1;let k=xO(T,h),b=C.createHref(T);try{o.pushState(k,"",b)}catch{i.location.assign(b)}s&&l&&l({action:u,location:C.location,delta:1})}function v(R,S){u=Oo.Replace;let T=sS(C.location,R,S);n&&n(T,R),h=d();let k=xO(T,h),b=C.createHref(T);o.replaceState(k,"",b),s&&l&&l({action:u,location:C.location,delta:0})}function E(R){let S=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof R=="string"?R:Hm(R);return Yt(S,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,S)}let C={get action(){return u},get location(){return t(i,o)},listen(R){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(NO,p),l=R,()=>{i.removeEventListener(NO,p),l=null}},createHref(R){return e(i,R)},createURL:E,encodeLocation(R){let S=E(R);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:v,go(R){return o.go(R)}};return C}var DO;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(DO||(DO={}));function BY(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Eu(e):e,i=JM(r.pathname||"/",n);if(i==null)return null;let s=QM(t);zY(s);let o=null;for(let u=0;o==null&&u<s.length;++u)o=ZY(s[u],nK(i));return o}function QM(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,u)=>{let l={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Yt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let h=Ho([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Yt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),QM(s.children,e,d,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:XY(h,s.index),routesMeta:d})};return t.forEach((s,o)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,o);else for(let l of XM(s.path))i(s,o,l)}),e}function XM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=XM(r.join("/")),u=[];return u.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&u.push(...o),u.map(l=>t.startsWith("/")&&l===""?"/":l)}function zY(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:JY(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const HY=/^:\w+$/,qY=3,GY=2,YY=1,KY=10,QY=-2,LO=t=>t==="*";function XY(t,e){let n=t.split("/"),r=n.length;return n.some(LO)&&(r+=QY),e&&(r+=GY),n.filter(i=>!LO(i)).reduce((i,s)=>i+(HY.test(s)?qY:s===""?YY:KY),r)}function JY(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function ZY(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let u=n[o],l=o===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",d=eK({path:u.relativePath,caseSensitive:u.caseSensitive,end:l},h);if(!d)return null;Object.assign(r,d.params);let p=u.route;s.push({params:r,pathname:Ho([i,d.pathname]),pathnameBase:oK(Ho([i,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(i=Ho([i,d.pathnameBase]))}return s}function eK(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=tK(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,d,p)=>{if(d==="*"){let g=u[p]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}return h[d]=rK(u[p]||"",d),h},{}),pathname:s,pathnameBase:o,pattern:t}}function tK(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),kI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,u)=>(r.push(u),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function nK(t){try{return decodeURI(t)}catch(e){return kI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function rK(t,e){try{return decodeURIComponent(t)}catch(n){return kI(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function JM(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function kI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iK(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Eu(t):t;return{pathname:n?n.startsWith("/")?n:sK(n,e):e,search:aK(r),hash:uK(i)}}function sK(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Hw(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ZM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function eU(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Eu(t):(i=Nf({},t),Yt(!i.pathname||!i.pathname.includes("?"),Hw("?","pathname","search",i)),Yt(!i.pathname||!i.pathname.includes("#"),Hw("#","pathname","hash",i)),Yt(!i.search||!i.search.includes("#"),Hw("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,u;if(r||o==null)u=n;else{let p=e.length-1;if(o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}u=p>=0?e[p]:"/"}let l=iK(i,u),h=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(h||d)&&(l.pathname+="/"),l}const Ho=t=>t.join("/").replace(/\/\/+/g,"/"),oK=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),aK=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,uK=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function lK(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const cK=["post","put","patch","delete"];[...cK];/**
 * React Router v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oS(){return oS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oS.apply(this,arguments)}function hK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const fK=typeof Object.is=="function"?Object.is:hK,{useState:dK,useEffect:pK,useLayoutEffect:gK,useDebugValue:mK}=r1;function _K(t,e,n){const r=e(),[{inst:i},s]=dK({inst:{value:r,getSnapshot:e}});return gK(()=>{i.value=r,i.getSnapshot=e,qw(i)&&s({inst:i})},[t,r,e]),pK(()=>(qw(i)&&s({inst:i}),t(()=>{qw(i)&&s({inst:i})})),[t]),mK(r),r}function qw(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!fK(n,r)}catch{return!0}}function vK(t,e,n){return e()}const yK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wK=!yK,EK=wK?vK:_K;"useSyncExternalStore"in r1&&(t=>t.useSyncExternalStore)(r1);const tU=X.createContext(null),bI=X.createContext(null),Nv=X.createContext(null),xv=X.createContext(null),Su=X.createContext({outlet:null,matches:[]}),nU=X.createContext(null);function SK(t,e){let{relative:n}=e===void 0?{}:e;Ec()||Yt(!1);let{basename:r,navigator:i}=X.useContext(Nv),{hash:s,pathname:o,search:u}=rU(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ho([r,o])),i.createHref({pathname:l,search:u,hash:s})}function Ec(){return X.useContext(xv)!=null}function Sd(){return Ec()||Yt(!1),X.useContext(xv).location}function OI(){Ec()||Yt(!1);let{basename:t,navigator:e}=X.useContext(Nv),{matches:n}=X.useContext(Su),{pathname:r}=Sd(),i=JSON.stringify(ZM(n).map(u=>u.pathnameBase)),s=X.useRef(!1);return X.useEffect(()=>{s.current=!0}),X.useCallback(function(u,l){if(l===void 0&&(l={}),!s.current)return;if(typeof u=="number"){e.go(u);return}let h=eU(u,JSON.parse(i),r,l.relative==="path");t!=="/"&&(h.pathname=h.pathname==="/"?t:Ho([t,h.pathname])),(l.replace?e.replace:e.push)(h,l.state,l)},[t,e,i,r])}const TK=X.createContext(null);function IK(t){let e=X.useContext(Su).outlet;return e&&X.createElement(TK.Provider,{value:t},e)}function rU(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=X.useContext(Su),{pathname:i}=Sd(),s=JSON.stringify(ZM(r).map(o=>o.pathnameBase));return X.useMemo(()=>eU(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function CK(t,e){Ec()||Yt(!1);let{navigator:n}=X.useContext(Nv),r=X.useContext(bI),{matches:i}=X.useContext(Su),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let l=Sd(),h;if(e){var d;let C=typeof e=="string"?Eu(e):e;u==="/"||(d=C.pathname)!=null&&d.startsWith(u)||Yt(!1),h=C}else h=l;let p=h.pathname||"/",g=u==="/"?p:p.slice(u.length)||"/",v=BY(t,{pathname:g}),E=kK(v&&v.map(C=>Object.assign({},C,{params:Object.assign({},o,C.params),pathname:Ho([u,n.encodeLocation?n.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?u:Ho([u,n.encodeLocation?n.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),i,r||void 0);return e&&E?X.createElement(xv.Provider,{value:{location:oS({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Oo.Pop}},E):E}function RK(){let t=xK(),e=lK(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),n?X.createElement("pre",{style:i},n):null,s)}class AK extends X.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?X.createElement(Su.Provider,{value:this.props.routeContext},X.createElement(nU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PK(t){let{routeContext:e,match:n,children:r}=t,i=X.useContext(tU);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),X.createElement(Su.Provider,{value:e},r)}function kK(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Yt(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,u)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,h=n?o.route.errorElement||X.createElement(RK,null):null,d=e.concat(r.slice(0,u+1)),p=()=>X.createElement(PK,{match:o,routeContext:{outlet:s,matches:d}},l?h:o.route.element!==void 0?o.route.element:s);return n&&(o.route.errorElement||u===0)?X.createElement(AK,{location:n.location,component:h,error:l,children:p(),routeContext:{outlet:null,matches:d}}):p()},null)}var MO;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(MO||(MO={}));var qm;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(qm||(qm={}));function bK(t){let e=X.useContext(bI);return e||Yt(!1),e}function OK(t){let e=X.useContext(Su);return e||Yt(!1),e}function NK(t){let e=OK(),n=e.matches[e.matches.length-1];return n.route.id||Yt(!1),n.route.id}function xK(){var t;let e=X.useContext(nU),n=bK(qm.UseRouteError),r=NK(qm.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function DK(t){let{to:e,replace:n,state:r,relative:i}=t;Ec()||Yt(!1);let s=X.useContext(bI),o=OI();return X.useEffect(()=>{s&&s.navigation.state!=="idle"||o(e,{replace:n,state:r,relative:i})}),null}function iU(t){return IK(t.context)}function Da(t){Yt(!1)}function LK(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Oo.Pop,navigator:s,static:o=!1}=t;Ec()&&Yt(!1);let u=e.replace(/^\/*/,"/"),l=X.useMemo(()=>({basename:u,navigator:s,static:o}),[u,s,o]);typeof r=="string"&&(r=Eu(r));let{pathname:h="/",search:d="",hash:p="",state:g=null,key:v="default"}=r,E=X.useMemo(()=>{let C=JM(h,u);return C==null?null:{pathname:C,search:d,hash:p,state:g,key:v}},[u,h,d,p,g,v]);return E==null?null:X.createElement(Nv.Provider,{value:l},X.createElement(xv.Provider,{children:n,value:{location:E,navigationType:i}}))}function MK(t){let{children:e,location:n}=t,r=X.useContext(tU),i=r&&!e?r.router.routes:aS(e);return CK(i,n)}var UO;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(UO||(UO={}));new Promise(()=>{});function aS(t,e){e===void 0&&(e=[]);let n=[];return X.Children.forEach(t,(r,i)=>{if(!X.isValidElement(r))return;if(r.type===X.Fragment){n.push.apply(n,aS(r.props.children,e));return}r.type!==Da&&Yt(!1),!r.props.index||!r.props.children||Yt(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=aS(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uS(){return uS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uS.apply(this,arguments)}function UK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function FK(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $K(t,e){return t.button===0&&(!e||e==="_self")&&!FK(t)}const VK=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function WK(t){let{basename:e,children:n,window:r}=t,i=X.useRef();i.current==null&&(i.current=$Y({window:r,v5Compat:!0}));let s=i.current,[o,u]=X.useState({action:s.action,location:s.location});return X.useLayoutEffect(()=>s.listen(u),[s]),X.createElement(LK,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}const jK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Dv=X.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:u,target:l,to:h,preventScrollReset:d}=e,p=UK(e,VK),g,v=!1;if(jK&&typeof h=="string"&&/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(h)){g=h;let S=new URL(window.location.href),T=h.startsWith("//")?new URL(S.protocol+h):new URL(h);T.origin===S.origin?h=T.pathname+T.search+T.hash:v=!0}let E=SK(h,{relative:i}),C=BK(h,{replace:o,state:u,target:l,preventScrollReset:d,relative:i});function R(S){r&&r(S),S.defaultPrevented||C(S)}return X.createElement("a",uS({},p,{href:g||E,onClick:v||s?r:R,ref:n,target:l}))});var FO;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(FO||(FO={}));var $O;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})($O||($O={}));function BK(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,u=OI(),l=Sd(),h=rU(t,{relative:o});return X.useCallback(d=>{if($K(d,n)){d.preventDefault();let p=r!==void 0?r:Hm(l)===Hm(h);u(t,{replace:p,state:i,preventScrollReset:s,relative:o})}},[l,u,h,r,i,n,t,s,o])}var zK=function(e){var n=e.width,r=n===void 0?36:n,i=e.height,s=i===void 0?36:i;return Z("svg",{height:s,viewBox:"0 0 24 24",width:r,children:Z("g",{children:Z("path",{d:"M23 4v2h-3v3h-2V6h-3V4h3V1h2v3h3zm-8.5 7c.828 0 1.5-.672 1.5-1.5S15.328 8 14.5 8 13 8.672 13 9.5s.672 1.5 1.5 1.5zm3.5 3.234l-.513-.57c-.794-.885-2.18-.885-2.976 0l-.655.73L9 9l-3 3.333V6h7V4H6c-1.105 0-2 .895-2 2v12c0 1.105.895 2 2 2h12c1.105 0 2-.895 2-2v-7h-2v3.234z",fill:"#8da4f1"})})})},HK=function(e){var n=e.width,r=n===void 0?24:n,i=e.height,s=i===void 0?24:i,o=e.color,u=o===void 0?"#ddddf7":o;return Z("svg",{fill:u,height:s,viewBox:"0 0 26.676 26.676",width:r,children:Z("path",{d:"M26.105,21.891c-0.229,0-0.439-0.131-0.529-0.346l0,0c-0.066-0.156-1.716-3.857-7.885-4.59 c-1.285-0.156-2.824-0.236-4.693-0.25v4.613c0,0.213-0.115,0.406-0.304,0.508c-0.188,0.098-0.413,0.084-0.588-0.033L0.254,13.815 C0.094,13.708,0,13.528,0,13.339c0-0.191,0.094-0.365,0.254-0.477l11.857-7.979c0.175-0.121,0.398-0.129,0.588-0.029 c0.19,0.102,0.303,0.295,0.303,0.502v4.293c2.578,0.336,13.674,2.33,13.674,11.674c0,0.271-0.191,0.508-0.459,0.562 C26.18,21.891,26.141,21.891,26.105,21.891z"})})},qK=function(e){var n=e.width,r=n===void 0?24:n,i=e.height,s=i===void 0?24:i,o=e.color,u=o===void 0?"#ddddf7":o;return Z("svg",{fill:u,height:s,viewBox:"0 0 32 32",width:r,children:Z("path",{d:"M12.15 28.012v-0.85c0.019-0.069 0.050-0.131 0.063-0.2 0.275-1.788 1.762-3.2 3.506-3.319 1.95-0.137 3.6 0.975 4.137 2.787 0.069 0.238 0.119 0.488 0.181 0.731v0.85c-0.019 0.056-0.050 0.106-0.056 0.169-0.269 1.65-1.456 2.906-3.081 3.262-0.125 0.025-0.25 0.063-0.375 0.094h-0.85c-0.056-0.019-0.113-0.050-0.169-0.056-1.625-0.262-2.862-1.419-3.237-3.025-0.037-0.156-0.081-0.3-0.119-0.444zM20.038 3.988l-0 0.85c-0.019 0.069-0.050 0.131-0.056 0.2-0.281 1.8-1.775 3.206-3.538 3.319-1.944 0.125-3.588-1-4.119-2.819-0.069-0.231-0.119-0.469-0.175-0.7v-0.85c0.019-0.056 0.050-0.106 0.063-0.162 0.3-1.625 1.244-2.688 2.819-3.194 0.206-0.069 0.425-0.106 0.637-0.162h0.85c0.056 0.019 0.113 0.050 0.169 0.056 1.631 0.269 2.863 1.419 3.238 3.025 0.038 0.15 0.075 0.294 0.113 0.437zM20.037 15.575v0.85c-0.019 0.069-0.050 0.131-0.063 0.2-0.281 1.794-1.831 3.238-3.581 3.313-1.969 0.087-3.637-1.1-4.106-2.931-0.050-0.194-0.094-0.387-0.137-0.581v-0.85c0.019-0.069 0.050-0.131 0.063-0.2 0.275-1.794 1.831-3.238 3.581-3.319 1.969-0.094 3.637 1.1 4.106 2.931 0.050 0.2 0.094 0.394 0.137 0.588z"})})},Lv={AddAvatar:zK,BackArrow:HK,Options:qK},Tu=function(){return DY()},wr=pY,NI=function(e){return X.useEffect(e,[])},Sn;(function(t){t.Root="/",t.Chat="chat",t.Login="login",t.Register="register"})(Sn||(Sn={}));var lS;(function(t){t.ChatId="chatId"})(lS||(lS={}));const GK="IBm",YK="IxK",VO={container:GK,info:YK};var KK=function(){var e=wr(function(r){return r.user}),n=e.chat;return Qe("div",{className:VO.container,children:[Qe("div",{className:VO.info,children:[Z(Dv,{to:Sn.Root,children:Z(Lv.BackArrow,{})}),Z("span",{children:(n==null?void 0:n.interlocutorInfo.alias)||(n==null?void 0:n.interlocutorInfo.nickname)}),Z(rhe,{})]}),Z(Lge,{}),Z(vhe,{})]})};function Si(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function oa(t){return!!t&&!!t[Rt]}function Ks(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===iQ}(t)||Array.isArray(t)||!!t[GO]||!!(!((e=t.constructor)===null||e===void 0)&&e[GO])||xI(t)||DI(t))}function ou(t,e,n){n===void 0&&(n=!1),Sc(t)===0?(n?Object.keys:Ol)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function Sc(t){var e=t[Rt];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:xI(t)?2:DI(t)?3:0}function bl(t,e){return Sc(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function QK(t,e){return Sc(t)===2?t.get(e):t[e]}function sU(t,e,n){var r=Sc(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function oU(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function xI(t){return nQ&&t instanceof Map}function DI(t){return rQ&&t instanceof Set}function La(t){return t.o||t.t}function LI(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=uU(t);delete e[Rt];for(var n=Ol(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function MI(t,e){return e===void 0&&(e=!1),UI(t)||oa(t)||!Ks(t)||(Sc(t)>1&&(t.set=t.add=t.clear=t.delete=XK),Object.freeze(t),e&&ou(t,function(n,r){return MI(r,!0)},!0)),t}function XK(){Si(2)}function UI(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function rs(t){var e=dS[t];return e||Si(18,t),e}function JK(t,e){dS[t]||(dS[t]=e)}function cS(){return xf}function Gw(t,e){e&&(rs("Patches"),t.u=[],t.s=[],t.v=e)}function Gm(t){hS(t),t.p.forEach(ZK),t.p=null}function hS(t){t===xf&&(xf=t.l)}function WO(t){return xf={p:[],l:xf,h:t,m:!0,_:0}}function ZK(t){var e=t[Rt];e.i===0||e.i===1?e.j():e.O=!0}function Yw(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.g||rs("ES5").S(e,t,r),r?(n[Rt].P&&(Gm(e),Si(4)),Ks(t)&&(t=Ym(e,t),e.l||Km(e,t)),e.u&&rs("Patches").M(n[Rt].t,t,e.u,e.s)):t=Ym(e,n,[]),Gm(e),e.u&&e.v(e.u,e.s),t!==aU?t:void 0}function Ym(t,e,n){if(UI(e))return e;var r=e[Rt];if(!r)return ou(e,function(u,l){return jO(t,r,e,u,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Km(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=LI(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),ou(s,function(u,l){return jO(t,r,i,u,l,n,o)}),Km(t,i,!1),n&&t.u&&rs("Patches").N(r,n,t.u,t.s)}return r.o}function jO(t,e,n,r,i,s,o){if(oa(i)){var u=Ym(t,i,s&&e&&e.i!==3&&!bl(e.R,r)?s.concat(r):void 0);if(sU(n,r,u),!oa(u))return;t.m=!1}else o&&n.add(i);if(Ks(i)&&!UI(i)){if(!t.h.D&&t._<1)return;Ym(t,i),e&&e.A.l||Km(t,i)}}function Km(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&MI(e,n)}function Kw(t,e){var n=t[Rt];return(n?La(n):t)[e]}function BO(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function To(t){t.P||(t.P=!0,t.l&&To(t.l))}function Qw(t){t.o||(t.o=LI(t.t))}function fS(t,e,n){var r=xI(e)?rs("MapSet").F(e,n):DI(e)?rs("MapSet").T(e,n):t.g?function(i,s){var o=Array.isArray(i),u={i:o?1:0,A:s?s.A:cS(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=u,h=Df;o&&(l=[u],h=xh);var d=Proxy.revocable(l,h),p=d.revoke,g=d.proxy;return u.k=g,u.j=p,g}(e,n):rs("ES5").J(e,n);return(n?n.A:cS()).p.push(r),r}function eQ(t){return oa(t)||Si(22,t),function e(n){if(!Ks(n))return n;var r,i=n[Rt],s=Sc(n);if(i){if(!i.P&&(i.i<4||!rs("ES5").K(i)))return i.t;i.I=!0,r=zO(n,s),i.I=!1}else r=zO(n,s);return ou(r,function(o,u){i&&QK(i.t,o)===u||sU(r,o,e(u))}),s===3?new Set(r):r}(t)}function zO(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return LI(t)}function tQ(){function t(s,o){var u=i[s];return u?u.enumerable=o:i[s]=u={configurable:!0,enumerable:o,get:function(){var l=this[Rt];return Df.get(l,s)},set:function(l){var h=this[Rt];Df.set(h,s,l)}},u}function e(s){for(var o=s.length-1;o>=0;o--){var u=s[o][Rt];if(!u.P)switch(u.i){case 5:r(u)&&To(u);break;case 4:n(u)&&To(u)}}}function n(s){for(var o=s.t,u=s.k,l=Ol(u),h=l.length-1;h>=0;h--){var d=l[h];if(d!==Rt){var p=o[d];if(p===void 0&&!bl(o,d))return!0;var g=u[d],v=g&&g[Rt];if(v?v.t!==p:!oU(g,p))return!0}}var E=!!o[Rt];return l.length!==Ol(o).length+(E?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var u=Object.getOwnPropertyDescriptor(o,o.length-1);if(u&&!u.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};JK("ES5",{J:function(s,o){var u=Array.isArray(s),l=function(d,p){if(d){for(var g=Array(p.length),v=0;v<p.length;v++)Object.defineProperty(g,""+v,t(v,!0));return g}var E=uU(p);delete E[Rt];for(var C=Ol(E),R=0;R<C.length;R++){var S=C[R];E[S]=t(S,d||!!E[S].enumerable)}return Object.create(Object.getPrototypeOf(p),E)}(u,s),h={i:u?5:4,A:o?o.A:cS(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,O:!1,C:!1};return Object.defineProperty(l,Rt,{value:h,writable:!0}),l},S:function(s,o,u){u?oa(o)&&o[Rt].A===s&&e(s.p):(s.u&&function l(h){if(h&&typeof h=="object"){var d=h[Rt];if(d){var p=d.t,g=d.k,v=d.R,E=d.i;if(E===4)ou(g,function(k){k!==Rt&&(p[k]!==void 0||bl(p,k)?v[k]||l(g[k]):(v[k]=!0,To(d)))}),ou(p,function(k){g[k]!==void 0||bl(g,k)||(v[k]=!1,To(d))});else if(E===5){if(r(d)&&(To(d),v.length=!0),g.length<p.length)for(var C=g.length;C<p.length;C++)v[C]=!1;else for(var R=p.length;R<g.length;R++)v[R]=!0;for(var S=Math.min(g.length,p.length),T=0;T<S;T++)g.hasOwnProperty(T)||(v[T]=!0),v[T]===void 0&&l(g[T])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var HO,xf,FI=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",nQ=typeof Map<"u",rQ=typeof Set<"u",qO=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",aU=FI?Symbol.for("immer-nothing"):((HO={})["immer-nothing"]=!0,HO),GO=FI?Symbol.for("immer-draftable"):"__$immer_draftable",Rt=FI?Symbol.for("immer-state"):"__$immer_state",iQ=""+Object.prototype.constructor,Ol=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,uU=Object.getOwnPropertyDescriptors||function(t){var e={};return Ol(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},dS={},Df={get:function(t,e){if(e===Rt)return t;var n=La(t);if(!bl(n,e))return function(i,s,o){var u,l=BO(s,o);return l?"value"in l?l.value:(u=l.get)===null||u===void 0?void 0:u.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!Ks(r)?r:r===Kw(t.t,e)?(Qw(t),t.o[e]=fS(t.A.h,r,t)):r},has:function(t,e){return e in La(t)},ownKeys:function(t){return Reflect.ownKeys(La(t))},set:function(t,e,n){var r=BO(La(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=Kw(La(t),e),s=i==null?void 0:i[Rt];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(oU(n,i)&&(n!==void 0||bl(t.t,e)))return!0;Qw(t),To(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Kw(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Qw(t),To(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=La(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){Si(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Si(12)}},xh={};ou(Df,function(t,e){xh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),xh.deleteProperty=function(t,e){return xh.set.call(this,t,e,void 0)},xh.set=function(t,e,n){return Df.set.call(this,t[0],e,n,t[0])};var sQ=function(){function t(n){var r=this;this.g=qO,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var u=s;s=i;var l=r;return function(C){var R=this;C===void 0&&(C=u);for(var S=arguments.length,T=Array(S>1?S-1:0),k=1;k<S;k++)T[k-1]=arguments[k];return l.produce(C,function(b){var F;return(F=s).call.apply(F,[R,b].concat(T))})}}var h;if(typeof s!="function"&&Si(6),o!==void 0&&typeof o!="function"&&Si(7),Ks(i)){var d=WO(r),p=fS(r,i,void 0),g=!0;try{h=s(p),g=!1}finally{g?Gm(d):hS(d)}return typeof Promise<"u"&&h instanceof Promise?h.then(function(C){return Gw(d,o),Yw(C,d)},function(C){throw Gm(d),C}):(Gw(d,o),Yw(h,d))}if(!i||typeof i!="object"){if((h=s(i))===void 0&&(h=i),h===aU&&(h=void 0),r.D&&MI(h,!0),o){var v=[],E=[];rs("Patches").M(i,h,v,E),o(v,E)}return h}Si(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(h){for(var d=arguments.length,p=Array(d>1?d-1:0),g=1;g<d;g++)p[g-1]=arguments[g];return r.produceWithPatches(h,function(v){return i.apply(void 0,[v].concat(p))})};var o,u,l=r.produce(i,s,function(h,d){o=h,u=d});return typeof Promise<"u"&&l instanceof Promise?l.then(function(h){return[h,o,u]}):[l,o,u]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Ks(n)||Si(8),oa(n)&&(n=eQ(n));var r=WO(this),i=fS(this,n,void 0);return i[Rt].C=!0,hS(r),i},e.finishDraft=function(n,r){var i=n&&n[Rt],s=i.A;return Gw(s,r),Yw(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!qO&&Si(20),this.g=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=rs("Patches").$;return oa(n)?o(n,r):this.produce(n,function(u){return o(u,r)})},t}(),Lr=new sQ,lU=Lr.produce;Lr.produceWithPatches.bind(Lr);Lr.setAutoFreeze.bind(Lr);Lr.setUseProxies.bind(Lr);Lr.applyPatches.bind(Lr);Lr.createDraft.bind(Lr);Lr.finishDraft.bind(Lr);function Lf(t){return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function oQ(t,e){if(Lf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aQ(t){var e=oQ(t,"string");return Lf(e)==="symbol"?e:String(e)}function uQ(t,e,n){return e=aQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(n),!0).forEach(function(r){uQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ln(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var QO=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Xw=function(){return Math.random().toString(36).substring(7).split("").join(".")},Qm={INIT:"@@redux/INIT"+Xw(),REPLACE:"@@redux/REPLACE"+Xw(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Xw()}};function lQ(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function $I(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ln(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ln(1));return n($I)(t,e)}if(typeof t!="function")throw new Error(Ln(2));var i=t,s=e,o=[],u=o,l=!1;function h(){u===o&&(u=o.slice())}function d(){if(l)throw new Error(Ln(3));return s}function p(C){if(typeof C!="function")throw new Error(Ln(4));if(l)throw new Error(Ln(5));var R=!0;return h(),u.push(C),function(){if(R){if(l)throw new Error(Ln(6));R=!1,h();var T=u.indexOf(C);u.splice(T,1),o=null}}}function g(C){if(!lQ(C))throw new Error(Ln(7));if(typeof C.type>"u")throw new Error(Ln(8));if(l)throw new Error(Ln(9));try{l=!0,s=i(s,C)}finally{l=!1}for(var R=o=u,S=0;S<R.length;S++){var T=R[S];T()}return C}function v(C){if(typeof C!="function")throw new Error(Ln(10));i=C,g({type:Qm.REPLACE})}function E(){var C,R=p;return C={subscribe:function(T){if(typeof T!="object"||T===null)throw new Error(Ln(11));function k(){T.next&&T.next(d())}k();var b=R(k);return{unsubscribe:b}}},C[QO]=function(){return this},C}return g({type:Qm.INIT}),r={dispatch:g,subscribe:p,getState:d,replaceReducer:v},r[QO]=E,r}function cQ(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Qm.INIT});if(typeof r>"u")throw new Error(Ln(12));if(typeof n(void 0,{type:Qm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ln(13))})}function cU(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{cQ(n)}catch(u){o=u}return function(l,h){if(l===void 0&&(l={}),o)throw o;for(var d=!1,p={},g=0;g<s.length;g++){var v=s[g],E=n[v],C=l[v],R=E(C,h);if(typeof R>"u")throw h&&h.type,new Error(Ln(14));p[v]=R,d=d||R!==C}return d=d||s.length!==Object.keys(l).length,d?p:l}}function Mf(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function hU(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Ln(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},u=e.map(function(l){return l(o)});return s=Mf.apply(void 0,u)(i.dispatch),KO(KO({},i),{},{dispatch:s})}}}function fU(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(u){return typeof u=="function"?u(i,s,t):o(u)}}};return e}var dU=fU();dU.withExtraArgument=fU;const XO=dU;var hQ=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),fQ=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(h){return function(d){return l([h,d])}}function l(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(d){h=[6,d],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Xm=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},dQ=Object.defineProperty,pQ=Object.defineProperties,gQ=Object.getOwnPropertyDescriptors,JO=Object.getOwnPropertySymbols,mQ=Object.prototype.hasOwnProperty,_Q=Object.prototype.propertyIsEnumerable,ZO=function(t,e,n){return e in t?dQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},qo=function(t,e){for(var n in e||(e={}))mQ.call(e,n)&&ZO(t,n,e[n]);if(JO)for(var r=0,i=JO(e);r<i.length;r++){var n=i[r];_Q.call(e,n)&&ZO(t,n,e[n])}return t},Jw=function(t,e){return pQ(t,gQ(e))},vQ=function(t,e,n){return new Promise(function(r,i){var s=function(l){try{u(n.next(l))}catch(h){i(h)}},o=function(l){try{u(n.throw(l))}catch(h){i(h)}},u=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};u((n=n.apply(t,e)).next())})},yQ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Mf:Mf.apply(null,arguments)};function wQ(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var EQ=function(t){hQ(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Xm([void 0],n[0].concat(this)))):new(e.bind.apply(e,Xm([void 0],n.concat(this))))},e}(Array);function pS(t){return Ks(t)?lU(t,function(){}):t}function SQ(t){return typeof t=="boolean"}function TQ(){return function(e){return IQ(e)}}function IQ(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new EQ;return n&&(SQ(n)?r.push(XO):r.push(XO.withExtraArgument(n.extraArgument))),r}var CQ=!0;function RQ(t){var e=TQ(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,u=n.devTools,l=u===void 0?!0:u,h=n.preloadedState,d=h===void 0?void 0:h,p=n.enhancers,g=p===void 0?void 0:p,v;if(typeof i=="function")v=i;else if(wQ(i))v=cU(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var E=o;typeof E=="function"&&(E=E(e));var C=hU.apply(void 0,E),R=Mf;l&&(R=yQ(qo({trace:!CQ},typeof l=="object"&&l)));var S=[C];Array.isArray(g)?S=Xm([C],g):typeof g=="function"&&(S=g(S));var T=R.apply(void 0,S);return $I(v,d,T)}function Go(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return qo(qo({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function pU(t){var e={},n=[],r,i={addCase:function(s,o){var u=typeof s=="string"?s:s.type;if(u in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[u]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function AQ(t){return typeof t=="function"}function PQ(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?pU(e):[e,n,r],s=i[0],o=i[1],u=i[2],l;if(AQ(t))l=function(){return pS(t())};else{var h=pS(t);l=function(){return h}}function d(p,g){p===void 0&&(p=l());var v=Xm([s[g.type]],o.filter(function(E){var C=E.matcher;return C(g)}).map(function(E){var C=E.reducer;return C}));return v.filter(function(E){return!!E}).length===0&&(v=[u]),v.reduce(function(E,C){if(C)if(oa(E)){var R=E,S=C(R,g);return S===void 0?E:S}else{if(Ks(E))return lU(E,function(T){return C(T,g)});var S=C(E,g);if(S===void 0){if(E===null)return E;throw Error("A case reducer on a non-draftable value must not return undefined")}return S}return E},p)}return d.getInitialState=l,d}function kQ(t,e){return t+"/"+e}function VI(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:pS(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},u={};i.forEach(function(d){var p=r[d],g=kQ(e,d),v,E;"reducer"in p?(v=p.reducer,E=p.prepare):v=p,s[d]=v,o[g]=v,u[d]=E?Go(g,E):Go(g)});function l(){var d=typeof t.extraReducers=="function"?pU(t.extraReducers):[t.extraReducers],p=d[0],g=p===void 0?{}:p,v=d[1],E=v===void 0?[]:v,C=d[2],R=C===void 0?void 0:C,S=qo(qo({},g),o);return PQ(n,function(T){for(var k in S)T.addCase(k,S[k]);for(var b=0,F=E;b<F.length;b++){var V=F[b];T.addMatcher(V.matcher,V.reducer)}R&&T.addDefaultCase(R)})}var h;return{name:e,reducer:function(d,p){return h||(h=l()),h(d,p)},actions:u,caseReducers:s,getInitialState:function(){return h||(h=l()),h.getInitialState()}}}var bQ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",OQ=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=bQ[Math.random()*64|0];return e},NQ=["name","message","stack","code"],Zw=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),eN=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),xQ=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=NQ;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,n,r){var i=Go(e+"/fulfilled",function(h,d,p,g){return{payload:h,meta:Jw(qo({},g||{}),{arg:p,requestId:d,requestStatus:"fulfilled"})}}),s=Go(e+"/pending",function(h,d,p){return{payload:void 0,meta:Jw(qo({},p||{}),{arg:d,requestId:h,requestStatus:"pending"})}}),o=Go(e+"/rejected",function(h,d,p,g,v){return{payload:g,error:(r&&r.serializeError||xQ)(h||"Rejected"),meta:Jw(qo({},v||{}),{arg:p,requestId:d,rejectedWithValue:!!g,requestStatus:"rejected",aborted:(h==null?void 0:h.name)==="AbortError",condition:(h==null?void 0:h.name)==="ConditionError"})}}),u=typeof AbortController<"u"?AbortController:function(){function h(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return h.prototype.abort=function(){},h}();function l(h){return function(d,p,g){var v=r!=null&&r.idGenerator?r.idGenerator(h):OQ(),E=new u,C;function R(T){C=T,E.abort()}var S=function(){return vQ(this,null,function(){var T,k,b,F,V,W,G;return fQ(this,function(ie){switch(ie.label){case 0:return ie.trys.push([0,4,,5]),F=(T=r==null?void 0:r.condition)==null?void 0:T.call(r,h,{getState:p,extra:g}),LQ(F)?[4,F]:[3,2];case 1:F=ie.sent(),ie.label=2;case 2:if(F===!1||E.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return V=new Promise(function(re,Ne){return E.signal.addEventListener("abort",function(){return Ne({name:"AbortError",message:C||"Aborted"})})}),d(s(v,h,(k=r==null?void 0:r.getPendingMeta)==null?void 0:k.call(r,{requestId:v,arg:h},{getState:p,extra:g}))),[4,Promise.race([V,Promise.resolve(n(h,{dispatch:d,getState:p,extra:g,requestId:v,signal:E.signal,abort:R,rejectWithValue:function(re,Ne){return new Zw(re,Ne)},fulfillWithValue:function(re,Ne){return new eN(re,Ne)}})).then(function(re){if(re instanceof Zw)throw re;return re instanceof eN?i(re.payload,v,h,re.meta):i(re,v,h)})])];case 3:return b=ie.sent(),[3,5];case 4:return W=ie.sent(),b=W instanceof Zw?o(null,v,h,W.payload,W.meta):o(W,v,h),[3,5];case 5:return G=r&&!r.dispatchConditionRejection&&o.match(b)&&b.meta.condition,G||d(b),[2,b]}})})}();return Object.assign(S,{abort:R,requestId:v,arg:h,unwrap:function(){return S.then(DQ)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function DQ(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function LQ(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var WI="listenerMiddleware";Go(WI+"/add");Go(WI+"/removeAll");Go(WI+"/remove");var tN;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);tQ();var Jm={},MQ={get exports(){return Jm},set exports(t){Jm=t}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",u="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",h=500,d="__lodash_placeholder__",p=1,g=2,v=4,E=1,C=2,R=1,S=2,T=4,k=8,b=16,F=32,V=64,W=128,G=256,ie=512,re=30,Ne="...",I=800,_=16,w=1,N=2,D=3,O=1/0,M=9007199254740991,B=17976931348623157e292,H=0/0,ue=4294967295,fe=ue-1,Se=ue>>>1,ps=[["ary",W],["bind",R],["bindKey",S],["curry",k],["curryRight",b],["flip",ie],["partial",F],["partialRight",V],["rearg",G]],Wi="[object Arguments]",jr="[object Array]",xu="[object AsyncFunction]",Wc="[object Boolean]",jc="[object Date]",dW="[object DOMException]",sp="[object Error]",op="[object Function]",VA="[object GeneratorFunction]",fi="[object Map]",Bc="[object Number]",pW="[object Null]",gs="[object Object]",WA="[object Promise]",gW="[object Proxy]",zc="[object RegExp]",di="[object Set]",Hc="[object String]",ap="[object Symbol]",mW="[object Undefined]",qc="[object WeakMap]",_W="[object WeakSet]",Gc="[object ArrayBuffer]",Du="[object DataView]",Xy="[object Float32Array]",Jy="[object Float64Array]",Zy="[object Int8Array]",e0="[object Int16Array]",t0="[object Int32Array]",n0="[object Uint8Array]",r0="[object Uint8ClampedArray]",i0="[object Uint16Array]",s0="[object Uint32Array]",vW=/\b__p \+= '';/g,yW=/\b(__p \+=) '' \+/g,wW=/(__e\(.*?\)|\b__t\)) \+\n'';/g,jA=/&(?:amp|lt|gt|quot|#39);/g,BA=/[&<>"']/g,EW=RegExp(jA.source),SW=RegExp(BA.source),TW=/<%-([\s\S]+?)%>/g,IW=/<%([\s\S]+?)%>/g,zA=/<%=([\s\S]+?)%>/g,CW=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,RW=/^\w*$/,AW=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o0=/[\\^$.*+?()[\]{}|]/g,PW=RegExp(o0.source),a0=/^\s+/,kW=/\s/,bW=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,OW=/\{\n\/\* \[wrapped with (.+)\] \*/,NW=/,? & /,xW=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,DW=/[()=,{}\[\]\/\s]/,LW=/\\(\\)?/g,MW=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,HA=/\w*$/,UW=/^[-+]0x[0-9a-f]+$/i,FW=/^0b[01]+$/i,$W=/^\[object .+?Constructor\]$/,VW=/^0o[0-7]+$/i,WW=/^(?:0|[1-9]\d*)$/,jW=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,up=/($^)/,BW=/['\n\r\u2028\u2029\\]/g,lp="\\ud800-\\udfff",zW="\\u0300-\\u036f",HW="\\ufe20-\\ufe2f",qW="\\u20d0-\\u20ff",qA=zW+HW+qW,GA="\\u2700-\\u27bf",YA="a-z\\xdf-\\xf6\\xf8-\\xff",GW="\\xac\\xb1\\xd7\\xf7",YW="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",KW="\\u2000-\\u206f",QW=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",KA="A-Z\\xc0-\\xd6\\xd8-\\xde",QA="\\ufe0e\\ufe0f",XA=GW+YW+KW+QW,u0="['’]",XW="["+lp+"]",JA="["+XA+"]",cp="["+qA+"]",ZA="\\d+",JW="["+GA+"]",eP="["+YA+"]",tP="[^"+lp+XA+ZA+GA+YA+KA+"]",l0="\\ud83c[\\udffb-\\udfff]",ZW="(?:"+cp+"|"+l0+")",nP="[^"+lp+"]",c0="(?:\\ud83c[\\udde6-\\uddff]){2}",h0="[\\ud800-\\udbff][\\udc00-\\udfff]",Lu="["+KA+"]",rP="\\u200d",iP="(?:"+eP+"|"+tP+")",ej="(?:"+Lu+"|"+tP+")",sP="(?:"+u0+"(?:d|ll|m|re|s|t|ve))?",oP="(?:"+u0+"(?:D|LL|M|RE|S|T|VE))?",aP=ZW+"?",uP="["+QA+"]?",tj="(?:"+rP+"(?:"+[nP,c0,h0].join("|")+")"+uP+aP+")*",nj="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rj="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",lP=uP+aP+tj,ij="(?:"+[JW,c0,h0].join("|")+")"+lP,sj="(?:"+[nP+cp+"?",cp,c0,h0,XW].join("|")+")",oj=RegExp(u0,"g"),aj=RegExp(cp,"g"),f0=RegExp(l0+"(?="+l0+")|"+sj+lP,"g"),uj=RegExp([Lu+"?"+eP+"+"+sP+"(?="+[JA,Lu,"$"].join("|")+")",ej+"+"+oP+"(?="+[JA,Lu+iP,"$"].join("|")+")",Lu+"?"+iP+"+"+sP,Lu+"+"+oP,rj,nj,ZA,ij].join("|"),"g"),lj=RegExp("["+rP+lp+qA+QA+"]"),cj=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,hj=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],fj=-1,mt={};mt[Xy]=mt[Jy]=mt[Zy]=mt[e0]=mt[t0]=mt[n0]=mt[r0]=mt[i0]=mt[s0]=!0,mt[Wi]=mt[jr]=mt[Gc]=mt[Wc]=mt[Du]=mt[jc]=mt[sp]=mt[op]=mt[fi]=mt[Bc]=mt[gs]=mt[zc]=mt[di]=mt[Hc]=mt[qc]=!1;var ht={};ht[Wi]=ht[jr]=ht[Gc]=ht[Du]=ht[Wc]=ht[jc]=ht[Xy]=ht[Jy]=ht[Zy]=ht[e0]=ht[t0]=ht[fi]=ht[Bc]=ht[gs]=ht[zc]=ht[di]=ht[Hc]=ht[ap]=ht[n0]=ht[r0]=ht[i0]=ht[s0]=!0,ht[sp]=ht[op]=ht[qc]=!1;var dj={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},pj={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},gj={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},mj={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},_j=parseFloat,vj=parseInt,cP=typeof lh=="object"&&lh&&lh.Object===Object&&lh,yj=typeof self=="object"&&self&&self.Object===Object&&self,fn=cP||yj||Function("return this")(),d0=e&&!e.nodeType&&e,Sa=d0&&!0&&t&&!t.nodeType&&t,hP=Sa&&Sa.exports===d0,p0=hP&&cP.process,Br=function(){try{var U=Sa&&Sa.require&&Sa.require("util").types;return U||p0&&p0.binding&&p0.binding("util")}catch{}}(),fP=Br&&Br.isArrayBuffer,dP=Br&&Br.isDate,pP=Br&&Br.isMap,gP=Br&&Br.isRegExp,mP=Br&&Br.isSet,_P=Br&&Br.isTypedArray;function Sr(U,z,j){switch(j.length){case 0:return U.call(z);case 1:return U.call(z,j[0]);case 2:return U.call(z,j[0],j[1]);case 3:return U.call(z,j[0],j[1],j[2])}return U.apply(z,j)}function wj(U,z,j,le){for(var Re=-1,Ze=U==null?0:U.length;++Re<Ze;){var Kt=U[Re];z(le,Kt,j(Kt),U)}return le}function zr(U,z){for(var j=-1,le=U==null?0:U.length;++j<le&&z(U[j],j,U)!==!1;);return U}function Ej(U,z){for(var j=U==null?0:U.length;j--&&z(U[j],j,U)!==!1;);return U}function vP(U,z){for(var j=-1,le=U==null?0:U.length;++j<le;)if(!z(U[j],j,U))return!1;return!0}function ao(U,z){for(var j=-1,le=U==null?0:U.length,Re=0,Ze=[];++j<le;){var Kt=U[j];z(Kt,j,U)&&(Ze[Re++]=Kt)}return Ze}function hp(U,z){var j=U==null?0:U.length;return!!j&&Mu(U,z,0)>-1}function g0(U,z,j){for(var le=-1,Re=U==null?0:U.length;++le<Re;)if(j(z,U[le]))return!0;return!1}function It(U,z){for(var j=-1,le=U==null?0:U.length,Re=Array(le);++j<le;)Re[j]=z(U[j],j,U);return Re}function uo(U,z){for(var j=-1,le=z.length,Re=U.length;++j<le;)U[Re+j]=z[j];return U}function m0(U,z,j,le){var Re=-1,Ze=U==null?0:U.length;for(le&&Ze&&(j=U[++Re]);++Re<Ze;)j=z(j,U[Re],Re,U);return j}function Sj(U,z,j,le){var Re=U==null?0:U.length;for(le&&Re&&(j=U[--Re]);Re--;)j=z(j,U[Re],Re,U);return j}function _0(U,z){for(var j=-1,le=U==null?0:U.length;++j<le;)if(z(U[j],j,U))return!0;return!1}var Tj=v0("length");function Ij(U){return U.split("")}function Cj(U){return U.match(xW)||[]}function yP(U,z,j){var le;return j(U,function(Re,Ze,Kt){if(z(Re,Ze,Kt))return le=Ze,!1}),le}function fp(U,z,j,le){for(var Re=U.length,Ze=j+(le?1:-1);le?Ze--:++Ze<Re;)if(z(U[Ze],Ze,U))return Ze;return-1}function Mu(U,z,j){return z===z?Uj(U,z,j):fp(U,wP,j)}function Rj(U,z,j,le){for(var Re=j-1,Ze=U.length;++Re<Ze;)if(le(U[Re],z))return Re;return-1}function wP(U){return U!==U}function EP(U,z){var j=U==null?0:U.length;return j?w0(U,z)/j:H}function v0(U){return function(z){return z==null?n:z[U]}}function y0(U){return function(z){return U==null?n:U[z]}}function SP(U,z,j,le,Re){return Re(U,function(Ze,Kt,lt){j=le?(le=!1,Ze):z(j,Ze,Kt,lt)}),j}function Aj(U,z){var j=U.length;for(U.sort(z);j--;)U[j]=U[j].value;return U}function w0(U,z){for(var j,le=-1,Re=U.length;++le<Re;){var Ze=z(U[le]);Ze!==n&&(j=j===n?Ze:j+Ze)}return j}function E0(U,z){for(var j=-1,le=Array(U);++j<U;)le[j]=z(j);return le}function Pj(U,z){return It(z,function(j){return[j,U[j]]})}function TP(U){return U&&U.slice(0,AP(U)+1).replace(a0,"")}function Tr(U){return function(z){return U(z)}}function S0(U,z){return It(z,function(j){return U[j]})}function Yc(U,z){return U.has(z)}function IP(U,z){for(var j=-1,le=U.length;++j<le&&Mu(z,U[j],0)>-1;);return j}function CP(U,z){for(var j=U.length;j--&&Mu(z,U[j],0)>-1;);return j}function kj(U,z){for(var j=U.length,le=0;j--;)U[j]===z&&++le;return le}var bj=y0(dj),Oj=y0(pj);function Nj(U){return"\\"+mj[U]}function xj(U,z){return U==null?n:U[z]}function Uu(U){return lj.test(U)}function Dj(U){return cj.test(U)}function Lj(U){for(var z,j=[];!(z=U.next()).done;)j.push(z.value);return j}function T0(U){var z=-1,j=Array(U.size);return U.forEach(function(le,Re){j[++z]=[Re,le]}),j}function RP(U,z){return function(j){return U(z(j))}}function lo(U,z){for(var j=-1,le=U.length,Re=0,Ze=[];++j<le;){var Kt=U[j];(Kt===z||Kt===d)&&(U[j]=d,Ze[Re++]=j)}return Ze}function dp(U){var z=-1,j=Array(U.size);return U.forEach(function(le){j[++z]=le}),j}function Mj(U){var z=-1,j=Array(U.size);return U.forEach(function(le){j[++z]=[le,le]}),j}function Uj(U,z,j){for(var le=j-1,Re=U.length;++le<Re;)if(U[le]===z)return le;return-1}function Fj(U,z,j){for(var le=j+1;le--;)if(U[le]===z)return le;return le}function Fu(U){return Uu(U)?Vj(U):Tj(U)}function pi(U){return Uu(U)?Wj(U):Ij(U)}function AP(U){for(var z=U.length;z--&&kW.test(U.charAt(z)););return z}var $j=y0(gj);function Vj(U){for(var z=f0.lastIndex=0;f0.test(U);)++z;return z}function Wj(U){return U.match(f0)||[]}function jj(U){return U.match(uj)||[]}var Bj=function U(z){z=z==null?fn:$u.defaults(fn.Object(),z,$u.pick(fn,hj));var j=z.Array,le=z.Date,Re=z.Error,Ze=z.Function,Kt=z.Math,lt=z.Object,I0=z.RegExp,zj=z.String,Hr=z.TypeError,pp=j.prototype,Hj=Ze.prototype,Vu=lt.prototype,gp=z["__core-js_shared__"],mp=Hj.toString,nt=Vu.hasOwnProperty,qj=0,PP=function(){var a=/[^.]+$/.exec(gp&&gp.keys&&gp.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),_p=Vu.toString,Gj=mp.call(lt),Yj=fn._,Kj=I0("^"+mp.call(nt).replace(o0,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vp=hP?z.Buffer:n,co=z.Symbol,yp=z.Uint8Array,kP=vp?vp.allocUnsafe:n,wp=RP(lt.getPrototypeOf,lt),bP=lt.create,OP=Vu.propertyIsEnumerable,Ep=pp.splice,NP=co?co.isConcatSpreadable:n,Kc=co?co.iterator:n,Ta=co?co.toStringTag:n,Sp=function(){try{var a=Pa(lt,"defineProperty");return a({},"",{}),a}catch{}}(),Qj=z.clearTimeout!==fn.clearTimeout&&z.clearTimeout,Xj=le&&le.now!==fn.Date.now&&le.now,Jj=z.setTimeout!==fn.setTimeout&&z.setTimeout,Tp=Kt.ceil,Ip=Kt.floor,C0=lt.getOwnPropertySymbols,Zj=vp?vp.isBuffer:n,xP=z.isFinite,e9=pp.join,t9=RP(lt.keys,lt),Qt=Kt.max,Pn=Kt.min,n9=le.now,r9=z.parseInt,DP=Kt.random,i9=pp.reverse,R0=Pa(z,"DataView"),Qc=Pa(z,"Map"),A0=Pa(z,"Promise"),Wu=Pa(z,"Set"),Xc=Pa(z,"WeakMap"),Jc=Pa(lt,"create"),Cp=Xc&&new Xc,ju={},s9=ka(R0),o9=ka(Qc),a9=ka(A0),u9=ka(Wu),l9=ka(Xc),Rp=co?co.prototype:n,Zc=Rp?Rp.valueOf:n,LP=Rp?Rp.toString:n;function A(a){if(xt(a)&&!Pe(a)&&!(a instanceof Ve)){if(a instanceof qr)return a;if(nt.call(a,"__wrapped__"))return Mk(a)}return new qr(a)}var Bu=function(){function a(){}return function(c){if(!Pt(c))return{};if(bP)return bP(c);a.prototype=c;var f=new a;return a.prototype=n,f}}();function Ap(){}function qr(a,c){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=n}A.templateSettings={escape:TW,evaluate:IW,interpolate:zA,variable:"",imports:{_:A}},A.prototype=Ap.prototype,A.prototype.constructor=A,qr.prototype=Bu(Ap.prototype),qr.prototype.constructor=qr;function Ve(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ue,this.__views__=[]}function c9(){var a=new Ve(this.__wrapped__);return a.__actions__=cr(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=cr(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=cr(this.__views__),a}function h9(){if(this.__filtered__){var a=new Ve(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function f9(){var a=this.__wrapped__.value(),c=this.__dir__,f=Pe(a),m=c<0,y=f?a.length:0,P=IB(0,y,this.__views__),x=P.start,L=P.end,$=L-x,q=m?L:x-1,Y=this.__iteratees__,Q=Y.length,se=0,pe=Pn($,this.__takeCount__);if(!f||!m&&y==$&&pe==$)return sk(a,this.__actions__);var ye=[];e:for(;$--&&se<pe;){q+=c;for(var xe=-1,we=a[q];++xe<Q;){var Fe=Y[xe],Be=Fe.iteratee,Rr=Fe.type,Xn=Be(we);if(Rr==N)we=Xn;else if(!Xn){if(Rr==w)continue e;break e}}ye[se++]=we}return ye}Ve.prototype=Bu(Ap.prototype),Ve.prototype.constructor=Ve;function Ia(a){var c=-1,f=a==null?0:a.length;for(this.clear();++c<f;){var m=a[c];this.set(m[0],m[1])}}function d9(){this.__data__=Jc?Jc(null):{},this.size=0}function p9(a){var c=this.has(a)&&delete this.__data__[a];return this.size-=c?1:0,c}function g9(a){var c=this.__data__;if(Jc){var f=c[a];return f===l?n:f}return nt.call(c,a)?c[a]:n}function m9(a){var c=this.__data__;return Jc?c[a]!==n:nt.call(c,a)}function _9(a,c){var f=this.__data__;return this.size+=this.has(a)?0:1,f[a]=Jc&&c===n?l:c,this}Ia.prototype.clear=d9,Ia.prototype.delete=p9,Ia.prototype.get=g9,Ia.prototype.has=m9,Ia.prototype.set=_9;function ms(a){var c=-1,f=a==null?0:a.length;for(this.clear();++c<f;){var m=a[c];this.set(m[0],m[1])}}function v9(){this.__data__=[],this.size=0}function y9(a){var c=this.__data__,f=Pp(c,a);if(f<0)return!1;var m=c.length-1;return f==m?c.pop():Ep.call(c,f,1),--this.size,!0}function w9(a){var c=this.__data__,f=Pp(c,a);return f<0?n:c[f][1]}function E9(a){return Pp(this.__data__,a)>-1}function S9(a,c){var f=this.__data__,m=Pp(f,a);return m<0?(++this.size,f.push([a,c])):f[m][1]=c,this}ms.prototype.clear=v9,ms.prototype.delete=y9,ms.prototype.get=w9,ms.prototype.has=E9,ms.prototype.set=S9;function _s(a){var c=-1,f=a==null?0:a.length;for(this.clear();++c<f;){var m=a[c];this.set(m[0],m[1])}}function T9(){this.size=0,this.__data__={hash:new Ia,map:new(Qc||ms),string:new Ia}}function I9(a){var c=Vp(this,a).delete(a);return this.size-=c?1:0,c}function C9(a){return Vp(this,a).get(a)}function R9(a){return Vp(this,a).has(a)}function A9(a,c){var f=Vp(this,a),m=f.size;return f.set(a,c),this.size+=f.size==m?0:1,this}_s.prototype.clear=T9,_s.prototype.delete=I9,_s.prototype.get=C9,_s.prototype.has=R9,_s.prototype.set=A9;function Ca(a){var c=-1,f=a==null?0:a.length;for(this.__data__=new _s;++c<f;)this.add(a[c])}function P9(a){return this.__data__.set(a,l),this}function k9(a){return this.__data__.has(a)}Ca.prototype.add=Ca.prototype.push=P9,Ca.prototype.has=k9;function gi(a){var c=this.__data__=new ms(a);this.size=c.size}function b9(){this.__data__=new ms,this.size=0}function O9(a){var c=this.__data__,f=c.delete(a);return this.size=c.size,f}function N9(a){return this.__data__.get(a)}function x9(a){return this.__data__.has(a)}function D9(a,c){var f=this.__data__;if(f instanceof ms){var m=f.__data__;if(!Qc||m.length<i-1)return m.push([a,c]),this.size=++f.size,this;f=this.__data__=new _s(m)}return f.set(a,c),this.size=f.size,this}gi.prototype.clear=b9,gi.prototype.delete=O9,gi.prototype.get=N9,gi.prototype.has=x9,gi.prototype.set=D9;function MP(a,c){var f=Pe(a),m=!f&&ba(a),y=!f&&!m&&mo(a),P=!f&&!m&&!y&&Gu(a),x=f||m||y||P,L=x?E0(a.length,zj):[],$=L.length;for(var q in a)(c||nt.call(a,q))&&!(x&&(q=="length"||y&&(q=="offset"||q=="parent")||P&&(q=="buffer"||q=="byteLength"||q=="byteOffset")||Es(q,$)))&&L.push(q);return L}function UP(a){var c=a.length;return c?a[F0(0,c-1)]:n}function L9(a,c){return Wp(cr(a),Ra(c,0,a.length))}function M9(a){return Wp(cr(a))}function P0(a,c,f){(f!==n&&!mi(a[c],f)||f===n&&!(c in a))&&vs(a,c,f)}function eh(a,c,f){var m=a[c];(!(nt.call(a,c)&&mi(m,f))||f===n&&!(c in a))&&vs(a,c,f)}function Pp(a,c){for(var f=a.length;f--;)if(mi(a[f][0],c))return f;return-1}function U9(a,c,f,m){return ho(a,function(y,P,x){c(m,y,f(y),x)}),m}function FP(a,c){return a&&Bi(c,rn(c),a)}function F9(a,c){return a&&Bi(c,fr(c),a)}function vs(a,c,f){c=="__proto__"&&Sp?Sp(a,c,{configurable:!0,enumerable:!0,value:f,writable:!0}):a[c]=f}function k0(a,c){for(var f=-1,m=c.length,y=j(m),P=a==null;++f<m;)y[f]=P?n:lw(a,c[f]);return y}function Ra(a,c,f){return a===a&&(f!==n&&(a=a<=f?a:f),c!==n&&(a=a>=c?a:c)),a}function Gr(a,c,f,m,y,P){var x,L=c&p,$=c&g,q=c&v;if(f&&(x=y?f(a,m,y,P):f(a)),x!==n)return x;if(!Pt(a))return a;var Y=Pe(a);if(Y){if(x=RB(a),!L)return cr(a,x)}else{var Q=kn(a),se=Q==op||Q==VA;if(mo(a))return uk(a,L);if(Q==gs||Q==Wi||se&&!y){if(x=$||se?{}:Ak(a),!L)return $?gB(a,F9(x,a)):pB(a,FP(x,a))}else{if(!ht[Q])return y?a:{};x=AB(a,Q,L)}}P||(P=new gi);var pe=P.get(a);if(pe)return pe;P.set(a,x),nb(a)?a.forEach(function(we){x.add(Gr(we,c,f,we,a,P))}):eb(a)&&a.forEach(function(we,Fe){x.set(Fe,Gr(we,c,f,Fe,a,P))});var ye=q?$?K0:Y0:$?fr:rn,xe=Y?n:ye(a);return zr(xe||a,function(we,Fe){xe&&(Fe=we,we=a[Fe]),eh(x,Fe,Gr(we,c,f,Fe,a,P))}),x}function $9(a){var c=rn(a);return function(f){return $P(f,a,c)}}function $P(a,c,f){var m=f.length;if(a==null)return!m;for(a=lt(a);m--;){var y=f[m],P=c[y],x=a[y];if(x===n&&!(y in a)||!P(x))return!1}return!0}function VP(a,c,f){if(typeof a!="function")throw new Hr(o);return ah(function(){a.apply(n,f)},c)}function th(a,c,f,m){var y=-1,P=hp,x=!0,L=a.length,$=[],q=c.length;if(!L)return $;f&&(c=It(c,Tr(f))),m?(P=g0,x=!1):c.length>=i&&(P=Yc,x=!1,c=new Ca(c));e:for(;++y<L;){var Y=a[y],Q=f==null?Y:f(Y);if(Y=m||Y!==0?Y:0,x&&Q===Q){for(var se=q;se--;)if(c[se]===Q)continue e;$.push(Y)}else P(c,Q,m)||$.push(Y)}return $}var ho=dk(ji),WP=dk(O0,!0);function V9(a,c){var f=!0;return ho(a,function(m,y,P){return f=!!c(m,y,P),f}),f}function kp(a,c,f){for(var m=-1,y=a.length;++m<y;){var P=a[m],x=c(P);if(x!=null&&(L===n?x===x&&!Cr(x):f(x,L)))var L=x,$=P}return $}function W9(a,c,f,m){var y=a.length;for(f=be(f),f<0&&(f=-f>y?0:y+f),m=m===n||m>y?y:be(m),m<0&&(m+=y),m=f>m?0:ib(m);f<m;)a[f++]=c;return a}function jP(a,c){var f=[];return ho(a,function(m,y,P){c(m,y,P)&&f.push(m)}),f}function dn(a,c,f,m,y){var P=-1,x=a.length;for(f||(f=kB),y||(y=[]);++P<x;){var L=a[P];c>0&&f(L)?c>1?dn(L,c-1,f,m,y):uo(y,L):m||(y[y.length]=L)}return y}var b0=pk(),BP=pk(!0);function ji(a,c){return a&&b0(a,c,rn)}function O0(a,c){return a&&BP(a,c,rn)}function bp(a,c){return ao(c,function(f){return Ss(a[f])})}function Aa(a,c){c=po(c,a);for(var f=0,m=c.length;a!=null&&f<m;)a=a[zi(c[f++])];return f&&f==m?a:n}function zP(a,c,f){var m=c(a);return Pe(a)?m:uo(m,f(a))}function Kn(a){return a==null?a===n?mW:pW:Ta&&Ta in lt(a)?TB(a):MB(a)}function N0(a,c){return a>c}function j9(a,c){return a!=null&&nt.call(a,c)}function B9(a,c){return a!=null&&c in lt(a)}function z9(a,c,f){return a>=Pn(c,f)&&a<Qt(c,f)}function x0(a,c,f){for(var m=f?g0:hp,y=a[0].length,P=a.length,x=P,L=j(P),$=1/0,q=[];x--;){var Y=a[x];x&&c&&(Y=It(Y,Tr(c))),$=Pn(Y.length,$),L[x]=!f&&(c||y>=120&&Y.length>=120)?new Ca(x&&Y):n}Y=a[0];var Q=-1,se=L[0];e:for(;++Q<y&&q.length<$;){var pe=Y[Q],ye=c?c(pe):pe;if(pe=f||pe!==0?pe:0,!(se?Yc(se,ye):m(q,ye,f))){for(x=P;--x;){var xe=L[x];if(!(xe?Yc(xe,ye):m(a[x],ye,f)))continue e}se&&se.push(ye),q.push(pe)}}return q}function H9(a,c,f,m){return ji(a,function(y,P,x){c(m,f(y),P,x)}),m}function nh(a,c,f){c=po(c,a),a=Ok(a,c);var m=a==null?a:a[zi(Kr(c))];return m==null?n:Sr(m,a,f)}function HP(a){return xt(a)&&Kn(a)==Wi}function q9(a){return xt(a)&&Kn(a)==Gc}function G9(a){return xt(a)&&Kn(a)==jc}function rh(a,c,f,m,y){return a===c?!0:a==null||c==null||!xt(a)&&!xt(c)?a!==a&&c!==c:Y9(a,c,f,m,rh,y)}function Y9(a,c,f,m,y,P){var x=Pe(a),L=Pe(c),$=x?jr:kn(a),q=L?jr:kn(c);$=$==Wi?gs:$,q=q==Wi?gs:q;var Y=$==gs,Q=q==gs,se=$==q;if(se&&mo(a)){if(!mo(c))return!1;x=!0,Y=!1}if(se&&!Y)return P||(P=new gi),x||Gu(a)?Ik(a,c,f,m,y,P):EB(a,c,$,f,m,y,P);if(!(f&E)){var pe=Y&&nt.call(a,"__wrapped__"),ye=Q&&nt.call(c,"__wrapped__");if(pe||ye){var xe=pe?a.value():a,we=ye?c.value():c;return P||(P=new gi),y(xe,we,f,m,P)}}return se?(P||(P=new gi),SB(a,c,f,m,y,P)):!1}function K9(a){return xt(a)&&kn(a)==fi}function D0(a,c,f,m){var y=f.length,P=y,x=!m;if(a==null)return!P;for(a=lt(a);y--;){var L=f[y];if(x&&L[2]?L[1]!==a[L[0]]:!(L[0]in a))return!1}for(;++y<P;){L=f[y];var $=L[0],q=a[$],Y=L[1];if(x&&L[2]){if(q===n&&!($ in a))return!1}else{var Q=new gi;if(m)var se=m(q,Y,$,a,c,Q);if(!(se===n?rh(Y,q,E|C,m,Q):se))return!1}}return!0}function qP(a){if(!Pt(a)||OB(a))return!1;var c=Ss(a)?Kj:$W;return c.test(ka(a))}function Q9(a){return xt(a)&&Kn(a)==zc}function X9(a){return xt(a)&&kn(a)==di}function J9(a){return xt(a)&&Gp(a.length)&&!!mt[Kn(a)]}function GP(a){return typeof a=="function"?a:a==null?dr:typeof a=="object"?Pe(a)?QP(a[0],a[1]):KP(a):gb(a)}function L0(a){if(!oh(a))return t9(a);var c=[];for(var f in lt(a))nt.call(a,f)&&f!="constructor"&&c.push(f);return c}function Z9(a){if(!Pt(a))return LB(a);var c=oh(a),f=[];for(var m in a)m=="constructor"&&(c||!nt.call(a,m))||f.push(m);return f}function M0(a,c){return a<c}function YP(a,c){var f=-1,m=hr(a)?j(a.length):[];return ho(a,function(y,P,x){m[++f]=c(y,P,x)}),m}function KP(a){var c=X0(a);return c.length==1&&c[0][2]?kk(c[0][0],c[0][1]):function(f){return f===a||D0(f,a,c)}}function QP(a,c){return Z0(a)&&Pk(c)?kk(zi(a),c):function(f){var m=lw(f,a);return m===n&&m===c?cw(f,a):rh(c,m,E|C)}}function Op(a,c,f,m,y){a!==c&&b0(c,function(P,x){if(y||(y=new gi),Pt(P))eB(a,c,x,f,Op,m,y);else{var L=m?m(tw(a,x),P,x+"",a,c,y):n;L===n&&(L=P),P0(a,x,L)}},fr)}function eB(a,c,f,m,y,P,x){var L=tw(a,f),$=tw(c,f),q=x.get($);if(q){P0(a,f,q);return}var Y=P?P(L,$,f+"",a,c,x):n,Q=Y===n;if(Q){var se=Pe($),pe=!se&&mo($),ye=!se&&!pe&&Gu($);Y=$,se||pe||ye?Pe(L)?Y=L:Vt(L)?Y=cr(L):pe?(Q=!1,Y=uk($,!0)):ye?(Q=!1,Y=lk($,!0)):Y=[]:uh($)||ba($)?(Y=L,ba(L)?Y=sb(L):(!Pt(L)||Ss(L))&&(Y=Ak($))):Q=!1}Q&&(x.set($,Y),y(Y,$,m,P,x),x.delete($)),P0(a,f,Y)}function XP(a,c){var f=a.length;if(f)return c+=c<0?f:0,Es(c,f)?a[c]:n}function JP(a,c,f){c.length?c=It(c,function(P){return Pe(P)?function(x){return Aa(x,P.length===1?P[0]:P)}:P}):c=[dr];var m=-1;c=It(c,Tr(ve()));var y=YP(a,function(P,x,L){var $=It(c,function(q){return q(P)});return{criteria:$,index:++m,value:P}});return Aj(y,function(P,x){return dB(P,x,f)})}function tB(a,c){return ZP(a,c,function(f,m){return cw(a,m)})}function ZP(a,c,f){for(var m=-1,y=c.length,P={};++m<y;){var x=c[m],L=Aa(a,x);f(L,x)&&ih(P,po(x,a),L)}return P}function nB(a){return function(c){return Aa(c,a)}}function U0(a,c,f,m){var y=m?Rj:Mu,P=-1,x=c.length,L=a;for(a===c&&(c=cr(c)),f&&(L=It(a,Tr(f)));++P<x;)for(var $=0,q=c[P],Y=f?f(q):q;($=y(L,Y,$,m))>-1;)L!==a&&Ep.call(L,$,1),Ep.call(a,$,1);return a}function ek(a,c){for(var f=a?c.length:0,m=f-1;f--;){var y=c[f];if(f==m||y!==P){var P=y;Es(y)?Ep.call(a,y,1):W0(a,y)}}return a}function F0(a,c){return a+Ip(DP()*(c-a+1))}function rB(a,c,f,m){for(var y=-1,P=Qt(Tp((c-a)/(f||1)),0),x=j(P);P--;)x[m?P:++y]=a,a+=f;return x}function $0(a,c){var f="";if(!a||c<1||c>M)return f;do c%2&&(f+=a),c=Ip(c/2),c&&(a+=a);while(c);return f}function De(a,c){return nw(bk(a,c,dr),a+"")}function iB(a){return UP(Yu(a))}function sB(a,c){var f=Yu(a);return Wp(f,Ra(c,0,f.length))}function ih(a,c,f,m){if(!Pt(a))return a;c=po(c,a);for(var y=-1,P=c.length,x=P-1,L=a;L!=null&&++y<P;){var $=zi(c[y]),q=f;if($==="__proto__"||$==="constructor"||$==="prototype")return a;if(y!=x){var Y=L[$];q=m?m(Y,$,L):n,q===n&&(q=Pt(Y)?Y:Es(c[y+1])?[]:{})}eh(L,$,q),L=L[$]}return a}var tk=Cp?function(a,c){return Cp.set(a,c),a}:dr,oB=Sp?function(a,c){return Sp(a,"toString",{configurable:!0,enumerable:!1,value:fw(c),writable:!0})}:dr;function aB(a){return Wp(Yu(a))}function Yr(a,c,f){var m=-1,y=a.length;c<0&&(c=-c>y?0:y+c),f=f>y?y:f,f<0&&(f+=y),y=c>f?0:f-c>>>0,c>>>=0;for(var P=j(y);++m<y;)P[m]=a[m+c];return P}function uB(a,c){var f;return ho(a,function(m,y,P){return f=c(m,y,P),!f}),!!f}function Np(a,c,f){var m=0,y=a==null?m:a.length;if(typeof c=="number"&&c===c&&y<=Se){for(;m<y;){var P=m+y>>>1,x=a[P];x!==null&&!Cr(x)&&(f?x<=c:x<c)?m=P+1:y=P}return y}return V0(a,c,dr,f)}function V0(a,c,f,m){var y=0,P=a==null?0:a.length;if(P===0)return 0;c=f(c);for(var x=c!==c,L=c===null,$=Cr(c),q=c===n;y<P;){var Y=Ip((y+P)/2),Q=f(a[Y]),se=Q!==n,pe=Q===null,ye=Q===Q,xe=Cr(Q);if(x)var we=m||ye;else q?we=ye&&(m||se):L?we=ye&&se&&(m||!pe):$?we=ye&&se&&!pe&&(m||!xe):pe||xe?we=!1:we=m?Q<=c:Q<c;we?y=Y+1:P=Y}return Pn(P,fe)}function nk(a,c){for(var f=-1,m=a.length,y=0,P=[];++f<m;){var x=a[f],L=c?c(x):x;if(!f||!mi(L,$)){var $=L;P[y++]=x===0?0:x}}return P}function rk(a){return typeof a=="number"?a:Cr(a)?H:+a}function Ir(a){if(typeof a=="string")return a;if(Pe(a))return It(a,Ir)+"";if(Cr(a))return LP?LP.call(a):"";var c=a+"";return c=="0"&&1/a==-O?"-0":c}function fo(a,c,f){var m=-1,y=hp,P=a.length,x=!0,L=[],$=L;if(f)x=!1,y=g0;else if(P>=i){var q=c?null:yB(a);if(q)return dp(q);x=!1,y=Yc,$=new Ca}else $=c?[]:L;e:for(;++m<P;){var Y=a[m],Q=c?c(Y):Y;if(Y=f||Y!==0?Y:0,x&&Q===Q){for(var se=$.length;se--;)if($[se]===Q)continue e;c&&$.push(Q),L.push(Y)}else y($,Q,f)||($!==L&&$.push(Q),L.push(Y))}return L}function W0(a,c){return c=po(c,a),a=Ok(a,c),a==null||delete a[zi(Kr(c))]}function ik(a,c,f,m){return ih(a,c,f(Aa(a,c)),m)}function xp(a,c,f,m){for(var y=a.length,P=m?y:-1;(m?P--:++P<y)&&c(a[P],P,a););return f?Yr(a,m?0:P,m?P+1:y):Yr(a,m?P+1:0,m?y:P)}function sk(a,c){var f=a;return f instanceof Ve&&(f=f.value()),m0(c,function(m,y){return y.func.apply(y.thisArg,uo([m],y.args))},f)}function j0(a,c,f){var m=a.length;if(m<2)return m?fo(a[0]):[];for(var y=-1,P=j(m);++y<m;)for(var x=a[y],L=-1;++L<m;)L!=y&&(P[y]=th(P[y]||x,a[L],c,f));return fo(dn(P,1),c,f)}function ok(a,c,f){for(var m=-1,y=a.length,P=c.length,x={};++m<y;){var L=m<P?c[m]:n;f(x,a[m],L)}return x}function B0(a){return Vt(a)?a:[]}function z0(a){return typeof a=="function"?a:dr}function po(a,c){return Pe(a)?a:Z0(a,c)?[a]:Lk(tt(a))}var lB=De;function go(a,c,f){var m=a.length;return f=f===n?m:f,!c&&f>=m?a:Yr(a,c,f)}var ak=Qj||function(a){return fn.clearTimeout(a)};function uk(a,c){if(c)return a.slice();var f=a.length,m=kP?kP(f):new a.constructor(f);return a.copy(m),m}function H0(a){var c=new a.constructor(a.byteLength);return new yp(c).set(new yp(a)),c}function cB(a,c){var f=c?H0(a.buffer):a.buffer;return new a.constructor(f,a.byteOffset,a.byteLength)}function hB(a){var c=new a.constructor(a.source,HA.exec(a));return c.lastIndex=a.lastIndex,c}function fB(a){return Zc?lt(Zc.call(a)):{}}function lk(a,c){var f=c?H0(a.buffer):a.buffer;return new a.constructor(f,a.byteOffset,a.length)}function ck(a,c){if(a!==c){var f=a!==n,m=a===null,y=a===a,P=Cr(a),x=c!==n,L=c===null,$=c===c,q=Cr(c);if(!L&&!q&&!P&&a>c||P&&x&&$&&!L&&!q||m&&x&&$||!f&&$||!y)return 1;if(!m&&!P&&!q&&a<c||q&&f&&y&&!m&&!P||L&&f&&y||!x&&y||!$)return-1}return 0}function dB(a,c,f){for(var m=-1,y=a.criteria,P=c.criteria,x=y.length,L=f.length;++m<x;){var $=ck(y[m],P[m]);if($){if(m>=L)return $;var q=f[m];return $*(q=="desc"?-1:1)}}return a.index-c.index}function hk(a,c,f,m){for(var y=-1,P=a.length,x=f.length,L=-1,$=c.length,q=Qt(P-x,0),Y=j($+q),Q=!m;++L<$;)Y[L]=c[L];for(;++y<x;)(Q||y<P)&&(Y[f[y]]=a[y]);for(;q--;)Y[L++]=a[y++];return Y}function fk(a,c,f,m){for(var y=-1,P=a.length,x=-1,L=f.length,$=-1,q=c.length,Y=Qt(P-L,0),Q=j(Y+q),se=!m;++y<Y;)Q[y]=a[y];for(var pe=y;++$<q;)Q[pe+$]=c[$];for(;++x<L;)(se||y<P)&&(Q[pe+f[x]]=a[y++]);return Q}function cr(a,c){var f=-1,m=a.length;for(c||(c=j(m));++f<m;)c[f]=a[f];return c}function Bi(a,c,f,m){var y=!f;f||(f={});for(var P=-1,x=c.length;++P<x;){var L=c[P],$=m?m(f[L],a[L],L,f,a):n;$===n&&($=a[L]),y?vs(f,L,$):eh(f,L,$)}return f}function pB(a,c){return Bi(a,J0(a),c)}function gB(a,c){return Bi(a,Ck(a),c)}function Dp(a,c){return function(f,m){var y=Pe(f)?wj:U9,P=c?c():{};return y(f,a,ve(m,2),P)}}function zu(a){return De(function(c,f){var m=-1,y=f.length,P=y>1?f[y-1]:n,x=y>2?f[2]:n;for(P=a.length>3&&typeof P=="function"?(y--,P):n,x&&Qn(f[0],f[1],x)&&(P=y<3?n:P,y=1),c=lt(c);++m<y;){var L=f[m];L&&a(c,L,m,P)}return c})}function dk(a,c){return function(f,m){if(f==null)return f;if(!hr(f))return a(f,m);for(var y=f.length,P=c?y:-1,x=lt(f);(c?P--:++P<y)&&m(x[P],P,x)!==!1;);return f}}function pk(a){return function(c,f,m){for(var y=-1,P=lt(c),x=m(c),L=x.length;L--;){var $=x[a?L:++y];if(f(P[$],$,P)===!1)break}return c}}function mB(a,c,f){var m=c&R,y=sh(a);function P(){var x=this&&this!==fn&&this instanceof P?y:a;return x.apply(m?f:this,arguments)}return P}function gk(a){return function(c){c=tt(c);var f=Uu(c)?pi(c):n,m=f?f[0]:c.charAt(0),y=f?go(f,1).join(""):c.slice(1);return m[a]()+y}}function Hu(a){return function(c){return m0(db(fb(c).replace(oj,"")),a,"")}}function sh(a){return function(){var c=arguments;switch(c.length){case 0:return new a;case 1:return new a(c[0]);case 2:return new a(c[0],c[1]);case 3:return new a(c[0],c[1],c[2]);case 4:return new a(c[0],c[1],c[2],c[3]);case 5:return new a(c[0],c[1],c[2],c[3],c[4]);case 6:return new a(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new a(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var f=Bu(a.prototype),m=a.apply(f,c);return Pt(m)?m:f}}function _B(a,c,f){var m=sh(a);function y(){for(var P=arguments.length,x=j(P),L=P,$=qu(y);L--;)x[L]=arguments[L];var q=P<3&&x[0]!==$&&x[P-1]!==$?[]:lo(x,$);if(P-=q.length,P<f)return wk(a,c,Lp,y.placeholder,n,x,q,n,n,f-P);var Y=this&&this!==fn&&this instanceof y?m:a;return Sr(Y,this,x)}return y}function mk(a){return function(c,f,m){var y=lt(c);if(!hr(c)){var P=ve(f,3);c=rn(c),f=function(L){return P(y[L],L,y)}}var x=a(c,f,m);return x>-1?y[P?c[x]:x]:n}}function _k(a){return ws(function(c){var f=c.length,m=f,y=qr.prototype.thru;for(a&&c.reverse();m--;){var P=c[m];if(typeof P!="function")throw new Hr(o);if(y&&!x&&$p(P)=="wrapper")var x=new qr([],!0)}for(m=x?m:f;++m<f;){P=c[m];var L=$p(P),$=L=="wrapper"?Q0(P):n;$&&ew($[0])&&$[1]==(W|k|F|G)&&!$[4].length&&$[9]==1?x=x[$p($[0])].apply(x,$[3]):x=P.length==1&&ew(P)?x[L]():x.thru(P)}return function(){var q=arguments,Y=q[0];if(x&&q.length==1&&Pe(Y))return x.plant(Y).value();for(var Q=0,se=f?c[Q].apply(this,q):Y;++Q<f;)se=c[Q].call(this,se);return se}})}function Lp(a,c,f,m,y,P,x,L,$,q){var Y=c&W,Q=c&R,se=c&S,pe=c&(k|b),ye=c&ie,xe=se?n:sh(a);function we(){for(var Fe=arguments.length,Be=j(Fe),Rr=Fe;Rr--;)Be[Rr]=arguments[Rr];if(pe)var Xn=qu(we),Ar=kj(Be,Xn);if(m&&(Be=hk(Be,m,y,pe)),P&&(Be=fk(Be,P,x,pe)),Fe-=Ar,pe&&Fe<q){var Wt=lo(Be,Xn);return wk(a,c,Lp,we.placeholder,f,Be,Wt,L,$,q-Fe)}var _i=Q?f:this,Is=se?_i[a]:a;return Fe=Be.length,L?Be=UB(Be,L):ye&&Fe>1&&Be.reverse(),Y&&$<Fe&&(Be.length=$),this&&this!==fn&&this instanceof we&&(Is=xe||sh(Is)),Is.apply(_i,Be)}return we}function vk(a,c){return function(f,m){return H9(f,a,c(m),{})}}function Mp(a,c){return function(f,m){var y;if(f===n&&m===n)return c;if(f!==n&&(y=f),m!==n){if(y===n)return m;typeof f=="string"||typeof m=="string"?(f=Ir(f),m=Ir(m)):(f=rk(f),m=rk(m)),y=a(f,m)}return y}}function q0(a){return ws(function(c){return c=It(c,Tr(ve())),De(function(f){var m=this;return a(c,function(y){return Sr(y,m,f)})})})}function Up(a,c){c=c===n?" ":Ir(c);var f=c.length;if(f<2)return f?$0(c,a):c;var m=$0(c,Tp(a/Fu(c)));return Uu(c)?go(pi(m),0,a).join(""):m.slice(0,a)}function vB(a,c,f,m){var y=c&R,P=sh(a);function x(){for(var L=-1,$=arguments.length,q=-1,Y=m.length,Q=j(Y+$),se=this&&this!==fn&&this instanceof x?P:a;++q<Y;)Q[q]=m[q];for(;$--;)Q[q++]=arguments[++L];return Sr(se,y?f:this,Q)}return x}function yk(a){return function(c,f,m){return m&&typeof m!="number"&&Qn(c,f,m)&&(f=m=n),c=Ts(c),f===n?(f=c,c=0):f=Ts(f),m=m===n?c<f?1:-1:Ts(m),rB(c,f,m,a)}}function Fp(a){return function(c,f){return typeof c=="string"&&typeof f=="string"||(c=Qr(c),f=Qr(f)),a(c,f)}}function wk(a,c,f,m,y,P,x,L,$,q){var Y=c&k,Q=Y?x:n,se=Y?n:x,pe=Y?P:n,ye=Y?n:P;c|=Y?F:V,c&=~(Y?V:F),c&T||(c&=~(R|S));var xe=[a,c,y,pe,Q,ye,se,L,$,q],we=f.apply(n,xe);return ew(a)&&Nk(we,xe),we.placeholder=m,xk(we,a,c)}function G0(a){var c=Kt[a];return function(f,m){if(f=Qr(f),m=m==null?0:Pn(be(m),292),m&&xP(f)){var y=(tt(f)+"e").split("e"),P=c(y[0]+"e"+(+y[1]+m));return y=(tt(P)+"e").split("e"),+(y[0]+"e"+(+y[1]-m))}return c(f)}}var yB=Wu&&1/dp(new Wu([,-0]))[1]==O?function(a){return new Wu(a)}:gw;function Ek(a){return function(c){var f=kn(c);return f==fi?T0(c):f==di?Mj(c):Pj(c,a(c))}}function ys(a,c,f,m,y,P,x,L){var $=c&S;if(!$&&typeof a!="function")throw new Hr(o);var q=m?m.length:0;if(q||(c&=~(F|V),m=y=n),x=x===n?x:Qt(be(x),0),L=L===n?L:be(L),q-=y?y.length:0,c&V){var Y=m,Q=y;m=y=n}var se=$?n:Q0(a),pe=[a,c,f,m,y,Y,Q,P,x,L];if(se&&DB(pe,se),a=pe[0],c=pe[1],f=pe[2],m=pe[3],y=pe[4],L=pe[9]=pe[9]===n?$?0:a.length:Qt(pe[9]-q,0),!L&&c&(k|b)&&(c&=~(k|b)),!c||c==R)var ye=mB(a,c,f);else c==k||c==b?ye=_B(a,c,L):(c==F||c==(R|F))&&!y.length?ye=vB(a,c,f,m):ye=Lp.apply(n,pe);var xe=se?tk:Nk;return xk(xe(ye,pe),a,c)}function Sk(a,c,f,m){return a===n||mi(a,Vu[f])&&!nt.call(m,f)?c:a}function Tk(a,c,f,m,y,P){return Pt(a)&&Pt(c)&&(P.set(c,a),Op(a,c,n,Tk,P),P.delete(c)),a}function wB(a){return uh(a)?n:a}function Ik(a,c,f,m,y,P){var x=f&E,L=a.length,$=c.length;if(L!=$&&!(x&&$>L))return!1;var q=P.get(a),Y=P.get(c);if(q&&Y)return q==c&&Y==a;var Q=-1,se=!0,pe=f&C?new Ca:n;for(P.set(a,c),P.set(c,a);++Q<L;){var ye=a[Q],xe=c[Q];if(m)var we=x?m(xe,ye,Q,c,a,P):m(ye,xe,Q,a,c,P);if(we!==n){if(we)continue;se=!1;break}if(pe){if(!_0(c,function(Fe,Be){if(!Yc(pe,Be)&&(ye===Fe||y(ye,Fe,f,m,P)))return pe.push(Be)})){se=!1;break}}else if(!(ye===xe||y(ye,xe,f,m,P))){se=!1;break}}return P.delete(a),P.delete(c),se}function EB(a,c,f,m,y,P,x){switch(f){case Du:if(a.byteLength!=c.byteLength||a.byteOffset!=c.byteOffset)return!1;a=a.buffer,c=c.buffer;case Gc:return!(a.byteLength!=c.byteLength||!P(new yp(a),new yp(c)));case Wc:case jc:case Bc:return mi(+a,+c);case sp:return a.name==c.name&&a.message==c.message;case zc:case Hc:return a==c+"";case fi:var L=T0;case di:var $=m&E;if(L||(L=dp),a.size!=c.size&&!$)return!1;var q=x.get(a);if(q)return q==c;m|=C,x.set(a,c);var Y=Ik(L(a),L(c),m,y,P,x);return x.delete(a),Y;case ap:if(Zc)return Zc.call(a)==Zc.call(c)}return!1}function SB(a,c,f,m,y,P){var x=f&E,L=Y0(a),$=L.length,q=Y0(c),Y=q.length;if($!=Y&&!x)return!1;for(var Q=$;Q--;){var se=L[Q];if(!(x?se in c:nt.call(c,se)))return!1}var pe=P.get(a),ye=P.get(c);if(pe&&ye)return pe==c&&ye==a;var xe=!0;P.set(a,c),P.set(c,a);for(var we=x;++Q<$;){se=L[Q];var Fe=a[se],Be=c[se];if(m)var Rr=x?m(Be,Fe,se,c,a,P):m(Fe,Be,se,a,c,P);if(!(Rr===n?Fe===Be||y(Fe,Be,f,m,P):Rr)){xe=!1;break}we||(we=se=="constructor")}if(xe&&!we){var Xn=a.constructor,Ar=c.constructor;Xn!=Ar&&"constructor"in a&&"constructor"in c&&!(typeof Xn=="function"&&Xn instanceof Xn&&typeof Ar=="function"&&Ar instanceof Ar)&&(xe=!1)}return P.delete(a),P.delete(c),xe}function ws(a){return nw(bk(a,n,$k),a+"")}function Y0(a){return zP(a,rn,J0)}function K0(a){return zP(a,fr,Ck)}var Q0=Cp?function(a){return Cp.get(a)}:gw;function $p(a){for(var c=a.name+"",f=ju[c],m=nt.call(ju,c)?f.length:0;m--;){var y=f[m],P=y.func;if(P==null||P==a)return y.name}return c}function qu(a){var c=nt.call(A,"placeholder")?A:a;return c.placeholder}function ve(){var a=A.iteratee||dw;return a=a===dw?GP:a,arguments.length?a(arguments[0],arguments[1]):a}function Vp(a,c){var f=a.__data__;return bB(c)?f[typeof c=="string"?"string":"hash"]:f.map}function X0(a){for(var c=rn(a),f=c.length;f--;){var m=c[f],y=a[m];c[f]=[m,y,Pk(y)]}return c}function Pa(a,c){var f=xj(a,c);return qP(f)?f:n}function TB(a){var c=nt.call(a,Ta),f=a[Ta];try{a[Ta]=n;var m=!0}catch{}var y=_p.call(a);return m&&(c?a[Ta]=f:delete a[Ta]),y}var J0=C0?function(a){return a==null?[]:(a=lt(a),ao(C0(a),function(c){return OP.call(a,c)}))}:mw,Ck=C0?function(a){for(var c=[];a;)uo(c,J0(a)),a=wp(a);return c}:mw,kn=Kn;(R0&&kn(new R0(new ArrayBuffer(1)))!=Du||Qc&&kn(new Qc)!=fi||A0&&kn(A0.resolve())!=WA||Wu&&kn(new Wu)!=di||Xc&&kn(new Xc)!=qc)&&(kn=function(a){var c=Kn(a),f=c==gs?a.constructor:n,m=f?ka(f):"";if(m)switch(m){case s9:return Du;case o9:return fi;case a9:return WA;case u9:return di;case l9:return qc}return c});function IB(a,c,f){for(var m=-1,y=f.length;++m<y;){var P=f[m],x=P.size;switch(P.type){case"drop":a+=x;break;case"dropRight":c-=x;break;case"take":c=Pn(c,a+x);break;case"takeRight":a=Qt(a,c-x);break}}return{start:a,end:c}}function CB(a){var c=a.match(OW);return c?c[1].split(NW):[]}function Rk(a,c,f){c=po(c,a);for(var m=-1,y=c.length,P=!1;++m<y;){var x=zi(c[m]);if(!(P=a!=null&&f(a,x)))break;a=a[x]}return P||++m!=y?P:(y=a==null?0:a.length,!!y&&Gp(y)&&Es(x,y)&&(Pe(a)||ba(a)))}function RB(a){var c=a.length,f=new a.constructor(c);return c&&typeof a[0]=="string"&&nt.call(a,"index")&&(f.index=a.index,f.input=a.input),f}function Ak(a){return typeof a.constructor=="function"&&!oh(a)?Bu(wp(a)):{}}function AB(a,c,f){var m=a.constructor;switch(c){case Gc:return H0(a);case Wc:case jc:return new m(+a);case Du:return cB(a,f);case Xy:case Jy:case Zy:case e0:case t0:case n0:case r0:case i0:case s0:return lk(a,f);case fi:return new m;case Bc:case Hc:return new m(a);case zc:return hB(a);case di:return new m;case ap:return fB(a)}}function PB(a,c){var f=c.length;if(!f)return a;var m=f-1;return c[m]=(f>1?"& ":"")+c[m],c=c.join(f>2?", ":" "),a.replace(bW,`{
/* [wrapped with `+c+`] */
`)}function kB(a){return Pe(a)||ba(a)||!!(NP&&a&&a[NP])}function Es(a,c){var f=typeof a;return c=c??M,!!c&&(f=="number"||f!="symbol"&&WW.test(a))&&a>-1&&a%1==0&&a<c}function Qn(a,c,f){if(!Pt(f))return!1;var m=typeof c;return(m=="number"?hr(f)&&Es(c,f.length):m=="string"&&c in f)?mi(f[c],a):!1}function Z0(a,c){if(Pe(a))return!1;var f=typeof a;return f=="number"||f=="symbol"||f=="boolean"||a==null||Cr(a)?!0:RW.test(a)||!CW.test(a)||c!=null&&a in lt(c)}function bB(a){var c=typeof a;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?a!=="__proto__":a===null}function ew(a){var c=$p(a),f=A[c];if(typeof f!="function"||!(c in Ve.prototype))return!1;if(a===f)return!0;var m=Q0(f);return!!m&&a===m[0]}function OB(a){return!!PP&&PP in a}var NB=gp?Ss:_w;function oh(a){var c=a&&a.constructor,f=typeof c=="function"&&c.prototype||Vu;return a===f}function Pk(a){return a===a&&!Pt(a)}function kk(a,c){return function(f){return f==null?!1:f[a]===c&&(c!==n||a in lt(f))}}function xB(a){var c=Hp(a,function(m){return f.size===h&&f.clear(),m}),f=c.cache;return c}function DB(a,c){var f=a[1],m=c[1],y=f|m,P=y<(R|S|W),x=m==W&&f==k||m==W&&f==G&&a[7].length<=c[8]||m==(W|G)&&c[7].length<=c[8]&&f==k;if(!(P||x))return a;m&R&&(a[2]=c[2],y|=f&R?0:T);var L=c[3];if(L){var $=a[3];a[3]=$?hk($,L,c[4]):L,a[4]=$?lo(a[3],d):c[4]}return L=c[5],L&&($=a[5],a[5]=$?fk($,L,c[6]):L,a[6]=$?lo(a[5],d):c[6]),L=c[7],L&&(a[7]=L),m&W&&(a[8]=a[8]==null?c[8]:Pn(a[8],c[8])),a[9]==null&&(a[9]=c[9]),a[0]=c[0],a[1]=y,a}function LB(a){var c=[];if(a!=null)for(var f in lt(a))c.push(f);return c}function MB(a){return _p.call(a)}function bk(a,c,f){return c=Qt(c===n?a.length-1:c,0),function(){for(var m=arguments,y=-1,P=Qt(m.length-c,0),x=j(P);++y<P;)x[y]=m[c+y];y=-1;for(var L=j(c+1);++y<c;)L[y]=m[y];return L[c]=f(x),Sr(a,this,L)}}function Ok(a,c){return c.length<2?a:Aa(a,Yr(c,0,-1))}function UB(a,c){for(var f=a.length,m=Pn(c.length,f),y=cr(a);m--;){var P=c[m];a[m]=Es(P,f)?y[P]:n}return a}function tw(a,c){if(!(c==="constructor"&&typeof a[c]=="function")&&c!="__proto__")return a[c]}var Nk=Dk(tk),ah=Jj||function(a,c){return fn.setTimeout(a,c)},nw=Dk(oB);function xk(a,c,f){var m=c+"";return nw(a,PB(m,FB(CB(m),f)))}function Dk(a){var c=0,f=0;return function(){var m=n9(),y=_-(m-f);if(f=m,y>0){if(++c>=I)return arguments[0]}else c=0;return a.apply(n,arguments)}}function Wp(a,c){var f=-1,m=a.length,y=m-1;for(c=c===n?m:c;++f<c;){var P=F0(f,y),x=a[P];a[P]=a[f],a[f]=x}return a.length=c,a}var Lk=xB(function(a){var c=[];return a.charCodeAt(0)===46&&c.push(""),a.replace(AW,function(f,m,y,P){c.push(y?P.replace(LW,"$1"):m||f)}),c});function zi(a){if(typeof a=="string"||Cr(a))return a;var c=a+"";return c=="0"&&1/a==-O?"-0":c}function ka(a){if(a!=null){try{return mp.call(a)}catch{}try{return a+""}catch{}}return""}function FB(a,c){return zr(ps,function(f){var m="_."+f[0];c&f[1]&&!hp(a,m)&&a.push(m)}),a.sort()}function Mk(a){if(a instanceof Ve)return a.clone();var c=new qr(a.__wrapped__,a.__chain__);return c.__actions__=cr(a.__actions__),c.__index__=a.__index__,c.__values__=a.__values__,c}function $B(a,c,f){(f?Qn(a,c,f):c===n)?c=1:c=Qt(be(c),0);var m=a==null?0:a.length;if(!m||c<1)return[];for(var y=0,P=0,x=j(Tp(m/c));y<m;)x[P++]=Yr(a,y,y+=c);return x}function VB(a){for(var c=-1,f=a==null?0:a.length,m=0,y=[];++c<f;){var P=a[c];P&&(y[m++]=P)}return y}function WB(){var a=arguments.length;if(!a)return[];for(var c=j(a-1),f=arguments[0],m=a;m--;)c[m-1]=arguments[m];return uo(Pe(f)?cr(f):[f],dn(c,1))}var jB=De(function(a,c){return Vt(a)?th(a,dn(c,1,Vt,!0)):[]}),BB=De(function(a,c){var f=Kr(c);return Vt(f)&&(f=n),Vt(a)?th(a,dn(c,1,Vt,!0),ve(f,2)):[]}),zB=De(function(a,c){var f=Kr(c);return Vt(f)&&(f=n),Vt(a)?th(a,dn(c,1,Vt,!0),n,f):[]});function HB(a,c,f){var m=a==null?0:a.length;return m?(c=f||c===n?1:be(c),Yr(a,c<0?0:c,m)):[]}function qB(a,c,f){var m=a==null?0:a.length;return m?(c=f||c===n?1:be(c),c=m-c,Yr(a,0,c<0?0:c)):[]}function GB(a,c){return a&&a.length?xp(a,ve(c,3),!0,!0):[]}function YB(a,c){return a&&a.length?xp(a,ve(c,3),!0):[]}function KB(a,c,f,m){var y=a==null?0:a.length;return y?(f&&typeof f!="number"&&Qn(a,c,f)&&(f=0,m=y),W9(a,c,f,m)):[]}function Uk(a,c,f){var m=a==null?0:a.length;if(!m)return-1;var y=f==null?0:be(f);return y<0&&(y=Qt(m+y,0)),fp(a,ve(c,3),y)}function Fk(a,c,f){var m=a==null?0:a.length;if(!m)return-1;var y=m-1;return f!==n&&(y=be(f),y=f<0?Qt(m+y,0):Pn(y,m-1)),fp(a,ve(c,3),y,!0)}function $k(a){var c=a==null?0:a.length;return c?dn(a,1):[]}function QB(a){var c=a==null?0:a.length;return c?dn(a,O):[]}function XB(a,c){var f=a==null?0:a.length;return f?(c=c===n?1:be(c),dn(a,c)):[]}function JB(a){for(var c=-1,f=a==null?0:a.length,m={};++c<f;){var y=a[c];m[y[0]]=y[1]}return m}function Vk(a){return a&&a.length?a[0]:n}function ZB(a,c,f){var m=a==null?0:a.length;if(!m)return-1;var y=f==null?0:be(f);return y<0&&(y=Qt(m+y,0)),Mu(a,c,y)}function e5(a){var c=a==null?0:a.length;return c?Yr(a,0,-1):[]}var t5=De(function(a){var c=It(a,B0);return c.length&&c[0]===a[0]?x0(c):[]}),n5=De(function(a){var c=Kr(a),f=It(a,B0);return c===Kr(f)?c=n:f.pop(),f.length&&f[0]===a[0]?x0(f,ve(c,2)):[]}),r5=De(function(a){var c=Kr(a),f=It(a,B0);return c=typeof c=="function"?c:n,c&&f.pop(),f.length&&f[0]===a[0]?x0(f,n,c):[]});function i5(a,c){return a==null?"":e9.call(a,c)}function Kr(a){var c=a==null?0:a.length;return c?a[c-1]:n}function s5(a,c,f){var m=a==null?0:a.length;if(!m)return-1;var y=m;return f!==n&&(y=be(f),y=y<0?Qt(m+y,0):Pn(y,m-1)),c===c?Fj(a,c,y):fp(a,wP,y,!0)}function o5(a,c){return a&&a.length?XP(a,be(c)):n}var a5=De(Wk);function Wk(a,c){return a&&a.length&&c&&c.length?U0(a,c):a}function u5(a,c,f){return a&&a.length&&c&&c.length?U0(a,c,ve(f,2)):a}function l5(a,c,f){return a&&a.length&&c&&c.length?U0(a,c,n,f):a}var c5=ws(function(a,c){var f=a==null?0:a.length,m=k0(a,c);return ek(a,It(c,function(y){return Es(y,f)?+y:y}).sort(ck)),m});function h5(a,c){var f=[];if(!(a&&a.length))return f;var m=-1,y=[],P=a.length;for(c=ve(c,3);++m<P;){var x=a[m];c(x,m,a)&&(f.push(x),y.push(m))}return ek(a,y),f}function rw(a){return a==null?a:i9.call(a)}function f5(a,c,f){var m=a==null?0:a.length;return m?(f&&typeof f!="number"&&Qn(a,c,f)?(c=0,f=m):(c=c==null?0:be(c),f=f===n?m:be(f)),Yr(a,c,f)):[]}function d5(a,c){return Np(a,c)}function p5(a,c,f){return V0(a,c,ve(f,2))}function g5(a,c){var f=a==null?0:a.length;if(f){var m=Np(a,c);if(m<f&&mi(a[m],c))return m}return-1}function m5(a,c){return Np(a,c,!0)}function _5(a,c,f){return V0(a,c,ve(f,2),!0)}function v5(a,c){var f=a==null?0:a.length;if(f){var m=Np(a,c,!0)-1;if(mi(a[m],c))return m}return-1}function y5(a){return a&&a.length?nk(a):[]}function w5(a,c){return a&&a.length?nk(a,ve(c,2)):[]}function E5(a){var c=a==null?0:a.length;return c?Yr(a,1,c):[]}function S5(a,c,f){return a&&a.length?(c=f||c===n?1:be(c),Yr(a,0,c<0?0:c)):[]}function T5(a,c,f){var m=a==null?0:a.length;return m?(c=f||c===n?1:be(c),c=m-c,Yr(a,c<0?0:c,m)):[]}function I5(a,c){return a&&a.length?xp(a,ve(c,3),!1,!0):[]}function C5(a,c){return a&&a.length?xp(a,ve(c,3)):[]}var R5=De(function(a){return fo(dn(a,1,Vt,!0))}),A5=De(function(a){var c=Kr(a);return Vt(c)&&(c=n),fo(dn(a,1,Vt,!0),ve(c,2))}),P5=De(function(a){var c=Kr(a);return c=typeof c=="function"?c:n,fo(dn(a,1,Vt,!0),n,c)});function k5(a){return a&&a.length?fo(a):[]}function b5(a,c){return a&&a.length?fo(a,ve(c,2)):[]}function O5(a,c){return c=typeof c=="function"?c:n,a&&a.length?fo(a,n,c):[]}function iw(a){if(!(a&&a.length))return[];var c=0;return a=ao(a,function(f){if(Vt(f))return c=Qt(f.length,c),!0}),E0(c,function(f){return It(a,v0(f))})}function jk(a,c){if(!(a&&a.length))return[];var f=iw(a);return c==null?f:It(f,function(m){return Sr(c,n,m)})}var N5=De(function(a,c){return Vt(a)?th(a,c):[]}),x5=De(function(a){return j0(ao(a,Vt))}),D5=De(function(a){var c=Kr(a);return Vt(c)&&(c=n),j0(ao(a,Vt),ve(c,2))}),L5=De(function(a){var c=Kr(a);return c=typeof c=="function"?c:n,j0(ao(a,Vt),n,c)}),M5=De(iw);function U5(a,c){return ok(a||[],c||[],eh)}function F5(a,c){return ok(a||[],c||[],ih)}var $5=De(function(a){var c=a.length,f=c>1?a[c-1]:n;return f=typeof f=="function"?(a.pop(),f):n,jk(a,f)});function Bk(a){var c=A(a);return c.__chain__=!0,c}function V5(a,c){return c(a),a}function jp(a,c){return c(a)}var W5=ws(function(a){var c=a.length,f=c?a[0]:0,m=this.__wrapped__,y=function(P){return k0(P,a)};return c>1||this.__actions__.length||!(m instanceof Ve)||!Es(f)?this.thru(y):(m=m.slice(f,+f+(c?1:0)),m.__actions__.push({func:jp,args:[y],thisArg:n}),new qr(m,this.__chain__).thru(function(P){return c&&!P.length&&P.push(n),P}))});function j5(){return Bk(this)}function B5(){return new qr(this.value(),this.__chain__)}function z5(){this.__values__===n&&(this.__values__=rb(this.value()));var a=this.__index__>=this.__values__.length,c=a?n:this.__values__[this.__index__++];return{done:a,value:c}}function H5(){return this}function q5(a){for(var c,f=this;f instanceof Ap;){var m=Mk(f);m.__index__=0,m.__values__=n,c?y.__wrapped__=m:c=m;var y=m;f=f.__wrapped__}return y.__wrapped__=a,c}function G5(){var a=this.__wrapped__;if(a instanceof Ve){var c=a;return this.__actions__.length&&(c=new Ve(this)),c=c.reverse(),c.__actions__.push({func:jp,args:[rw],thisArg:n}),new qr(c,this.__chain__)}return this.thru(rw)}function Y5(){return sk(this.__wrapped__,this.__actions__)}var K5=Dp(function(a,c,f){nt.call(a,f)?++a[f]:vs(a,f,1)});function Q5(a,c,f){var m=Pe(a)?vP:V9;return f&&Qn(a,c,f)&&(c=n),m(a,ve(c,3))}function X5(a,c){var f=Pe(a)?ao:jP;return f(a,ve(c,3))}var J5=mk(Uk),Z5=mk(Fk);function ez(a,c){return dn(Bp(a,c),1)}function tz(a,c){return dn(Bp(a,c),O)}function nz(a,c,f){return f=f===n?1:be(f),dn(Bp(a,c),f)}function zk(a,c){var f=Pe(a)?zr:ho;return f(a,ve(c,3))}function Hk(a,c){var f=Pe(a)?Ej:WP;return f(a,ve(c,3))}var rz=Dp(function(a,c,f){nt.call(a,f)?a[f].push(c):vs(a,f,[c])});function iz(a,c,f,m){a=hr(a)?a:Yu(a),f=f&&!m?be(f):0;var y=a.length;return f<0&&(f=Qt(y+f,0)),Yp(a)?f<=y&&a.indexOf(c,f)>-1:!!y&&Mu(a,c,f)>-1}var sz=De(function(a,c,f){var m=-1,y=typeof c=="function",P=hr(a)?j(a.length):[];return ho(a,function(x){P[++m]=y?Sr(c,x,f):nh(x,c,f)}),P}),oz=Dp(function(a,c,f){vs(a,f,c)});function Bp(a,c){var f=Pe(a)?It:YP;return f(a,ve(c,3))}function az(a,c,f,m){return a==null?[]:(Pe(c)||(c=c==null?[]:[c]),f=m?n:f,Pe(f)||(f=f==null?[]:[f]),JP(a,c,f))}var uz=Dp(function(a,c,f){a[f?0:1].push(c)},function(){return[[],[]]});function lz(a,c,f){var m=Pe(a)?m0:SP,y=arguments.length<3;return m(a,ve(c,4),f,y,ho)}function cz(a,c,f){var m=Pe(a)?Sj:SP,y=arguments.length<3;return m(a,ve(c,4),f,y,WP)}function hz(a,c){var f=Pe(a)?ao:jP;return f(a,qp(ve(c,3)))}function fz(a){var c=Pe(a)?UP:iB;return c(a)}function dz(a,c,f){(f?Qn(a,c,f):c===n)?c=1:c=be(c);var m=Pe(a)?L9:sB;return m(a,c)}function pz(a){var c=Pe(a)?M9:aB;return c(a)}function gz(a){if(a==null)return 0;if(hr(a))return Yp(a)?Fu(a):a.length;var c=kn(a);return c==fi||c==di?a.size:L0(a).length}function mz(a,c,f){var m=Pe(a)?_0:uB;return f&&Qn(a,c,f)&&(c=n),m(a,ve(c,3))}var _z=De(function(a,c){if(a==null)return[];var f=c.length;return f>1&&Qn(a,c[0],c[1])?c=[]:f>2&&Qn(c[0],c[1],c[2])&&(c=[c[0]]),JP(a,dn(c,1),[])}),zp=Xj||function(){return fn.Date.now()};function vz(a,c){if(typeof c!="function")throw new Hr(o);return a=be(a),function(){if(--a<1)return c.apply(this,arguments)}}function qk(a,c,f){return c=f?n:c,c=a&&c==null?a.length:c,ys(a,W,n,n,n,n,c)}function Gk(a,c){var f;if(typeof c!="function")throw new Hr(o);return a=be(a),function(){return--a>0&&(f=c.apply(this,arguments)),a<=1&&(c=n),f}}var sw=De(function(a,c,f){var m=R;if(f.length){var y=lo(f,qu(sw));m|=F}return ys(a,m,c,f,y)}),Yk=De(function(a,c,f){var m=R|S;if(f.length){var y=lo(f,qu(Yk));m|=F}return ys(c,m,a,f,y)});function Kk(a,c,f){c=f?n:c;var m=ys(a,k,n,n,n,n,n,c);return m.placeholder=Kk.placeholder,m}function Qk(a,c,f){c=f?n:c;var m=ys(a,b,n,n,n,n,n,c);return m.placeholder=Qk.placeholder,m}function Xk(a,c,f){var m,y,P,x,L,$,q=0,Y=!1,Q=!1,se=!0;if(typeof a!="function")throw new Hr(o);c=Qr(c)||0,Pt(f)&&(Y=!!f.leading,Q="maxWait"in f,P=Q?Qt(Qr(f.maxWait)||0,c):P,se="trailing"in f?!!f.trailing:se);function pe(Wt){var _i=m,Is=y;return m=y=n,q=Wt,x=a.apply(Is,_i),x}function ye(Wt){return q=Wt,L=ah(Fe,c),Y?pe(Wt):x}function xe(Wt){var _i=Wt-$,Is=Wt-q,mb=c-_i;return Q?Pn(mb,P-Is):mb}function we(Wt){var _i=Wt-$,Is=Wt-q;return $===n||_i>=c||_i<0||Q&&Is>=P}function Fe(){var Wt=zp();if(we(Wt))return Be(Wt);L=ah(Fe,xe(Wt))}function Be(Wt){return L=n,se&&m?pe(Wt):(m=y=n,x)}function Rr(){L!==n&&ak(L),q=0,m=$=y=L=n}function Xn(){return L===n?x:Be(zp())}function Ar(){var Wt=zp(),_i=we(Wt);if(m=arguments,y=this,$=Wt,_i){if(L===n)return ye($);if(Q)return ak(L),L=ah(Fe,c),pe($)}return L===n&&(L=ah(Fe,c)),x}return Ar.cancel=Rr,Ar.flush=Xn,Ar}var yz=De(function(a,c){return VP(a,1,c)}),wz=De(function(a,c,f){return VP(a,Qr(c)||0,f)});function Ez(a){return ys(a,ie)}function Hp(a,c){if(typeof a!="function"||c!=null&&typeof c!="function")throw new Hr(o);var f=function(){var m=arguments,y=c?c.apply(this,m):m[0],P=f.cache;if(P.has(y))return P.get(y);var x=a.apply(this,m);return f.cache=P.set(y,x)||P,x};return f.cache=new(Hp.Cache||_s),f}Hp.Cache=_s;function qp(a){if(typeof a!="function")throw new Hr(o);return function(){var c=arguments;switch(c.length){case 0:return!a.call(this);case 1:return!a.call(this,c[0]);case 2:return!a.call(this,c[0],c[1]);case 3:return!a.call(this,c[0],c[1],c[2])}return!a.apply(this,c)}}function Sz(a){return Gk(2,a)}var Tz=lB(function(a,c){c=c.length==1&&Pe(c[0])?It(c[0],Tr(ve())):It(dn(c,1),Tr(ve()));var f=c.length;return De(function(m){for(var y=-1,P=Pn(m.length,f);++y<P;)m[y]=c[y].call(this,m[y]);return Sr(a,this,m)})}),ow=De(function(a,c){var f=lo(c,qu(ow));return ys(a,F,n,c,f)}),Jk=De(function(a,c){var f=lo(c,qu(Jk));return ys(a,V,n,c,f)}),Iz=ws(function(a,c){return ys(a,G,n,n,n,c)});function Cz(a,c){if(typeof a!="function")throw new Hr(o);return c=c===n?c:be(c),De(a,c)}function Rz(a,c){if(typeof a!="function")throw new Hr(o);return c=c==null?0:Qt(be(c),0),De(function(f){var m=f[c],y=go(f,0,c);return m&&uo(y,m),Sr(a,this,y)})}function Az(a,c,f){var m=!0,y=!0;if(typeof a!="function")throw new Hr(o);return Pt(f)&&(m="leading"in f?!!f.leading:m,y="trailing"in f?!!f.trailing:y),Xk(a,c,{leading:m,maxWait:c,trailing:y})}function Pz(a){return qk(a,1)}function kz(a,c){return ow(z0(c),a)}function bz(){if(!arguments.length)return[];var a=arguments[0];return Pe(a)?a:[a]}function Oz(a){return Gr(a,v)}function Nz(a,c){return c=typeof c=="function"?c:n,Gr(a,v,c)}function xz(a){return Gr(a,p|v)}function Dz(a,c){return c=typeof c=="function"?c:n,Gr(a,p|v,c)}function Lz(a,c){return c==null||$P(a,c,rn(c))}function mi(a,c){return a===c||a!==a&&c!==c}var Mz=Fp(N0),Uz=Fp(function(a,c){return a>=c}),ba=HP(function(){return arguments}())?HP:function(a){return xt(a)&&nt.call(a,"callee")&&!OP.call(a,"callee")},Pe=j.isArray,Fz=fP?Tr(fP):q9;function hr(a){return a!=null&&Gp(a.length)&&!Ss(a)}function Vt(a){return xt(a)&&hr(a)}function $z(a){return a===!0||a===!1||xt(a)&&Kn(a)==Wc}var mo=Zj||_w,Vz=dP?Tr(dP):G9;function Wz(a){return xt(a)&&a.nodeType===1&&!uh(a)}function jz(a){if(a==null)return!0;if(hr(a)&&(Pe(a)||typeof a=="string"||typeof a.splice=="function"||mo(a)||Gu(a)||ba(a)))return!a.length;var c=kn(a);if(c==fi||c==di)return!a.size;if(oh(a))return!L0(a).length;for(var f in a)if(nt.call(a,f))return!1;return!0}function Bz(a,c){return rh(a,c)}function zz(a,c,f){f=typeof f=="function"?f:n;var m=f?f(a,c):n;return m===n?rh(a,c,n,f):!!m}function aw(a){if(!xt(a))return!1;var c=Kn(a);return c==sp||c==dW||typeof a.message=="string"&&typeof a.name=="string"&&!uh(a)}function Hz(a){return typeof a=="number"&&xP(a)}function Ss(a){if(!Pt(a))return!1;var c=Kn(a);return c==op||c==VA||c==xu||c==gW}function Zk(a){return typeof a=="number"&&a==be(a)}function Gp(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=M}function Pt(a){var c=typeof a;return a!=null&&(c=="object"||c=="function")}function xt(a){return a!=null&&typeof a=="object"}var eb=pP?Tr(pP):K9;function qz(a,c){return a===c||D0(a,c,X0(c))}function Gz(a,c,f){return f=typeof f=="function"?f:n,D0(a,c,X0(c),f)}function Yz(a){return tb(a)&&a!=+a}function Kz(a){if(NB(a))throw new Re(s);return qP(a)}function Qz(a){return a===null}function Xz(a){return a==null}function tb(a){return typeof a=="number"||xt(a)&&Kn(a)==Bc}function uh(a){if(!xt(a)||Kn(a)!=gs)return!1;var c=wp(a);if(c===null)return!0;var f=nt.call(c,"constructor")&&c.constructor;return typeof f=="function"&&f instanceof f&&mp.call(f)==Gj}var uw=gP?Tr(gP):Q9;function Jz(a){return Zk(a)&&a>=-M&&a<=M}var nb=mP?Tr(mP):X9;function Yp(a){return typeof a=="string"||!Pe(a)&&xt(a)&&Kn(a)==Hc}function Cr(a){return typeof a=="symbol"||xt(a)&&Kn(a)==ap}var Gu=_P?Tr(_P):J9;function Zz(a){return a===n}function eH(a){return xt(a)&&kn(a)==qc}function tH(a){return xt(a)&&Kn(a)==_W}var nH=Fp(M0),rH=Fp(function(a,c){return a<=c});function rb(a){if(!a)return[];if(hr(a))return Yp(a)?pi(a):cr(a);if(Kc&&a[Kc])return Lj(a[Kc]());var c=kn(a),f=c==fi?T0:c==di?dp:Yu;return f(a)}function Ts(a){if(!a)return a===0?a:0;if(a=Qr(a),a===O||a===-O){var c=a<0?-1:1;return c*B}return a===a?a:0}function be(a){var c=Ts(a),f=c%1;return c===c?f?c-f:c:0}function ib(a){return a?Ra(be(a),0,ue):0}function Qr(a){if(typeof a=="number")return a;if(Cr(a))return H;if(Pt(a)){var c=typeof a.valueOf=="function"?a.valueOf():a;a=Pt(c)?c+"":c}if(typeof a!="string")return a===0?a:+a;a=TP(a);var f=FW.test(a);return f||VW.test(a)?vj(a.slice(2),f?2:8):UW.test(a)?H:+a}function sb(a){return Bi(a,fr(a))}function iH(a){return a?Ra(be(a),-M,M):a===0?a:0}function tt(a){return a==null?"":Ir(a)}var sH=zu(function(a,c){if(oh(c)||hr(c)){Bi(c,rn(c),a);return}for(var f in c)nt.call(c,f)&&eh(a,f,c[f])}),ob=zu(function(a,c){Bi(c,fr(c),a)}),Kp=zu(function(a,c,f,m){Bi(c,fr(c),a,m)}),oH=zu(function(a,c,f,m){Bi(c,rn(c),a,m)}),aH=ws(k0);function uH(a,c){var f=Bu(a);return c==null?f:FP(f,c)}var lH=De(function(a,c){a=lt(a);var f=-1,m=c.length,y=m>2?c[2]:n;for(y&&Qn(c[0],c[1],y)&&(m=1);++f<m;)for(var P=c[f],x=fr(P),L=-1,$=x.length;++L<$;){var q=x[L],Y=a[q];(Y===n||mi(Y,Vu[q])&&!nt.call(a,q))&&(a[q]=P[q])}return a}),cH=De(function(a){return a.push(n,Tk),Sr(ab,n,a)});function hH(a,c){return yP(a,ve(c,3),ji)}function fH(a,c){return yP(a,ve(c,3),O0)}function dH(a,c){return a==null?a:b0(a,ve(c,3),fr)}function pH(a,c){return a==null?a:BP(a,ve(c,3),fr)}function gH(a,c){return a&&ji(a,ve(c,3))}function mH(a,c){return a&&O0(a,ve(c,3))}function _H(a){return a==null?[]:bp(a,rn(a))}function vH(a){return a==null?[]:bp(a,fr(a))}function lw(a,c,f){var m=a==null?n:Aa(a,c);return m===n?f:m}function yH(a,c){return a!=null&&Rk(a,c,j9)}function cw(a,c){return a!=null&&Rk(a,c,B9)}var wH=vk(function(a,c,f){c!=null&&typeof c.toString!="function"&&(c=_p.call(c)),a[c]=f},fw(dr)),EH=vk(function(a,c,f){c!=null&&typeof c.toString!="function"&&(c=_p.call(c)),nt.call(a,c)?a[c].push(f):a[c]=[f]},ve),SH=De(nh);function rn(a){return hr(a)?MP(a):L0(a)}function fr(a){return hr(a)?MP(a,!0):Z9(a)}function TH(a,c){var f={};return c=ve(c,3),ji(a,function(m,y,P){vs(f,c(m,y,P),m)}),f}function IH(a,c){var f={};return c=ve(c,3),ji(a,function(m,y,P){vs(f,y,c(m,y,P))}),f}var CH=zu(function(a,c,f){Op(a,c,f)}),ab=zu(function(a,c,f,m){Op(a,c,f,m)}),RH=ws(function(a,c){var f={};if(a==null)return f;var m=!1;c=It(c,function(P){return P=po(P,a),m||(m=P.length>1),P}),Bi(a,K0(a),f),m&&(f=Gr(f,p|g|v,wB));for(var y=c.length;y--;)W0(f,c[y]);return f});function AH(a,c){return ub(a,qp(ve(c)))}var PH=ws(function(a,c){return a==null?{}:tB(a,c)});function ub(a,c){if(a==null)return{};var f=It(K0(a),function(m){return[m]});return c=ve(c),ZP(a,f,function(m,y){return c(m,y[0])})}function kH(a,c,f){c=po(c,a);var m=-1,y=c.length;for(y||(y=1,a=n);++m<y;){var P=a==null?n:a[zi(c[m])];P===n&&(m=y,P=f),a=Ss(P)?P.call(a):P}return a}function bH(a,c,f){return a==null?a:ih(a,c,f)}function OH(a,c,f,m){return m=typeof m=="function"?m:n,a==null?a:ih(a,c,f,m)}var lb=Ek(rn),cb=Ek(fr);function NH(a,c,f){var m=Pe(a),y=m||mo(a)||Gu(a);if(c=ve(c,4),f==null){var P=a&&a.constructor;y?f=m?new P:[]:Pt(a)?f=Ss(P)?Bu(wp(a)):{}:f={}}return(y?zr:ji)(a,function(x,L,$){return c(f,x,L,$)}),f}function xH(a,c){return a==null?!0:W0(a,c)}function DH(a,c,f){return a==null?a:ik(a,c,z0(f))}function LH(a,c,f,m){return m=typeof m=="function"?m:n,a==null?a:ik(a,c,z0(f),m)}function Yu(a){return a==null?[]:S0(a,rn(a))}function MH(a){return a==null?[]:S0(a,fr(a))}function UH(a,c,f){return f===n&&(f=c,c=n),f!==n&&(f=Qr(f),f=f===f?f:0),c!==n&&(c=Qr(c),c=c===c?c:0),Ra(Qr(a),c,f)}function FH(a,c,f){return c=Ts(c),f===n?(f=c,c=0):f=Ts(f),a=Qr(a),z9(a,c,f)}function $H(a,c,f){if(f&&typeof f!="boolean"&&Qn(a,c,f)&&(c=f=n),f===n&&(typeof c=="boolean"?(f=c,c=n):typeof a=="boolean"&&(f=a,a=n)),a===n&&c===n?(a=0,c=1):(a=Ts(a),c===n?(c=a,a=0):c=Ts(c)),a>c){var m=a;a=c,c=m}if(f||a%1||c%1){var y=DP();return Pn(a+y*(c-a+_j("1e-"+((y+"").length-1))),c)}return F0(a,c)}var VH=Hu(function(a,c,f){return c=c.toLowerCase(),a+(f?hb(c):c)});function hb(a){return hw(tt(a).toLowerCase())}function fb(a){return a=tt(a),a&&a.replace(jW,bj).replace(aj,"")}function WH(a,c,f){a=tt(a),c=Ir(c);var m=a.length;f=f===n?m:Ra(be(f),0,m);var y=f;return f-=c.length,f>=0&&a.slice(f,y)==c}function jH(a){return a=tt(a),a&&SW.test(a)?a.replace(BA,Oj):a}function BH(a){return a=tt(a),a&&PW.test(a)?a.replace(o0,"\\$&"):a}var zH=Hu(function(a,c,f){return a+(f?"-":"")+c.toLowerCase()}),HH=Hu(function(a,c,f){return a+(f?" ":"")+c.toLowerCase()}),qH=gk("toLowerCase");function GH(a,c,f){a=tt(a),c=be(c);var m=c?Fu(a):0;if(!c||m>=c)return a;var y=(c-m)/2;return Up(Ip(y),f)+a+Up(Tp(y),f)}function YH(a,c,f){a=tt(a),c=be(c);var m=c?Fu(a):0;return c&&m<c?a+Up(c-m,f):a}function KH(a,c,f){a=tt(a),c=be(c);var m=c?Fu(a):0;return c&&m<c?Up(c-m,f)+a:a}function QH(a,c,f){return f||c==null?c=0:c&&(c=+c),r9(tt(a).replace(a0,""),c||0)}function XH(a,c,f){return(f?Qn(a,c,f):c===n)?c=1:c=be(c),$0(tt(a),c)}function JH(){var a=arguments,c=tt(a[0]);return a.length<3?c:c.replace(a[1],a[2])}var ZH=Hu(function(a,c,f){return a+(f?"_":"")+c.toLowerCase()});function e8(a,c,f){return f&&typeof f!="number"&&Qn(a,c,f)&&(c=f=n),f=f===n?ue:f>>>0,f?(a=tt(a),a&&(typeof c=="string"||c!=null&&!uw(c))&&(c=Ir(c),!c&&Uu(a))?go(pi(a),0,f):a.split(c,f)):[]}var t8=Hu(function(a,c,f){return a+(f?" ":"")+hw(c)});function n8(a,c,f){return a=tt(a),f=f==null?0:Ra(be(f),0,a.length),c=Ir(c),a.slice(f,f+c.length)==c}function r8(a,c,f){var m=A.templateSettings;f&&Qn(a,c,f)&&(c=n),a=tt(a),c=Kp({},c,m,Sk);var y=Kp({},c.imports,m.imports,Sk),P=rn(y),x=S0(y,P),L,$,q=0,Y=c.interpolate||up,Q="__p += '",se=I0((c.escape||up).source+"|"+Y.source+"|"+(Y===zA?MW:up).source+"|"+(c.evaluate||up).source+"|$","g"),pe="//# sourceURL="+(nt.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++fj+"]")+`
`;a.replace(se,function(we,Fe,Be,Rr,Xn,Ar){return Be||(Be=Rr),Q+=a.slice(q,Ar).replace(BW,Nj),Fe&&(L=!0,Q+=`' +
__e(`+Fe+`) +
'`),Xn&&($=!0,Q+=`';
`+Xn+`;
__p += '`),Be&&(Q+=`' +
((__t = (`+Be+`)) == null ? '' : __t) +
'`),q=Ar+we.length,we}),Q+=`';
`;var ye=nt.call(c,"variable")&&c.variable;if(!ye)Q=`with (obj) {
`+Q+`
}
`;else if(DW.test(ye))throw new Re(u);Q=($?Q.replace(vW,""):Q).replace(yW,"$1").replace(wW,"$1;"),Q="function("+(ye||"obj")+`) {
`+(ye?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(L?", __e = _.escape":"")+($?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Q+`return __p
}`;var xe=pb(function(){return Ze(P,pe+"return "+Q).apply(n,x)});if(xe.source=Q,aw(xe))throw xe;return xe}function i8(a){return tt(a).toLowerCase()}function s8(a){return tt(a).toUpperCase()}function o8(a,c,f){if(a=tt(a),a&&(f||c===n))return TP(a);if(!a||!(c=Ir(c)))return a;var m=pi(a),y=pi(c),P=IP(m,y),x=CP(m,y)+1;return go(m,P,x).join("")}function a8(a,c,f){if(a=tt(a),a&&(f||c===n))return a.slice(0,AP(a)+1);if(!a||!(c=Ir(c)))return a;var m=pi(a),y=CP(m,pi(c))+1;return go(m,0,y).join("")}function u8(a,c,f){if(a=tt(a),a&&(f||c===n))return a.replace(a0,"");if(!a||!(c=Ir(c)))return a;var m=pi(a),y=IP(m,pi(c));return go(m,y).join("")}function l8(a,c){var f=re,m=Ne;if(Pt(c)){var y="separator"in c?c.separator:y;f="length"in c?be(c.length):f,m="omission"in c?Ir(c.omission):m}a=tt(a);var P=a.length;if(Uu(a)){var x=pi(a);P=x.length}if(f>=P)return a;var L=f-Fu(m);if(L<1)return m;var $=x?go(x,0,L).join(""):a.slice(0,L);if(y===n)return $+m;if(x&&(L+=$.length-L),uw(y)){if(a.slice(L).search(y)){var q,Y=$;for(y.global||(y=I0(y.source,tt(HA.exec(y))+"g")),y.lastIndex=0;q=y.exec(Y);)var Q=q.index;$=$.slice(0,Q===n?L:Q)}}else if(a.indexOf(Ir(y),L)!=L){var se=$.lastIndexOf(y);se>-1&&($=$.slice(0,se))}return $+m}function c8(a){return a=tt(a),a&&EW.test(a)?a.replace(jA,$j):a}var h8=Hu(function(a,c,f){return a+(f?" ":"")+c.toUpperCase()}),hw=gk("toUpperCase");function db(a,c,f){return a=tt(a),c=f?n:c,c===n?Dj(a)?jj(a):Cj(a):a.match(c)||[]}var pb=De(function(a,c){try{return Sr(a,n,c)}catch(f){return aw(f)?f:new Re(f)}}),f8=ws(function(a,c){return zr(c,function(f){f=zi(f),vs(a,f,sw(a[f],a))}),a});function d8(a){var c=a==null?0:a.length,f=ve();return a=c?It(a,function(m){if(typeof m[1]!="function")throw new Hr(o);return[f(m[0]),m[1]]}):[],De(function(m){for(var y=-1;++y<c;){var P=a[y];if(Sr(P[0],this,m))return Sr(P[1],this,m)}})}function p8(a){return $9(Gr(a,p))}function fw(a){return function(){return a}}function g8(a,c){return a==null||a!==a?c:a}var m8=_k(),_8=_k(!0);function dr(a){return a}function dw(a){return GP(typeof a=="function"?a:Gr(a,p))}function v8(a){return KP(Gr(a,p))}function y8(a,c){return QP(a,Gr(c,p))}var w8=De(function(a,c){return function(f){return nh(f,a,c)}}),E8=De(function(a,c){return function(f){return nh(a,f,c)}});function pw(a,c,f){var m=rn(c),y=bp(c,m);f==null&&!(Pt(c)&&(y.length||!m.length))&&(f=c,c=a,a=this,y=bp(c,rn(c)));var P=!(Pt(f)&&"chain"in f)||!!f.chain,x=Ss(a);return zr(y,function(L){var $=c[L];a[L]=$,x&&(a.prototype[L]=function(){var q=this.__chain__;if(P||q){var Y=a(this.__wrapped__),Q=Y.__actions__=cr(this.__actions__);return Q.push({func:$,args:arguments,thisArg:a}),Y.__chain__=q,Y}return $.apply(a,uo([this.value()],arguments))})}),a}function S8(){return fn._===this&&(fn._=Yj),this}function gw(){}function T8(a){return a=be(a),De(function(c){return XP(c,a)})}var I8=q0(It),C8=q0(vP),R8=q0(_0);function gb(a){return Z0(a)?v0(zi(a)):nB(a)}function A8(a){return function(c){return a==null?n:Aa(a,c)}}var P8=yk(),k8=yk(!0);function mw(){return[]}function _w(){return!1}function b8(){return{}}function O8(){return""}function N8(){return!0}function x8(a,c){if(a=be(a),a<1||a>M)return[];var f=ue,m=Pn(a,ue);c=ve(c),a-=ue;for(var y=E0(m,c);++f<a;)c(f);return y}function D8(a){return Pe(a)?It(a,zi):Cr(a)?[a]:cr(Lk(tt(a)))}function L8(a){var c=++qj;return tt(a)+c}var M8=Mp(function(a,c){return a+c},0),U8=G0("ceil"),F8=Mp(function(a,c){return a/c},1),$8=G0("floor");function V8(a){return a&&a.length?kp(a,dr,N0):n}function W8(a,c){return a&&a.length?kp(a,ve(c,2),N0):n}function j8(a){return EP(a,dr)}function B8(a,c){return EP(a,ve(c,2))}function z8(a){return a&&a.length?kp(a,dr,M0):n}function H8(a,c){return a&&a.length?kp(a,ve(c,2),M0):n}var q8=Mp(function(a,c){return a*c},1),G8=G0("round"),Y8=Mp(function(a,c){return a-c},0);function K8(a){return a&&a.length?w0(a,dr):0}function Q8(a,c){return a&&a.length?w0(a,ve(c,2)):0}return A.after=vz,A.ary=qk,A.assign=sH,A.assignIn=ob,A.assignInWith=Kp,A.assignWith=oH,A.at=aH,A.before=Gk,A.bind=sw,A.bindAll=f8,A.bindKey=Yk,A.castArray=bz,A.chain=Bk,A.chunk=$B,A.compact=VB,A.concat=WB,A.cond=d8,A.conforms=p8,A.constant=fw,A.countBy=K5,A.create=uH,A.curry=Kk,A.curryRight=Qk,A.debounce=Xk,A.defaults=lH,A.defaultsDeep=cH,A.defer=yz,A.delay=wz,A.difference=jB,A.differenceBy=BB,A.differenceWith=zB,A.drop=HB,A.dropRight=qB,A.dropRightWhile=GB,A.dropWhile=YB,A.fill=KB,A.filter=X5,A.flatMap=ez,A.flatMapDeep=tz,A.flatMapDepth=nz,A.flatten=$k,A.flattenDeep=QB,A.flattenDepth=XB,A.flip=Ez,A.flow=m8,A.flowRight=_8,A.fromPairs=JB,A.functions=_H,A.functionsIn=vH,A.groupBy=rz,A.initial=e5,A.intersection=t5,A.intersectionBy=n5,A.intersectionWith=r5,A.invert=wH,A.invertBy=EH,A.invokeMap=sz,A.iteratee=dw,A.keyBy=oz,A.keys=rn,A.keysIn=fr,A.map=Bp,A.mapKeys=TH,A.mapValues=IH,A.matches=v8,A.matchesProperty=y8,A.memoize=Hp,A.merge=CH,A.mergeWith=ab,A.method=w8,A.methodOf=E8,A.mixin=pw,A.negate=qp,A.nthArg=T8,A.omit=RH,A.omitBy=AH,A.once=Sz,A.orderBy=az,A.over=I8,A.overArgs=Tz,A.overEvery=C8,A.overSome=R8,A.partial=ow,A.partialRight=Jk,A.partition=uz,A.pick=PH,A.pickBy=ub,A.property=gb,A.propertyOf=A8,A.pull=a5,A.pullAll=Wk,A.pullAllBy=u5,A.pullAllWith=l5,A.pullAt=c5,A.range=P8,A.rangeRight=k8,A.rearg=Iz,A.reject=hz,A.remove=h5,A.rest=Cz,A.reverse=rw,A.sampleSize=dz,A.set=bH,A.setWith=OH,A.shuffle=pz,A.slice=f5,A.sortBy=_z,A.sortedUniq=y5,A.sortedUniqBy=w5,A.split=e8,A.spread=Rz,A.tail=E5,A.take=S5,A.takeRight=T5,A.takeRightWhile=I5,A.takeWhile=C5,A.tap=V5,A.throttle=Az,A.thru=jp,A.toArray=rb,A.toPairs=lb,A.toPairsIn=cb,A.toPath=D8,A.toPlainObject=sb,A.transform=NH,A.unary=Pz,A.union=R5,A.unionBy=A5,A.unionWith=P5,A.uniq=k5,A.uniqBy=b5,A.uniqWith=O5,A.unset=xH,A.unzip=iw,A.unzipWith=jk,A.update=DH,A.updateWith=LH,A.values=Yu,A.valuesIn=MH,A.without=N5,A.words=db,A.wrap=kz,A.xor=x5,A.xorBy=D5,A.xorWith=L5,A.zip=M5,A.zipObject=U5,A.zipObjectDeep=F5,A.zipWith=$5,A.entries=lb,A.entriesIn=cb,A.extend=ob,A.extendWith=Kp,pw(A,A),A.add=M8,A.attempt=pb,A.camelCase=VH,A.capitalize=hb,A.ceil=U8,A.clamp=UH,A.clone=Oz,A.cloneDeep=xz,A.cloneDeepWith=Dz,A.cloneWith=Nz,A.conformsTo=Lz,A.deburr=fb,A.defaultTo=g8,A.divide=F8,A.endsWith=WH,A.eq=mi,A.escape=jH,A.escapeRegExp=BH,A.every=Q5,A.find=J5,A.findIndex=Uk,A.findKey=hH,A.findLast=Z5,A.findLastIndex=Fk,A.findLastKey=fH,A.floor=$8,A.forEach=zk,A.forEachRight=Hk,A.forIn=dH,A.forInRight=pH,A.forOwn=gH,A.forOwnRight=mH,A.get=lw,A.gt=Mz,A.gte=Uz,A.has=yH,A.hasIn=cw,A.head=Vk,A.identity=dr,A.includes=iz,A.indexOf=ZB,A.inRange=FH,A.invoke=SH,A.isArguments=ba,A.isArray=Pe,A.isArrayBuffer=Fz,A.isArrayLike=hr,A.isArrayLikeObject=Vt,A.isBoolean=$z,A.isBuffer=mo,A.isDate=Vz,A.isElement=Wz,A.isEmpty=jz,A.isEqual=Bz,A.isEqualWith=zz,A.isError=aw,A.isFinite=Hz,A.isFunction=Ss,A.isInteger=Zk,A.isLength=Gp,A.isMap=eb,A.isMatch=qz,A.isMatchWith=Gz,A.isNaN=Yz,A.isNative=Kz,A.isNil=Xz,A.isNull=Qz,A.isNumber=tb,A.isObject=Pt,A.isObjectLike=xt,A.isPlainObject=uh,A.isRegExp=uw,A.isSafeInteger=Jz,A.isSet=nb,A.isString=Yp,A.isSymbol=Cr,A.isTypedArray=Gu,A.isUndefined=Zz,A.isWeakMap=eH,A.isWeakSet=tH,A.join=i5,A.kebabCase=zH,A.last=Kr,A.lastIndexOf=s5,A.lowerCase=HH,A.lowerFirst=qH,A.lt=nH,A.lte=rH,A.max=V8,A.maxBy=W8,A.mean=j8,A.meanBy=B8,A.min=z8,A.minBy=H8,A.stubArray=mw,A.stubFalse=_w,A.stubObject=b8,A.stubString=O8,A.stubTrue=N8,A.multiply=q8,A.nth=o5,A.noConflict=S8,A.noop=gw,A.now=zp,A.pad=GH,A.padEnd=YH,A.padStart=KH,A.parseInt=QH,A.random=$H,A.reduce=lz,A.reduceRight=cz,A.repeat=XH,A.replace=JH,A.result=kH,A.round=G8,A.runInContext=U,A.sample=fz,A.size=gz,A.snakeCase=ZH,A.some=mz,A.sortedIndex=d5,A.sortedIndexBy=p5,A.sortedIndexOf=g5,A.sortedLastIndex=m5,A.sortedLastIndexBy=_5,A.sortedLastIndexOf=v5,A.startCase=t8,A.startsWith=n8,A.subtract=Y8,A.sum=K8,A.sumBy=Q8,A.template=r8,A.times=x8,A.toFinite=Ts,A.toInteger=be,A.toLength=ib,A.toLower=i8,A.toNumber=Qr,A.toSafeInteger=iH,A.toString=tt,A.toUpper=s8,A.trim=o8,A.trimEnd=a8,A.trimStart=u8,A.truncate=l8,A.unescape=c8,A.uniqueId=L8,A.upperCase=h8,A.upperFirst=hw,A.each=zk,A.eachRight=Hk,A.first=Vk,pw(A,function(){var a={};return ji(A,function(c,f){nt.call(A.prototype,f)||(a[f]=c)}),a}(),{chain:!1}),A.VERSION=r,zr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){A[a].placeholder=A}),zr(["drop","take"],function(a,c){Ve.prototype[a]=function(f){f=f===n?1:Qt(be(f),0);var m=this.__filtered__&&!c?new Ve(this):this.clone();return m.__filtered__?m.__takeCount__=Pn(f,m.__takeCount__):m.__views__.push({size:Pn(f,ue),type:a+(m.__dir__<0?"Right":"")}),m},Ve.prototype[a+"Right"]=function(f){return this.reverse()[a](f).reverse()}}),zr(["filter","map","takeWhile"],function(a,c){var f=c+1,m=f==w||f==D;Ve.prototype[a]=function(y){var P=this.clone();return P.__iteratees__.push({iteratee:ve(y,3),type:f}),P.__filtered__=P.__filtered__||m,P}}),zr(["head","last"],function(a,c){var f="take"+(c?"Right":"");Ve.prototype[a]=function(){return this[f](1).value()[0]}}),zr(["initial","tail"],function(a,c){var f="drop"+(c?"":"Right");Ve.prototype[a]=function(){return this.__filtered__?new Ve(this):this[f](1)}}),Ve.prototype.compact=function(){return this.filter(dr)},Ve.prototype.find=function(a){return this.filter(a).head()},Ve.prototype.findLast=function(a){return this.reverse().find(a)},Ve.prototype.invokeMap=De(function(a,c){return typeof a=="function"?new Ve(this):this.map(function(f){return nh(f,a,c)})}),Ve.prototype.reject=function(a){return this.filter(qp(ve(a)))},Ve.prototype.slice=function(a,c){a=be(a);var f=this;return f.__filtered__&&(a>0||c<0)?new Ve(f):(a<0?f=f.takeRight(-a):a&&(f=f.drop(a)),c!==n&&(c=be(c),f=c<0?f.dropRight(-c):f.take(c-a)),f)},Ve.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Ve.prototype.toArray=function(){return this.take(ue)},ji(Ve.prototype,function(a,c){var f=/^(?:filter|find|map|reject)|While$/.test(c),m=/^(?:head|last)$/.test(c),y=A[m?"take"+(c=="last"?"Right":""):c],P=m||/^find/.test(c);y&&(A.prototype[c]=function(){var x=this.__wrapped__,L=m?[1]:arguments,$=x instanceof Ve,q=L[0],Y=$||Pe(x),Q=function(Fe){var Be=y.apply(A,uo([Fe],L));return m&&se?Be[0]:Be};Y&&f&&typeof q=="function"&&q.length!=1&&($=Y=!1);var se=this.__chain__,pe=!!this.__actions__.length,ye=P&&!se,xe=$&&!pe;if(!P&&Y){x=xe?x:new Ve(this);var we=a.apply(x,L);return we.__actions__.push({func:jp,args:[Q],thisArg:n}),new qr(we,se)}return ye&&xe?a.apply(this,L):(we=this.thru(Q),ye?m?we.value()[0]:we.value():we)})}),zr(["pop","push","shift","sort","splice","unshift"],function(a){var c=pp[a],f=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",m=/^(?:pop|shift)$/.test(a);A.prototype[a]=function(){var y=arguments;if(m&&!this.__chain__){var P=this.value();return c.apply(Pe(P)?P:[],y)}return this[f](function(x){return c.apply(Pe(x)?x:[],y)})}}),ji(Ve.prototype,function(a,c){var f=A[c];if(f){var m=f.name+"";nt.call(ju,m)||(ju[m]=[]),ju[m].push({name:c,func:f})}}),ju[Lp(n,S).name]=[{name:"wrapper",func:n}],Ve.prototype.clone=c9,Ve.prototype.reverse=h9,Ve.prototype.value=f9,A.prototype.at=W5,A.prototype.chain=j5,A.prototype.commit=B5,A.prototype.next=z5,A.prototype.plant=q5,A.prototype.reverse=G5,A.prototype.toJSON=A.prototype.valueOf=A.prototype.value=Y5,A.prototype.first=A.prototype.head,Kc&&(A.prototype[Kc]=H5),A},$u=Bj();Sa?((Sa.exports=$u)._=$u,d0._=$u):fn._=$u}).call(lh)})(MQ,Jm);const Ws=Jm;var Qh;(function(t){t.loginUser="loginUser",t.registerUser="registerUser",t.searchUser="searchUser"})(Qh||(Qh={}));var Xh;(function(t){t.isLoginUser="isLoginUser",t.isRegisterUser="isRegisterUser",t.isSearchUser="isSearchUser"})(Xh||(Xh={}));var nN={user:null,searchedUsers:[],chat:null},He=VI({name:"user",initialState:nN,reducers:{loginUser:function(e,n){},loginUserSuccess:function(e,n){var r=n.payload;e.user=r},loginUserError:function(e,n){},registerUser:function(e,n){},registerUserSuccess:function(e,n){var r=n.payload;e.user=r},registerUserError:function(e,n){},searchUser:function(e,n){},searchUserSuccess:function(e,n){var r=n.payload;e.searchedUsers=r},searchUserError:function(e,n){},clearSearchedUser:function(e){e.searchedUsers=[]},getInterlocutor:function(e,n){},getInterlocutorSuccess:function(e,n){var r=n.payload;e.chat=r},getInterlocutorError:function(e,n){},logout:function(){return nN}}});function UQ(t,e){return WQ(t)||VQ(t,e)||$Q(t,e)||FQ()}function FQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Q(t,e){if(t){if(typeof t=="string")return rN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rN(t,e)}}function rN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,u=[],l=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(d){h=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function WQ(t){if(Array.isArray(t))return t}var iN={loading:{isLoginUser:!1,isRegisterUser:!1,isSearchUser:!1},errors:{loginUser:null,registerUser:null,searchUser:null}},jI=VI({name:"app",initialState:iN,reducers:{setError:function(e,n){var r=n.payload,i=r.error,s=r.errorType;e.errors[s]=i},resetErrors:function(e){e.errors=Ws.cloneDeep(iN.errors)}},extraReducers:function(e){var n=function(i,s,o){var u=UQ(i,3),l=u[0],h=u[1],d=u[2];e.addCase(l,function(p){p.loading[s]=!0,p.errors[o]=null}),e.addCase(h,function(p){p.loading[s]=!1}),e.addCase(d,function(p,g){p.loading[s]=!1,p.errors[o]=g.payload})};n([He.actions.loginUser,He.actions.loginUserSuccess,He.actions.loginUserError],Xh.isLoginUser,Qh.loginUser),n([He.actions.registerUser,He.actions.registerUserSuccess,He.actions.registerUserError],Xh.isRegisterUser,Qh.registerUser),n([He.actions.searchUser,He.actions.searchUserSuccess,He.actions.searchUserError],Xh.isSearchUser,Qh.searchUser)}}),jQ={isChatOpened:!1},gU=VI({name:"user",initialState:jQ,reducers:{setIsChatOpened:function(e,n){var r=n.payload;e.isChatOpened=r}}}),Dn={},gS={},BQ={get exports(){return gS},set exports(t){gS=t}},Zm={},zQ={get exports(){return Zm},set exports(t){Zm=t}},mU=function(e,n){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return e.apply(n,i)}},HQ=mU,Iu=Object.prototype.toString;function BI(t){return Iu.call(t)==="[object Array]"}function mS(t){return typeof t>"u"}function qQ(t){return t!==null&&!mS(t)&&t.constructor!==null&&!mS(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function GQ(t){return Iu.call(t)==="[object ArrayBuffer]"}function YQ(t){return typeof FormData<"u"&&t instanceof FormData}function KQ(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function QQ(t){return typeof t=="string"}function XQ(t){return typeof t=="number"}function _U(t){return t!==null&&typeof t=="object"}function Jg(t){if(Iu.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function JQ(t){return Iu.call(t)==="[object Date]"}function ZQ(t){return Iu.call(t)==="[object File]"}function eX(t){return Iu.call(t)==="[object Blob]"}function vU(t){return Iu.call(t)==="[object Function]"}function tX(t){return _U(t)&&vU(t.pipe)}function nX(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}function rX(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function iX(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function zI(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),BI(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function _S(){var t={};function e(i,s){Jg(t[s])&&Jg(i)?t[s]=_S(t[s],i):Jg(i)?t[s]=_S({},i):BI(i)?t[s]=i.slice():t[s]=i}for(var n=0,r=arguments.length;n<r;n++)zI(arguments[n],e);return t}function sX(t,e,n){return zI(e,function(i,s){n&&typeof i=="function"?t[s]=HQ(i,n):t[s]=i}),t}function oX(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var Vr={isArray:BI,isArrayBuffer:GQ,isBuffer:qQ,isFormData:YQ,isArrayBufferView:KQ,isString:QQ,isNumber:XQ,isObject:_U,isPlainObject:Jg,isUndefined:mS,isDate:JQ,isFile:ZQ,isBlob:eX,isFunction:vU,isStream:tX,isURLSearchParams:nX,isStandardBrowserEnv:iX,forEach:zI,merge:_S,extend:sX,trim:rX,stripBOM:oX},Qu=Vr;function sN(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var yU=function(e,n,r){if(!n)return e;var i;if(r)i=r(n);else if(Qu.isURLSearchParams(n))i=n.toString();else{var s=[];Qu.forEach(n,function(l,h){l===null||typeof l>"u"||(Qu.isArray(l)?h=h+"[]":l=[l],Qu.forEach(l,function(p){Qu.isDate(p)?p=p.toISOString():Qu.isObject(p)&&(p=JSON.stringify(p)),s.push(sN(h)+"="+sN(p))}))}),i=s.join("&")}if(i){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},aX=Vr;function Mv(){this.handlers=[]}Mv.prototype.use=function(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};Mv.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Mv.prototype.forEach=function(e){aX.forEach(this.handlers,function(r){r!==null&&e(r)})};var uX=Mv,lX=Vr,cX=function(e,n){lX.forEach(e,function(i,s){s!==n&&s.toUpperCase()===n.toUpperCase()&&(e[n]=i,delete e[s])})},wU=function(e,n,r,i,s){return e.config=n,r&&(e.code=r),e.request=i,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e},eE,oN;function EU(){if(oN)return eE;oN=1;var t=wU;return eE=function(n,r,i,s,o){var u=new Error(n);return t(u,r,i,s,o)},eE}var tE,aN;function hX(){if(aN)return tE;aN=1;var t=EU();return tE=function(n,r,i){var s=i.config.validateStatus;!i.status||!s||s(i.status)?n(i):r(t("Request failed with status code "+i.status,i.config,null,i.request,i))},tE}var nE,uN;function fX(){if(uN)return nE;uN=1;var t=Vr;return nE=t.isStandardBrowserEnv()?function(){return{write:function(r,i,s,o,u,l){var h=[];h.push(r+"="+encodeURIComponent(i)),t.isNumber(s)&&h.push("expires="+new Date(s).toGMTString()),t.isString(o)&&h.push("path="+o),t.isString(u)&&h.push("domain="+u),l===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(r){var i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),nE}var rE,lN;function dX(){return lN||(lN=1,rE=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}),rE}var iE,cN;function pX(){return cN||(cN=1,iE=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}),iE}var sE,hN;function gX(){if(hN)return sE;hN=1;var t=dX(),e=pX();return sE=function(r,i){return r&&!t(i)?e(r,i):i},sE}var oE,fN;function mX(){if(fN)return oE;fN=1;var t=Vr,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return oE=function(r){var i={},s,o,u;return r&&t.forEach(r.split(`
`),function(h){if(u=h.indexOf(":"),s=t.trim(h.substr(0,u)).toLowerCase(),o=t.trim(h.substr(u+1)),s){if(i[s]&&e.indexOf(s)>=0)return;s==="set-cookie"?i[s]=(i[s]?i[s]:[]).concat([o]):i[s]=i[s]?i[s]+", "+o:o}}),i},oE}var aE,dN;function _X(){if(dN)return aE;dN=1;var t=Vr;return aE=t.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i;function s(o){var u=o;return n&&(r.setAttribute("href",u),u=r.href),r.setAttribute("href",u),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=s(window.location.href),function(u){var l=t.isString(u)?s(u):u;return l.protocol===i.protocol&&l.host===i.host}}():function(){return function(){return!0}}(),aE}var uE,pN;function gN(){if(pN)return uE;pN=1;var t=Vr,e=hX(),n=fX(),r=yU,i=gX(),s=mX(),o=_X(),u=EU();return uE=function(h){return new Promise(function(p,g){var v=h.data,E=h.headers,C=h.responseType;t.isFormData(v)&&delete E["Content-Type"];var R=new XMLHttpRequest;if(h.auth){var S=h.auth.username||"",T=h.auth.password?unescape(encodeURIComponent(h.auth.password)):"";E.Authorization="Basic "+btoa(S+":"+T)}var k=i(h.baseURL,h.url);R.open(h.method.toUpperCase(),r(k,h.params,h.paramsSerializer),!0),R.timeout=h.timeout;function b(){if(R){var V="getAllResponseHeaders"in R?s(R.getAllResponseHeaders()):null,W=!C||C==="text"||C==="json"?R.responseText:R.response,G={data:W,status:R.status,statusText:R.statusText,headers:V,config:h,request:R};e(p,g,G),R=null}}if("onloadend"in R?R.onloadend=b:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(b)},R.onabort=function(){R&&(g(u("Request aborted",h,"ECONNABORTED",R)),R=null)},R.onerror=function(){g(u("Network Error",h,null,R)),R=null},R.ontimeout=function(){var W="timeout of "+h.timeout+"ms exceeded";h.timeoutErrorMessage&&(W=h.timeoutErrorMessage),g(u(W,h,h.transitional&&h.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",R)),R=null},t.isStandardBrowserEnv()){var F=(h.withCredentials||o(k))&&h.xsrfCookieName?n.read(h.xsrfCookieName):void 0;F&&(E[h.xsrfHeaderName]=F)}"setRequestHeader"in R&&t.forEach(E,function(W,G){typeof v>"u"&&G.toLowerCase()==="content-type"?delete E[G]:R.setRequestHeader(G,W)}),t.isUndefined(h.withCredentials)||(R.withCredentials=!!h.withCredentials),C&&C!=="json"&&(R.responseType=h.responseType),typeof h.onDownloadProgress=="function"&&R.addEventListener("progress",h.onDownloadProgress),typeof h.onUploadProgress=="function"&&R.upload&&R.upload.addEventListener("progress",h.onUploadProgress),h.cancelToken&&h.cancelToken.promise.then(function(W){R&&(R.abort(),g(W),R=null)}),v||(v=null),R.send(v)})},uE}var _n=Vr,mN=cX,vX=wU,yX={"Content-Type":"application/x-www-form-urlencoded"};function _N(t,e){!_n.isUndefined(t)&&_n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function wX(){var t;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(t=gN()),t}function EX(t,e,n){if(_n.isString(t))try{return(e||JSON.parse)(t),_n.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}var Uv={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:wX(),transformRequest:[function(e,n){return mN(n,"Accept"),mN(n,"Content-Type"),_n.isFormData(e)||_n.isArrayBuffer(e)||_n.isBuffer(e)||_n.isStream(e)||_n.isFile(e)||_n.isBlob(e)?e:_n.isArrayBufferView(e)?e.buffer:_n.isURLSearchParams(e)?(_N(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):_n.isObject(e)||n&&n["Content-Type"]==="application/json"?(_N(n,"application/json"),EX(e)):e}],transformResponse:[function(e){var n=this.transitional,r=n&&n.silentJSONParsing,i=n&&n.forcedJSONParsing,s=!r&&this.responseType==="json";if(s||i&&_n.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(s)throw o.name==="SyntaxError"?vX(o,this,"E_JSON_PARSE"):o}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};Uv.headers={common:{Accept:"application/json, text/plain, */*"}};_n.forEach(["delete","get","head"],function(e){Uv.headers[e]={}});_n.forEach(["post","put","patch"],function(e){Uv.headers[e]=_n.merge(yX)});var HI=Uv,SX=Vr,TX=HI,IX=function(e,n,r){var i=this||TX;return SX.forEach(r,function(o){e=o.call(i,e,n)}),e},lE,vN;function SU(){return vN||(vN=1,lE=function(e){return!!(e&&e.__CANCEL__)}),lE}var yN=Vr,cE=IX,CX=SU(),RX=HI;function hE(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var AX=function(e){hE(e),e.headers=e.headers||{},e.data=cE.call(e,e.data,e.headers,e.transformRequest),e.headers=yN.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),yN.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var n=e.adapter||RX.adapter;return n(e).then(function(i){return hE(e),i.data=cE.call(e,i.data,i.headers,e.transformResponse),i},function(i){return CX(i)||(hE(e),i&&i.response&&(i.response.data=cE.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},Nn=Vr,TU=function(e,n){n=n||{};var r={},i=["url","method","data"],s=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],u=["validateStatus"];function l(g,v){return Nn.isPlainObject(g)&&Nn.isPlainObject(v)?Nn.merge(g,v):Nn.isPlainObject(v)?Nn.merge({},v):Nn.isArray(v)?v.slice():v}function h(g){Nn.isUndefined(n[g])?Nn.isUndefined(e[g])||(r[g]=l(void 0,e[g])):r[g]=l(e[g],n[g])}Nn.forEach(i,function(v){Nn.isUndefined(n[v])||(r[v]=l(void 0,n[v]))}),Nn.forEach(s,h),Nn.forEach(o,function(v){Nn.isUndefined(n[v])?Nn.isUndefined(e[v])||(r[v]=l(void 0,e[v])):r[v]=l(void 0,n[v])}),Nn.forEach(u,function(v){v in n?r[v]=l(e[v],n[v]):v in e&&(r[v]=l(void 0,e[v]))});var d=i.concat(s).concat(o).concat(u),p=Object.keys(e).concat(Object.keys(n)).filter(function(v){return d.indexOf(v)===-1});return Nn.forEach(p,h),r};const PX="axios",kX="0.21.4",bX="Promise based HTTP client for the browser and node.js",OX="index.js",NX={test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},xX={type:"git",url:"https://github.com/axios/axios.git"},DX=["xhr","http","ajax","promise","node"],LX="Matt Zabriskie",MX="MIT",UX={url:"https://github.com/axios/axios/issues"},FX="https://axios-http.com",$X={coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},VX={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},WX="dist/axios.min.js",jX="dist/axios.min.js",BX="./index.d.ts",zX={"follow-redirects":"^1.14.0"},HX=[{path:"./dist/axios.min.js",threshold:"5kB"}],qX={name:PX,version:kX,description:bX,main:OX,scripts:NX,repository:xX,keywords:DX,author:LX,license:MX,bugs:UX,homepage:FX,devDependencies:$X,browser:VX,jsdelivr:WX,unpkg:jX,typings:BX,dependencies:zX,bundlesize:HX};var IU=qX,qI={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){qI[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});var wN={},GX=IU.version.split(".");function CU(t,e){for(var n=e?e.split("."):GX,r=t.split("."),i=0;i<3;i++){if(n[i]>r[i])return!0;if(n[i]<r[i])return!1}return!1}qI.transitional=function(e,n,r){var i=n&&CU(n);function s(o,u){return"[Axios v"+IU.version+"] Transitional option '"+o+"'"+u+(r?". "+r:"")}return function(o,u,l){if(e===!1)throw new Error(s(u," has been removed in "+n));return i&&!wN[u]&&(wN[u]=!0,console.warn(s(u," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,u,l):!0}};function YX(t,e,n){if(typeof t!="object")throw new TypeError("options must be an object");for(var r=Object.keys(t),i=r.length;i-- >0;){var s=r[i],o=e[s];if(o){var u=t[s],l=u===void 0||o(u,s,t);if(l!==!0)throw new TypeError("option "+s+" must be "+l);continue}if(n!==!0)throw Error("Unknown option "+s)}}var KX={isOlderVersion:CU,assertOptions:YX,validators:qI},RU=Vr,QX=yU,EN=uX,SN=AX,Fv=TU,AU=KX,Xu=AU.validators;function Td(t){this.defaults=t,this.interceptors={request:new EN,response:new EN}}Td.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=Fv(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var n=e.transitional;n!==void 0&&AU.assertOptions(n,{silentJSONParsing:Xu.transitional(Xu.boolean,"1.0.0"),forcedJSONParsing:Xu.transitional(Xu.boolean,"1.0.0"),clarifyTimeoutError:Xu.transitional(Xu.boolean,"1.0.0")},!1);var r=[],i=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(e)===!1||(i=i&&g.synchronous,r.unshift(g.fulfilled,g.rejected))});var s=[];this.interceptors.response.forEach(function(g){s.push(g.fulfilled,g.rejected)});var o;if(!i){var u=[SN,void 0];for(Array.prototype.unshift.apply(u,r),u=u.concat(s),o=Promise.resolve(e);u.length;)o=o.then(u.shift(),u.shift());return o}for(var l=e;r.length;){var h=r.shift(),d=r.shift();try{l=h(l)}catch(p){d(p);break}}try{o=SN(l)}catch(p){return Promise.reject(p)}for(;s.length;)o=o.then(s.shift(),s.shift());return o};Td.prototype.getUri=function(e){return e=Fv(this.defaults,e),QX(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};RU.forEach(["delete","get","head","options"],function(e){Td.prototype[e]=function(n,r){return this.request(Fv(r||{},{method:e,url:n,data:(r||{}).data}))}});RU.forEach(["post","put","patch"],function(e){Td.prototype[e]=function(n,r,i){return this.request(Fv(i||{},{method:e,url:n,data:r}))}});var XX=Td,fE,TN;function PU(){if(TN)return fE;TN=1;function t(e){this.message=e}return t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,fE=t,fE}var dE,IN;function JX(){if(IN)return dE;IN=1;var t=PU();function e(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(o){r=o});var i=this;n(function(o){i.reason||(i.reason=new t(o),r(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.source=function(){var r,i=new e(function(o){r=o});return{token:i,cancel:r}},dE=e,dE}var pE,CN;function ZX(){return CN||(CN=1,pE=function(e){return function(r){return e.apply(null,r)}}),pE}var gE,RN;function eJ(){return RN||(RN=1,gE=function(e){return typeof e=="object"&&e.isAxiosError===!0}),gE}var AN=Vr,tJ=mU,Zg=XX,nJ=TU,rJ=HI;function kU(t){var e=new Zg(t),n=tJ(Zg.prototype.request,e);return AN.extend(n,Zg.prototype,e),AN.extend(n,e),n}var Oi=kU(rJ);Oi.Axios=Zg;Oi.create=function(e){return kU(nJ(Oi.defaults,e))};Oi.Cancel=PU();Oi.CancelToken=JX();Oi.isCancel=SU();Oi.all=function(e){return Promise.all(e)};Oi.spread=ZX();Oi.isAxiosError=eJ();zQ.exports=Oi;Zm.default=Oi;(function(t){t.exports=Zm})(BQ);var bU;function iJ(t){return t&&typeof t=="object"&&"default"in t?t.default:t}Object.defineProperty(Dn,"__esModule",{value:!0});var Uf=iJ(gS),Ma=function(){return(Ma=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},mE=function(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(h){try{l(r.next(h))}catch(d){s(d)}}function u(h){try{l(r.throw(h))}catch(d){s(d)}}function l(h){h.done?i(h.value):new n(function(d){d(h.value)}).then(o,u)}l((r=r.apply(t,e||[])).next())})},_E=function(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(l){return function(h){return function(d){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&d[0]?r.return:d[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,d[1])).done)return i;switch(r=0,i&&(d=[2&d[0],i.value]),d[0]){case 0:case 1:i=d;break;case 4:return o.label++,{value:d[1],done:!1};case 5:o.label++,r=d[1],d=[0];continue;case 7:d=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){o=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){o.label=d[1];break}if(d[0]===6&&o.label<i[1]){o.label=i[1],i=d;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(d);break}i[2]&&o.ops.pop(),o.trys.pop();continue}d=e.call(t,o)}catch(p){d=[6,p],r=0}finally{n=i=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([l,h])}}},PN=void 0,kN=function(t){return t instanceof Date?t.getTime():typeof t=="number"||t===null||t===void 0?t:Number(t)},GI=function(t,e,n){return n>=t&&n<=e},bN=function(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"},YI={Accept:"application/json","Content-Type":"application/json"},sJ={timeout:0},KI=null,QI="CLIENT_ERROR",XI="SERVER_ERROR",JI="TIMEOUT_ERROR",ZI="CONNECTION_ERROR",eC="NETWORK_ERROR",Ff="UNKNOWN_ERROR",OU="CANCEL_ERROR",oJ=["ECONNABORTED"],aJ=["ENOTFOUND","ECONNREFUSED","ECONNRESET"],NU=function(t){return GI(200,299,t)},uJ=function(t){return GI(400,499,t)},lJ=function(t){return GI(500,599,t)},xU=function(t){return t.message==="Network Error"?eC:Uf.isCancel(t)?OU:t.code?oJ.includes(t.code)?JI:aJ.includes(t.code)?ZI:Ff:tC(t.response?t.response.status:null)},tC=function(t){return t?NU(t)?KI:uJ(t)?QI:lJ(t)?XI:Ff:Ff},DU=function(t){var e,n=Ma({},YI,t.headers||{});if(t.axiosInstance)e=t.axiosInstance;else{var r=Ma({},t,{headers:void 0}),i=Ma({},sJ,r);e=Uf.create(i)}var s=[],o=[],u=[],l=[],h=[],d=function(R,S){return n[R]=S,e},p=function(R){return function(S,T,k){return T===void 0&&(T={}),k===void 0&&(k={}),v(Ma({},k,{url:S,params:T,method:R}))}},g=function(R){return function(S,T,k){return k===void 0&&(k={}),v(Ma({},k,{url:S,method:R,data:T}))}},v=function(R){return mE(PN,void 0,void 0,function(){var S,T,k,b,F=this;return _E(this,function(V){switch(V.label){case 0:if(R.headers=Ma({},n,R.headers),o.length>0&&o.forEach(function(W){return W(R)}),!(u.length>0))return[3,6];S=0,V.label=1;case 1:return S<u.length?(T=u[S](R),bN(T)?[4,T]:[3,3]):[3,6];case 2:return V.sent(),[3,5];case 3:return[4,T(R)];case 4:V.sent(),V.label=5;case 5:return S++,[3,1];case 6:return k=kN(new Date),b=function(W){return mE(F,void 0,void 0,function(){var G;return _E(this,function(ie){switch(ie.label){case 0:return[4,C(k,W)];case 1:return G=ie.sent(),[2,E(G)]}})})},[2,e.request(R).then(b).catch(b)]}})})},E=function(R){return s.forEach(function(S){try{S(R)}catch{}}),R},C=function(R,S){return mE(PN,void 0,void 0,function(){var T,k,b,F,V,W,G,ie,re,Ne,I,_,w,N,D,O;return _E(this,function(M){switch(M.label){case 0:if(T=kN(new Date),k=T-R,b=S instanceof Error||Uf.isCancel(S),F=S,V=S,W=b?V.response:F,G=W&&W.status||null,ie=b?xU(S):tC(G),re=b?V:null,Ne=NU(G),I=S.config||null,_=W&&W.headers||null,w=W&&W.data||null,N={duration:k,problem:ie,originalError:re,ok:Ne,status:G,headers:_,config:I,data:w},l.length>0&&l.forEach(function(B){return B(N)}),!(h.length>0))return[3,6];D=0,M.label=1;case 1:return D<h.length?(O=h[D](N),bN(O)?[4,O]:[3,3]):[3,6];case 2:return M.sent(),[3,5];case 3:return[4,O(N)];case 4:M.sent(),M.label=5;case 5:return D++,[3,1];case 6:return[2,N]}})})};return{axiosInstance:e,monitors:s,addMonitor:function(R){s.push(R)},requestTransforms:o,asyncRequestTransforms:u,responseTransforms:l,asyncResponseTransforms:h,addRequestTransform:function(R){return o.push(R)},addAsyncRequestTransform:function(R){return u.push(R)},addResponseTransform:function(R){return l.push(R)},addAsyncResponseTransform:function(R){return h.push(R)},setHeader:d,setHeaders:function(R){return Object.keys(R).forEach(function(S){return d(S,R[S])}),e},deleteHeader:function(R){return delete n[R],e},headers:n,setBaseURL:function(R){return e.defaults.baseURL=R,e},getBaseURL:function(){return e.defaults.baseURL},any:v,get:p("get"),delete:p("delete"),head:p("head"),post:g("post"),put:g("put"),patch:g("patch"),link:p("link"),unlink:p("unlink")}},LU=Uf.isCancel,MU=Uf.CancelToken,cJ={DEFAULT_HEADERS:YI,NONE:KI,CLIENT_ERROR:QI,SERVER_ERROR:XI,TIMEOUT_ERROR:JI,CONNECTION_ERROR:ZI,NETWORK_ERROR:eC,UNKNOWN_ERROR:Ff,create:DU,isCancel:LU,CancelToken:MU};Dn.DEFAULT_HEADERS=YI,Dn.NONE=KI,Dn.CLIENT_ERROR=QI,Dn.SERVER_ERROR=XI,Dn.TIMEOUT_ERROR=JI,Dn.CONNECTION_ERROR=ZI,Dn.NETWORK_ERROR=eC,Dn.UNKNOWN_ERROR=Ff,Dn.CANCEL_ERROR=OU,Dn.getProblemFromError=xU,Dn.getProblemFromStatus=tC,Dn.create=DU,Dn.isCancel=LU,Dn.CancelToken=MU,bU=Dn.default=cJ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne=function(t,e){if(!t)throw Tc(e)},Tc=function(t){return new Error("Firebase Database ("+UU.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},hJ=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],u=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},nC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,u=o?t[i+1]:0,l=i+2<t.length,h=l?t[i+2]:0,d=s>>2,p=(s&3)<<4|u>>4;let g=(u&15)<<2|h>>6,v=h&63;l||(v=64,o||(g=64)),r.push(n[d],n[p],n[g],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(FU(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hJ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||h==null||p==null)throw new fJ;const g=s<<2|u>>4;if(r.push(g),h!==64){const v=u<<4&240|h>>2;if(r.push(v),p!==64){const E=h<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fJ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $U=function(t){const e=FU(t);return nC.encodeByteArray(e,!0)},e_=function(t){return $U(t).replace(/\./g,"")},t_=function(t){try{return nC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dJ(t){return VU(void 0,t)}function VU(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!pJ(n)||(t[n]=VU(t[n],e[n]));return t}function pJ(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gJ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mJ=()=>gJ().__FIREBASE_DEFAULTS__,_J=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vJ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&t_(t[1]);return e&&JSON.parse(e)},$v=()=>{try{return mJ()||_J()||vJ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WU=t=>{var e,n;return(n=(e=$v())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},rC=t=>{const e=WU(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},jU=()=>{var t;return(t=$v())===null||t===void 0?void 0:t.config},BU=t=>{var e;return(e=$v())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),u="";return[e_(JSON.stringify(n)),e_(JSON.stringify(o)),u].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hn())}function yJ(){var t;const e=(t=$v())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wJ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function zU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EJ(){const t=Hn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function HU(){return UU.NODE_ADMIN===!0}function SJ(){try{return typeof indexedDB=="object"}catch{return!1}}function TJ(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IJ="FirebaseError";class ls extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=IJ,Object.setPrototypeOf(this,ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cd.prototype.create)}}class Cd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?CJ(s,r):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new ls(i,u,r)}}function CJ(t,e){return t.replace(RJ,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const RJ=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(t){return JSON.parse(t)}function Zt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qU=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=$f(t_(s[0])||""),n=$f(t_(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},AJ=function(t){const e=qU(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},PJ=function(t){const e=qU(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function tc(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function vS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function n_(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function r_(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ON(s)&&ON(o)){if(!r_(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ON(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Dh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Lh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kJ{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)r[p]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)r[p]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let p=16;p<80;p++){const g=r[p-3]^r[p-8]^r[p-14]^r[p-16];r[p]=(g<<1|g>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],u=this.chain_[3],l=this.chain_[4],h,d;for(let p=0;p<80;p++){p<40?p<20?(h=u^s&(o^u),d=1518500249):(h=s^o^u,d=1859775393):p<60?(h=s&o|u&(s|o),d=2400959708):(h=s^o^u,d=3395469782);const g=(i<<5|i>>>27)+h+l+d+r[p]&4294967295;l=u,u=o,o=(s<<30|s>>>2)&4294967295,s=i,i=g}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function bJ(t,e){const n=new OJ(t,e);return n.subscribe.bind(n)}class OJ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");NJ(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=vE),i.error===void 0&&(i.error=vE),i.complete===void 0&&(i.complete=vE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NJ(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vE(){}function Vv(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xJ=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,ne(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Wv=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t){return t&&t._delegate?t._delegate:t}class Qs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DJ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Id;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MJ(e))try{this.getOrInitializeService({instanceIdentifier:Ua})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ua){return this.instances.has(e)}getOptions(e=Ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LJ(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ua){return this.component?this.component.multipleInstances?e:Ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LJ(t){return t===Ua?void 0:t}function MJ(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UJ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new DJ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const FJ={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},$J=Ge.INFO,VJ={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},WJ=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=VJ[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let jv=class{constructor(e){this.name=e,this._logLevel=$J,this._logHandler=WJ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FJ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}};const jJ=(t,e)=>e.some(n=>t instanceof n);let NN,xN;function BJ(){return NN||(NN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zJ(){return xN||(xN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GU=new WeakMap,yS=new WeakMap,YU=new WeakMap,yE=new WeakMap,oC=new WeakMap;function HJ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Yo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&GU.set(n,t)}).catch(()=>{}),oC.set(e,t),e}function qJ(t){if(yS.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});yS.set(t,e)}let wS={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yS.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YU.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GJ(t){wS=t(wS)}function YJ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(wE(this),e,...n);return YU.set(r,e.sort?e.sort():[e]),Yo(r)}:zJ().includes(t)?function(...e){return t.apply(wE(this),e),Yo(GU.get(this))}:function(...e){return Yo(t.apply(wE(this),e))}}function KJ(t){return typeof t=="function"?YJ(t):(t instanceof IDBTransaction&&qJ(t),jJ(t,BJ())?new Proxy(t,wS):t)}function Yo(t){if(t instanceof IDBRequest)return HJ(t);if(yE.has(t))return yE.get(t);const e=KJ(t);return e!==t&&(yE.set(t,e),oC.set(e,t)),e}const wE=t=>oC.get(t);function QJ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),u=Yo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Yo(o.result),l.oldVersion,l.newVersion,Yo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),u.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const XJ=["get","getKey","getAll","getAllKeys","count"],JJ=["put","add","delete","clear"],EE=new Map;function DN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(EE.get(e))return EE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=JJ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||XJ.includes(n)))return;const s=async function(o,...u){const l=this.transaction(o,i?"readwrite":"readonly");let h=l.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&l.done]))[0]};return EE.set(e,s),s}GJ(t=>({...t,get:(e,n,r)=>DN(e,n)||t.get(e,n,r),has:(e,n)=>!!DN(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZJ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eZ(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function eZ(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ES="@firebase/app",LN="0.9.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=new jv("@firebase/app"),tZ="@firebase/app-compat",nZ="@firebase/analytics-compat",rZ="@firebase/analytics",iZ="@firebase/app-check-compat",sZ="@firebase/app-check",oZ="@firebase/auth",aZ="@firebase/auth-compat",uZ="@firebase/database",lZ="@firebase/database-compat",cZ="@firebase/functions",hZ="@firebase/functions-compat",fZ="@firebase/installations",dZ="@firebase/installations-compat",pZ="@firebase/messaging",gZ="@firebase/messaging-compat",mZ="@firebase/performance",_Z="@firebase/performance-compat",vZ="@firebase/remote-config",yZ="@firebase/remote-config-compat",wZ="@firebase/storage",EZ="@firebase/storage-compat",SZ="@firebase/firestore",TZ="@firebase/firestore-compat",IZ="firebase",CZ="10.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="[DEFAULT]",RZ={[ES]:"fire-core",[tZ]:"fire-core-compat",[rZ]:"fire-analytics",[nZ]:"fire-analytics-compat",[sZ]:"fire-app-check",[iZ]:"fire-app-check-compat",[oZ]:"fire-auth",[aZ]:"fire-auth-compat",[uZ]:"fire-rtdb",[lZ]:"fire-rtdb-compat",[cZ]:"fire-fn",[hZ]:"fire-fn-compat",[fZ]:"fire-iid",[dZ]:"fire-iid-compat",[pZ]:"fire-fcm",[gZ]:"fire-fcm-compat",[mZ]:"fire-perf",[_Z]:"fire-perf-compat",[vZ]:"fire-rc",[yZ]:"fire-rc-compat",[wZ]:"fire-gcs",[EZ]:"fire-gcs-compat",[SZ]:"fire-fst",[TZ]:"fire-fst-compat","fire-js":"fire-js",[IZ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=new Map,TS=new Map;function AZ(t,e){try{t.container.addComponent(e)}catch(n){au.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function aa(t){const e=t.name;if(TS.has(e))return au.debug(`There were multiple attempts to register component ${e}.`),!1;TS.set(e,t);for(const n of i_.values())AZ(n,t);return!0}function Rd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PZ={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ko=new Cd("app","Firebase",PZ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kZ{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ko.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=CZ;function KU(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:SS,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ko.create("bad-app-name",{appName:String(i)});if(n||(n=jU()),!n)throw Ko.create("no-options");const s=i_.get(i);if(s){if(r_(n,s.options)&&r_(r,s.config))return s;throw Ko.create("duplicate-app",{appName:i})}const o=new UJ(i);for(const l of TS.values())o.addComponent(l);const u=new kZ(n,r,o);return i_.set(i,u),u}function Bv(t=SS){const e=i_.get(t);if(!e&&t===SS&&jU())return KU();if(!e)throw Ko.create("no-app",{appName:t});return e}function si(t,e,n){var r;let i=(r=RZ[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),au.warn(u.join(" "));return}aa(new Qs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bZ="firebase-heartbeat-database",OZ=1,Vf="firebase-heartbeat-store";let SE=null;function QU(){return SE||(SE=QJ(bZ,OZ,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Vf)}}}).catch(t=>{throw Ko.create("idb-open",{originalErrorMessage:t.message})})),SE}async function NZ(t){try{return await(await QU()).transaction(Vf).objectStore(Vf).get(XU(t))}catch(e){if(e instanceof ls)au.warn(e.message);else{const n=Ko.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});au.warn(n.message)}}}async function MN(t,e){try{const r=(await QU()).transaction(Vf,"readwrite");await r.objectStore(Vf).put(e,XU(t)),await r.done}catch(n){if(n instanceof ls)au.warn(n.message);else{const r=Ko.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});au.warn(r.message)}}}function XU(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xZ=1024,DZ=30*24*60*60*1e3;class LZ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new UZ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=UN();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=DZ}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=UN(),{heartbeatsToSend:n,unsentEntries:r}=MZ(this._heartbeatsCache.heartbeats),i=e_(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function UN(){return new Date().toISOString().substring(0,10)}function MZ(t,e=xZ){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),FN(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),FN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class UZ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SJ()?TJ().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await NZ(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return MN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return MN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function FN(t){return e_(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FZ(t){aa(new Qs("platform-logger",e=>new ZJ(e),"PRIVATE")),aa(new Qs("heartbeat",e=>new LZ(e),"PRIVATE")),si(ES,LN,t),si(ES,LN,"esm2017"),si("fire-js","")}FZ("");var $Z="firebase",VZ="10.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */si($Z,VZ,"app");function aC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function JU(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WZ=JU,ZU=new Cd("auth","Firebase",JU());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_=new jv("@firebase/auth");function jZ(t,...e){s_.logLevel<=Ge.WARN&&s_.warn(`Auth (${va}): ${t}`,...e)}function em(t,...e){s_.logLevel<=Ge.ERROR&&s_.error(`Auth (${va}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(t,...e){throw uC(t,...e)}function is(t,...e){return uC(t,...e)}function BZ(t,e,n){const r=Object.assign(Object.assign({},WZ()),{[e]:n});return new Cd("auth","Firebase",r).create(e,{appName:t.name})}function uC(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ZU.create(t,...e)}function Te(t,e,...n){if(!t)throw uC(e,...n)}function Ds(t){const e="INTERNAL ASSERTION FAILED: "+t;throw em(e),new Error(e)}function Xs(t,e){t||Ds(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function zZ(){return $N()==="http:"||$N()==="https:"}function $N(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HZ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zZ()||wJ()||"connection"in navigator)?navigator.onLine:!0}function qZ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xs(n>e,"Short delay should be less than long delay!"),this.isMobile=sC()||zU()}get(){return HZ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(t,e){Xs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YZ=new Ad(3e4,6e4);function Cc(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Cu(t,e,n,r,i={}){return tF(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const u=Ic(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),eF.fetch()(nF(t,t.config.apiHost,n,u),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function tF(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},GZ),e);try{const i=new KZ(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw dg(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const u=s.ok?o.errorMessage:o.error.message,[l,h]=u.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw dg(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw dg(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw dg(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw BZ(t,d,h);Ni(t,d)}}catch(i){if(i instanceof ls)throw i;Ni(t,"network-request-failed",{message:String(i)})}}async function Pd(t,e,n,r,i={}){const s=await Cu(t,e,n,r,i);return"mfaPendingCredential"in s&&Ni(t,"multi-factor-auth-required",{_serverResponse:s}),s}function nF(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?lC(t.config,i):`${t.config.apiScheme}://${i}`}class KZ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(is(this.auth,"network-request-failed")),YZ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function dg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=is(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QZ(t,e){return Cu(t,"POST","/v1/accounts:delete",e)}async function XZ(t,e){return Cu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JZ(t,e=!1){const n=ct(t),r=await n.getIdToken(e),i=cC(r);Te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Jh(TE(i.auth_time)),issuedAtTime:Jh(TE(i.iat)),expirationTime:Jh(TE(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function TE(t){return Number(t)*1e3}function cC(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return em("JWT malformed, contained fewer than 3 sections"),null;try{const i=t_(n);return i?JSON.parse(i):(em("Failed to decode base64 JWT payload"),null)}catch(i){return em("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ZZ(t){const e=cC(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ls&&eee(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function eee({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jh(this.lastLoginAt),this.creationTime=Jh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o_(t){var e;const n=t.auth,r=await t.getIdToken(),i=await nc(t,XZ(n,{idToken:r}));Te(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?iee(s.providerUserInfo):[],u=ree(t.providerData,o),l=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(u!=null&&u.length),d=l?h:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new rF(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function nee(t){const e=ct(t);await o_(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ree(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function iee(t){return t.map(e=>{var{providerId:n}=e,r=aC(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function see(t,e){const n=await tF(t,{},async()=>{const r=Ic({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=nF(t,i,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",eF.fetch()(o,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZZ(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Te(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await see(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Wf;return r&&(Te(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Te(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Te(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wf,this.toJSON())}_performRefresh(){return Ds("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Qa{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=aC(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new rF(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await nc(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return JZ(this,e)}reload(){return nee(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await o_(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await nc(this,QZ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,u,l,h,d;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,C=(u=n.tenantId)!==null&&u!==void 0?u:void 0,R=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,S=(h=n.createdAt)!==null&&h!==void 0?h:void 0,T=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:k,emailVerified:b,isAnonymous:F,providerData:V,stsTokenManager:W}=n;Te(k&&W,e,"internal-error");const G=Wf.fromJSON(this.name,W);Te(typeof k=="string",e,"internal-error"),vo(p,e.name),vo(g,e.name),Te(typeof b=="boolean",e,"internal-error"),Te(typeof F=="boolean",e,"internal-error"),vo(v,e.name),vo(E,e.name),vo(C,e.name),vo(R,e.name),vo(S,e.name),vo(T,e.name);const ie=new Qa({uid:k,auth:e,email:g,emailVerified:b,displayName:p,isAnonymous:F,photoURL:E,phoneNumber:v,tenantId:C,stsTokenManager:G,createdAt:S,lastLoginAt:T});return V&&Array.isArray(V)&&(ie.providerData=V.map(re=>Object.assign({},re))),R&&(ie._redirectEventId=R),ie}static async _fromIdTokenResponse(e,n,r=!1){const i=new Wf;i.updateFromServerResponse(n);const s=new Qa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await o_(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=new Map;function Ls(t){Xs(t instanceof Function,"Expected a class definition");let e=VN.get(t);return e?(Xs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,VN.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iF.type="NONE";const WN=iF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(t,e,n){return`firebase:${t}:${e}:${n}`}class Nl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=tm(this.userKey,i.apiKey,s),this.fullPersistenceKey=tm("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Qa._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Nl(Ls(WN),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Ls(WN);const o=tm(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const d=await h._get(o);if(d){const p=Qa._fromJSON(e,d);h!==s&&(u=p),s=h;break}}catch{}const l=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Nl(s,e,r):(s=l[0],u&&await s._set(o,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new Nl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lF(e))return"Blackberry";if(cF(e))return"Webos";if(hC(e))return"Safari";if((e.includes("chrome/")||oF(e))&&!e.includes("edge/"))return"Chrome";if(uF(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function sF(t=Hn()){return/firefox\//i.test(t)}function hC(t=Hn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oF(t=Hn()){return/crios\//i.test(t)}function aF(t=Hn()){return/iemobile/i.test(t)}function uF(t=Hn()){return/android/i.test(t)}function lF(t=Hn()){return/blackberry/i.test(t)}function cF(t=Hn()){return/webos/i.test(t)}function zv(t=Hn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function oee(t=Hn()){var e;return zv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function aee(){return EJ()&&document.documentMode===10}function hF(t=Hn()){return zv(t)||uF(t)||cF(t)||lF(t)||/windows phone/i.test(t)||aF(t)}function uee(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(t,e=[]){let n;switch(t){case"Browser":n=jN(Hn());break;case"Worker":n=`${jN(Hn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${va}/${r}`}async function dF(t,e){return Cu(t,"GET","/v2/recaptchaConfig",Cc(t,e))}function BN(t){return t!==void 0&&t.enterprise!==void 0}class pF{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lee(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function gF(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=is("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",lee().appendChild(r)})}function cee(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const hee="https://www.google.com/recaptcha/enterprise.js?render=",fee="recaptcha-enterprise",dee="NO_RECAPTCHA";class mF{constructor(e){this.type=fee,this.auth=Rc(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,u)=>{dF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new pF(l);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,o(h.siteKey)}}).catch(l=>{u(l)})})}function i(s,o,u){const l=window.grecaptcha;BN(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(h=>{o(h)}).catch(()=>{o(dee)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(u=>{if(!n&&BN(window.grecaptcha))i(u,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}gF(hee+u).then(()=>{i(u,s,o)}).catch(l=>{o(l)})}}).catch(u=>{o(u)})})}}async function a_(t,e,n,r=!1){const i=new mF(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pee{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,u)=>{try{const l=e(s);o(l)}catch(l){u(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gee{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zN(this),this.idTokenSubscription=new zN(this),this.beforeStateQueue=new pee(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ls(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Nl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===u)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await o_(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qZ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ct(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ls(e))})}async initializeRecaptchaConfig(){const e=await dF(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new pF(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new mF(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Cd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ls(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await Nl.create(this,[Ls(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Te(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&jZ(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Rc(t){return ct(t)}class zN{constructor(e){this.auth=e,this.observer=null,this.addObserver=bJ(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mee(t,e){const n=Rd(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(r_(s,e??{}))return i;Ni(i,"already-initialized")}return n.initialize({options:e})}function _ee(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ls);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function vee(t,e,n){const r=Rc(t);Te(r._canInitEmulator,r,"emulator-config-failed"),Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=_F(e),{host:o,port:u}=yee(e),l=u===null?"":`:${u}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||wee()}function _F(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function yee(t){const e=_F(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:HN(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:HN(o)}}}function HN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wee(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ds("not implemented")}_getIdTokenResponse(e){return Ds("not implemented")}_linkToIdToken(e,n){return Ds("not implemented")}_getReauthenticationResolver(e){return Ds("not implemented")}}async function Eee(t,e){return Cu(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IE(t,e){return Pd(t,"POST","/v1/accounts:signInWithPassword",Cc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function See(t,e){return Pd(t,"POST","/v1/accounts:signInWithEmailLink",Cc(t,e))}async function Tee(t,e){return Pd(t,"POST","/v1/accounts:signInWithEmailLink",Cc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf extends fC{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new jf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new jf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await a_(e,r,"signInWithPassword");return IE(e,i)}else return IE(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await a_(e,r,"signInWithPassword");return IE(e,s)}else return Promise.reject(i)});case"emailLink":return See(e,{email:this._email,oobCode:this._password});default:Ni(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return Eee(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Tee(e,{idToken:n,email:this._email,oobCode:this._password});default:Ni(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(t,e){return Pd(t,"POST","/v1/accounts:signInWithIdp",Cc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iee="http://localhost";class uu extends fC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new uu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=aC(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new uu(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return xl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xl(e,n)}buildRequest(){const e={requestUri:Iee,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ic(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cee(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ree(t){const e=Dh(Lh(t)).link,n=e?Dh(Lh(e)).deep_link_id:null,r=Dh(Lh(t)).deep_link_id;return(r?Dh(Lh(r)).link:null)||r||n||e||t}class dC{constructor(e){var n,r,i,s,o,u;const l=Dh(Lh(e)),h=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,p=Cee((i=l.mode)!==null&&i!==void 0?i:null);Te(h&&d&&p,"argument-error"),this.apiKey=h,this.operation=p,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(u=l.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=Ree(e);try{return new dC(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(){this.providerId=Ac.PROVIDER_ID}static credential(e,n){return jf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=dC.parseLink(n);return Te(r,"argument-error"),jf._fromEmailAndCode(e,r.code,r.tenantId)}}Ac.PROVIDER_ID="password";Ac.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ac.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd extends vF{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends kd{constructor(){super("facebook.com")}static credential(e){return uu._fromParams({providerId:Io.PROVIDER_ID,signInMethod:Io.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Io.credentialFromTaggedObject(e)}static credentialFromError(e){return Io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Io.credential(e.oauthAccessToken)}catch{return null}}}Io.FACEBOOK_SIGN_IN_METHOD="facebook.com";Io.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co extends kd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return uu._fromParams({providerId:Co.PROVIDER_ID,signInMethod:Co.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Co.credentialFromTaggedObject(e)}static credentialFromError(e){return Co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Co.credential(n,r)}catch{return null}}}Co.GOOGLE_SIGN_IN_METHOD="google.com";Co.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends kd{constructor(){super("github.com")}static credential(e){return uu._fromParams({providerId:Ro.PROVIDER_ID,signInMethod:Ro.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ro.credentialFromTaggedObject(e)}static credentialFromError(e){return Ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ro.credential(e.oauthAccessToken)}catch{return null}}}Ro.GITHUB_SIGN_IN_METHOD="github.com";Ro.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends kd{constructor(){super("twitter.com")}static credential(e,n){return uu._fromParams({providerId:Ao.PROVIDER_ID,signInMethod:Ao.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ao.credentialFromTaggedObject(e)}static credentialFromError(e){return Ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ao.credential(n,r)}catch{return null}}}Ao.TWITTER_SIGN_IN_METHOD="twitter.com";Ao.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CE(t,e){return Pd(t,"POST","/v1/accounts:signUp",Cc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Qa._fromIdTokenResponse(e,r,i),o=qN(r);return new lu({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=qN(r);return new lu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function qN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_ extends ls{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,u_.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new u_(e,n,r,i)}}function yF(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?u_._fromErrorAndOperation(t,s,e,r):s})}async function Aee(t,e,n=!1){const r=await nc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return lu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pee(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await nc(t,yF(r,i,e,t),n);Te(s.idToken,r,"internal-error");const o=cC(s.idToken);Te(o,r,"internal-error");const{sub:u}=o;return Te(t.uid===u,r,"user-mismatch"),lu._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ni(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wF(t,e,n=!1){const r="signIn",i=await yF(t,r,e),s=await lu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function kee(t,e){return wF(Rc(t),e)}async function bee(t,e,n){var r;const i=Rc(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const h=await a_(i,s,"signUpPassword");o=CE(i,h)}else o=CE(i,s).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=await a_(i,s,"signUpPassword");return CE(i,d)}else return Promise.reject(h)});const u=await o.catch(h=>Promise.reject(h)),l=await lu._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(l.user),l}function Oee(t,e,n){return kee(ct(t),Ac.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nee(t,e){return Cu(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ct(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await nc(r,Nee(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const u=r.providerData.find(({providerId:l})=>l==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function xee(t,e,n,r){return ct(t).onIdTokenChanged(e,n,r)}function Dee(t,e,n){return ct(t).beforeAuthStateChanged(e,n)}const l_="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(l_,"1"),this.storage.removeItem(l_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lee(){const t=Hn();return hC(t)||zv(t)}const Mee=1e3,Uee=10;class SF extends EF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Lee()&&uee(),this.fallbackToPolling=hF(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,u,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);aee()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Uee):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Mee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}SF.type="LOCAL";const Fee=SF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF extends EF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}TF.type="SESSION";const IF=TF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ee(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Hv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(o).map(async h=>h(n.origin,s)),l=await $ee(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vee{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((u,l)=>{const h=pC("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===h)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(g.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(){return window}function Wee(t){ss().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(){return typeof ss().WorkerGlobalScope<"u"&&typeof ss().importScripts=="function"}async function jee(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Bee(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function zee(){return CF()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF="firebaseLocalStorageDb",Hee=1,c_="firebaseLocalStorage",AF="fbase_key";class bd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qv(t,e){return t.transaction([c_],e?"readwrite":"readonly").objectStore(c_)}function qee(){const t=indexedDB.deleteDatabase(RF);return new bd(t).toPromise()}function CS(){const t=indexedDB.open(RF,Hee);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(c_,{keyPath:AF})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(c_)?e(r):(r.close(),await qee(),e(await CS()))})})}async function YN(t,e,n){const r=qv(t,!0).put({[AF]:e,value:n});return new bd(r).toPromise()}async function Gee(t,e){const n=qv(t,!1).get(e),r=await new bd(n).toPromise();return r===void 0?null:r.value}function KN(t,e){const n=qv(t,!0).delete(e);return new bd(n).toPromise()}const Yee=800,Kee=3;class PF{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await CS(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Kee)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CF()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hv._getInstance(zee()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await jee(),!this.activeServiceWorker)return;this.sender=new Vee(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Bee()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await CS();return await YN(e,l_,"1"),await KN(e,l_),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>YN(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Gee(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>KN(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=qv(i,!1).getAll();return new bd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Yee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PF.type="LOCAL";const Qee=PF;new Ad(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xee(t,e){return e?Ls(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC extends fC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Jee(t){return wF(t.auth,new gC(t),t.bypassAuthState)}function Zee(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),Pee(n,new gC(t),t.bypassAuthState)}async function ete(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),Aee(n,new gC(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:u}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(l))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Jee;case"linkViaPopup":case"linkViaRedirect":return ete;case"reauthViaPopup":case"reauthViaRedirect":return Zee;default:Ni(this.auth,"internal-error")}}resolve(e){Xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tte=new Ad(2e3,1e4);class wl extends kF{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,wl.currentPopupAction&&wl.currentPopupAction.cancel(),wl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Xs(this.filter.length===1,"Popup operations only handle one event");const e=pC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(is(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(is(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(is(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tte.get())};e()}}wl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nte="pendingRedirect",nm=new Map;class rte extends kF{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=nm.get(this.auth._key());if(!e){try{const r=await ite(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}nm.set(this.auth._key(),e)}return this.bypassAuthState||nm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ite(t,e){const n=ate(e),r=ote(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function ste(t,e){nm.set(t._key(),e)}function ote(t){return Ls(t._redirectPersistence)}function ate(t){return tm(nte,t.config.apiKey,t.name)}async function ute(t,e,n=!1){const r=Rc(t),i=Xee(r,e),o=await new rte(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lte=10*60*1e3;class cte{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hte(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!bF(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(is(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lte&&this.cachedEventUids.clear(),this.cachedEventUids.has(QN(e))}saveEventToCache(e){this.cachedEventUids.add(QN(e)),this.lastProcessedEventTime=Date.now()}}function QN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bF({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function hte(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bF(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fte(t,e={}){return Cu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dte=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pte=/^https?/;async function gte(t){if(t.config.emulator)return;const{authorizedDomains:e}=await fte(t);for(const n of e)try{if(mte(n))return}catch{}Ni(t,"unauthorized-domain")}function mte(t){const e=IS(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!pte.test(n))return!1;if(dte.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _te=new Ad(3e4,6e4);function XN(){const t=ss().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vte(t){return new Promise((e,n)=>{var r,i,s;function o(){XN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{XN(),n(is(t,"network-request-failed"))},timeout:_te.get()})}if(!((i=(r=ss().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ss().gapi)===null||s===void 0)&&s.load)o();else{const u=cee("iframefcb");return ss()[u]=()=>{gapi.load?o():n(is(t,"network-request-failed"))},gF(`https://apis.google.com/js/api.js?onload=${u}`).catch(l=>n(l))}}).catch(e=>{throw rm=null,e})}let rm=null;function yte(t){return rm=rm||vte(t),rm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wte=new Ad(5e3,15e3),Ete="__/auth/iframe",Ste="emulator/auth/iframe",Tte={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ite=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cte(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?lC(e,Ste):`https://${t.config.authDomain}/${Ete}`,r={apiKey:e.apiKey,appName:t.name,v:va},i=Ite.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ic(r).slice(1)}`}async function Rte(t){const e=await yte(t),n=ss().gapi;return Te(n,t,"internal-error"),e.open({where:document.body,url:Cte(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tte,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=is(t,"network-request-failed"),u=ss().setTimeout(()=>{s(o)},wte.get());function l(){ss().clearTimeout(u),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ate={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Pte=500,kte=600,bte="_blank",Ote="http://localhost";class JN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Nte(t,e,n,r=Pte,i=kte){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const l=Object.assign(Object.assign({},Ate),{width:r.toString(),height:i.toString(),top:s,left:o}),h=Hn().toLowerCase();n&&(u=oF(h)?bte:n),sF(h)&&(e=e||Ote,l.scrollbars="yes");const d=Object.entries(l).reduce((g,[v,E])=>`${g}${v}=${E},`,"");if(oee(h)&&u!=="_self")return xte(e||"",u),new JN(null);const p=window.open(e||"",u,d);Te(p,t,"popup-blocked");try{p.focus()}catch{}return new JN(p)}function xte(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dte="__/auth/handler",Lte="emulator/auth/handler",Mte=encodeURIComponent("fac");async function ZN(t,e,n,r,i,s){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:va,eventId:i};if(e instanceof vF){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",vS(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries(s||{}))o[d]=p}if(e instanceof kd){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const u=o;for(const d of Object.keys(u))u[d]===void 0&&delete u[d];const l=await t._getAppCheckToken(),h=l?`#${Mte}=${encodeURIComponent(l)}`:"";return`${Ute(t)}?${Ic(u).slice(1)}${h}`}function Ute({config:t}){return t.emulator?lC(t,Lte):`https://${t.authDomain}/${Dte}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="webStorageSupport";class Fte{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IF,this._completeRedirectFn=ute,this._overrideRedirectResult=ste}async _openPopup(e,n,r,i){var s;Xs((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await ZN(e,n,r,IS(),i);return Nte(e,o,pC())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await ZN(e,n,r,IS(),i);return Wee(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Xs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Rte(e),r=new cte(e);return n.register("authEvent",i=>(Te(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(RE,{type:RE},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[RE];o!==void 0&&n(!!o),Ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=gte(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hF()||hC()||zv()}}const $te=Fte;var ex="@firebase/auth",tx="1.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vte{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wte(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function jte(t){aa(new Qs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=r.options;Te(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fF(t)},h=new gee(r,i,s,l);return _ee(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),aa(new Qs("auth-internal",e=>{const n=Rc(e.getProvider("auth").getImmediate());return(r=>new Vte(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),si(ex,tx,Wte(t)),si(ex,tx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bte=5*60,zte=BU("authIdTokenMaxAge")||Bte;let nx=null;const Hte=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>zte)return;const i=n==null?void 0:n.token;nx!==i&&(nx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function qte(t=Bv()){const e=Rd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=mee(t,{popupRedirectResolver:$te,persistence:[Qee,Fee,IF]}),r=BU("authTokenSyncURL");if(r){const s=Hte(r);Dee(n,s,()=>s(n.currentUser)),xee(n,o=>s(o))}const i=WU("auth");return i&&vee(n,`http://${i}`),n}jte("Browser");const rx="@firebase/database",ix="1.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OF="";function Gte(t){OF=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yte{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Zt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:$f(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kte{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return cs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Yte(e)}}catch{}return new Kte},Ba=NF("localStorage"),RS=NF("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=new jv("@firebase/database"),Qte=function(){let t=1;return function(){return t++}}(),xF=function(t){const e=xJ(t),n=new kJ;n.update(e);const r=n.digest();return nC.encodeByteArray(r)},Od=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Od.apply(null,r):typeof r=="object"?e+=Zt(r):e+=r,e+=" "}return e};let Xa=null,sx=!0;const Xte=function(t,e){ne(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Dl.logLevel=Ge.VERBOSE,Xa=Dl.log.bind(Dl),e&&RS.set("logging_enabled",!0)):typeof t=="function"?Xa=t:(Xa=null,RS.remove("logging_enabled"))},yn=function(...t){if(sx===!0&&(sx=!1,Xa===null&&RS.get("logging_enabled")===!0&&Xte(!0)),Xa){const e=Od.apply(null,t);Xa(e)}},Nd=function(t){return function(...e){yn(t,...e)}},AS=function(...t){const e="FIREBASE INTERNAL ERROR: "+Od(...t);Dl.error(e)},Js=function(...t){const e=`FIREBASE FATAL ERROR: ${Od(...t)}`;throw Dl.error(e),new Error(e)},or=function(...t){const e="FIREBASE WARNING: "+Od(...t);Dl.warn(e)},Jte=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&or("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},mC=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Zte=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},rc="[MIN_NAME]",cu="[MAX_NAME]",Ru=function(t,e){if(t===e)return 0;if(t===rc||e===cu)return-1;if(e===rc||t===cu)return 1;{const n=ox(t),r=ox(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},ene=function(t,e){return t===e?0:t<e?-1:1},vh=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Zt(e))},_C=function(t){if(typeof t!="object"||t===null)return Zt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Zt(e[r]),n+=":",n+=_C(t[e[r]]);return n+="}",n},DF=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Rn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const LF=function(t){ne(!mC(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,u,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(u=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=u+r,o=Math.round(t*Math.pow(2,n-u)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const h=[];for(l=n;l;l-=1)h.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();const d=h.join("");let p="";for(l=0;l<64;l+=8){let g=parseInt(d.substr(l,8),2).toString(16);g.length===1&&(g="0"+g),p=p+g}return p.toLowerCase()},tne=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},nne=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function rne(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const ine=new RegExp("^-?(0*)\\d{1,10}$"),sne=-2147483648,one=2147483647,ox=function(t){if(ine.test(t)){const e=Number(t);if(e>=sne&&e<=one)return e}return null},Pc=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw or("Exception was thrown by user callback.",n),e},Math.floor(0))}},ane=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Zh=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class une{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){or(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lne{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(yn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',or(e)}}class Ll{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ll.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="5",MF="v",UF="s",FF="r",$F="f",VF=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,WF="ls",jF="p",PS="ac",BF="websocket",zF="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e,n,r,i,s=!1,o="",u=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ba.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ba.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function cne(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function qF(t,e,n){ne(typeof e=="string","typeof type must == string"),ne(typeof n=="object","typeof params must == object");let r;if(e===BF)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===zF)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);cne(t)&&(n.ns=t.namespace);const i=[];return Rn(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hne{constructor(){this.counters_={}}incrementCounter(e,n=1){cs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return dJ(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE={},PE={};function yC(t){const e=t.toString();return AE[e]||(AE[e]=new hne),AE[e]}function fne(t,e){const n=t.toString();return PE[n]||(PE[n]=e()),PE[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dne{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Pc(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="start",pne="close",gne="pLPCommand",mne="pRTLPCB",GF="id",YF="pw",KF="ser",_ne="cb",vne="seg",yne="ts",wne="d",Ene="dframe",QF=1870,XF=30,Sne=QF-XF,Tne=25e3,Ine=3e4;class El{constructor(e,n,r,i,s,o,u){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Nd(e),this.stats_=yC(n),this.urlFn=l=>(this.appCheckToken&&(l[PS]=this.appCheckToken),qF(n,zF,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new dne(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Ine)),Zte(()=>{if(this.isClosed_)return;this.scriptTagHolder=new wC((...s)=>{const[o,u,l,h,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===ax)this.id=u,this.password=l;else if(o===pne)u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,u]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,u)},()=>{this.onClosed_()},this.urlFn);const r={};r[ax]="t",r[KF]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[_ne]=this.scriptTagHolder.uniqueCallbackIdentifier),r[MF]=vC,this.transportSessionId&&(r[UF]=this.transportSessionId),this.lastSessionId&&(r[WF]=this.lastSessionId),this.applicationId&&(r[jF]=this.applicationId),this.appCheckToken&&(r[PS]=this.appCheckToken),typeof location<"u"&&location.hostname&&VF.test(location.hostname)&&(r[FF]=$F);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){El.forceAllow_=!0}static forceDisallow(){El.forceDisallow_=!0}static isAvailable(){return El.forceAllow_?!0:!El.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!tne()&&!nne()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Zt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=$U(n),i=DF(r,Sne);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Ene]="t",r[GF]=e,r[YF]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Zt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class wC{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Qte(),window[gne+this.uniqueCallbackIdentifier]=e,window[mne+this.uniqueCallbackIdentifier]=n,this.myIFrame=wC.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(u){yn("frame writing exception"),u.stack&&yn(u.stack),yn(u)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||yn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[GF]=this.myID,e[YF]=this.myPW,e[KF]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+XF+r.length<=QF;){const o=this.pendingSegs.shift();r=r+"&"+vne+i+"="+o.seg+"&"+yne+i+"="+o.ts+"&"+wne+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Tne)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{yn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cne=16384,Rne=45e3;let h_=null;typeof MozWebSocket<"u"?h_=MozWebSocket:typeof WebSocket<"u"&&(h_=WebSocket);class Ti{constructor(e,n,r,i,s,o,u){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Nd(this.connId),this.stats_=yC(n),this.connURL=Ti.connectionURL_(n,o,u,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[MF]=vC,typeof location<"u"&&location.hostname&&VF.test(location.hostname)&&(o[FF]=$F),n&&(o[UF]=n),r&&(o[WF]=r),i&&(o[PS]=i),s&&(o[jF]=s),qF(e,BF,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ba.set("previous_websocket_failure",!0);try{let r;HU(),this.mySock=new h_(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Ti.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&h_!==null&&!Ti.forceDisallow_}static previouslyFailed(){return Ba.isInMemoryStorage||Ba.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ba.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=$f(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ne(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Zt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=DF(n,Cne);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Rne))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ti.responsesRequiredToBeHealthy=2;Ti.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[El,Ti]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Ti&&Ti.isAvailable();let r=n&&!Ti.previouslyFailed();if(e.webSocketOnly&&(n||or("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ti];else{const i=this.transports_=[];for(const s of Bf.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Bf.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Bf.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ane=6e4,Pne=5e3,kne=10*1024,bne=100*1024,kE="t",ux="d",One="s",lx="r",Nne="e",cx="o",hx="a",fx="n",dx="p",xne="h";class Dne{constructor(e,n,r,i,s,o,u,l,h,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=u,this.onDisconnect_=l,this.onKill_=h,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Nd("c:"+this.id+":"),this.transportManager_=new Bf(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Zh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>bne?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>kne?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(kE in e){const n=e[kE];n===hx?this.upgradeIfSecondaryHealthy_():n===lx?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===cx&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=vh("t",e),r=vh("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:dx,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:hx,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:fx,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=vh("t",e),r=vh("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=vh(kE,e);if(ux in e){const r=e[ux];if(n===xne){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===fx){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===One?this.onConnectionShutdown_(r):n===lx?this.onReset_(r):n===Nne?AS("Server Error: "+r):n===cx?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):AS("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),vC!==r&&or("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Zh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Ane))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Zh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Pne))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:dx,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ba.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZF=class{constructor(e){this.allowedEvents_=e,this.listeners_={},ne(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){ne(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_ extends ZF{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!sC()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new f_}getInitialEvent(e){return ne(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=32,gx=768;class at{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ke(){return new at("")}function Le(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ua(t){return t.pieces_.length-t.pieceNum_}function dt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new at(t.pieces_,e)}function EC(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Lne(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function zf(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function e$(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new at(e,0)}function Lt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof at)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new at(n,0)}function $e(t){return t.pieceNum_>=t.pieces_.length}function nr(t,e){const n=Le(t),r=Le(e);if(n===null)return e;if(n===r)return nr(dt(t),dt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Mne(t,e){const n=zf(t,0),r=zf(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Ru(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function SC(t,e){if(ua(t)!==ua(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function ri(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ua(t)>ua(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Une{constructor(e,n){this.errorPrefix_=n,this.parts_=zf(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Wv(this.parts_[r]);t$(this)}}function Fne(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Wv(e),t$(t)}function $ne(t){const e=t.parts_.pop();t.byteLength_-=Wv(e),t.parts_.length>0&&(t.byteLength_-=1)}function t$(t){if(t.byteLength_>gx)throw new Error(t.errorPrefix_+"has a key path longer than "+gx+" bytes ("+t.byteLength_+").");if(t.parts_.length>px)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+px+") or object contains a cycle "+Fa(t))}function Fa(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC extends ZF{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new TC}getInitialEvent(e){return ne(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=1e3,Vne=60*5*1e3,mx=30*1e3,Wne=1.3,jne=3e4,Bne="server_kill",_x=3;class js extends JF{constructor(e,n,r,i,s,o,u,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=u,this.authOverride_=l,this.id=js.nextPersistentConnectionId_++,this.log_=Nd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=yh,this.maxReconnectDelay_=Vne,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!HU())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");TC.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&f_.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Zt(s)),ne(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Id,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const u=o.d;o.s==="ok"?n.resolve(u):n.reject(u)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ne(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const u={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,u),this.connected_&&this.sendListen_(u)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,u=>{const l=u.d,h=u.s;js.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",u),h!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(h,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&cs(e,"w")){const r=tc(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();or(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||PJ(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=mx)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=AJ(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Zt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):AS("Unrecognized action received from server: "+Zt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ne(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=yh,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=yh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>jne&&(this.reconnectDelay_=yh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Wne)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+js.nextConnectionId_++,s=this.lastSessionId;let o=!1,u=null;const l=function(){u?u.close():(o=!0,r())},h=function(p){ne(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(p)};this.realtime_={close:l,sendRequest:h};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[p,g]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?yn("getToken() completed but was canceled"):(yn("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=g&&g.token,u=new Dne(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,v=>{or(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(Bne)},s))}catch(p){this.log_("Failed to get token: "+p),o||(this.repoInfo_.nodeAdmin&&or(p),l())}}}interrupt(e){yn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){yn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],vS(this.interruptReasons_)&&(this.reconnectDelay_=yh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>_C(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new at(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){yn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=_x&&(this.reconnectDelay_=mx,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){yn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=_x&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+OF.replace(/\./g,"-")]=1,sC()?e["framework.cordova"]=1:zU()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=f_.getInstance().currentlyOnline();return vS(this.interruptReasons_)&&e}}js.nextPersistentConnectionId_=0;js.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Me(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Me(rc,e),i=new Me(rc,n);return this.compare(r,i)!==0}minPost(){return Me.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pg;class n$ extends Gv{static get __EMPTY_NODE(){return pg}static set __EMPTY_NODE(e){pg=e}compare(e,n){return Ru(e.name,n.name)}isDefinedOn(e){throw Tc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Me.MIN}maxPost(){return new Me(cu,pg)}makePost(e,n){return ne(typeof e=="string","KeyIndex indexValue must always be a string."),new Me(e,pg)}toString(){return".key"}}const Ml=new n$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gg=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},kr=class Mh{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Mh.RED,this.left=i??Qi.EMPTY_NODE,this.right=s??Qi.EMPTY_NODE}copy(e,n,r,i,s){return new Mh(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Qi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Qi.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Mh.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Mh.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};kr.RED=!0;kr.BLACK=!1;class zne{copy(e,n,r,i,s){return this}insert(e,n,r){return new kr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let Qi=class im{constructor(e,n=im.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new im(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,kr.BLACK,null,null))}remove(e){return new im(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,kr.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new gg(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new gg(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new gg(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new gg(this.root_,null,this.comparator_,!0,e)}};Qi.EMPTY_NODE=new zne;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hne(t,e){return Ru(t.name,e.name)}function IC(t,e){return Ru(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kS;function qne(t){kS=t}const r$=function(t){return typeof t=="number"?"number:"+LF(t):"string:"+t},i$=function(t){if(t.isLeafNode()){const e=t.val();ne(typeof e=="string"||typeof e=="number"||typeof e=="object"&&cs(e,".sv"),"Priority must be a string or number.")}else ne(t===kS||t.isEmpty(),"priority of unexpected type.");ne(t===kS||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vx;class sn{constructor(e,n=sn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ne(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),i$(this.priorityNode_)}static set __childrenNodeConstructor(e){vx=e}static get __childrenNodeConstructor(){return vx}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new sn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:sn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return $e(e)?this:Le(e)===".priority"?this.priorityNode_:sn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:sn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Le(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ne(r!==".priority"||ua(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,sn.__childrenNodeConstructor.EMPTY_NODE.updateChild(dt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+r$(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=LF(this.value_):e+=this.value_,this.lazyHash_=xF(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===sn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof sn.__childrenNodeConstructor?-1:(ne(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=sn.VALUE_TYPE_ORDER.indexOf(n),s=sn.VALUE_TYPE_ORDER.indexOf(r);return ne(i>=0,"Unknown leaf type: "+n),ne(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}sn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s$,o$;function Gne(t){s$=t}function Yne(t){o$=t}class Kne extends Gv{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Ru(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Me.MIN}maxPost(){return new Me(cu,new sn("[PRIORITY-POST]",o$))}makePost(e,n){const r=s$(e);return new Me(n,new sn("[PRIORITY-POST]",r))}toString(){return".priority"}}const Mt=new Kne;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qne=Math.log(2);class Xne{constructor(e){const n=s=>parseInt(Math.log(s)/Qne,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const d_=function(t,e,n,r){t.sort(e);const i=function(l,h){const d=h-l;let p,g;if(d===0)return null;if(d===1)return p=t[l],g=n?n(p):p,new kr(g,p.node,kr.BLACK,null,null);{const v=parseInt(d/2,10)+l,E=i(l,v),C=i(v+1,h);return p=t[v],g=n?n(p):p,new kr(g,p.node,kr.BLACK,E,C)}},s=function(l){let h=null,d=null,p=t.length;const g=function(E,C){const R=p-E,S=p;p-=E;const T=i(R+1,S),k=t[R],b=n?n(k):k;v(new kr(b,k.node,C,null,T))},v=function(E){h?(h.left=E,h=E):(d=E,h=E)};for(let E=0;E<l.count;++E){const C=l.nextBitIsOne(),R=Math.pow(2,l.count-(E+1));C?g(R,kr.BLACK):(g(R,kr.BLACK),g(R,kr.RED))}return d},o=new Xne(t.length),u=s(o);return new Qi(r||e,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bE;const Ju={};class Ms{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return ne(Ju&&Mt,"ChildrenNode.ts has not been loaded"),bE=bE||new Ms({".priority":Ju},{".priority":Mt}),bE}get(e){const n=tc(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Qi?n:null}hasIndex(e){return cs(this.indexSet_,e.toString())}addIndex(e,n){ne(e!==Ml,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Me.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let u;i?u=d_(r,e.getCompare()):u=Ju;const l=e.toString(),h=Object.assign({},this.indexSet_);h[l]=e;const d=Object.assign({},this.indexes_);return d[l]=u,new Ms(d,h)}addToIndexes(e,n){const r=n_(this.indexes_,(i,s)=>{const o=tc(this.indexSet_,s);if(ne(o,"Missing index implementation for "+s),i===Ju)if(o.isDefinedOn(e.node)){const u=[],l=n.getIterator(Me.Wrap);let h=l.getNext();for(;h;)h.name!==e.name&&u.push(h),h=l.getNext();return u.push(e),d_(u,o.getCompare())}else return Ju;else{const u=n.get(e.name);let l=i;return u&&(l=l.remove(new Me(e.name,u))),l.insert(e,e.node)}});return new Ms(r,this.indexSet_)}removeFromIndexes(e,n){const r=n_(this.indexes_,i=>{if(i===Ju)return i;{const s=n.get(e.name);return s?i.remove(new Me(e.name,s)):i}});return new Ms(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wh;class Ee{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&i$(this.priorityNode_),this.children_.isEmpty()&&ne(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return wh||(wh=new Ee(new Qi(IC),null,Ms.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||wh}updatePriority(e){return this.children_.isEmpty()?this:new Ee(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?wh:n}}getChild(e){const n=Le(e);return n===null?this:this.getImmediateChild(n).getChild(dt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ne(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Me(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?wh:this.priorityNode_;return new Ee(i,o,s)}}updateChild(e,n){const r=Le(e);if(r===null)return n;{ne(Le(e)!==".priority"||ua(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(dt(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Mt,(o,u)=>{n[o]=u.val(e),r++,s&&Ee.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const u in n)o[u]=n[u];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+r$(this.getPriority().val())+":"),this.forEachChild(Mt,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":xF(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Me(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Me(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Me(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Me.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Me.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===xd?-1:0}withIndex(e){if(e===Ml||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ee(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ml||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Mt),i=n.getIterator(Mt);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ml?null:this.indexMap_.get(e.toString())}}Ee.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Jne extends Ee{constructor(){super(new Qi(IC),Ee.EMPTY_NODE,Ms.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ee.EMPTY_NODE}isEmpty(){return!1}}const xd=new Jne;Object.defineProperties(Me,{MIN:{value:new Me(rc,Ee.EMPTY_NODE)},MAX:{value:new Me(cu,xd)}});n$.__EMPTY_NODE=Ee.EMPTY_NODE;sn.__childrenNodeConstructor=Ee;qne(xd);Yne(xd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zne=!0;function Jt(t,e=null){if(t===null)return Ee.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ne(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new sn(n,Jt(e))}if(!(t instanceof Array)&&Zne){const n=[];let r=!1;if(Rn(t,(o,u)=>{if(o.substring(0,1)!=="."){const l=Jt(u);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Me(o,l)))}}),n.length===0)return Ee.EMPTY_NODE;const s=d_(n,Hne,o=>o.name,IC);if(r){const o=d_(n,Mt.getCompare());return new Ee(s,Jt(e),new Ms({".priority":o},{".priority":Mt}))}else return new Ee(s,Jt(e),Ms.Default)}else{let n=Ee.EMPTY_NODE;return Rn(t,(r,i)=>{if(cs(t,r)&&r.substring(0,1)!=="."){const s=Jt(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Jt(e))}}Gne(Jt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ere extends Gv{constructor(e){super(),this.indexPath_=e,ne(!$e(e)&&Le(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Ru(e.name,n.name):s}makePost(e,n){const r=Jt(e),i=Ee.EMPTY_NODE.updateChild(this.indexPath_,r);return new Me(n,i)}maxPost(){const e=Ee.EMPTY_NODE.updateChild(this.indexPath_,xd);return new Me(cu,e)}toString(){return zf(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tre extends Gv{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Ru(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Me.MIN}maxPost(){return Me.MAX}makePost(e,n){const r=Jt(e);return new Me(n,r)}toString(){return".value"}}const nre=new tre;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a$(t){return{type:"value",snapshotNode:t}}function ic(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Hf(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function qf(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function rre(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){ne(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=e.getImmediateChild(n);return u.getChild(i).equals(r.getChild(i))&&u.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Hf(n,u)):ne(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?o.trackChildChange(ic(n,r)):o.trackChildChange(qf(n,r,u))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Mt,(i,s)=>{n.hasChild(i)||r.trackChildChange(Hf(i,s))}),n.isLeafNode()||n.forEachChild(Mt,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(qf(i,s,o))}else r.trackChildChange(ic(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Ee.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e){this.indexedFilter_=new CC(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Gf.getStartPost_(e),this.endPost_=Gf.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new Me(n,r))||(r=Ee.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Ee.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Ee.EMPTY_NODE);const s=this;return n.forEachChild(Mt,(o,u)=>{s.matches(new Me(o,u))||(i=i.updateImmediateChild(o,Ee.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ire{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Gf(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new Me(n,r))||(r=Ee.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Ee.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Ee.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const u=s.getNext();if(this.withinDirectionalStart(u))if(this.withinDirectionalEnd(u))i=i.updateImmediateChild(u.name,u.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Ee.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const u=s.getNext();o<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?o++:i=i.updateImmediateChild(u.name,Ee.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const p=this.index_.getCompare();o=(g,v)=>p(v,g)}else o=this.index_.getCompare();const u=e;ne(u.numChildren()===this.limit_,"");const l=new Me(n,r),h=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(u.hasChild(n)){const p=u.getImmediateChild(n);let g=i.getChildAfterChild(this.index_,h,this.reverse_);for(;g!=null&&(g.name===n||u.hasChild(g.name));)g=i.getChildAfterChild(this.index_,g,this.reverse_);const v=g==null?1:o(g,l);if(d&&!r.isEmpty()&&v>=0)return s!=null&&s.trackChildChange(qf(n,r,p)),u.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Hf(n,p));const C=u.updateImmediateChild(n,Ee.EMPTY_NODE);return g!=null&&this.rangedFilter_.matches(g)?(s!=null&&s.trackChildChange(ic(g.name,g.node)),C.updateImmediateChild(g.name,g.node)):C}}else return r.isEmpty()?e:d&&o(h,l)>=0?(s!=null&&(s.trackChildChange(Hf(h.name,h.node)),s.trackChildChange(ic(n,r))),u.updateImmediateChild(n,r).updateImmediateChild(h.name,Ee.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Mt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ne(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ne(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:rc}hasEnd(){return this.endSet_}getIndexEndValue(){return ne(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ne(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:cu}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ne(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Mt}copy(){const e=new RC;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function sre(t){return t.loadsAllData()?new CC(t.getIndex()):t.hasLimit()?new ire(t):new Gf(t)}function yx(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Mt?n="$priority":t.index_===nre?n="$value":t.index_===Ml?n="$key":(ne(t.index_ instanceof ere,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Zt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Zt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Zt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Zt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Zt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function wx(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Mt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_ extends JF{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Nd("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ne(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=p_.getListenId_(e,r),u={};this.listens_[o]=u;const l=yx(e._queryParams);this.restRequest_(s+".json",l,(h,d)=>{let p=d;if(h===404&&(p=null,h=null),h===null&&this.onDataUpdate_(s,p,!1,r),tc(this.listens_,o)===u){let g;h?h===401?g="permission_denied":g="rest_error:"+h:g="ok",i(g,null)}})}unlisten(e,n){const r=p_.getListenId_(e,n);delete this.listens_[r]}get(e){const n=yx(e._queryParams),r=e._path.toString(),i=new Id;return this.restRequest_(r+".json",n,(s,o)=>{let u=o;s===404&&(u=null,s=null),s===null?(this.onDataUpdate_(r,u,!1,null),i.resolve(u)):i.reject(new Error(u))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ic(n);this.log_("Sending REST request for "+o);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(r&&u.readyState===4){this.log_("REST Response for "+o+" received. status:",u.status,"response:",u.responseText);let l=null;if(u.status>=200&&u.status<300){try{l=$f(u.responseText)}catch{or("Failed to parse JSON response for "+o+": "+u.responseText)}r(null,l)}else u.status!==401&&u.status!==404&&or("Got unsuccessful REST response for "+o+" Status: "+u.status),r(u.status);r=null}},u.open("GET",o,!0),u.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ore{constructor(){this.rootNode_=Ee.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(){return{value:null,children:new Map}}function u$(t,e,n){if($e(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Le(e);t.children.has(r)||t.children.set(r,g_());const i=t.children.get(r);e=dt(e),u$(i,e,n)}}function bS(t,e,n){t.value!==null?n(e,t.value):are(t,(r,i)=>{const s=new at(e.toString()+"/"+r);bS(i,s,n)})}function are(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ure{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Rn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=10*1e3,lre=30*1e3,cre=5*60*1e3;class hre{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new ure(e);const r=Ex+(lre-Ex)*Math.random();Zh(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Rn(e,(i,s)=>{s>0&&cs(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Zh(this.reportStats_.bind(this),Math.floor(Math.random()*2*cre))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ii;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ii||(Ii={}));function AC(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function PC(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function kC(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ii.ACK_USER_WRITE,this.source=AC()}operationForChild(e){if($e(this.path)){if(this.affectedTree.value!=null)return ne(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new at(e));return new m_(Ke(),n,this.revert)}}else return ne(Le(this.path)===e,"operationForChild called for unrelated child."),new m_(dt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,n){this.source=e,this.path=n,this.type=Ii.LISTEN_COMPLETE}operationForChild(e){return $e(this.path)?new Yf(this.source,Ke()):new Yf(this.source,dt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ii.OVERWRITE}operationForChild(e){return $e(this.path)?new hu(this.source,Ke(),this.snap.getImmediateChild(e)):new hu(this.source,dt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ii.MERGE}operationForChild(e){if($e(this.path)){const n=this.children.subtree(new at(e));return n.isEmpty()?null:n.value?new hu(this.source,Ke(),n.value):new sc(this.source,Ke(),n)}else return ne(Le(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new sc(this.source,dt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if($e(e))return this.isFullyInitialized()&&!this.filtered_;const n=Le(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fre{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function dre(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(rre(o.childName,o.snapshotNode))}),Eh(t,i,"child_removed",e,r,n),Eh(t,i,"child_added",e,r,n),Eh(t,i,"child_moved",s,r,n),Eh(t,i,"child_changed",e,r,n),Eh(t,i,"value",e,r,n),i}function Eh(t,e,n,r,i,s){const o=r.filter(u=>u.type===n);o.sort((u,l)=>gre(t,u,l)),o.forEach(u=>{const l=pre(t,u,s);i.forEach(h=>{h.respondsTo(u.type)&&e.push(h.createEvent(l,t.query_))})})}function pre(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function gre(t,e,n){if(e.childName==null||n.childName==null)throw Tc("Should only compare child_ events.");const r=new Me(e.childName,e.snapshotNode),i=new Me(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(t,e){return{eventCache:t,serverCache:e}}function ef(t,e,n,r){return Yv(new la(e,n,r),t.serverCache)}function l$(t,e,n,r){return Yv(t.eventCache,new la(e,n,r))}function __(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function fu(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OE;const mre=()=>(OE||(OE=new Qi(ene)),OE);class ft{constructor(e,n=mre()){this.value=e,this.children=n}static fromObject(e){let n=new ft(null);return Rn(e,(r,i)=>{n=n.set(new at(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ke(),value:this.value};if($e(e))return null;{const r=Le(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(dt(e),n);return s!=null?{path:Lt(new at(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if($e(e))return this;{const n=Le(e),r=this.children.get(n);return r!==null?r.subtree(dt(e)):new ft(null)}}set(e,n){if($e(e))return new ft(n,this.children);{const r=Le(e),s=(this.children.get(r)||new ft(null)).set(dt(e),n),o=this.children.insert(r,s);return new ft(this.value,o)}}remove(e){if($e(e))return this.children.isEmpty()?new ft(null):new ft(null,this.children);{const n=Le(e),r=this.children.get(n);if(r){const i=r.remove(dt(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ft(null):new ft(this.value,s)}else return this}}get(e){if($e(e))return this.value;{const n=Le(e),r=this.children.get(n);return r?r.get(dt(e)):null}}setTree(e,n){if($e(e))return n;{const r=Le(e),s=(this.children.get(r)||new ft(null)).setTree(dt(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ft(this.value,o)}}fold(e){return this.fold_(Ke(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Lt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ke(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if($e(e))return null;{const s=Le(e),o=this.children.get(s);return o?o.findOnPath_(dt(e),Lt(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ke(),n)}foreachOnPath_(e,n,r){if($e(e))return this;{this.value&&r(n,this.value);const i=Le(e),s=this.children.get(i);return s?s.foreachOnPath_(dt(e),Lt(n,i),r):new ft(null)}}foreach(e){this.foreach_(Ke(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Lt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this.writeTree_=e}static empty(){return new ki(new ft(null))}}function tf(t,e,n){if($e(e))return new ki(new ft(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=nr(i,e);return s=s.updateChild(o,n),new ki(t.writeTree_.set(i,s))}else{const i=new ft(n),s=t.writeTree_.setTree(e,i);return new ki(s)}}}function OS(t,e,n){let r=t;return Rn(n,(i,s)=>{r=tf(r,Lt(e,i),s)}),r}function Sx(t,e){if($e(e))return ki.empty();{const n=t.writeTree_.setTree(e,new ft(null));return new ki(n)}}function NS(t,e){return Au(t,e)!=null}function Au(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(nr(n.path,e)):null}function Tx(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Mt,(r,i)=>{e.push(new Me(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Me(r,i.value))}),e}function Qo(t,e){if($e(e))return t;{const n=Au(t,e);return n!=null?new ki(new ft(n)):new ki(t.writeTree_.subtree(e))}}function xS(t){return t.writeTree_.isEmpty()}function oc(t,e){return c$(Ke(),t.writeTree_,e)}function c$(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(ne(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=c$(Lt(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Lt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(t,e){return p$(e,t)}function _re(t,e,n,r,i){ne(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=tf(t.visibleWrites,e,n)),t.lastWriteId=r}function vre(t,e,n,r){ne(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=OS(t.visibleWrites,e,n),t.lastWriteId=r}function yre(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function wre(t,e){const n=t.allWrites.findIndex(u=>u.writeId===e);ne(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const u=t.allWrites[o];u.visible&&(o>=n&&Ere(u,r.path)?i=!1:ri(r.path,u.path)&&(s=!0)),o--}if(i){if(s)return Sre(t),!0;if(r.snap)t.visibleWrites=Sx(t.visibleWrites,r.path);else{const u=r.children;Rn(u,l=>{t.visibleWrites=Sx(t.visibleWrites,Lt(r.path,l))})}return!0}else return!1}function Ere(t,e){if(t.snap)return ri(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&ri(Lt(t.path,n),e))return!0;return!1}function Sre(t){t.visibleWrites=h$(t.allWrites,Tre,Ke()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Tre(t){return t.visible}function h$(t,e,n){let r=ki.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let u;if(s.snap)ri(n,o)?(u=nr(n,o),r=tf(r,u,s.snap)):ri(o,n)&&(u=nr(o,n),r=tf(r,Ke(),s.snap.getChild(u)));else if(s.children){if(ri(n,o))u=nr(n,o),r=OS(r,u,s.children);else if(ri(o,n))if(u=nr(o,n),$e(u))r=OS(r,Ke(),s.children);else{const l=tc(s.children,Le(u));if(l){const h=l.getChild(dt(u));r=tf(r,Ke(),h)}}}else throw Tc("WriteRecord should have .snap or .children")}}return r}function f$(t,e,n,r,i){if(!r&&!i){const s=Au(t.visibleWrites,e);if(s!=null)return s;{const o=Qo(t.visibleWrites,e);if(xS(o))return n;if(n==null&&!NS(o,Ke()))return null;{const u=n||Ee.EMPTY_NODE;return oc(o,u)}}}else{const s=Qo(t.visibleWrites,e);if(!i&&xS(s))return n;if(!i&&n==null&&!NS(s,Ke()))return null;{const o=function(h){return(h.visible||i)&&(!r||!~r.indexOf(h.writeId))&&(ri(h.path,e)||ri(e,h.path))},u=h$(t.allWrites,o,e),l=n||Ee.EMPTY_NODE;return oc(u,l)}}}function Ire(t,e,n){let r=Ee.EMPTY_NODE;const i=Au(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Mt,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Qo(t.visibleWrites,e);return n.forEachChild(Mt,(o,u)=>{const l=oc(Qo(s,new at(o)),u);r=r.updateImmediateChild(o,l)}),Tx(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Qo(t.visibleWrites,e);return Tx(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Cre(t,e,n,r,i){ne(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Lt(e,n);if(NS(t.visibleWrites,s))return null;{const o=Qo(t.visibleWrites,s);return xS(o)?i.getChild(n):oc(o,i.getChild(n))}}function Rre(t,e,n,r){const i=Lt(e,n),s=Au(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Qo(t.visibleWrites,i);return oc(o,r.getNode().getImmediateChild(n))}else return null}function Are(t,e){return Au(t.visibleWrites,e)}function Pre(t,e,n,r,i,s,o){let u;const l=Qo(t.visibleWrites,e),h=Au(l,Ke());if(h!=null)u=h;else if(n!=null)u=oc(l,n);else return[];if(u=u.withIndex(o),!u.isEmpty()&&!u.isLeafNode()){const d=[],p=o.getCompare(),g=s?u.getReverseIteratorFrom(r,o):u.getIteratorFrom(r,o);let v=g.getNext();for(;v&&d.length<i;)p(v,r)!==0&&d.push(v),v=g.getNext();return d}else return[]}function kre(){return{visibleWrites:ki.empty(),allWrites:[],lastWriteId:-1}}function v_(t,e,n,r){return f$(t.writeTree,t.treePath,e,n,r)}function bC(t,e){return Ire(t.writeTree,t.treePath,e)}function Ix(t,e,n,r){return Cre(t.writeTree,t.treePath,e,n,r)}function y_(t,e){return Are(t.writeTree,Lt(t.treePath,e))}function bre(t,e,n,r,i,s){return Pre(t.writeTree,t.treePath,e,n,r,i,s)}function OC(t,e,n){return Rre(t.writeTree,t.treePath,e,n)}function d$(t,e){return p$(Lt(t.treePath,e),t.writeTree)}function p$(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ore{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ne(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ne(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,qf(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Hf(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,ic(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,qf(r,e.snapshotNode,i.oldSnap));else throw Tc("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nre{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const g$=new Nre;class NC{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new la(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return OC(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:fu(this.viewCache_),s=bre(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xre(t){return{filter:t}}function Dre(t,e){ne(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ne(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Lre(t,e,n,r,i){const s=new Ore;let o,u;if(n.type===Ii.OVERWRITE){const h=n;h.source.fromUser?o=DS(t,e,h.path,h.snap,r,i,s):(ne(h.source.fromServer,"Unknown source."),u=h.source.tagged||e.serverCache.isFiltered()&&!$e(h.path),o=w_(t,e,h.path,h.snap,r,i,u,s))}else if(n.type===Ii.MERGE){const h=n;h.source.fromUser?o=Ure(t,e,h.path,h.children,r,i,s):(ne(h.source.fromServer,"Unknown source."),u=h.source.tagged||e.serverCache.isFiltered(),o=LS(t,e,h.path,h.children,r,i,u,s))}else if(n.type===Ii.ACK_USER_WRITE){const h=n;h.revert?o=Vre(t,e,h.path,r,i,s):o=Fre(t,e,h.path,h.affectedTree,r,i,s)}else if(n.type===Ii.LISTEN_COMPLETE)o=$re(t,e,n.path,r,s);else throw Tc("Unknown operation type: "+n.type);const l=s.getChanges();return Mre(e,o,l),{viewCache:o,changes:l}}function Mre(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=__(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(a$(__(e)))}}function m$(t,e,n,r,i,s){const o=e.eventCache;if(y_(r,n)!=null)return e;{let u,l;if($e(n))if(ne(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=fu(e),d=h instanceof Ee?h:Ee.EMPTY_NODE,p=bC(r,d);u=t.filter.updateFullNode(e.eventCache.getNode(),p,s)}else{const h=v_(r,fu(e));u=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const h=Le(n);if(h===".priority"){ne(ua(n)===1,"Can't have a priority with additional path components");const d=o.getNode();l=e.serverCache.getNode();const p=Ix(r,n,d,l);p!=null?u=t.filter.updatePriority(d,p):u=o.getNode()}else{const d=dt(n);let p;if(o.isCompleteForChild(h)){l=e.serverCache.getNode();const g=Ix(r,n,o.getNode(),l);g!=null?p=o.getNode().getImmediateChild(h).updateChild(d,g):p=o.getNode().getImmediateChild(h)}else p=OC(r,h,e.serverCache);p!=null?u=t.filter.updateChild(o.getNode(),h,p,d,i,s):u=o.getNode()}}return ef(e,u,o.isFullyInitialized()||$e(n),t.filter.filtersNodes())}}function w_(t,e,n,r,i,s,o,u){const l=e.serverCache;let h;const d=o?t.filter:t.filter.getIndexedFilter();if($e(n))h=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const v=l.getNode().updateChild(n,r);h=d.updateFullNode(l.getNode(),v,null)}else{const v=Le(n);if(!l.isCompleteForPath(n)&&ua(n)>1)return e;const E=dt(n),R=l.getNode().getImmediateChild(v).updateChild(E,r);v===".priority"?h=d.updatePriority(l.getNode(),R):h=d.updateChild(l.getNode(),v,R,E,g$,null)}const p=l$(e,h,l.isFullyInitialized()||$e(n),d.filtersNodes()),g=new NC(i,p,s);return m$(t,p,n,i,g,u)}function DS(t,e,n,r,i,s,o){const u=e.eventCache;let l,h;const d=new NC(i,e,s);if($e(n))h=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=ef(e,h,!0,t.filter.filtersNodes());else{const p=Le(n);if(p===".priority")h=t.filter.updatePriority(e.eventCache.getNode(),r),l=ef(e,h,u.isFullyInitialized(),u.isFiltered());else{const g=dt(n),v=u.getNode().getImmediateChild(p);let E;if($e(g))E=r;else{const C=d.getCompleteChild(p);C!=null?EC(g)===".priority"&&C.getChild(e$(g)).isEmpty()?E=C:E=C.updateChild(g,r):E=Ee.EMPTY_NODE}if(v.equals(E))l=e;else{const C=t.filter.updateChild(u.getNode(),p,E,g,d,o);l=ef(e,C,u.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Cx(t,e){return t.eventCache.isCompleteForChild(e)}function Ure(t,e,n,r,i,s,o){let u=e;return r.foreach((l,h)=>{const d=Lt(n,l);Cx(e,Le(d))&&(u=DS(t,u,d,h,i,s,o))}),r.foreach((l,h)=>{const d=Lt(n,l);Cx(e,Le(d))||(u=DS(t,u,d,h,i,s,o))}),u}function Rx(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function LS(t,e,n,r,i,s,o,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,h;$e(n)?h=r:h=new ft(null).setTree(n,r);const d=e.serverCache.getNode();return h.children.inorderTraversal((p,g)=>{if(d.hasChild(p)){const v=e.serverCache.getNode().getImmediateChild(p),E=Rx(t,v,g);l=w_(t,l,new at(p),E,i,s,o,u)}}),h.children.inorderTraversal((p,g)=>{const v=!e.serverCache.isCompleteForChild(p)&&g.value===null;if(!d.hasChild(p)&&!v){const E=e.serverCache.getNode().getImmediateChild(p),C=Rx(t,E,g);l=w_(t,l,new at(p),C,i,s,o,u)}}),l}function Fre(t,e,n,r,i,s,o){if(y_(i,n)!=null)return e;const u=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if($e(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return w_(t,e,n,l.getNode().getChild(n),i,s,u,o);if($e(n)){let h=new ft(null);return l.getNode().forEachChild(Ml,(d,p)=>{h=h.set(new at(d),p)}),LS(t,e,n,h,i,s,u,o)}else return e}else{let h=new ft(null);return r.foreach((d,p)=>{const g=Lt(n,d);l.isCompleteForPath(g)&&(h=h.set(d,l.getNode().getChild(g)))}),LS(t,e,n,h,i,s,u,o)}}function $re(t,e,n,r,i){const s=e.serverCache,o=l$(e,s.getNode(),s.isFullyInitialized()||$e(n),s.isFiltered());return m$(t,o,n,r,g$,i)}function Vre(t,e,n,r,i,s){let o;if(y_(r,n)!=null)return e;{const u=new NC(r,e,i),l=e.eventCache.getNode();let h;if($e(n)||Le(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=v_(r,fu(e));else{const p=e.serverCache.getNode();ne(p instanceof Ee,"serverChildren would be complete if leaf node"),d=bC(r,p)}d=d,h=t.filter.updateFullNode(l,d,s)}else{const d=Le(n);let p=OC(r,d,e.serverCache);p==null&&e.serverCache.isCompleteForChild(d)&&(p=l.getImmediateChild(d)),p!=null?h=t.filter.updateChild(l,d,p,dt(n),u,s):e.eventCache.getNode().hasChild(d)?h=t.filter.updateChild(l,d,Ee.EMPTY_NODE,dt(n),u,s):h=l,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=v_(r,fu(e)),o.isLeafNode()&&(h=t.filter.updateFullNode(h,o,s)))}return o=e.serverCache.isFullyInitialized()||y_(r,Ke())!=null,ef(e,h,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wre{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new CC(r.getIndex()),s=sre(r);this.processor_=xre(s);const o=n.serverCache,u=n.eventCache,l=i.updateFullNode(Ee.EMPTY_NODE,o.getNode(),null),h=s.updateFullNode(Ee.EMPTY_NODE,u.getNode(),null),d=new la(l,o.isFullyInitialized(),i.filtersNodes()),p=new la(h,u.isFullyInitialized(),s.filtersNodes());this.viewCache_=Yv(p,d),this.eventGenerator_=new fre(this.query_)}get query(){return this.query_}}function jre(t){return t.viewCache_.serverCache.getNode()}function Bre(t){return __(t.viewCache_)}function zre(t,e){const n=fu(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!$e(e)&&!n.getImmediateChild(Le(e)).isEmpty())?n.getChild(e):null}function Ax(t){return t.eventRegistrations_.length===0}function Hre(t,e){t.eventRegistrations_.push(e)}function Px(t,e,n){const r=[];if(n){ne(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function kx(t,e,n,r){e.type===Ii.MERGE&&e.source.queryId!==null&&(ne(fu(t.viewCache_),"We should always have a full cache before handling merges"),ne(__(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=Lre(t.processor_,i,e,n,r);return Dre(t.processor_,s.viewCache),ne(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,_$(t,s.changes,s.viewCache.eventCache.getNode(),null)}function qre(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Mt,(s,o)=>{r.push(ic(s,o))}),n.isFullyInitialized()&&r.push(a$(n.getNode())),_$(t,r,n.getNode(),e)}function _$(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return dre(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let E_;class v${constructor(){this.views=new Map}}function Gre(t){ne(!E_,"__referenceConstructor has already been defined"),E_=t}function Yre(){return ne(E_,"Reference.ts has not been loaded"),E_}function Kre(t){return t.views.size===0}function xC(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return ne(s!=null,"SyncTree gave us an op for an invalid query."),kx(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(kx(o,e,n,r));return s}}function y$(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let u=v_(n,i?r:null),l=!1;u?l=!0:r instanceof Ee?(u=bC(n,r),l=!1):(u=Ee.EMPTY_NODE,l=!1);const h=Yv(new la(u,l,!1),new la(r,i,!1));return new Wre(e,h)}return o}function Qre(t,e,n,r,i,s){const o=y$(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),Hre(o,n),qre(o,n)}function Xre(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const u=ca(t);if(i==="default")for(const[l,h]of t.views.entries())o=o.concat(Px(h,n,r)),Ax(h)&&(t.views.delete(l),h.query._queryParams.loadsAllData()||s.push(h.query));else{const l=t.views.get(i);l&&(o=o.concat(Px(l,n,r)),Ax(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return u&&!ca(t)&&s.push(new(Yre())(e._repo,e._path)),{removed:s,events:o}}function w$(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Xo(t,e){let n=null;for(const r of t.views.values())n=n||zre(r,e);return n}function E$(t,e){if(e._queryParams.loadsAllData())return Qv(t);{const r=e._queryIdentifier;return t.views.get(r)}}function S$(t,e){return E$(t,e)!=null}function ca(t){return Qv(t)!=null}function Qv(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S_;function Jre(t){ne(!S_,"__referenceConstructor has already been defined"),S_=t}function Zre(){return ne(S_,"Reference.ts has not been loaded"),S_}let eie=1;class bx{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ft(null),this.pendingWriteTree_=kre(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function T$(t,e,n,r,i){return _re(t.pendingWriteTree_,e,n,r,i),i?kc(t,new hu(AC(),e,n)):[]}function tie(t,e,n,r){vre(t.pendingWriteTree_,e,n,r);const i=ft.fromObject(n);return kc(t,new sc(AC(),e,i))}function No(t,e,n=!1){const r=yre(t.pendingWriteTree_,e);if(wre(t.pendingWriteTree_,e)){let s=new ft(null);return r.snap!=null?s=s.set(Ke(),!0):Rn(r.children,o=>{s=s.set(new at(o),!0)}),kc(t,new m_(r.path,s,n))}else return[]}function Dd(t,e,n){return kc(t,new hu(PC(),e,n))}function nie(t,e,n){const r=ft.fromObject(n);return kc(t,new sc(PC(),e,r))}function rie(t,e){return kc(t,new Yf(PC(),e))}function iie(t,e,n){const r=LC(t,n);if(r){const i=MC(r),s=i.path,o=i.queryId,u=nr(s,e),l=new Yf(kC(o),u);return UC(t,s,l)}else return[]}function T_(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let u=[];if(o&&(e._queryIdentifier==="default"||S$(o,e))){const l=Xre(o,e,n,r);Kre(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const h=l.removed;if(u=l.events,!i){const d=h.findIndex(g=>g._queryParams.loadsAllData())!==-1,p=t.syncPointTree_.findOnPath(s,(g,v)=>ca(v));if(d&&!p){const g=t.syncPointTree_.subtree(s);if(!g.isEmpty()){const v=aie(g);for(let E=0;E<v.length;++E){const C=v[E],R=C.query,S=A$(t,C);t.listenProvider_.startListening(nf(R),Kf(t,R),S.hashFn,S.onComplete)}}}!p&&h.length>0&&!r&&(d?t.listenProvider_.stopListening(nf(e),null):h.forEach(g=>{const v=t.queryToTagMap.get(Xv(g));t.listenProvider_.stopListening(nf(g),v)}))}uie(t,h)}return u}function I$(t,e,n,r){const i=LC(t,r);if(i!=null){const s=MC(i),o=s.path,u=s.queryId,l=nr(o,e),h=new hu(kC(u),l,n);return UC(t,o,h)}else return[]}function sie(t,e,n,r){const i=LC(t,r);if(i){const s=MC(i),o=s.path,u=s.queryId,l=nr(o,e),h=ft.fromObject(n),d=new sc(kC(u),l,h);return UC(t,o,d)}else return[]}function MS(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(g,v)=>{const E=nr(g,i);s=s||Xo(v,E),o=o||ca(v)});let u=t.syncPointTree_.get(i);u?(o=o||ca(u),s=s||Xo(u,Ke())):(u=new v$,t.syncPointTree_=t.syncPointTree_.set(i,u));let l;s!=null?l=!0:(l=!1,s=Ee.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((v,E)=>{const C=Xo(E,Ke());C&&(s=s.updateImmediateChild(v,C))}));const h=S$(u,e);if(!h&&!e._queryParams.loadsAllData()){const g=Xv(e);ne(!t.queryToTagMap.has(g),"View does not exist, but we have a tag");const v=lie();t.queryToTagMap.set(g,v),t.tagToQueryMap.set(v,g)}const d=Kv(t.pendingWriteTree_,i);let p=Qre(u,e,n,d,s,l);if(!h&&!o&&!r){const g=E$(u,e);p=p.concat(cie(t,e,g))}return p}function DC(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,u)=>{const l=nr(o,e),h=Xo(u,l);if(h)return h});return f$(i,e,s,n,!0)}function oie(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(h,d)=>{const p=nr(h,n);r=r||Xo(d,p)});let i=t.syncPointTree_.get(n);i?r=r||Xo(i,Ke()):(i=new v$,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new la(r,!0,!1):null,u=Kv(t.pendingWriteTree_,e._path),l=y$(i,e,u,s?o.getNode():Ee.EMPTY_NODE,s);return Bre(l)}function kc(t,e){return C$(e,t.syncPointTree_,null,Kv(t.pendingWriteTree_,Ke()))}function C$(t,e,n,r){if($e(t.path))return R$(t,e,n,r);{const i=e.get(Ke());n==null&&i!=null&&(n=Xo(i,Ke()));let s=[];const o=Le(t.path),u=t.operationForChild(o),l=e.children.get(o);if(l&&u){const h=n?n.getImmediateChild(o):null,d=d$(r,o);s=s.concat(C$(u,l,h,d))}return i&&(s=s.concat(xC(i,t,r,n))),s}}function R$(t,e,n,r){const i=e.get(Ke());n==null&&i!=null&&(n=Xo(i,Ke()));let s=[];return e.children.inorderTraversal((o,u)=>{const l=n?n.getImmediateChild(o):null,h=d$(r,o),d=t.operationForChild(o);d&&(s=s.concat(R$(d,u,l,h)))}),i&&(s=s.concat(xC(i,t,r,n))),s}function A$(t,e){const n=e.query,r=Kf(t,n);return{hashFn:()=>(jre(e)||Ee.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?iie(t,n._path,r):rie(t,n._path);{const s=rne(i,n);return T_(t,n,null,s)}}}}function Kf(t,e){const n=Xv(e);return t.queryToTagMap.get(n)}function Xv(t){return t._path.toString()+"$"+t._queryIdentifier}function LC(t,e){return t.tagToQueryMap.get(e)}function MC(t){const e=t.indexOf("$");return ne(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new at(t.substr(0,e))}}function UC(t,e,n){const r=t.syncPointTree_.get(e);ne(r,"Missing sync point for query tag that we're tracking");const i=Kv(t.pendingWriteTree_,e);return xC(r,n,i,null)}function aie(t){return t.fold((e,n,r)=>{if(n&&ca(n))return[Qv(n)];{let i=[];return n&&(i=w$(n)),Rn(r,(s,o)=>{i=i.concat(o)}),i}})}function nf(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Zre())(t._repo,t._path):t}function uie(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Xv(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function lie(){return eie++}function cie(t,e,n){const r=e._path,i=Kf(t,e),s=A$(t,n),o=t.listenProvider_.startListening(nf(e),i,s.hashFn,s.onComplete),u=t.syncPointTree_.subtree(r);if(i)ne(!ca(u.value),"If we're adding a query, it shouldn't be shadowed");else{const l=u.fold((h,d,p)=>{if(!$e(h)&&d&&ca(d))return[Qv(d).query];{let g=[];return d&&(g=g.concat(w$(d).map(v=>v.query))),Rn(p,(v,E)=>{g=g.concat(E)}),g}});for(let h=0;h<l.length;++h){const d=l[h];t.listenProvider_.stopListening(nf(d),Kf(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new FC(n)}node(){return this.node_}}class $C{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Lt(this.path_,e);return new $C(this.syncTree_,n)}node(){return DC(this.syncTree_,this.path_)}}const hie=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Ox=function(t,e,n){if(!t||typeof t!="object")return t;if(ne(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return fie(t[".sv"],e,n);if(typeof t[".sv"]=="object")return die(t[".sv"],e);ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},fie=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ne(!1,"Unexpected server value: "+t)}},die=function(t,e,n){t.hasOwnProperty("increment")||ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ne(!1,"Unexpected increment value: "+r);const i=e.node();if(ne(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},P$=function(t,e,n,r){return VC(e,new $C(n,t),r)},k$=function(t,e,n){return VC(t,new FC(e),n)};function VC(t,e,n){const r=t.getPriority().val(),i=Ox(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,u=Ox(o.getValue(),e,n);return u!==o.getValue()||i!==o.getPriority().val()?new sn(u,Jt(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new sn(i))),o.forEachChild(Mt,(u,l)=>{const h=VC(l,e.getImmediateChild(u),n);h!==l&&(s=s.updateImmediateChild(u,h))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function jC(t,e){let n=e instanceof at?e:new at(e),r=t,i=Le(n);for(;i!==null;){const s=tc(r.node.children,i)||{children:{},childCount:0};r=new WC(i,r,s),n=dt(n),i=Le(n)}return r}function bc(t){return t.node.value}function b$(t,e){t.node.value=e,US(t)}function O$(t){return t.node.childCount>0}function pie(t){return bc(t)===void 0&&!O$(t)}function Jv(t,e){Rn(t.node.children,(n,r)=>{e(new WC(n,t,r))})}function N$(t,e,n,r){n&&!r&&e(t),Jv(t,i=>{N$(i,e,!0,r)}),n&&r&&e(t)}function gie(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ld(t){return new at(t.parent===null?t.name:Ld(t.parent)+"/"+t.name)}function US(t){t.parent!==null&&mie(t.parent,t.name,t)}function mie(t,e,n){const r=pie(n),i=cs(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,US(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,US(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ie=/[\[\].#$\/\u0000-\u001F\u007F]/,vie=/[\[\].#$\u0000-\u001F\u007F]/,NE=10*1024*1024,BC=function(t){return typeof t=="string"&&t.length!==0&&!_ie.test(t)},x$=function(t){return typeof t=="string"&&t.length!==0&&!vie.test(t)},yie=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),x$(t)},wie=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!mC(t)||t&&typeof t=="object"&&cs(t,".sv")},D$=function(t,e,n,r){r&&e===void 0||Zv(Vv(t,"value"),e,n)},Zv=function(t,e,n){const r=n instanceof at?new Une(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Fa(r));if(typeof e=="function")throw new Error(t+"contains a function "+Fa(r)+" with contents = "+e.toString());if(mC(e))throw new Error(t+"contains "+e.toString()+" "+Fa(r));if(typeof e=="string"&&e.length>NE/3&&Wv(e)>NE)throw new Error(t+"contains a string greater than "+NE+" utf8 bytes "+Fa(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Rn(e,(o,u)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!BC(o)))throw new Error(t+" contains an invalid key ("+o+") "+Fa(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Fne(r,o),Zv(t,u,r),$ne(r)}),i&&s)throw new Error(t+' contains ".value" child '+Fa(r)+" in addition to actual children.")}},Eie=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=zf(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!BC(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Mne);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&ri(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},Sie=function(t,e,n,r){if(r&&e===void 0)return;const i=Vv(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Rn(e,(o,u)=>{const l=new at(o);if(Zv(i,u,Lt(n,l)),EC(l)===".priority"&&!wie(u))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),Eie(i,s)},L$=function(t,e,n,r){if(!(r&&n===void 0)&&!x$(n))throw new Error(Vv(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Tie=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),L$(t,e,n,r)},M$=function(t,e){if(Le(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Iie=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!BC(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!yie(n))throw new Error(Vv(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cie{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ey(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!SC(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function U$(t,e,n){ey(t,n),F$(t,r=>SC(r,e))}function ui(t,e,n){ey(t,n),F$(t,r=>ri(r,e)||ri(e,r))}function F$(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(Rie(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Rie(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Xa&&yn("event: "+n.toString()),Pc(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aie="repo_interrupt",Pie=25;class kie{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Cie,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=g_(),this.transactionQueueTree_=new WC,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function bie(t,e,n){if(t.stats_=yC(t.repoInfo_),t.forceRestClient_||ane())t.server_=new p_(t.repoInfo_,(r,i,s,o)=>{Nx(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>xx(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Zt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new js(t.repoInfo_,e,(r,i,s,o)=>{Nx(t,r,i,s,o)},r=>{xx(t,r)},r=>{Oie(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=fne(t.repoInfo_,()=>new hre(t.stats_,t.server_)),t.infoData_=new ore,t.infoSyncTree_=new bx({startListening:(r,i,s,o)=>{let u=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(u=Dd(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),u},stopListening:()=>{}}),zC(t,"connected",!1),t.serverSyncTree_=new bx({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(u,l)=>{const h=o(u,l);ui(t.eventQueue_,r._path,h)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function $$(t){const n=t.infoData_.getNode(new at(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ty(t){return hie({timestamp:$$(t)})}function Nx(t,e,n,r,i){t.dataUpdateCount++;const s=new at(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=n_(n,h=>Jt(h));o=sie(t.serverSyncTree_,s,l,i)}else{const l=Jt(n);o=I$(t.serverSyncTree_,s,l,i)}else if(r){const l=n_(n,h=>Jt(h));o=nie(t.serverSyncTree_,s,l)}else{const l=Jt(n);o=Dd(t.serverSyncTree_,s,l)}let u=s;o.length>0&&(u=ac(t,s)),ui(t.eventQueue_,u,o)}function xx(t,e){zC(t,"connected",e),e===!1&&Lie(t)}function Oie(t,e){Rn(e,(n,r)=>{zC(t,n,r)})}function zC(t,e,n){const r=new at("/.info/"+e),i=Jt(n);t.infoData_.updateSnapshot(r,i);const s=Dd(t.infoSyncTree_,r,i);ui(t.eventQueue_,r,s)}function HC(t){return t.nextWriteId_++}function Nie(t,e,n){const r=oie(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Jt(i).withIndex(e._queryParams.getIndex());MS(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Dd(t.serverSyncTree_,e._path,s);else{const u=Kf(t.serverSyncTree_,e);o=I$(t.serverSyncTree_,e._path,s,u)}return ui(t.eventQueue_,e._path,o),T_(t.serverSyncTree_,e,n,null,!0),s},i=>(Md(t,"get for query "+Zt(e)+" failed: "+i),Promise.reject(new Error(i))))}function xie(t,e,n,r,i){Md(t,"set",{path:e.toString(),value:n,priority:r});const s=ty(t),o=Jt(n,r),u=DC(t.serverSyncTree_,e),l=k$(o,u,s),h=HC(t),d=T$(t.serverSyncTree_,e,l,h,!0);ey(t.eventQueue_,d),t.server_.put(e.toString(),o.val(!0),(g,v)=>{const E=g==="ok";E||or("set at "+e+" failed: "+g);const C=No(t.serverSyncTree_,h,!E);ui(t.eventQueue_,e,C),FS(t,i,g,v)});const p=GC(t,e);ac(t,p),ui(t.eventQueue_,p,[])}function Die(t,e,n,r){Md(t,"update",{path:e.toString(),value:n});let i=!0;const s=ty(t),o={};if(Rn(n,(u,l)=>{i=!1,o[u]=P$(Lt(e,u),Jt(l),t.serverSyncTree_,s)}),i)yn("update() called with empty data.  Don't do anything."),FS(t,r,"ok",void 0);else{const u=HC(t),l=tie(t.serverSyncTree_,e,o,u);ey(t.eventQueue_,l),t.server_.merge(e.toString(),n,(h,d)=>{const p=h==="ok";p||or("update at "+e+" failed: "+h);const g=No(t.serverSyncTree_,u,!p),v=g.length>0?ac(t,e):e;ui(t.eventQueue_,v,g),FS(t,r,h,d)}),Rn(n,h=>{const d=GC(t,Lt(e,h));ac(t,d)}),ui(t.eventQueue_,e,[])}}function Lie(t){Md(t,"onDisconnectEvents");const e=ty(t),n=g_();bS(t.onDisconnect_,Ke(),(i,s)=>{const o=P$(i,s,t.serverSyncTree_,e);u$(n,i,o)});let r=[];bS(n,Ke(),(i,s)=>{r=r.concat(Dd(t.serverSyncTree_,i,s));const o=GC(t,i);ac(t,o)}),t.onDisconnect_=g_(),ui(t.eventQueue_,Ke(),r)}function Mie(t,e,n){let r;Le(e._path)===".info"?r=MS(t.infoSyncTree_,e,n):r=MS(t.serverSyncTree_,e,n),U$(t.eventQueue_,e._path,r)}function Dx(t,e,n){let r;Le(e._path)===".info"?r=T_(t.infoSyncTree_,e,n):r=T_(t.serverSyncTree_,e,n),U$(t.eventQueue_,e._path,r)}function Uie(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Aie)}function Md(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),yn(n,...e)}function FS(t,e,n,r){e&&Pc(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function V$(t,e,n){return DC(t.serverSyncTree_,e,n)||Ee.EMPTY_NODE}function qC(t,e=t.transactionQueueTree_){if(e||ny(t,e),bc(e)){const n=j$(t,e);ne(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Fie(t,Ld(e),n)}else O$(e)&&Jv(e,n=>{qC(t,n)})}function Fie(t,e,n){const r=n.map(h=>h.currentWriteId),i=V$(t,e,r);let s=i;const o=i.hash();for(let h=0;h<n.length;h++){const d=n[h];ne(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const p=nr(e,d.path);s=s.updateChild(p,d.currentOutputSnapshotRaw)}const u=s.val(!0),l=e;t.server_.put(l.toString(),u,h=>{Md(t,"transaction put response",{path:l.toString(),status:h});let d=[];if(h==="ok"){const p=[];for(let g=0;g<n.length;g++)n[g].status=2,d=d.concat(No(t.serverSyncTree_,n[g].currentWriteId)),n[g].onComplete&&p.push(()=>n[g].onComplete(null,!0,n[g].currentOutputSnapshotResolved)),n[g].unwatcher();ny(t,jC(t.transactionQueueTree_,e)),qC(t,t.transactionQueueTree_),ui(t.eventQueue_,e,d);for(let g=0;g<p.length;g++)Pc(p[g])}else{if(h==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{or("transaction at "+l.toString()+" failed: "+h);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=h}ac(t,e)}},o)}function ac(t,e){const n=W$(t,e),r=Ld(n),i=j$(t,n);return $ie(t,i,r),r}function $ie(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(u=>u.status===0).map(u=>u.currentWriteId);for(let u=0;u<e.length;u++){const l=e[u],h=nr(n,l.path);let d=!1,p;if(ne(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,p=l.abortReason,i=i.concat(No(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Pie)d=!0,p="maxretry",i=i.concat(No(t.serverSyncTree_,l.currentWriteId,!0));else{const g=V$(t,l.path,o);l.currentInputSnapshot=g;const v=e[u].update(g.val());if(v!==void 0){Zv("transaction failed: Data returned ",v,l.path);let E=Jt(v);typeof v=="object"&&v!=null&&cs(v,".priority")||(E=E.updatePriority(g.getPriority()));const R=l.currentWriteId,S=ty(t),T=k$(E,g,S);l.currentOutputSnapshotRaw=E,l.currentOutputSnapshotResolved=T,l.currentWriteId=HC(t),o.splice(o.indexOf(R),1),i=i.concat(T$(t.serverSyncTree_,l.path,T,l.currentWriteId,l.applyLocally)),i=i.concat(No(t.serverSyncTree_,R,!0))}else d=!0,p="nodata",i=i.concat(No(t.serverSyncTree_,l.currentWriteId,!0))}ui(t.eventQueue_,n,i),i=[],d&&(e[u].status=2,function(g){setTimeout(g,Math.floor(0))}(e[u].unwatcher),e[u].onComplete&&(p==="nodata"?r.push(()=>e[u].onComplete(null,!1,e[u].currentInputSnapshot)):r.push(()=>e[u].onComplete(new Error(p),!1,null))))}ny(t,t.transactionQueueTree_);for(let u=0;u<r.length;u++)Pc(r[u]);qC(t,t.transactionQueueTree_)}function W$(t,e){let n,r=t.transactionQueueTree_;for(n=Le(e);n!==null&&bc(r)===void 0;)r=jC(r,n),e=dt(e),n=Le(e);return r}function j$(t,e){const n=[];return B$(t,e,n),n.sort((r,i)=>r.order-i.order),n}function B$(t,e,n){const r=bc(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Jv(e,i=>{B$(t,i,n)})}function ny(t,e){const n=bc(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,b$(e,n.length>0?n:void 0)}Jv(e,r=>{ny(t,r)})}function GC(t,e){const n=Ld(W$(t,e)),r=jC(t.transactionQueueTree_,e);return gie(r,i=>{xE(t,i)}),xE(t,r),N$(r,i=>{xE(t,i)}),n}function xE(t,e){const n=bc(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(ne(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(ne(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(No(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?b$(e,void 0):n.length=s+1,ui(t.eventQueue_,Ld(e),i);for(let o=0;o<r.length;o++)Pc(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vie(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Wie(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):or(`Invalid query segment '${n}' in query '${t}'`)}return e}const Lx=function(t,e){const n=jie(t),r=n.namespace;n.domain==="firebase.com"&&Js(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Js("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Jte();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new HF(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new at(n.pathString)}},jie=function(t){let e="",n="",r="",i="",s="",o=!0,u="https",l=443;if(typeof t=="string"){let h=t.indexOf("//");h>=0&&(u=t.substring(0,h-1),t=t.substring(h+2));let d=t.indexOf("/");d===-1&&(d=t.length);let p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(d,p)),d<p&&(i=Vie(t.substring(d,p)));const g=Wie(t.substring(Math.min(t.length,p)));h=e.indexOf(":"),h>=0?(o=u==="https"||u==="wss",l=parseInt(e.substring(h+1),10)):h=e.length;const v=e.slice(0,h);if(v.toLowerCase()==="localhost")n="localhost";else if(v.split(".").length<=2)n=v;else{const E=e.indexOf(".");r=e.substring(0,E).toLowerCase(),n=e.substring(E+1),s=r}"ns"in g&&(s=g.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:u,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Bie=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Mx.charAt(n%64),n=Math.floor(n/64);ne(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=Mx.charAt(e[i]);return ne(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Zt(this.snapshot.exportVal())}}class H${constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return ne(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return $e(this._path)?null:EC(this._path)}get ref(){return new hs(this._repo,this._path)}get _queryIdentifier(){const e=wx(this._queryParams),n=_C(e);return n==="{}"?"default":n}get _queryObject(){return wx(this._queryParams)}isEqual(e){if(e=ct(e),!(e instanceof YC))return!1;const n=this._repo===e._repo,r=SC(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Lne(this._path)}}class hs extends YC{constructor(e,n){super(e,n,new RC,!1)}get parent(){const e=e$(this._path);return e===null?null:new hs(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class uc{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new at(e),r=xi(this.ref,e);return new uc(this._node.getChild(n),r,Mt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new uc(i,xi(this.ref,r),Mt)))}hasChild(e){const n=new at(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function En(t,e){return t=ct(t),t._checkNotDeleted("ref"),e!==void 0?xi(t._root,e):t._root}function xi(t,e){return t=ct(t),Le(t._path)===null?Tie("child","path",e,!1):L$("child","path",e,!1),new hs(t._repo,Lt(t._path,e))}function zie(t,e){t=ct(t),M$("push",t._path),D$("push",e,t._path,!0);const n=$$(t._repo),r=Bie(n),i=xi(t,r),s=xi(t,r);let o;return e!=null?o=rf(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function rf(t,e){t=ct(t),M$("set",t._path),D$("set",e,t._path,!1);const n=new Id;return xie(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Ul(t,e){Sie("update",e,t._path,!1);const n=new Id;return Die(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Qf(t){t=ct(t);const e=new q$(()=>{}),n=new ry(e);return Nie(t._repo,t,n).then(r=>new uc(r,new hs(t._repo,t._path),t._queryParams.getIndex()))}class ry{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new z$("value",this,new uc(e.snapshotNode,new hs(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new H$(this,e,n):null}matches(e){return e instanceof ry?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class KC{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new H$(this,e,n):null}createEvent(e,n){ne(e.childName!=null,"Child events should have a childName.");const r=xi(new hs(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new z$(e.type,this,new uc(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof KC?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Hie(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,h=(d,p)=>{Dx(t._repo,t,u),l(d,p)};h.userCallback=n.userCallback,h.context=n.context,n=h}const o=new q$(n,s||void 0),u=e==="value"?new ry(o):new KC(e,o);return Mie(t._repo,t,u),()=>Dx(t._repo,t,u)}function G$(t,e,n,r){return Hie(t,"value",e,n,r)}Gre(hs);Jre(hs);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qie="FIREBASE_DATABASE_EMULATOR_HOST",$S={};let Gie=!1;function Yie(t,e,n,r){t.repoInfo_=new HF(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function Kie(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Js("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),yn("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Lx(s,i),u=o.repoInfo,l,h;typeof process<"u"&&process.env&&(h=process.env[qie]),h?(l=!0,s=`http://${h}?ns=${u.namespace}`,o=Lx(s,i),u=o.repoInfo):l=!o.repoInfo.secure;const d=i&&l?new Ll(Ll.OWNER):new lne(t.name,t.options,e);Iie("Invalid Firebase Database URL",o),$e(o.path)||Js("Database URL must point to the root of a Firebase Database (not including a child path).");const p=Xie(u,t,d,new une(t.name,n));return new Jie(p,t)}function Qie(t,e){const n=$S[e];(!n||n[t.key]!==t)&&Js(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Uie(t),delete n[t.key]}function Xie(t,e,n,r){let i=$S[e.name];i||(i={},$S[e.name]=i);let s=i[t.toURLString()];return s&&Js("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new kie(t,Gie,n,r),i[t.toURLString()]=s,s}class Jie{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(bie(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new hs(this._repo,Ke())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Qie(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Js("Cannot call "+e+" on a deleted database.")}}function QC(t=Bv(),e){const n=Rd(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=rC("database");r&&Zie(n,...r)}return n}function Zie(t,e,n,r={}){t=ct(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Js("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Js('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ll(Ll.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:iC(r.mockUserToken,t.app.options.projectId);s=new Ll(o)}Yie(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ese(t){Gte(va),aa(new Qs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Kie(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),si(rx,ix,t),si(rx,ix,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tse={".sv":"timestamp"};function Fl(){return tse}js.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};js.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};ese();var nse=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oe,XC=XC||{},Ce=nse||self;function iy(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ud(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function rse(t){return Object.prototype.hasOwnProperty.call(t,DE)&&t[DE]||(t[DE]=++ise)}var DE="closure_uid_"+(1e9*Math.random()>>>0),ise=0;function sse(t,e,n){return t.call.apply(t.bind,arguments)}function ose(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Vn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Vn=sse:Vn=ose,Vn.apply(null,arguments)}function mg(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function hn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),u=2;u<arguments.length;u++)o[u-2]=arguments[u];return e.prototype[i].apply(r,o)}}function ya(){this.s=this.s,this.o=this.o}var ase=0;ya.prototype.s=!1;ya.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),ase!=0)&&rse(this)};ya.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Y$=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function JC(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ux(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(iy(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Wn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Wn.prototype.h=function(){this.defaultPrevented=!0};var use=function(){if(!Ce.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ce.addEventListener("test",()=>{},e),Ce.removeEventListener("test",()=>{},e)}catch{}return t}();function Xf(t){return/^[\s\xa0]*$/.test(t)}function sy(){var t=Ce.navigator;return t&&(t=t.userAgent)?t:""}function Yi(t){return sy().indexOf(t)!=-1}function ZC(t){return ZC[" "](t),t}ZC[" "]=function(){};function lse(t,e){var n=toe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var cse=Yi("Opera"),lc=Yi("Trident")||Yi("MSIE"),K$=Yi("Edge"),VS=K$||lc,Q$=Yi("Gecko")&&!(sy().toLowerCase().indexOf("webkit")!=-1&&!Yi("Edge"))&&!(Yi("Trident")||Yi("MSIE"))&&!Yi("Edge"),hse=sy().toLowerCase().indexOf("webkit")!=-1&&!Yi("Edge");function X$(){var t=Ce.document;return t?t.documentMode:void 0}var WS;e:{var LE="",ME=function(){var t=sy();if(Q$)return/rv:([^\);]+)(\)|;)/.exec(t);if(K$)return/Edge\/([\d\.]+)/.exec(t);if(lc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(hse)return/WebKit\/(\S+)/.exec(t);if(cse)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(ME&&(LE=ME?ME[1]:""),lc){var UE=X$();if(UE!=null&&UE>parseFloat(LE)){WS=String(UE);break e}}WS=LE}var jS;if(Ce.document&&lc){var Fx=X$();jS=Fx||parseInt(WS,10)||void 0}else jS=void 0;var fse=jS;function Jf(t,e){if(Wn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Q$){e:{try{ZC(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:dse[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Jf.$.h.call(this)}}hn(Jf,Wn);var dse={2:"touch",3:"pen",4:"mouse"};Jf.prototype.h=function(){Jf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Fd="closure_listenable_"+(1e6*Math.random()|0),pse=0;function gse(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++pse,this.fa=this.ia=!1}function oy(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function eR(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function mse(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function J$(t){const e={};for(const n in t)e[n]=t[n];return e}const $x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z$(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<$x.length;s++)n=$x[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ay(t){this.src=t,this.g={},this.h=0}ay.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=zS(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new gse(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function BS(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Y$(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(oy(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function zS(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var tR="closure_lm_"+(1e6*Math.random()|0),FE={};function eV(t,e,n,r,i){if(r&&r.once)return nV(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)eV(t,e[s],n,r,i);return null}return n=iR(n),t&&t[Fd]?t.O(e,n,Ud(r)?!!r.capture:!!r,i):tV(t,e,n,!1,r,i)}function tV(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ud(i)?!!i.capture:!!i,u=rR(t);if(u||(t[tR]=u=new ay(t)),n=u.add(e,n,r,o,s),n.proxy)return n;if(r=_se(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)use||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(iV(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function _se(){function t(n){return e.call(t.src,t.listener,n)}const e=vse;return t}function nV(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)nV(t,e[s],n,r,i);return null}return n=iR(n),t&&t[Fd]?t.P(e,n,Ud(r)?!!r.capture:!!r,i):tV(t,e,n,!0,r,i)}function rV(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)rV(t,e[s],n,r,i);else r=Ud(r)?!!r.capture:!!r,n=iR(n),t&&t[Fd]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=zS(s,n,r,i),-1<n&&(oy(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=rR(t))&&(e=t.g[e.toString()],t=-1,e&&(t=zS(e,n,r,i)),(n=-1<t?e[t]:null)&&nR(n))}function nR(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Fd])BS(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(iV(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=rR(e))?(BS(n,t),n.h==0&&(n.src=null,e[tR]=null)):oy(t)}}}function iV(t){return t in FE?FE[t]:FE[t]="on"+t}function vse(t,e){if(t.fa)t=!0;else{e=new Jf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&nR(t),t=n.call(r,e)}return t}function rR(t){return t=t[tR],t instanceof ay?t:null}var $E="__closure_events_fn_"+(1e9*Math.random()>>>0);function iR(t){return typeof t=="function"?t:(t[$E]||(t[$E]=function(e){return t.handleEvent(e)}),t[$E])}function ln(){ya.call(this),this.i=new ay(this),this.S=this,this.J=null}hn(ln,ya);ln.prototype[Fd]=!0;ln.prototype.removeEventListener=function(t,e,n,r){rV(this,t,e,n,r)};function In(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Wn(e,t);else if(e instanceof Wn)e.target=e.target||t;else{var i=e;e=new Wn(r,t),Z$(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=_g(o,r,!0,e)&&i}if(o=e.g=t,i=_g(o,r,!0,e)&&i,i=_g(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=_g(o,r,!1,e)&&i}ln.prototype.N=function(){if(ln.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)oy(n[r]);delete t.g[e],t.h--}}this.J=null};ln.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ln.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function _g(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var u=o.listener,l=o.la||o.src;o.ia&&BS(t.i,o),i=u.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var sR=Ce.JSON.stringify;class yse{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function wse(){var t=oR;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Ese{constructor(){this.h=this.g=null}add(e,n){const r=sV.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var sV=new yse(()=>new Sse,t=>t.reset());class Sse{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Tse(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Ise(t){Ce.setTimeout(()=>{throw t},0)}let Zf,ed=!1,oR=new Ese,oV=()=>{const t=Ce.Promise.resolve(void 0);Zf=()=>{t.then(Cse)}};var Cse=()=>{for(var t;t=wse();){try{t.h.call(t.g)}catch(n){Ise(n)}var e=sV;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ed=!1};function uy(t,e){ln.call(this),this.h=t||1,this.g=e||Ce,this.j=Vn(this.qb,this),this.l=Date.now()}hn(uy,ln);oe=uy.prototype;oe.ga=!1;oe.T=null;oe.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),In(this,"tick"),this.ga&&(aR(this),this.start()))}};oe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function aR(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}oe.N=function(){uy.$.N.call(this),aR(this),delete this.g};function uR(t,e,n){if(typeof t=="function")n&&(t=Vn(t,n));else if(t&&typeof t.handleEvent=="function")t=Vn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ce.setTimeout(t,e||0)}function aV(t){t.g=uR(()=>{t.g=null,t.i&&(t.i=!1,aV(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Rse extends ya{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:aV(this)}N(){super.N(),this.g&&(Ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function td(t){ya.call(this),this.h=t,this.g={}}hn(td,ya);var Vx=[];function uV(t,e,n,r){Array.isArray(n)||(n&&(Vx[0]=n.toString()),n=Vx);for(var i=0;i<n.length;i++){var s=eV(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function lV(t){eR(t.g,function(e,n){this.g.hasOwnProperty(n)&&nR(e)},t),t.g={}}td.prototype.N=function(){td.$.N.call(this),lV(this)};td.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ly(){this.g=!0}ly.prototype.Ea=function(){this.g=!1};function Ase(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",u=s.split("&"),l=0;l<u.length;l++){var h=u[l].split("=");if(1<h.length){var d=h[0];h=h[1];var p=d.split("_");o=2<=p.length&&p[1]=="type"?o+(d+"="+h+"&"):o+(d+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function Pse(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Sl(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+bse(t,n)+(r?" "+r:"")})}function kse(t,e){t.info(function(){return"TIMEOUT: "+e})}ly.prototype.info=function(){};function bse(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return sR(n)}catch{return e}}var Pu={},Wx=null;function cy(){return Wx=Wx||new ln}Pu.Ta="serverreachability";function cV(t){Wn.call(this,Pu.Ta,t)}hn(cV,Wn);function nd(t){const e=cy();In(e,new cV(e))}Pu.STAT_EVENT="statevent";function hV(t,e){Wn.call(this,Pu.STAT_EVENT,t),this.stat=e}hn(hV,Wn);function rr(t){const e=cy();In(e,new hV(e,t))}Pu.Ua="timingevent";function fV(t,e){Wn.call(this,Pu.Ua,t),this.size=e}hn(fV,Wn);function $d(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ce.setTimeout(function(){t()},e)}var hy={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},dV={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function lR(){}lR.prototype.h=null;function jx(t){return t.h||(t.h=t.i())}function pV(){}var Vd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function cR(){Wn.call(this,"d")}hn(cR,Wn);function hR(){Wn.call(this,"c")}hn(hR,Wn);var HS;function fy(){}hn(fy,lR);fy.prototype.g=function(){return new XMLHttpRequest};fy.prototype.i=function(){return{}};HS=new fy;function Wd(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new td(this),this.P=Ose,t=VS?125:void 0,this.V=new uy(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new gV}function gV(){this.i=null,this.g="",this.h=!1}var Ose=45e3,qS={},I_={};oe=Wd.prototype;oe.setTimeout=function(t){this.P=t};function GS(t,e,n){t.L=1,t.v=py(Zs(e)),t.s=n,t.S=!0,mV(t,null)}function mV(t,e){t.G=Date.now(),jd(t),t.A=Zs(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),IV(n.i,"t",r),t.C=0,n=t.l.J,t.h=new gV,t.g=HV(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Rse(Vn(t.Pa,t,t.g),t.O)),uV(t.U,t.g,"readystatechange",t.nb),e=t.I?J$(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),nd(),Ase(t.j,t.u,t.A,t.m,t.W,t.s)}oe.nb=function(t){t=t.target;const e=this.M;e&&Xi(t)==3?e.l():this.Pa(t)};oe.Pa=function(t){try{if(t==this.g)e:{const d=Xi(this.g);var e=this.g.Ia();const p=this.g.da();if(!(3>d)&&(d!=3||VS||this.g&&(this.h.h||this.g.ja()||qx(this.g)))){this.J||d!=4||e==7||(e==8||0>=p?nd(3):nd(2)),dy(this);var n=this.g.da();this.ca=n;t:if(_V(this)){var r=qx(this.g);t="";var i=r.length,s=Xi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){za(this),sf(this);var o="";break t}this.h.i=new Ce.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Pse(this.j,this.u,this.A,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xf(u)){var h=u;break t}}h=null}if(n=h)Sl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,YS(this,n);else{this.i=!1,this.o=3,rr(12),za(this),sf(this);break e}}this.S?(vV(this,d,o),VS&&this.i&&d==3&&(uV(this.U,this.V,"tick",this.mb),this.V.start())):(Sl(this.j,this.m,o,null),YS(this,o)),d==4&&za(this),this.i&&!this.J&&(d==4?WV(this.l,this):(this.i=!1,jd(this)))}else Jse(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,rr(12)):(this.o=0,rr(13)),za(this),sf(this)}}}catch{}finally{}};function _V(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function vV(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=Nse(t,n),i==I_){e==4&&(t.o=4,rr(14),r=!1),Sl(t.j,t.m,null,"[Incomplete Response]");break}else if(i==qS){t.o=4,rr(15),Sl(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Sl(t.j,t.m,i,null),YS(t,i);_V(t)&&i!=I_&&i!=qS&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,rr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),_R(e),e.M=!0,rr(11))):(Sl(t.j,t.m,n,"[Invalid Chunked Response]"),za(t),sf(t))}oe.mb=function(){if(this.g){var t=Xi(this.g),e=this.g.ja();this.C<e.length&&(dy(this),vV(this,t,e),this.i&&t!=4&&jd(this))}};function Nse(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?I_:(n=Number(e.substring(n,r)),isNaN(n)?qS:(r+=1,r+n>e.length?I_:(e=e.slice(r,r+n),t.C=r+n,e)))}oe.cancel=function(){this.J=!0,za(this)};function jd(t){t.Y=Date.now()+t.P,yV(t,t.P)}function yV(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=$d(Vn(t.lb,t),e)}function dy(t){t.B&&(Ce.clearTimeout(t.B),t.B=null)}oe.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(kse(this.j,this.A),this.L!=2&&(nd(),rr(17)),za(this),this.o=2,sf(this)):yV(this,this.Y-t)};function sf(t){t.l.H==0||t.J||WV(t.l,t)}function za(t){dy(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,aR(t.V),lV(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function YS(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||KS(n.i,t))){if(!t.K&&KS(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)A_(n),_y(n);else break e;mR(n),rr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=$d(Vn(n.ib,n),6e3));if(1>=AV(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ha(n,11)}else if((t.K||n.g==t)&&A_(n),!Xf(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let h=i[e];if(n.V=h[0],h=h[1],n.H==2)if(h[0]=="c"){n.K=h[1],n.pa=h[2];const d=h[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const p=h[4];p!=null&&(n.Ga=p,n.l.info("SVER="+n.Ga));const g=h[5];g!=null&&typeof g=="number"&&0<g&&(r=1.5*g,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const v=t.g;if(v){const E=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(E){var s=r.i;s.g||E.indexOf("spdy")==-1&&E.indexOf("quic")==-1&&E.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(fR(s,s.h),s.h=null))}if(r.F){const C=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(r.Da=C,vt(r.I,r.F,C))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=zV(r,r.J?r.pa:null,r.Y),o.K){PV(r.i,o);var u=o,l=r.L;l&&u.setTimeout(l),u.B&&(dy(u),jd(u)),r.g=o}else $V(r);0<n.j.length&&vy(n)}else h[0]!="stop"&&h[0]!="close"||Ha(n,7);else n.H==3&&(h[0]=="stop"||h[0]=="close"?h[0]=="stop"?Ha(n,7):gR(n):h[0]!="noop"&&n.h&&n.h.Aa(h),n.A=0)}}nd(4)}catch{}}function xse(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(iy(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Dse(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(iy(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function wV(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(iy(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Dse(t),r=xse(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var EV=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lse(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ja(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ja){this.h=t.h,C_(this,t.j),this.s=t.s,this.g=t.g,R_(this,t.m),this.l=t.l;var e=t.i,n=new rd;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Bx(this,n),this.o=t.o}else t&&(e=String(t).match(EV))?(this.h=!1,C_(this,e[1]||"",!0),this.s=Uh(e[2]||""),this.g=Uh(e[3]||"",!0),R_(this,e[4]),this.l=Uh(e[5]||"",!0),Bx(this,e[6]||"",!0),this.o=Uh(e[7]||"")):(this.h=!1,this.i=new rd(null,this.h))}Ja.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Fh(e,zx,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Fh(e,zx,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Fh(n,n.charAt(0)=="/"?Fse:Use,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Fh(n,Vse)),t.join("")};function Zs(t){return new Ja(t)}function C_(t,e,n){t.j=n?Uh(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function R_(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Bx(t,e,n){e instanceof rd?(t.i=e,Wse(t.i,t.h)):(n||(e=Fh(e,$se)),t.i=new rd(e,t.h))}function vt(t,e,n){t.i.set(e,n)}function py(t){return vt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Uh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Fh(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Mse),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Mse(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var zx=/[#\/\?@]/g,Use=/[#\?:]/g,Fse=/[#\?]/g,$se=/[#\?@]/g,Vse=/#/g;function rd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function wa(t){t.g||(t.g=new Map,t.h=0,t.i&&Lse(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}oe=rd.prototype;oe.add=function(t,e){wa(this),this.i=null,t=Oc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function SV(t,e){wa(t),e=Oc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function TV(t,e){return wa(t),e=Oc(t,e),t.g.has(e)}oe.forEach=function(t,e){wa(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};oe.ta=function(){wa(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};oe.Z=function(t){wa(this);let e=[];if(typeof t=="string")TV(this,t)&&(e=e.concat(this.g.get(Oc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};oe.set=function(t,e){return wa(this),this.i=null,t=Oc(this,t),TV(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};oe.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function IV(t,e,n){SV(t,e),0<n.length&&(t.i=null,t.g.set(Oc(t,e),JC(n)),t.h+=n.length)}oe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Oc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Wse(t,e){e&&!t.j&&(wa(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(SV(this,r),IV(this,i,n))},t)),t.j=e}var jse=class{constructor(t,e){this.g=t,this.map=e}};function CV(t){this.l=t||Bse,Ce.PerformanceNavigationTiming?(t=Ce.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ce.g&&Ce.g.Ka&&Ce.g.Ka()&&Ce.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Bse=10;function RV(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function AV(t){return t.h?1:t.g?t.g.size:0}function KS(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function fR(t,e){t.g?t.g.add(e):t.h=e}function PV(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}CV.prototype.cancel=function(){if(this.i=kV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function kV(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return JC(t.i)}var zse=class{stringify(t){return Ce.JSON.stringify(t,void 0)}parse(t){return Ce.JSON.parse(t,void 0)}};function Hse(){this.g=new zse}function qse(t,e,n){const r=n||"";try{wV(t,function(i,s){let o=i;Ud(i)&&(o=sR(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Gse(t,e){const n=new ly;if(Ce.Image){const r=new Image;r.onload=mg(vg,n,r,"TestLoadImage: loaded",!0,e),r.onerror=mg(vg,n,r,"TestLoadImage: error",!1,e),r.onabort=mg(vg,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=mg(vg,n,r,"TestLoadImage: timeout",!1,e),Ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function vg(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Bd(t){this.l=t.fc||null,this.j=t.ob||!1}hn(Bd,lR);Bd.prototype.g=function(){return new gy(this.l,this.j)};Bd.prototype.i=function(t){return function(){return t}}({});function gy(t,e){ln.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=dR,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hn(gy,ln);var dR=0;oe=gy.prototype;oe.open=function(t,e){if(this.readyState!=dR)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,id(this)};oe.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ce).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};oe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zd(this)),this.readyState=dR};oe.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,id(this)),this.g&&(this.readyState=3,id(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ce.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bV(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function bV(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}oe.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?zd(this):id(this),this.readyState==3&&bV(this)}};oe.Za=function(t){this.g&&(this.response=this.responseText=t,zd(this))};oe.Ya=function(t){this.g&&(this.response=t,zd(this))};oe.ka=function(){this.g&&zd(this)};function zd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,id(t)}oe.setRequestHeader=function(t,e){this.v.append(t,e)};oe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};oe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function id(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(gy.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Yse=Ce.JSON.parse;function Ut(t){ln.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=OV,this.L=this.M=!1}hn(Ut,ln);var OV="",Kse=/^https?$/i,Qse=["POST","PUT"];oe=Ut.prototype;oe.Oa=function(t){this.M=t};oe.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():HS.g(),this.C=this.u?jx(this.u):jx(HS),this.g.onreadystatechange=Vn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){Hx(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Ce.FormData&&t instanceof Ce.FormData,!(0<=Y$(Qse,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{DV(this),0<this.B&&((this.L=Xse(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vn(this.ua,this)):this.A=uR(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Hx(this,s)}};function Xse(t){return lc&&typeof t.timeout=="number"&&t.ontimeout!==void 0}oe.ua=function(){typeof XC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,In(this,"timeout"),this.abort(8))};function Hx(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,NV(t),my(t)}function NV(t){t.F||(t.F=!0,In(t,"complete"),In(t,"error"))}oe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,In(this,"complete"),In(this,"abort"),my(this))};oe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),my(this,!0)),Ut.$.N.call(this)};oe.La=function(){this.s||(this.G||this.v||this.l?xV(this):this.kb())};oe.kb=function(){xV(this)};function xV(t){if(t.h&&typeof XC<"u"&&(!t.C[1]||Xi(t)!=4||t.da()!=2)){if(t.v&&Xi(t)==4)uR(t.La,0,t);else if(In(t,"readystatechange"),Xi(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(EV)[1]||null;!i&&Ce.self&&Ce.self.location&&(i=Ce.self.location.protocol.slice(0,-1)),r=!Kse.test(i?i.toLowerCase():"")}n=r}if(n)In(t,"complete"),In(t,"success");else{t.m=6;try{var s=2<Xi(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",NV(t)}}finally{my(t)}}}}function my(t,e){if(t.g){DV(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||In(t,"ready");try{n.onreadystatechange=r}catch{}}}function DV(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ce.clearTimeout(t.A),t.A=null)}oe.isActive=function(){return!!this.g};function Xi(t){return t.g?t.g.readyState:0}oe.da=function(){try{return 2<Xi(this)?this.g.status:-1}catch{return-1}};oe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};oe.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Yse(e)}};function qx(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case OV:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Jse(t){const e={};t=(t.g&&2<=Xi(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Xf(t[r]))continue;var n=Tse(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}mse(e,function(r){return r.join(", ")})}oe.Ia=function(){return this.m};oe.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function LV(t){let e="";return eR(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function pR(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=LV(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):vt(t,e,n))}function Sh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function MV(t){this.Ga=0,this.j=[],this.l=new ly,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Sh("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Sh("baseRetryDelayMs",5e3,t),this.hb=Sh("retryDelaySeedMs",1e4,t),this.eb=Sh("forwardChannelMaxRetries",2,t),this.xa=Sh("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new CV(t&&t.concurrentRequestLimit),this.Ja=new Hse,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}oe=MV.prototype;oe.ra=8;oe.H=1;function gR(t){if(UV(t),t.H==3){var e=t.W++,n=Zs(t.I);if(vt(n,"SID",t.K),vt(n,"RID",e),vt(n,"TYPE","terminate"),Hd(t,n),e=new Wd(t,t.l,e),e.L=2,e.v=py(Zs(n)),n=!1,Ce.navigator&&Ce.navigator.sendBeacon)try{n=Ce.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Ce.Image&&(new Image().src=e.v,n=!0),n||(e.g=HV(e.l,null),e.g.ha(e.v)),e.G=Date.now(),jd(e)}BV(t)}function _y(t){t.g&&(_R(t),t.g.cancel(),t.g=null)}function UV(t){_y(t),t.u&&(Ce.clearTimeout(t.u),t.u=null),A_(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ce.clearTimeout(t.m),t.m=null)}function vy(t){if(!RV(t.i)&&!t.m){t.m=!0;var e=t.Na;Zf||oV(),ed||(Zf(),ed=!0),oR.add(e,t),t.C=0}}function Zse(t,e){return AV(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=$d(Vn(t.Na,t,e),jV(t,t.C)),t.C++,!0)}oe.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Wd(this,this.l,t);let s=this.s;if(this.U&&(s?(s=J$(s),Z$(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=FV(this,i,e),n=Zs(this.I),vt(n,"RID",t),vt(n,"CVER",22),this.F&&vt(n,"X-HTTP-Session-Id",this.F),Hd(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(LV(s)))+"&"+e:this.o&&pR(n,this.o,s)),fR(this.i,i),this.bb&&vt(n,"TYPE","init"),this.P?(vt(n,"$req",e),vt(n,"SID","null"),i.aa=!0,GS(i,n,null)):GS(i,n,e),this.H=2}}else this.H==3&&(t?Gx(this,t):this.j.length==0||RV(this.i)||Gx(this))};function Gx(t,e){var n;e?n=e.m:n=t.W++;const r=Zs(t.I);vt(r,"SID",t.K),vt(r,"RID",n),vt(r,"AID",t.V),Hd(t,r),t.o&&t.s&&pR(r,t.o,t.s),n=new Wd(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=FV(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),fR(t.i,n),GS(n,r,e)}function Hd(t,e){t.na&&eR(t.na,function(n,r){vt(e,r,n)}),t.h&&wV({},function(n,r){vt(e,r,n)})}function FV(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Vn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let u=!0;for(let l=0;l<n;l++){let h=i[l].g;const d=i[l].map;if(h-=s,0>h)s=Math.max(0,i[l].g-100),u=!1;else try{qse(d,o,"req"+h+"_")}catch{r&&r(d)}}if(u){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function $V(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Zf||oV(),ed||(Zf(),ed=!0),oR.add(e,t),t.A=0}}function mR(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=$d(Vn(t.Ma,t),jV(t,t.A)),t.A++,!0)}oe.Ma=function(){if(this.u=null,VV(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=$d(Vn(this.jb,this),t)}};oe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,rr(10),_y(this),VV(this))};function _R(t){t.B!=null&&(Ce.clearTimeout(t.B),t.B=null)}function VV(t){t.g=new Wd(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Zs(t.wa);vt(e,"RID","rpc"),vt(e,"SID",t.K),vt(e,"AID",t.V),vt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&vt(e,"TO",t.qa),vt(e,"TYPE","xmlhttp"),Hd(t,e),t.o&&t.s&&pR(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=py(Zs(e)),n.s=null,n.S=!0,mV(n,t)}oe.ib=function(){this.v!=null&&(this.v=null,_y(this),mR(this),rr(19))};function A_(t){t.v!=null&&(Ce.clearTimeout(t.v),t.v=null)}function WV(t,e){var n=null;if(t.g==e){A_(t),_R(t),t.g=null;var r=2}else if(KS(t.i,e))n=e.F,PV(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=cy(),In(r,new fV(r,n)),vy(t)}else $V(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&Zse(t,e)||r==2&&mR(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ha(t,5);break;case 4:Ha(t,10);break;case 3:Ha(t,6);break;default:Ha(t,2)}}}function jV(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ha(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Vn(t.pb,t);n||(n=new Ja("//www.google.com/images/cleardot.gif"),Ce.location&&Ce.location.protocol=="http"||C_(n,"https"),py(n)),Gse(n.toString(),r)}else rr(2);t.H=0,t.h&&t.h.za(e),BV(t),UV(t)}oe.pb=function(t){t?(this.l.info("Successfully pinged google.com"),rr(2)):(this.l.info("Failed to ping google.com"),rr(1))};function BV(t){if(t.H=0,t.ma=[],t.h){const e=kV(t.i);(e.length!=0||t.j.length!=0)&&(Ux(t.ma,e),Ux(t.ma,t.j),t.i.i.length=0,JC(t.j),t.j.length=0),t.h.ya()}}function zV(t,e,n){var r=n instanceof Ja?Zs(n):new Ja(n);if(r.g!="")e&&(r.g=e+"."+r.g),R_(r,r.m);else{var i=Ce.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ja(null);r&&C_(s,r),e&&(s.g=e),i&&R_(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&vt(r,n,e),vt(r,"VER",t.ra),Hd(t,r),r}function HV(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Ut(new Bd({ob:!0})):new Ut(t.va),e.Oa(t.J),e}oe.isActive=function(){return!!this.h&&this.h.isActive(this)};function qV(){}oe=qV.prototype;oe.Ba=function(){};oe.Aa=function(){};oe.za=function(){};oe.ya=function(){};oe.isActive=function(){return!0};oe.Va=function(){};function P_(){if(lc&&!(10<=Number(fse)))throw Error("Environmental error: no available transport.")}P_.prototype.g=function(t,e){return new Mr(t,e)};function Mr(t,e){ln.call(this),this.g=new MV(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Xf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Xf(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Nc(this)}hn(Mr,ln);Mr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;rr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=zV(t,null,t.Y),vy(t)};Mr.prototype.close=function(){gR(this.g)};Mr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=sR(t),t=n);e.j.push(new jse(e.fb++,t)),e.H==3&&vy(e)};Mr.prototype.N=function(){this.g.h=null,delete this.j,gR(this.g),delete this.g,Mr.$.N.call(this)};function GV(t){cR.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}hn(GV,cR);function YV(){hR.call(this),this.status=1}hn(YV,hR);function Nc(t){this.g=t}hn(Nc,qV);Nc.prototype.Ba=function(){In(this.g,"a")};Nc.prototype.Aa=function(t){In(this.g,new GV(t))};Nc.prototype.za=function(t){In(this.g,new YV)};Nc.prototype.ya=function(){In(this.g,"b")};function eoe(){this.blockSize=-1}function Di(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}hn(Di,eoe);Di.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function VE(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Di.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)VE(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){VE(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){VE(this,r),i=0;break}}this.h=i,this.i+=e};Di.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function it(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var toe={};function vR(t){return-128<=t&&128>t?lse(t,function(e){return new it([e|0],0>e?-1:0)}):new it([t|0],0>t?-1:0)}function Ji(t){if(isNaN(t)||!isFinite(t))return $l;if(0>t)return wn(Ji(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=QS;return new it(e,0)}function KV(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return wn(KV(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ji(Math.pow(e,8)),r=$l,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Ji(Math.pow(e,s)),r=r.R(s).add(Ji(o))):(r=r.R(n),r=r.add(Ji(o)))}return r}var QS=4294967296,$l=vR(0),XS=vR(1),Yx=vR(16777216);oe=it.prototype;oe.ea=function(){if(ei(this))return-wn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:QS+r)*e,e*=QS}return t};oe.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Us(this))return"0";if(ei(this))return"-"+wn(this).toString(t);for(var e=Ji(Math.pow(t,6)),n=this,r="";;){var i=b_(n,e).g;n=k_(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Us(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};oe.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Us(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function ei(t){return t.h==-1}oe.X=function(t){return t=k_(this,t),ei(t)?-1:Us(t)?0:1};function wn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new it(n,~t.h).add(XS)}oe.abs=function(){return ei(this)?wn(this):this};oe.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new it(n,n[n.length-1]&-2147483648?-1:0)};function k_(t,e){return t.add(wn(e))}oe.R=function(t){if(Us(this)||Us(t))return $l;if(ei(this))return ei(t)?wn(this).R(wn(t)):wn(wn(this).R(t));if(ei(t))return wn(this.R(wn(t)));if(0>this.X(Yx)&&0>t.X(Yx))return Ji(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,u=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,yg(n,2*r+2*i),n[2*r+2*i+1]+=s*l,yg(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,yg(n,2*r+2*i+1),n[2*r+2*i+2]+=s*u,yg(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new it(n,0)};function yg(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Th(t,e){this.g=t,this.h=e}function b_(t,e){if(Us(e))throw Error("division by zero");if(Us(t))return new Th($l,$l);if(ei(t))return e=b_(wn(t),e),new Th(wn(e.g),wn(e.h));if(ei(e))return e=b_(t,wn(e)),new Th(wn(e.g),e.h);if(30<t.g.length){if(ei(t)||ei(e))throw Error("slowDivide_ only works with positive integers.");for(var n=XS,r=e;0>=r.X(t);)n=Kx(n),r=Kx(r);var i=Zu(n,1),s=Zu(r,1);for(r=Zu(r,2),n=Zu(n,2);!Us(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Zu(r,1),n=Zu(n,1)}return e=k_(t,i.R(e)),new Th(i,e)}for(i=$l;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Ji(n),o=s.R(e);ei(o)||0<o.X(t);)n-=r,s=Ji(n),o=s.R(e);Us(s)&&(s=XS),i=i.add(s),t=k_(t,o)}return new Th(i,t)}oe.gb=function(t){return b_(this,t).h};oe.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new it(n,this.h&t.h)};oe.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new it(n,this.h|t.h)};oe.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new it(n,this.h^t.h)};function Kx(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new it(n,t.h)}function Zu(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new it(i,t.h)}P_.prototype.createWebChannel=P_.prototype.g;Mr.prototype.send=Mr.prototype.u;Mr.prototype.open=Mr.prototype.m;Mr.prototype.close=Mr.prototype.close;hy.NO_ERROR=0;hy.TIMEOUT=8;hy.HTTP_ERROR=6;dV.COMPLETE="complete";pV.EventType=Vd;Vd.OPEN="a";Vd.CLOSE="b";Vd.ERROR="c";Vd.MESSAGE="d";ln.prototype.listen=ln.prototype.O;Ut.prototype.listenOnce=Ut.prototype.P;Ut.prototype.getLastError=Ut.prototype.Sa;Ut.prototype.getLastErrorCode=Ut.prototype.Ia;Ut.prototype.getStatus=Ut.prototype.da;Ut.prototype.getResponseJson=Ut.prototype.Wa;Ut.prototype.getResponseText=Ut.prototype.ja;Ut.prototype.send=Ut.prototype.ha;Ut.prototype.setWithCredentials=Ut.prototype.Oa;Di.prototype.digest=Di.prototype.l;Di.prototype.reset=Di.prototype.reset;Di.prototype.update=Di.prototype.j;it.prototype.add=it.prototype.add;it.prototype.multiply=it.prototype.R;it.prototype.modulo=it.prototype.gb;it.prototype.compare=it.prototype.X;it.prototype.toNumber=it.prototype.ea;it.prototype.toString=it.prototype.toString;it.prototype.getBits=it.prototype.D;it.fromNumber=Ji;it.fromString=KV;var noe=function(){return new P_},roe=function(){return cy()},WE=hy,ioe=dV,soe=Pu,Qx={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ooe=Bd,wg=pV,aoe=Ut,uoe=Di,Vl=it;const Xx="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mn.UNAUTHENTICATED=new Mn(null),Mn.GOOGLE_CREDENTIALS=new Mn("google-credentials-uid"),Mn.FIRST_PARTY=new Mn("first-party-uid"),Mn.MOCK_USER=new Mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc="10.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=new jv("@firebase/firestore");function Jx(){return du.logLevel}function ge(t,...e){if(du.logLevel<=Ge.DEBUG){const n=e.map(yR);du.debug(`Firestore (${xc}): ${t}`,...n)}}function eo(t,...e){if(du.logLevel<=Ge.ERROR){const n=e.map(yR);du.error(`Firestore (${xc}): ${t}`,...n)}}function cc(t,...e){if(du.logLevel<=Ge.WARN){const n=e.map(yR);du.warn(`Firestore (${xc}): ${t}`,...n)}}function yR(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(t="Unexpected state"){const e=`FIRESTORE (${xc}) INTERNAL ASSERTION FAILED: `+t;throw eo(e),new Error(e)}function Et(t,e){t||Ie()}function ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends ls{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class loe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mn.UNAUTHENTICATED))}shutdown(){}}class coe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hoe{constructor(e){this.t=e,this.currentUser=Mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Jo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Jo,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},u=l=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Jo)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Et(typeof r.accessToken=="string"),new QV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string"),new Mn(e)}}class foe{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Mn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class doe{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new foe(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class poe{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class goe{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ge("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Et(typeof n.token=="string"),this.R=n.token,new poe(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function moe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=moe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function et(t,e){return t<e?-1:t>e?1:0}function hc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new de(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nn.fromMillis(Date.now())}static fromDate(e){return nn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new nn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new nn(0,0))}static max(){return new Ae(new nn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ie(),r===void 0?r=e.length-n:r>e.length-n&&Ie(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return sd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof sd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class yt extends sd{construct(e,n,r){return new yt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new yt(n)}static emptyPath(){return new yt([])}}const _oe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $n extends sd{construct(e,n,r){return new $n(e,n,r)}static isValidIdentifier(e){return _oe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new $n(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new de(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new de(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new de(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else u==="`"?(o=!o,i++):u!=="."||o?(r+=u,i++):(s(),i++)}if(s(),o)throw new de(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $n(n)}static emptyPath(){return new $n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(yt.fromString(e))}static fromName(e){return new _e(yt.fromString(e).popFirst(5))}static empty(){return new _e(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return yt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new yt(e.slice()))}}function voe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ae.fromTimestamp(r===1e9?new nn(n+1,0):new nn(n,r));return new ha(i,_e.empty(),e)}function yoe(t){return new ha(t.readTime,t.key,-1)}class ha{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ha(Ae.min(),_e.empty(),-1)}static max(){return new ha(Ae.max(),_e.empty(),-1)}}function woe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eoe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Soe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qd(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==Eoe)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,r)=>{n(e)})}static reject(e){return new te((n,r)=>{r(e)})}static waitFor(e){return new te((n,r)=>{let i=0,s=0,o=!1;e.forEach(u=>{++i,u.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next(i=>i?te.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new te((r,i)=>{const s=e.length,o=new Array(s);let u=0;for(let l=0;l<s;l++){const h=l;n(e[h]).next(d=>{o[h]=d,++u,u===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new te((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Gd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}wR.ae=-1;function yy(t){return t==null}function O_(t){return t===0&&1/t==-1/0}function Toe(t){return typeof t=="number"&&Number.isInteger(t)&&!O_(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Dc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function JV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new Nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eg(this.root,e,this.comparator,!0)}}class Eg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??vn.RED,this.left=i??vn.EMPTY,this.right=s??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new vn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return vn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,n,r,i,s){return this}insert(e,n,r){return new vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new eD(this.data.getIterator())}getIteratorFrom(e){return new eD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof jn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new jn(this.comparator);return n.data=e,n}}class eD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.fields=e,e.sort($n.comparator)}static empty(){return new Ci([])}unionWith(e){let n=new jn($n.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ci(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ZV("Invalid base64 string: "+s):s}}(e);return new qn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new qn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qn.EMPTY_BYTE_STRING=new qn("");const Ioe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fa(t){if(Et(!!t),typeof t=="string"){let e=0;const n=Ioe.exec(t);if(Et(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ht(t.seconds),nanos:Ht(t.nanos)}}function Ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function pu(t){return typeof t=="string"?qn.fromBase64String(t):qn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function SR(t){const e=t.mapValue.fields.__previous_value__;return ER(e)?SR(e):e}function od(t){const e=fa(t.mapValue.fields.__local_write_time__.timestampValue);return new nn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Coe{constructor(e,n,r,i,s,o,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=l,this.useFetchStreams=h}}class ad{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ad("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ad&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function gu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ER(t)?4:Roe(t)?9007199254740991:10:Ie()}function as(t,e){if(t===e)return!0;const n=gu(t);if(n!==gu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return od(t).isEqual(od(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=fa(i.timestampValue),u=fa(s.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return pu(i.bytesValue).isEqual(pu(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ht(i.geoPointValue.latitude)===Ht(s.geoPointValue.latitude)&&Ht(i.geoPointValue.longitude)===Ht(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ht(i.integerValue)===Ht(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ht(i.doubleValue),u=Ht(s.doubleValue);return o===u?O_(o)===O_(u):isNaN(o)&&isNaN(u)}return!1}(t,e);case 9:return hc(t.arrayValue.values||[],e.arrayValue.values||[],as);case 10:return function(i,s){const o=i.mapValue.fields||{},u=s.mapValue.fields||{};if(Zx(o)!==Zx(u))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(u[l]===void 0||!as(o[l],u[l])))return!1;return!0}(t,e);default:return Ie()}}function ud(t,e){return(t.values||[]).find(n=>as(n,e))!==void 0}function fc(t,e){if(t===e)return 0;const n=gu(t),r=gu(e);if(n!==r)return et(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(t.booleanValue,e.booleanValue);case 2:return function(s,o){const u=Ht(s.integerValue||s.doubleValue),l=Ht(o.integerValue||o.doubleValue);return u<l?-1:u>l?1:u===l?0:isNaN(u)?isNaN(l)?0:-1:1}(t,e);case 3:return tD(t.timestampValue,e.timestampValue);case 4:return tD(od(t),od(e));case 5:return et(t.stringValue,e.stringValue);case 6:return function(s,o){const u=pu(s),l=pu(o);return u.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const u=s.split("/"),l=o.split("/");for(let h=0;h<u.length&&h<l.length;h++){const d=et(u[h],l[h]);if(d!==0)return d}return et(u.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const u=et(Ht(s.latitude),Ht(o.latitude));return u!==0?u:et(Ht(s.longitude),Ht(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const u=s.values||[],l=o.values||[];for(let h=0;h<u.length&&h<l.length;++h){const d=fc(u[h],l[h]);if(d)return d}return et(u.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Sg.mapValue&&o===Sg.mapValue)return 0;if(s===Sg.mapValue)return 1;if(o===Sg.mapValue)return-1;const u=s.fields||{},l=Object.keys(u),h=o.fields||{},d=Object.keys(h);l.sort(),d.sort();for(let p=0;p<l.length&&p<d.length;++p){const g=et(l[p],d[p]);if(g!==0)return g;const v=fc(u[l[p]],h[d[p]]);if(v!==0)return v}return et(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Ie()}}function tD(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return et(t,e);const n=fa(t),r=fa(e),i=et(n.seconds,r.seconds);return i!==0?i:et(n.nanos,r.nanos)}function dc(t){return JS(t)}function JS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=fa(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return pu(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=JS(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${JS(n.fields[o])}`;return i+"}"}(t.mapValue):Ie()}function nD(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ZS(t){return!!t&&"integerValue"in t}function TR(t){return!!t&&"arrayValue"in t}function rD(t){return!!t&&"nullValue"in t}function iD(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sm(t){return!!t&&"mapValue"in t}function of(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Dc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=of(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=of(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Roe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this.value=e}static empty(){return new ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=of(n)}setAll(e){let n=$n.emptyPath(),r={},i=[];e.forEach((o,u)=>{if(!n.isImmediateParentOf(u)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=u.popLast()}o?r[u.lastSegment()]=of(o):i.push(u.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());sm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return as(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];sm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Dc(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ti(of(this.value))}}function e4(t){const e=[];return Dc(t.fields,(n,r)=>{const i=new $n([n]);if(sm(r)){const s=e4(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ci(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n,r,i,s,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=u}static newInvalidDocument(e){return new Fn(e,0,Ae.min(),Ae.min(),Ae.min(),ti.empty(),0)}static newFoundDocument(e,n,r,i){return new Fn(e,1,n,Ae.min(),r,i,0)}static newNoDocument(e,n){return new Fn(e,2,n,Ae.min(),Ae.min(),ti.empty(),0)}static newUnknownDocument(e,n){return new Fn(e,3,n,Ae.min(),Ae.min(),ti.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,n){this.position=e,this.inclusive=n}}function sD(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=_e.comparator(_e.fromName(o.referenceValue),n.key):r=fc(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function oD(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!as(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n="asc"){this.field=e,this.dir=n}}function Aoe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{}class Gt extends t4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new koe(e,n,r):n==="array-contains"?new Noe(e,r):n==="in"?new xoe(e,r):n==="not-in"?new Doe(e,r):n==="array-contains-any"?new Loe(e,r):new Gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new boe(e,r):new Ooe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(fc(n,this.value)):n!==null&&gu(this.value)===gu(n)&&this.matchesComparison(fc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Li extends t4{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Li(e,n)}matches(e){return n4(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function n4(t){return t.op==="and"}function r4(t){return Poe(t)&&n4(t)}function Poe(t){for(const e of t.filters)if(e instanceof Li)return!1;return!0}function eT(t){if(t instanceof Gt)return t.field.canonicalString()+t.op.toString()+dc(t.value);if(r4(t))return t.filters.map(e=>eT(e)).join(",");{const e=t.filters.map(n=>eT(n)).join(",");return`${t.op}(${e})`}}function i4(t,e){return t instanceof Gt?function(r,i){return i instanceof Gt&&r.op===i.op&&r.field.isEqual(i.field)&&as(r.value,i.value)}(t,e):t instanceof Li?function(r,i){return i instanceof Li&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,u)=>s&&i4(o,i.filters[u]),!0):!1}(t,e):void Ie()}function s4(t){return t instanceof Gt?function(n){return`${n.field.canonicalString()} ${n.op} ${dc(n.value)}`}(t):t instanceof Li?function(n){return n.op.toString()+" {"+n.getFilters().map(s4).join(" ,")+"}"}(t):"Filter"}class koe extends Gt{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class boe extends Gt{constructor(e,n){super(e,"in",n),this.keys=o4("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Ooe extends Gt{constructor(e,n){super(e,"not-in",n),this.keys=o4("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function o4(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>_e.fromName(r.referenceValue))}class Noe extends Gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return TR(n)&&ud(n.arrayValue,this.value)}}class xoe extends Gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ud(this.value.arrayValue,n)}}class Doe extends Gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ud(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ud(this.value.arrayValue,n)}}class Loe extends Gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!TR(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ud(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Moe{constructor(e,n=null,r=[],i=[],s=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=u,this.he=null}}function aD(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Moe(t,e,n,r,i,s,o)}function IR(t){const e=ke(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>eT(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),yy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>dc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>dc(r)).join(",")),e.he=n}return e.he}function CR(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Aoe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!i4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!oD(t.startAt,e.startAt)&&oD(t.endAt,e.endAt)}function tT(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,n=null,r=[],i=[],s=null,o="F",u=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=u,this.endAt=l,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function Uoe(t,e,n,r,i,s,o,u){return new Yd(t,e,n,r,i,s,o,u)}function a4(t){return new Yd(t)}function uD(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function u4(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function RR(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function l4(t){return t.collectionGroup!==null}function Wl(t){const e=ke(t);if(e.Pe===null){e.Pe=[];const n=RR(e),r=u4(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new af(n)),e.Pe.push(new af($n.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new af($n.keyField(),s))}}}return e.Pe}function to(t){const e=ke(t);if(!e.Ie)if(e.limitType==="F")e.Ie=aD(e.path,e.collectionGroup,Wl(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Wl(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new af(s.field,o))}const r=e.endAt?new N_(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new N_(e.startAt.position,e.startAt.inclusive):null;e.Ie=aD(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.Ie}function nT(t,e){e.getFirstInequalityField(),RR(t);const n=t.filters.concat([e]);return new Yd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function rT(t,e,n){return new Yd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wy(t,e){return CR(to(t),to(e))&&t.limitType===e.limitType}function c4(t){return`${IR(to(t))}|lt:${t.limitType}`}function iT(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>s4(i)).join(", ")}]`),yy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>dc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>dc(i)).join(",")),`Target(${r})`}(to(t))}; limitType=${t.limitType})`}function Ey(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):_e.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Wl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,u,l){const h=sD(o,u,l);return o.inclusive?h<=0:h<0}(r.startAt,Wl(r),i)||r.endAt&&!function(o,u,l){const h=sD(o,u,l);return o.inclusive?h>=0:h>0}(r.endAt,Wl(r),i))}(t,e)}function Foe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function h4(t){return(e,n)=>{let r=!1;for(const i of Wl(t)){const s=$oe(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function $oe(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):function(s,o,u){const l=o.data.field(s),h=u.data.field(s);return l!==null&&h!==null?fc(l,h):Ie()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Dc(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return JV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Voe=new Nt(_e.comparator);function no(){return Voe}const f4=new Nt(_e.comparator);function $h(...t){let e=f4;for(const n of t)e=e.insert(n.key,n);return e}function d4(t){let e=f4;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function qa(){return uf()}function p4(){return uf()}function uf(){return new Lc(t=>t.toString(),(t,e)=>t.isEqual(e))}const Woe=new Nt(_e.comparator),joe=new jn(_e.comparator);function We(...t){let e=joe;for(const n of t)e=e.add(n);return e}const Boe=new jn(et);function zoe(){return Boe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:O_(e)?"-0":e}}function m4(t){return{integerValue:""+t}}function Hoe(t,e){return Toe(e)?m4(e):g4(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(){this._=void 0}}function qoe(t,e,n){return t instanceof x_?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ER(s)&&(s=SR(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ld?v4(t,e):t instanceof cd?y4(t,e):function(i,s){const o=_4(i,s),u=lD(o)+lD(i.Te);return ZS(o)&&ZS(i.Te)?m4(u):g4(i.serializer,u)}(t,e)}function Goe(t,e,n){return t instanceof ld?v4(t,e):t instanceof cd?y4(t,e):n}function _4(t,e){return t instanceof D_?function(r){return ZS(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class x_ extends Sy{}class ld extends Sy{constructor(e){super(),this.elements=e}}function v4(t,e){const n=w4(e);for(const r of t.elements)n.some(i=>as(i,r))||n.push(r);return{arrayValue:{values:n}}}class cd extends Sy{constructor(e){super(),this.elements=e}}function y4(t,e){let n=w4(e);for(const r of t.elements)n=n.filter(i=>!as(i,r));return{arrayValue:{values:n}}}class D_ extends Sy{constructor(e,n){super(),this.serializer=e,this.Te=n}}function lD(t){return Ht(t.integerValue||t.doubleValue)}function w4(t){return TR(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Yoe(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ld&&i instanceof ld||r instanceof cd&&i instanceof cd?hc(r.elements,i.elements,as):r instanceof D_&&i instanceof D_?as(r.Te,i.Te):r instanceof x_&&i instanceof x_}(t.transform,e.transform)}class Koe{constructor(e,n){this.version=e,this.transformResults=n}}class Bs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bs}static exists(e){return new Bs(void 0,e)}static updateTime(e){return new Bs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function om(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ty{}function E4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new T4(t.key,Bs.none()):new Kd(t.key,t.data,Bs.none());{const n=t.data,r=ti.empty();let i=new jn($n.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ku(t.key,r,new Ci(i.toArray()),Bs.none())}}function Qoe(t,e,n){t instanceof Kd?function(i,s,o){const u=i.value.clone(),l=hD(i.fieldTransforms,s,o.transformResults);u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):t instanceof ku?function(i,s,o){if(!om(i.precondition,s))return void s.convertToUnknownDocument(o.version);const u=hD(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(S4(i)),l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function lf(t,e,n,r){return t instanceof Kd?function(s,o,u,l){if(!om(s.precondition,o))return u;const h=s.value.clone(),d=fD(s.fieldTransforms,l,o);return h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof ku?function(s,o,u,l){if(!om(s.precondition,o))return u;const h=fD(s.fieldTransforms,l,o),d=o.data;return d.setAll(S4(s)),d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,u){return om(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u}(t,e,n)}function Xoe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=_4(r.transform,i||null);s!=null&&(n===null&&(n=ti.empty()),n.set(r.field,s))}return n||null}function cD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&hc(r,i,(s,o)=>Yoe(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Kd extends Ty{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ku extends Ty{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function S4(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function hD(t,e,n){const r=new Map;Et(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,u=e.data.field(s.field);r.set(s.field,Goe(o,u,n[i]))}return r}function fD(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,qoe(s,o,e))}return r}class T4 extends Ty{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Joe extends Ty{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zoe{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Qoe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=lf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=lf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=p4();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let u=this.applyToLocalView(o,s.mutatedFields);u=n.has(i.key)?null:u;const l=E4(o,u);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),We())}isEqual(e){return this.batchId===e.batchId&&hc(this.mutations,e.mutations,(n,r)=>cD(n,r))&&hc(this.baseMutations,e.baseMutations,(n,r)=>cD(n,r))}}class AR{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Et(e.mutations.length===r.length);let i=function(){return Woe}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new AR(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eae{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tae{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,ze;function nae(t){switch(t){default:return Ie();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function I4(t){if(t===void 0)return eo("GRPC error has no .code"),K.UNKNOWN;switch(t){case zt.OK:return K.OK;case zt.CANCELLED:return K.CANCELLED;case zt.UNKNOWN:return K.UNKNOWN;case zt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case zt.INTERNAL:return K.INTERNAL;case zt.UNAVAILABLE:return K.UNAVAILABLE;case zt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case zt.NOT_FOUND:return K.NOT_FOUND;case zt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case zt.ABORTED:return K.ABORTED;case zt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case zt.DATA_LOSS:return K.DATA_LOSS;default:return Ie()}}(ze=zt||(zt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Tg}static getOrCreateInstance(){return Tg===null&&(Tg=new PR),Tg}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Tg=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rae(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iae=new Vl([4294967295,4294967295],0);function dD(t){const e=rae().encode(t),n=new uoe;return n.update(e),new Uint8Array(n.digest())}function pD(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Vl([n,r],0),new Vl([i,s],0)]}class kR{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Vh(`Invalid padding: ${n}`);if(r<0)throw new Vh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Vh(`Invalid padding when bitmap length is 0: ${n}`);this.de=8*e.length-n,this.Ae=Vl.fromNumber(this.de)}Re(e,n,r){let i=e.add(n.multiply(Vl.fromNumber(r)));return i.compare(iae)===1&&(i=new Vl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ae).toNumber()}Ve(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.de===0)return!1;const n=dD(e),[r,i]=pD(n);for(let s=0;s<this.hashCount;s++){const o=this.Re(r,i,s);if(!this.Ve(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new kR(s,i,n);return r.forEach(u=>o.insert(u)),o}insert(e){if(this.de===0)return;const n=dD(e),[r,i]=pD(n);for(let s=0;s<this.hashCount;s++){const o=this.Re(r,i,s);this.me(o)}}me(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Vh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Qd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Iy(Ae.min(),i,new Nt(et),no(),We())}}class Qd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Qd(r,n,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,n,r,i){this.fe=e,this.removedTargetIds=n,this.key=r,this.ge=i}}class C4{constructor(e,n){this.targetId=e,this.pe=n}}class R4{constructor(e,n,r=qn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class gD{constructor(){this.ye=0,this.we=_D(),this.Se=qn.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}get current(){return this.be}get resumeToken(){return this.Se}get ve(){return this.ye!==0}get Ce(){return this.De}Fe(e){e.approximateByteSize()>0&&(this.De=!0,this.Se=e)}Me(){let e=We(),n=We(),r=We();return this.we.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ie()}}),new Qd(this.Se,this.be,e,n,r)}xe(){this.De=!1,this.we=_D()}Oe(e,n){this.De=!0,this.we=this.we.insert(e,n)}Ne(e){this.De=!0,this.we=this.we.remove(e)}Be(){this.ye+=1}Le(){this.ye-=1}ke(){this.De=!0,this.be=!0}}class sae{constructor(e){this.qe=e,this.Qe=new Map,this.Ke=no(),this.$e=mD(),this.Ue=new Nt(et)}We(e){for(const n of e.fe)e.ge&&e.ge.isFoundDocument()?this.Ge(n,e.ge):this.ze(n,e.key,e.ge);for(const n of e.removedTargetIds)this.ze(n,e.key,e.ge)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Fe(e.resumeToken);break;case 1:r.Le(),r.ve||r.xe(),r.Fe(e.resumeToken);break;case 2:r.Le(),r.ve||this.removeTarget(n);break;case 3:this.Je(n)&&(r.ke(),r.Fe(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Fe(e.resumeToken));break;default:Ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){var n,r;const i=e.targetId,s=e.pe.count,o=this.Xe(i);if(o){const u=o.target;if(tT(u))if(s===0){const l=new _e(u.path);this.ze(i,l,Fn.newNoDocument(l,Ae.min()))}else Et(s===1);else{const l=this.et(i);if(l!==s){const h=this.tt(e,l);if(h.status!==0){this.Ye(i);const d=h.status===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,d)}(n=PR.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(p,g,v,E){var C,R,S,T,k,b;const F={localCacheCount:v,existenceFilterCount:E.count},V=E.unchangedNames;return V&&(F.bloomFilter={applied:p===0,hashCount:(C=V==null?void 0:V.hashCount)!==null&&C!==void 0?C:0,bitmapLength:(T=(S=(R=V==null?void 0:V.bits)===null||R===void 0?void 0:R.bitmap)===null||S===void 0?void 0:S.length)!==null&&T!==void 0?T:0,padding:(b=(k=V==null?void 0:V.bits)===null||k===void 0?void 0:k.padding)!==null&&b!==void 0?b:0},g&&(F.bloomFilter.mightContain=g)),F}(h.status,(r=h.nt)!==null&&r!==void 0?r:null,l,e.pe))}}}}tt(e,n){const{unchangedNames:r,count:i}=e.pe;if(!r||!r.bits)return{status:1};const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=r;let l,h;try{l=pu(s).toUint8Array()}catch(p){if(p instanceof ZV)return cc("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw p}try{h=new kR(l,o,u)}catch(p){return cc(p instanceof Vh?"BloomFilter error: ":"Applying bloom filter failed: ",p),{status:1}}const d=p=>{const g=this.qe.rt();return h.mightContain(`projects/${g.projectId}/databases/${g.database}/documents/${p}`)};return h.de===0?{status:1}:{status:i===n-this.it(e.targetId,d)?0:2,nt:d}}it(e,n){const r=this.qe.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{n(s.path.canonicalString())||(this.ze(e,s,null),i++)}),i}st(e){const n=new Map;this.Qe.forEach((s,o)=>{const u=this.Xe(o);if(u){if(s.current&&tT(u.target)){const l=new _e(u.target.path);this.Ke.get(l)!==null||this.ot(o,l)||this.ze(o,l,Fn.newNoDocument(l,e))}s.Ce&&(n.set(o,s.Me()),s.xe())}});let r=We();this.$e.forEach((s,o)=>{let u=!0;o.forEachWhile(l=>{const h=this.Xe(l);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.Ke.forEach((s,o)=>o.setReadTime(e));const i=new Iy(e,n,this.Ue,this.Ke,r);return this.Ke=no(),this.$e=mD(),this.Ue=new Nt(et),i}Ge(e,n){if(!this.Je(e))return;const r=this.ot(e,n.key)?2:0;this.He(e).Oe(n.key,r),this.Ke=this.Ke.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ot(e,n)?i.Oe(n,1):i.Ne(n),this.$e=this.$e.insert(n,this._t(n).delete(e)),r&&(this.Ke=this.Ke.insert(n,r))}removeTarget(e){this.Qe.delete(e)}et(e){const n=this.He(e).Me();return this.qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Be(e){this.He(e).Be()}He(e){let n=this.Qe.get(e);return n||(n=new gD,this.Qe.set(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new jn(et),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.Qe.get(e);return n&&n.ve?null:this.qe.ut(e)}Ye(e){this.Qe.set(e,new gD),this.qe.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ot(e,n){return this.qe.getRemoteKeysForTarget(e).has(n)}}function mD(){return new Nt(_e.comparator)}function _D(){return new Nt(_e.comparator)}const oae=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),aae=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),uae=(()=>({and:"AND",or:"OR"}))();class lae{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sT(t,e){return t.useProto3Json||yy(e)?e:{value:e}}function L_(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function A4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function cae(t,e){return L_(t,e.toTimestamp())}function os(t){return Et(!!t),Ae.fromTimestamp(function(n){const r=fa(n);return new nn(r.seconds,r.nanos)}(t))}function bR(t,e){return function(r){return new yt(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function P4(t){const e=yt.fromString(t);return Et(N4(e)),e}function oT(t,e){return bR(t.databaseId,e.path)}function jE(t,e){const n=P4(e);if(n.get(1)!==t.databaseId.projectId)throw new de(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(k4(n))}function aT(t,e){return bR(t.databaseId,e)}function hae(t){const e=P4(t);return e.length===4?yt.emptyPath():k4(e)}function uT(t){return new yt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function k4(t){return Et(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function vD(t,e,n){return{name:oT(t,e),fields:n.value.mapValue.fields}}function fae(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,d){return h.useProto3Json?(Et(d===void 0||typeof d=="string"),qn.fromBase64String(d||"")):(Et(d===void 0||d instanceof Uint8Array),qn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&function(h){const d=h.code===void 0?K.UNKNOWN:I4(h.code);return new de(d,h.message||"")}(o);n=new R4(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=jE(t,r.document.name),s=os(r.document.updateTime),o=r.document.createTime?os(r.document.createTime):Ae.min(),u=new ti({mapValue:{fields:r.document.fields}}),l=Fn.newFoundDocument(i,s,o,u),h=r.targetIds||[],d=r.removedTargetIds||[];n=new am(h,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=jE(t,r.document),s=r.readTime?os(r.readTime):Ae.min(),o=Fn.newNoDocument(i,s),u=r.removedTargetIds||[];n=new am([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=jE(t,r.document),s=r.removedTargetIds||[];n=new am([],s,i,null)}else{if(!("filter"in e))return Ie();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new tae(i,s),u=r.targetId;n=new C4(u,o)}}return n}function dae(t,e){let n;if(e instanceof Kd)n={update:vD(t,e.key,e.value)};else if(e instanceof T4)n={delete:oT(t,e.key)};else if(e instanceof ku)n={update:vD(t,e.key,e.data),updateMask:Sae(e.fieldMask)};else{if(!(e instanceof Joe))return Ie();n={verify:oT(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const u=o.transform;if(u instanceof x_)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof ld)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof cd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof D_)return{fieldPath:o.field.canonicalString(),increment:u.Te};throw Ie()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:cae(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ie()}(t,e.precondition)),n}function pae(t,e){return t&&t.length>0?(Et(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?os(i.updateTime):os(s);return o.isEqual(Ae.min())&&(o=os(s)),new Koe(o,i.transformResults||[])}(n,e))):[]}function gae(t,e){return{documents:[aT(t,e.path)]}}function mae(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=aT(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=aT(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return O4(Li.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(h=>function(p){return{field:sl(p.field),direction:yae(p.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=sT(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function _ae(t){let e=hae(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Et(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(p){const g=b4(p);return g instanceof Li&&r4(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(g=>function(E){return new af(ol(E.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(g))}(n.orderBy));let u=null;n.limit&&(u=function(p){let g;return g=typeof p=="object"?p.value:p,yy(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(p){const g=!!p.before,v=p.values||[];return new N_(v,g)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const g=!p.before,v=p.values||[];return new N_(v,g)}(n.endAt)),Uoe(e,i,o,s,u,"F",l,h)}function vae(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function b4(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ol(n.unaryFilter.field);return Gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ol(n.unaryFilter.field);return Gt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ol(n.unaryFilter.field);return Gt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ol(n.unaryFilter.field);return Gt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(t):t.fieldFilter!==void 0?function(n){return Gt.create(ol(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Li.create(n.compositeFilter.filters.map(r=>b4(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ie()}}(n.compositeFilter.op))}(t):Ie()}function yae(t){return oae[t]}function wae(t){return aae[t]}function Eae(t){return uae[t]}function sl(t){return{fieldPath:t.canonicalString()}}function ol(t){return $n.fromServerFormat(t.fieldPath)}function O4(t){return t instanceof Gt?function(n){if(n.op==="=="){if(iD(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NAN"}};if(rD(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(iD(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NOT_NAN"}};if(rD(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sl(n.field),op:wae(n.op),value:n.value}}}(t):t instanceof Li?function(n){const r=n.getFilters().map(i=>O4(i));return r.length===1?r[0]:{compositeFilter:{op:Eae(n.op),filters:r}}}(t):Ie()}function Sae(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function N4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n,r,i,s=Ae.min(),o=Ae.min(),u=qn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=l}withSequenceNumber(e){return new xo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tae{constructor(e){this.ct=e}}function Iae(t){const e=_ae({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rT(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cae{constructor(){this.sn=new Rae}addToCollectionParentIndex(e,n){return this.sn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.sn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(ha.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(ha.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class Rae{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new jn(yt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new jn(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e){this.Mn=e}next(){return this.Mn+=2,this.Mn}static xn(){return new pc(0)}static On(){return new pc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aae{constructor(){this.changes=new Lc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pae{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kae{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&lf(r.mutation,i,Ci.empty(),nn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,We()).next(()=>r))}getLocalViewOfDocuments(e,n,r=We()){const i=qa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=$h();return s.forEach((u,l)=>{o=o.insert(u,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=qa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,We()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,u)=>{n.set(o,u)})})}computeViews(e,n,r,i){let s=no();const o=uf(),u=function(){return uf()}();return n.forEach((l,h)=>{const d=r.get(h.key);i.has(h.key)&&(d===void 0||d.mutation instanceof ku)?s=s.insert(h.key,h):d!==void 0?(o.set(h.key,d.mutation.getFieldMask()),lf(d.mutation,h,d.mutation.getFieldMask(),nn.now())):o.set(h.key,Ci.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((h,d)=>o.set(h,d)),n.forEach((h,d)=>{var p;return u.set(h,new Pae(d,(p=o.get(h))!==null&&p!==void 0?p:null))}),u))}recalculateAndSaveOverlays(e,n){const r=uf();let i=new Nt((o,u)=>o-u),s=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const u of o)u.keys().forEach(l=>{const h=n.get(l);if(h===null)return;let d=r.get(l)||Ci.empty();d=u.applyToLocalView(h,d),r.set(l,d);const p=(i.get(u.batchId)||We()).add(l);i=i.insert(u.batchId,p)})}).next(()=>{const o=[],u=i.getReverseIterator();for(;u.hasNext();){const l=u.getNext(),h=l.key,d=l.value,p=p4();d.forEach(g=>{if(!s.has(g)){const v=E4(n.get(g),r.get(g));v!==null&&p.set(g,v),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,p))}return te.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):l4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):te.resolve(qa());let u=-1,l=s;return o.next(h=>te.forEach(h,(d,p)=>(u<p.largestBatchId&&(u=p.largestBatchId),s.get(d)?te.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{l=l.insert(d,g)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,l,h,We())).next(d=>({batchId:u,changes:d4(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(r=>{let i=$h();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=$h();return this.indexManager.getCollectionParents(e,i).next(o=>te.forEach(o,u=>{const l=function(d,p){return new Yd(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(h=>{h.forEach((d,p)=>{s=s.insert(d,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((u,l)=>{const h=l.getKey();s.get(h)===null&&(s=s.insert(h,Fn.newInvalidDocument(h)))});let o=$h();return s.forEach((u,l)=>{const h=i.get(u);h!==void 0&&lf(h.mutation,l,Ci.empty(),nn.now()),Ey(n,l)&&(o=o.insert(u,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bae{constructor(e){this.serializer=e,this.ar=new Map,this.ur=new Map}getBundleMetadata(e,n){return te.resolve(this.ar.get(n))}saveBundleMetadata(e,n){return this.ar.set(n.id,function(i){return{id:i.id,version:i.version,createTime:os(i.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.ur.get(n))}saveNamedQuery(e,n){return this.ur.set(n.name,function(i){return{name:i.name,query:Iae(i.bundledQuery),readTime:os(i.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oae{constructor(){this.overlays=new Nt(_e.comparator),this.cr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=qa();return te.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),te.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.cr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.cr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const i=qa(),s=n.length+1,o=new _e(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const l=u.getNext().value,h=l.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return te.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Nt((h,d)=>h-d);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let d=s.get(h.largestBatchId);d===null&&(d=qa(),s=s.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const u=qa(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((h,d)=>u.set(h,d)),!(u.size()>=i)););return te.resolve(u)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.cr.get(i.largestBatchId).delete(r.key);this.cr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new eae(n,r));let s=this.cr.get(n);s===void 0&&(s=We(),this.cr.set(n,s)),this.cr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.lr=new jn(on.hr),this.Pr=new jn(on.Ir)}isEmpty(){return this.lr.isEmpty()}addReference(e,n){const r=new on(e,n);this.lr=this.lr.add(r),this.Pr=this.Pr.add(r)}Tr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Er(new on(e,n))}dr(e,n){e.forEach(r=>this.removeReference(r,n))}Ar(e){const n=new _e(new yt([])),r=new on(n,e),i=new on(n,e+1),s=[];return this.Pr.forEachInRange([r,i],o=>{this.Er(o),s.push(o.key)}),s}Rr(){this.lr.forEach(e=>this.Er(e))}Er(e){this.lr=this.lr.delete(e),this.Pr=this.Pr.delete(e)}Vr(e){const n=new _e(new yt([])),r=new on(n,e),i=new on(n,e+1);let s=We();return this.Pr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new on(e,0),r=this.lr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class on{constructor(e,n){this.key=e,this.mr=n}static hr(e,n){return _e.comparator(e.key,n.key)||et(e.mr,n.mr)}static Ir(e,n){return et(e.mr,n.mr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nae{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new jn(on.hr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Zoe(s,n,r,i);this.mutationQueue.push(o);for(const u of i)this.pr=this.pr.add(new on(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return te.resolve(o)}lookupMutationBatch(e,n){return te.resolve(this.yr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.wr(r),s=i<0?0:i;return te.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.gr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new on(n,0),i=new on(n,Number.POSITIVE_INFINITY),s=[];return this.pr.forEachInRange([r,i],o=>{const u=this.yr(o.mr);s.push(u)}),te.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new jn(et);return n.forEach(i=>{const s=new on(i,0),o=new on(i,Number.POSITIVE_INFINITY);this.pr.forEachInRange([s,o],u=>{r=r.add(u.mr)})}),te.resolve(this.Sr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;_e.isDocumentKey(s)||(s=s.child(""));const o=new on(new _e(s),0);let u=new jn(et);return this.pr.forEachWhile(l=>{const h=l.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(l.mr)),!0)},o),te.resolve(this.Sr(u))}Sr(e){const n=[];return e.forEach(r=>{const i=this.yr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Et(this.br(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.pr;return te.forEach(n.mutations,i=>{const s=new on(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.pr=r})}Cn(e){}containsKey(e,n){const r=new on(n,0),i=this.pr.firstAfterOrEqual(r);return te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}br(e,n){return this.wr(e)}wr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}yr(e){const n=this.wr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xae{constructor(e){this.Dr=e,this.docs=function(){return new Nt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Dr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():Fn.newInvalidDocument(n))}getEntries(e,n){let r=no();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Fn.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=no();const o=n.path,u=new _e(o.child("")),l=this.docs.getIteratorFrom(u);for(;l.hasNext();){const{key:h,value:{document:d}}=l.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||woe(yoe(d),r)<=0||(i.has(d.key)||Ey(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return te.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ie()}vr(e,n){return te.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Dae(this)}getSize(e){return te.resolve(this.size)}}class Dae extends Aae{constructor(e){super(),this.sr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.sr.addEntry(e,i)):this.sr.removeEntry(r)}),te.waitFor(n)}getFromCache(e,n){return this.sr.getEntry(e,n)}getAllFromCache(e,n){return this.sr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lae{constructor(e){this.persistence=e,this.Cr=new Lc(n=>IR(n),CR),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new OR,this.targetCount=0,this.Or=pc.xn()}forEachTarget(e,n){return this.Cr.forEach((r,i)=>n(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.Fr)}allocateTargetId(e){return this.highestTargetId=this.Or.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Fr&&(this.Fr=n),te.resolve()}Ln(e){this.Cr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Or=new pc(n),this.highestTargetId=n),e.sequenceNumber>this.Fr&&(this.Fr=e.sequenceNumber)}addTargetData(e,n){return this.Ln(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Ln(n),te.resolve()}removeTargetData(e,n){return this.Cr.delete(n.target),this.Mr.Ar(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Cr.forEach((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Cr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),te.waitFor(s).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.Cr.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this.Mr.Tr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this.Mr.dr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),te.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Mr.Ar(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Mr.Vr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this.Mr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mae{constructor(e,n){this.Nr={},this.overlays={},this.Br=new wR(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=e(this),this.kr=new Lae(this),this.indexManager=new Cae,this.remoteDocumentCache=function(i){return new xae(i)}(r=>this.referenceDelegate.qr(r)),this.serializer=new Tae(n),this.Qr=new bae(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Lr=!1,Promise.resolve()}get started(){return this.Lr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Oae,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Nr[e.toKey()];return r||(r=new Nae(n,this.referenceDelegate),this.Nr[e.toKey()]=r),r}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Qr}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const i=new Uae(this.Br.next());return this.referenceDelegate.Kr(),r(i).next(s=>this.referenceDelegate.$r(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ur(e,n){return te.or(Object.values(this.Nr).map(r=>()=>r.containsKey(e,n)))}}class Uae extends Soe{constructor(e){super(),this.currentSequenceNumber=e}}class NR{constructor(e){this.persistence=e,this.Wr=new OR,this.Gr=null}static zr(e){return new NR(e)}get jr(){if(this.Gr)return this.Gr;throw Ie()}addReference(e,n,r){return this.Wr.addReference(r,n),this.jr.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Wr.removeReference(r,n),this.jr.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.jr.add(n.toString()),te.resolve()}removeTarget(e,n){this.Wr.Ar(n.targetId).forEach(i=>this.jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Kr(){this.Gr=new Set}$r(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.jr,r=>{const i=_e.fromPath(r);return this.Hr(e,i).next(s=>{s||n.removeEntry(i,Ae.min())})}).next(()=>(this.Gr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hr(e,n).next(r=>{r?this.jr.delete(n.toString()):this.jr.add(n.toString())})}qr(e){return 0}Hr(e,n){return te.or([()=>te.resolve(this.Wr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ur(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Li=r,this.ki=i}static qi(e,n){let r=We(),i=We();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new xR(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fae{constructor(){this.Qi=!1}initialize(e,n){this.Ki=e,this.indexManager=n,this.Qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.$i(e,n).next(s=>s||this.Ui(e,n,i,r)).next(s=>s||this.Wi(e,n))}$i(e,n){if(uD(n))return te.resolve(null);let r=to(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=rT(n,null,"F"),r=to(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=We(...s);return this.Ki.getDocuments(e,o).next(u=>this.indexManager.getMinOffset(e,r).next(l=>{const h=this.Gi(n,u);return this.zi(n,h,o,l.readTime)?this.$i(e,rT(n,null,"F")):this.ji(e,h,n,l)}))})))}Ui(e,n,r,i){return uD(n)||i.isEqual(Ae.min())?this.Wi(e,n):this.Ki.getDocuments(e,r).next(s=>{const o=this.Gi(n,s);return this.zi(n,o,r,i)?this.Wi(e,n):(Jx()<=Ge.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),iT(n)),this.ji(e,o,n,voe(i,-1)))})}Gi(e,n){let r=new jn(h4(e));return n.forEach((i,s)=>{Ey(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Wi(e,n){return Jx()<=Ge.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",iT(n)),this.Ki.getDocumentsMatchingQuery(e,n,ha.min())}ji(e,n,r,i){return this.Ki.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ae{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Nt(et),this.Yi=new Lc(s=>IR(s),CR),this.Zi=new Map,this.Xi=e.getRemoteDocumentCache(),this.kr=e.getTargetCache(),this.Qr=e.getBundleCache(),this.es(r)}es(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kae(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function Vae(t,e,n,r){return new $ae(t,e,n,r)}async function x4(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.es(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],u=[];let l=We();for(const h of i){o.push(h.batchId);for(const d of h.mutations)l=l.add(d.key)}for(const h of s){u.push(h.batchId);for(const d of h.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(h=>({ts:h,removedBatchIds:o,addedBatchIds:u}))})})}function Wae(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Xi.newChangeBuffer({trackRemovals:!0});return function(u,l,h,d){const p=h.batch,g=p.keys();let v=te.resolve();return g.forEach(E=>{v=v.next(()=>d.getEntry(l,E)).next(C=>{const R=h.docVersions.get(E);Et(R!==null),C.version.compareTo(R)<0&&(p.applyToRemoteDocument(C,h),C.isValidDocument()&&(C.setReadTime(h.commitVersion),d.addEntry(C)))})}),v.next(()=>u.mutationQueue.removeMutationBatch(l,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let l=We();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(l=l.add(u.batch.mutations[h].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function D4(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.kr.getLastRemoteSnapshotVersion(n))}function jae(t,e){const n=ke(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const u=[];e.targetChanges.forEach((d,p)=>{const g=i.get(p);if(!g)return;u.push(n.kr.removeMatchingKeys(s,d.removedDocuments,p).next(()=>n.kr.addMatchingKeys(s,d.addedDocuments,p)));let v=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(qn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),i=i.insert(p,v),function(C,R,S){return C.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(g,v,d)&&u.push(n.kr.updateTargetData(s,v))});let l=no(),h=We();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),u.push(Bae(s,o,e.documentUpdates).next(d=>{l=d.ns,h=d.rs})),!r.isEqual(Ae.min())){const d=n.kr.getLastRemoteSnapshotVersion(s).next(p=>n.kr.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(d)}return te.waitFor(u).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,h)).next(()=>l)}).then(s=>(n.Ji=i,s))}function Bae(t,e,n){let r=We(),i=We();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=no();return n.forEach((u,l)=>{const h=s.get(u);l.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),l.isNoDocument()&&l.version.isEqual(Ae.min())?(e.removeEntry(u,l.readTime),o=o.insert(u,l)):!h.isValidDocument()||l.version.compareTo(h.version)>0||l.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(l),o=o.insert(u,l)):ge("LocalStore","Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",l.version)}),{ns:o,rs:i}})}function zae(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Hae(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.kr.getTargetData(r,e).next(s=>s?(i=s,te.resolve(i)):n.kr.allocateTargetId(r).next(o=>(i=new xo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function lT(t,e,n){const r=ke(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Gd(o))throw o;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function yD(t,e,n){const r=ke(t);let i=Ae.min(),s=We();return r.persistence.runTransaction("Execute query","readonly",o=>function(l,h,d){const p=ke(l),g=p.Yi.get(d);return g!==void 0?te.resolve(p.Ji.get(g)):p.kr.getTargetData(h,d)}(r,o,to(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.kr.getMatchingKeysForTargetId(o,u.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:Ae.min(),n?s:We())).next(u=>(qae(r,Foe(e),u),{documents:u,ss:s})))}function qae(t,e,n){let r=t.Zi.get(e)||Ae.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Zi.set(e,r)}class wD{constructor(){this.activeTargetIds=zoe()}hs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ps(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ls(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gae{constructor(){this.Hs=new wD,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hs.hs(e),this.Js[e]||"not-current"}updateQueryState(e,n,r){this.Js[e]=n}removeLocalQueryTarget(e){this.Hs.Ps(e)}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){delete this.Js[e]}getAllActiveQueryTargets(){return this.Hs.activeTargetIds}isActiveQueryTarget(e){return this.Hs.activeTargetIds.has(e)}start(){return this.Hs=new wD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yae{Ys(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this.Zs=()=>this.Xs(),this.eo=()=>this.no(),this.ro=[],this.io()}Ys(e){this.ro.push(e)}shutdown(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}Xs(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ro)e(0)}no(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ro)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ig=null;function BE(){return Ig===null?Ig=function(){return 268435456+Math.round(2147483648*Math.random())}():Ig++,"0x"+Ig.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kae={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qae{constructor(e){this.so=e.so,this.oo=e.oo}_o(e){this.ao=e}uo(e){this.co=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.so(e)}ho(){this.ao()}Po(e){this.co(e)}Io(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn="WebChannelConnection";class Xae extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http";this.To=r+"://"+n.host,this.Eo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get Ao(){return!1}Ro(n,r,i,s,o){const u=BE(),l=this.Vo(n,r);ge("RestConnection",`Sending RPC '${n}' ${u}:`,l,i);const h={};return this.mo(h,s,o),this.fo(n,l,h,i).then(d=>(ge("RestConnection",`Received RPC '${n}' ${u}: `,d),d),d=>{throw cc("RestConnection",`RPC '${n}' ${u} failed with error: `,d,"url: ",l,"request:",i),d})}po(n,r,i,s,o,u){return this.Ro(n,r,i,s,o)}mo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Vo(n,r){const i=Kae[n];return`${this.To}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}fo(e,n,r,i){const s=BE();return new Promise((o,u)=>{const l=new aoe;l.setWithCredentials(!0),l.listenOnce(ioe.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case WE.NO_ERROR:const d=l.getResponseJson();ge(xn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case WE.TIMEOUT:ge(xn,`RPC '${e}' ${s} timed out`),u(new de(K.DEADLINE_EXCEEDED,"Request time out"));break;case WE.HTTP_ERROR:const p=l.getStatus();if(ge(xn,`RPC '${e}' ${s} failed with status:`,p,"response text:",l.getResponseText()),p>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g==null?void 0:g.error;if(v&&v.status&&v.message){const E=function(R){const S=R.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(S)>=0?S:K.UNKNOWN}(v.status);u(new de(E,v.message))}else u(new de(K.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new de(K.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{ge(xn,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);ge(xn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}yo(e,n,r){const i=BE(),s=[this.To,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=noe(),u=roe(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(l.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(l.xmlHttpFactory=new ooe({})),this.mo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");ge(xn,`Creating RPC '${e}' stream ${i}: ${d}`,l);const p=o.createWebChannel(d,l);let g=!1,v=!1;const E=new Qae({so:R=>{v?ge(xn,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(g||(ge(xn,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),ge(xn,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},oo:()=>p.close()}),C=(R,S,T)=>{R.listen(S,k=>{try{T(k)}catch(b){setTimeout(()=>{throw b},0)}})};return C(p,wg.EventType.OPEN,()=>{v||ge(xn,`RPC '${e}' stream ${i} transport opened.`)}),C(p,wg.EventType.CLOSE,()=>{v||(v=!0,ge(xn,`RPC '${e}' stream ${i} transport closed`),E.Po())}),C(p,wg.EventType.ERROR,R=>{v||(v=!0,cc(xn,`RPC '${e}' stream ${i} transport errored:`,R),E.Po(new de(K.UNAVAILABLE,"The operation could not be completed")))}),C(p,wg.EventType.MESSAGE,R=>{var S;if(!v){const T=R.data[0];Et(!!T);const k=T,b=k.error||((S=k[0])===null||S===void 0?void 0:S.error);if(b){ge(xn,`RPC '${e}' stream ${i} received error:`,b);const F=b.status;let V=function(ie){const re=zt[ie];if(re!==void 0)return I4(re)}(F),W=b.message;V===void 0&&(V=K.INTERNAL,W="Unknown error status: "+F+" with message "+b.message),v=!0,E.Po(new de(V,W)),p.close()}else ge(xn,`RPC '${e}' stream ${i} received:`,T),E.Io(T)}}),C(u,soe.STAT_EVENT,R=>{R.stat===Qx.PROXY?ge(xn,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Qx.NOPROXY&&ge(xn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.ho()},0),E}}function zE(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(t){return new lae(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.wo=r,this.So=i,this.bo=s,this.Do=0,this.vo=null,this.Co=Date.now(),this.reset()}reset(){this.Do=0}Fo(){this.Do=this.bo}Mo(e){this.cancel();const n=Math.floor(this.Do+this.xo()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Do} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.vo=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.Do*=this.So,this.Do<this.wo&&(this.Do=this.wo),this.Do>this.bo&&(this.Do=this.bo)}Oo(){this.vo!==null&&(this.vo.skipDelay(),this.vo=null)}cancel(){this.vo!==null&&(this.vo.cancel(),this.vo=null)}xo(){return(Math.random()-.5)*this.Do}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,n,r,i,s,o,u,l){this.ii=e,this.No=r,this.Bo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=l,this.state=0,this.Lo=0,this.ko=null,this.qo=null,this.stream=null,this.Qo=new L4(e,n)}Ko(){return this.state===1||this.state===5||this.$o()}$o(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Uo()}async stop(){this.Ko()&&await this.close(0)}Wo(){this.state=0,this.Qo.reset()}Go(){this.$o()&&this.ko===null&&(this.ko=this.ii.enqueueAfterDelay(this.No,6e4,()=>this.zo()))}jo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.$o())return this.close(0)}Ho(){this.ko&&(this.ko.cancel(),this.ko=null)}Jo(){this.qo&&(this.qo.cancel(),this.qo=null)}async close(e,n){this.Ho(),this.Jo(),this.Qo.cancel(),this.Lo++,e!==4?this.Qo.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(eo(n.toString()),eo("Using maximum backoff delay to prevent overloading the backend."),this.Qo.Fo()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.uo(n)}Yo(){}auth(){this.state=1;const e=this.Zo(this.Lo),n=this.Lo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Lo===n&&this.Xo(r,i)},r=>{e(()=>{const i=new de(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.e_(i)})})}Xo(e,n){const r=this.Zo(this.Lo);this.stream=this.t_(e,n),this.stream._o(()=>{r(()=>(this.state=2,this.qo=this.ii.enqueueAfterDelay(this.Bo,1e4,()=>(this.$o()&&(this.state=3),Promise.resolve())),this.listener._o()))}),this.stream.uo(i=>{r(()=>this.e_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Uo(){this.state=5,this.Qo.Mo(async()=>{this.state=0,this.start()})}e_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Zo(e){return n=>{this.ii.enqueueAndForget(()=>this.Lo===e?n():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Jae extends M4{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}t_(e,n){return this.connection.yo("Listen",e,n)}onMessage(e){this.Qo.reset();const n=fae(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ae.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ae.min():o.readTime?os(o.readTime):Ae.min()}(e);return this.listener.n_(n,r)}r_(e){const n={};n.database=uT(this.serializer),n.addTarget=function(s,o){let u;const l=o.target;if(u=tT(l)?{documents:gae(s,l)}:{query:mae(s,l)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=A4(s,o.resumeToken);const h=sT(s,o.expectedCount);h!==null&&(u.expectedCount=h)}else if(o.snapshotVersion.compareTo(Ae.min())>0){u.readTime=L_(s,o.snapshotVersion.toTimestamp());const h=sT(s,o.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=vae(this.serializer,e);r&&(n.labels=r),this.jo(n)}i_(e){const n={};n.database=uT(this.serializer),n.removeTarget=e,this.jo(n)}}class Zae extends M4{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.s_=!1}get o_(){return this.s_}start(){this.s_=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.s_&&this.__([])}t_(e,n){return this.connection.yo("Write",e,n)}onMessage(e){if(Et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.s_){this.Qo.reset();const n=pae(e.writeResults,e.commitTime),r=os(e.commitTime);return this.listener.a_(r,n)}return Et(!e.writeResults||e.writeResults.length===0),this.s_=!0,this.listener.u_()}c_(){const e={};e.database=uT(this.serializer),this.jo(e)}__(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>dae(this.serializer,r))};this.jo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eue extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.l_=!1}h_(){if(this.l_)throw new de(K.FAILED_PRECONDITION,"The client has already been terminated.")}Ro(e,n,r){return this.h_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Ro(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new de(K.UNKNOWN,i.toString())})}po(e,n,r,i){return this.h_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.po(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new de(K.UNKNOWN,s.toString())})}terminate(){this.l_=!0}}class tue{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.I_=0,this.T_=null,this.E_=!0}d_(){this.I_===0&&(this.A_("Unknown"),this.T_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.T_=null,this.R_("Backend didn't respond within 10 seconds."),this.A_("Offline"),Promise.resolve())))}V_(e){this.state==="Online"?this.A_("Unknown"):(this.I_++,this.I_>=1&&(this.m_(),this.R_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.A_("Offline")))}set(e){this.m_(),this.I_=0,e==="Online"&&(this.E_=!1),this.A_(e)}A_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}R_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.E_?(eo(n),this.E_=!1):ge("OnlineStateTracker",n)}m_(){this.T_!==null&&(this.T_.cancel(),this.T_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nue{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.f_=[],this.g_=new Map,this.p_=new Set,this.y_=[],this.w_=s,this.w_.Ys(o=>{r.enqueueAndForget(async()=>{bu(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(l){const h=ke(l);h.p_.add(4),await Xd(h),h.S_.set("Unknown"),h.p_.delete(4),await Ry(h)}(this))})}),this.S_=new tue(r,i)}}async function Ry(t){if(bu(t))for(const e of t.y_)await e(!0)}async function Xd(t){for(const e of t.y_)await e(!1)}function U4(t,e){const n=ke(t);n.g_.has(e.targetId)||(n.g_.set(e.targetId,e),MR(n)?LR(n):Mc(n).$o()&&DR(n,e))}function F4(t,e){const n=ke(t),r=Mc(n);n.g_.delete(e),r.$o()&&$4(n,e),n.g_.size===0&&(r.$o()?r.Go():bu(n)&&n.S_.set("Unknown"))}function DR(t,e){if(t.b_.Be(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mc(t).r_(e)}function $4(t,e){t.b_.Be(e),Mc(t).i_(e)}function LR(t){t.b_=new sae({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.g_.get(e)||null,rt:()=>t.datastore.serializer.databaseId}),Mc(t).start(),t.S_.d_()}function MR(t){return bu(t)&&!Mc(t).Ko()&&t.g_.size>0}function bu(t){return ke(t).p_.size===0}function V4(t){t.b_=void 0}async function rue(t){t.g_.forEach((e,n)=>{DR(t,e)})}async function iue(t,e){V4(t),MR(t)?(t.S_.V_(e),LR(t)):t.S_.set("Unknown")}async function sue(t,e,n){if(t.S_.set("Online"),e instanceof R4&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const u of s.targetIds)i.g_.has(u)&&(await i.remoteSyncer.rejectListen(u,o),i.g_.delete(u),i.b_.removeTarget(u))}(t,e)}catch(r){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await M_(t,r)}else if(e instanceof am?t.b_.We(e):e instanceof C4?t.b_.Ze(e):t.b_.je(e),!n.isEqual(Ae.min()))try{const r=await D4(t.localStore);n.compareTo(r)>=0&&await function(s,o){const u=s.b_.st(o);return u.targetChanges.forEach((l,h)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.g_.get(h);d&&s.g_.set(h,d.withResumeToken(l.resumeToken,o))}}),u.targetMismatches.forEach((l,h)=>{const d=s.g_.get(l);if(!d)return;s.g_.set(l,d.withResumeToken(qn.EMPTY_BYTE_STRING,d.snapshotVersion)),$4(s,l);const p=new xo(d.target,l,h,d.sequenceNumber);DR(s,p)}),s.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){ge("RemoteStore","Failed to raise snapshot:",r),await M_(t,r)}}async function M_(t,e,n){if(!Gd(e))throw e;t.p_.add(1),await Xd(t),t.S_.set("Offline"),n||(n=()=>D4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await n(),t.p_.delete(1),await Ry(t)})}function W4(t,e){return e().catch(n=>M_(t,n,e))}async function Ay(t){const e=ke(t),n=da(e);let r=e.f_.length>0?e.f_[e.f_.length-1].batchId:-1;for(;oue(e);)try{const i=await zae(e.localStore,r);if(i===null){e.f_.length===0&&n.Go();break}r=i.batchId,aue(e,i)}catch(i){await M_(e,i)}j4(e)&&B4(e)}function oue(t){return bu(t)&&t.f_.length<10}function aue(t,e){t.f_.push(e);const n=da(t);n.$o()&&n.o_&&n.__(e.mutations)}function j4(t){return bu(t)&&!da(t).Ko()&&t.f_.length>0}function B4(t){da(t).start()}async function uue(t){da(t).c_()}async function lue(t){const e=da(t);for(const n of t.f_)e.__(n.mutations)}async function cue(t,e,n){const r=t.f_.shift(),i=AR.from(r,e,n);await W4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ay(t)}async function hue(t,e){e&&da(t).o_&&await async function(r,i){if(function(o){return nae(o)&&o!==K.ABORTED}(i.code)){const s=r.f_.shift();da(r).Wo(),await W4(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ay(r)}}(t,e),j4(t)&&B4(t)}async function SD(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const r=bu(n);n.p_.add(3),await Xd(n),r&&n.S_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.p_.delete(3),await Ry(n)}async function fue(t,e){const n=ke(t);e?(n.p_.delete(2),await Ry(n)):e||(n.p_.add(2),await Xd(n),n.S_.set("Unknown"))}function Mc(t){return t.D_||(t.D_=function(n,r,i){const s=ke(n);return s.h_(),new Jae(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{_o:rue.bind(null,t),uo:iue.bind(null,t),n_:sue.bind(null,t)}),t.y_.push(async e=>{e?(t.D_.Wo(),MR(t)?LR(t):t.S_.set("Unknown")):(await t.D_.stop(),V4(t))})),t.D_}function da(t){return t.v_||(t.v_=function(n,r,i){const s=ke(n);return s.h_(),new Zae(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{_o:uue.bind(null,t),uo:hue.bind(null,t),u_:lue.bind(null,t),a_:cue.bind(null,t)}),t.y_.push(async e=>{e?(t.v_.Wo(),await Ay(t)):(await t.v_.stop(),t.f_.length>0&&(ge("RemoteStore",`Stopping write stream with ${t.f_.length} pending writes`),t.f_=[]))})),t.v_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Jo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,u=new UR(e,n,o,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function FR(t,e){if(eo("AsyncQueue",`${e}: ${t}`),Gd(t))return new de(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=$h(),this.sortedSet=new Nt(this.comparator)}static emptySet(e){return new jl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof jl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new jl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this.C_=new Nt(_e.comparator)}track(e){const n=e.doc.key,r=this.C_.get(n);r?e.type!==0&&r.type===3?this.C_=this.C_.insert(n,e):e.type===3&&r.type!==1?this.C_=this.C_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.C_=this.C_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.C_=this.C_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.C_=this.C_.remove(n):e.type===1&&r.type===2?this.C_=this.C_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.C_=this.C_.insert(n,{type:2,doc:e.doc}):Ie():this.C_=this.C_.insert(n,e)}F_(){const e=[];return this.C_.inorderTraversal((n,r)=>{e.push(r)}),e}}class gc{constructor(e,n,r,i,s,o,u,l,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=l,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(u=>{o.push({type:0,doc:u})}),new gc(e,n,jl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class due{constructor(){this.M_=void 0,this.listeners=[]}}class pue{constructor(){this.queries=new Lc(e=>c4(e),wy),this.onlineState="Unknown",this.x_=new Set}}async function gue(t,e){const n=ke(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new due),i)try{s.M_=await n.onListen(r)}catch(o){const u=FR(o,`Initialization of query '${iT(e.query)}' failed`);return void e.onError(u)}n.queries.set(r,s),s.listeners.push(e),e.O_(n.onlineState),s.M_&&e.N_(s.M_)&&$R(n)}async function mue(t,e){const n=ke(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function _ue(t,e){const n=ke(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const u of o.listeners)u.N_(i)&&(r=!0);o.M_=i}}r&&$R(n)}function vue(t,e,n){const r=ke(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function $R(t){t.x_.forEach(e=>{e.next()})}class yue{constructor(e,n,r){this.query=e,this.B_=n,this.L_=!1,this.k_=null,this.onlineState="Unknown",this.options=r||{}}N_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new gc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.L_?this.q_(e)&&(this.B_.next(e),n=!0):this.Q_(e,this.onlineState)&&(this.K_(e),n=!0),this.k_=e,n}onError(e){this.B_.error(e)}O_(e){this.onlineState=e;let n=!1;return this.k_&&!this.L_&&this.Q_(this.k_,e)&&(this.K_(this.k_),n=!0),n}Q_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.U_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}q_(e){if(e.docChanges.length>0)return!0;const n=this.k_&&this.k_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}K_(e){e=gc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.L_=!0,this.B_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e){this.key=e}}class H4{constructor(e){this.key=e}}class wue{constructor(e,n){this.query=e,this.Z_=n,this.X_=null,this.hasCachedResults=!1,this.current=!1,this.ea=We(),this.mutatedKeys=We(),this.ta=h4(e),this.na=new jl(this.ta)}get ra(){return this.Z_}ia(e,n){const r=n?n.sa:new TD,i=n?n.na:this.na;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,u=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{const g=i.get(d),v=Ey(this.query,p)?p:null,E=!!g&&this.mutatedKeys.has(g.key),C=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let R=!1;g&&v?g.data.isEqual(v.data)?E!==C&&(r.track({type:3,doc:v}),R=!0):this.oa(g,v)||(r.track({type:2,doc:v}),R=!0,(l&&this.ta(v,l)>0||h&&this.ta(v,h)<0)&&(u=!0)):!g&&v?(r.track({type:0,doc:v}),R=!0):g&&!v&&(r.track({type:1,doc:g}),R=!0,(l||h)&&(u=!0)),R&&(v?(o=o.add(v),s=C?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{na:o,sa:r,zi:u,mutatedKeys:s}}oa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.na;this.na=e.na,this.mutatedKeys=e.mutatedKeys;const s=e.sa.F_();s.sort((h,d)=>function(g,v){const E=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return E(g)-E(v)}(h.type,d.type)||this.ta(h.doc,d.doc)),this._a(r);const o=n?this.aa():[],u=this.ea.size===0&&this.current?1:0,l=u!==this.X_;return this.X_=u,s.length!==0||l?{snapshot:new gc(this.query,e.na,i,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ua:o}:{ua:o}}O_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({na:this.na,sa:new TD,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ua:[]}}ca(e){return!this.Z_.has(e)&&!!this.na.has(e)&&!this.na.get(e).hasLocalMutations}_a(e){e&&(e.addedDocuments.forEach(n=>this.Z_=this.Z_.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Z_=this.Z_.delete(n)),this.current=e.current)}aa(){if(!this.current)return[];const e=this.ea;this.ea=We(),this.na.forEach(r=>{this.ca(r.key)&&(this.ea=this.ea.add(r.key))});const n=[];return e.forEach(r=>{this.ea.has(r)||n.push(new H4(r))}),this.ea.forEach(r=>{e.has(r)||n.push(new z4(r))}),n}la(e){this.Z_=e.ss,this.ea=We();const n=this.ia(e.documents);return this.applyChanges(n,!0)}ha(){return gc.fromInitialDocuments(this.query,this.na,this.mutatedKeys,this.X_===0,this.hasCachedResults)}}class Eue{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Sue{constructor(e){this.key=e,this.Pa=!1}}class Tue{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ia={},this.Ta=new Lc(u=>c4(u),wy),this.Ea=new Map,this.da=new Set,this.Aa=new Nt(_e.comparator),this.Ra=new Map,this.Va=new OR,this.ma={},this.fa=new Map,this.ga=pc.On(),this.onlineState="Unknown",this.pa=void 0}get isPrimaryClient(){return this.pa===!0}}async function Iue(t,e){const n=Due(t);let r,i;const s=n.Ta.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ha();else{const o=await Hae(n.localStore,to(e)),u=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await Cue(n,e,r,u==="current",o.resumeToken),n.isPrimaryClient&&U4(n.remoteStore,o)}return i}async function Cue(t,e,n,r,i){t.ya=(p,g,v)=>async function(C,R,S,T){let k=R.view.ia(S);k.zi&&(k=await yD(C.localStore,R.query,!1).then(({documents:V})=>R.view.ia(V,k)));const b=T&&T.targetChanges.get(R.targetId),F=R.view.applyChanges(k,C.isPrimaryClient,b);return CD(C,R.targetId,F.ua),F.snapshot}(t,p,g,v);const s=await yD(t.localStore,e,!0),o=new wue(e,s.ss),u=o.ia(s.documents),l=Qd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(u,t.isPrimaryClient,l);CD(t,n,h.ua);const d=new Eue(e,n,o);return t.Ta.set(e,d),t.Ea.has(n)?t.Ea.get(n).push(e):t.Ea.set(n,[e]),h.snapshot}async function Rue(t,e){const n=ke(t),r=n.Ta.get(e),i=n.Ea.get(r.targetId);if(i.length>1)return n.Ea.set(r.targetId,i.filter(s=>!wy(s,e))),void n.Ta.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await lT(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),F4(n.remoteStore,r.targetId),cT(n,r.targetId)}).catch(qd)):(cT(n,r.targetId),await lT(n.localStore,r.targetId,!0))}async function Aue(t,e,n){const r=Lue(t);try{const i=await function(o,u){const l=ke(o),h=nn.now(),d=u.reduce((v,E)=>v.add(E.key),We());let p,g;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let E=no(),C=We();return l.Xi.getEntries(v,d).next(R=>{E=R,E.forEach((S,T)=>{T.isValidDocument()||(C=C.add(S))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,E)).next(R=>{p=R;const S=[];for(const T of u){const k=Xoe(T,p.get(T.key).overlayedDocument);k!=null&&S.push(new ku(T.key,k,e4(k.value.mapValue),Bs.exists(!0)))}return l.mutationQueue.addMutationBatch(v,h,S,u)}).next(R=>{g=R;const S=R.applyToLocalDocumentSet(p,C);return l.documentOverlayCache.saveOverlays(v,R.batchId,S)})}).then(()=>({batchId:g.batchId,changes:d4(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,u,l){let h=o.ma[o.currentUser.toKey()];h||(h=new Nt(et)),h=h.insert(u,l),o.ma[o.currentUser.toKey()]=h}(r,i.batchId,n),await Jd(r,i.changes),await Ay(r.remoteStore)}catch(i){const s=FR(i,"Failed to persist write");n.reject(s)}}async function q4(t,e){const n=ke(t);try{const r=await jae(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ra.get(s);o&&(Et(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Pa=!0:i.modifiedDocuments.size>0?Et(o.Pa):i.removedDocuments.size>0&&(Et(o.Pa),o.Pa=!1))}),await Jd(n,r,e)}catch(r){await qd(r)}}function ID(t,e,n){const r=ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Ta.forEach((s,o)=>{const u=o.view.O_(e);u.snapshot&&i.push(u.snapshot)}),function(o,u){const l=ke(o);l.onlineState=u;let h=!1;l.queries.forEach((d,p)=>{for(const g of p.listeners)g.O_(u)&&(h=!0)}),h&&$R(l)}(r.eventManager,e),i.length&&r.Ia.n_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Pue(t,e,n){const r=ke(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ra.get(e),s=i&&i.key;if(s){let o=new Nt(_e.comparator);o=o.insert(s,Fn.newNoDocument(s,Ae.min()));const u=We().add(s),l=new Iy(Ae.min(),new Map,new Nt(et),o,u);await q4(r,l),r.Aa=r.Aa.remove(s),r.Ra.delete(e),VR(r)}else await lT(r.localStore,e,!1).then(()=>cT(r,e,n)).catch(qd)}async function kue(t,e){const n=ke(t),r=e.batch.batchId;try{const i=await Wae(n.localStore,e);Y4(n,r,null),G4(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Jd(n,i)}catch(i){await qd(i)}}async function bue(t,e,n){const r=ke(t);try{const i=await function(o,u){const l=ke(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return l.mutationQueue.lookupMutationBatch(h,u).next(p=>(Et(p!==null),d=p.keys(),l.mutationQueue.removeMutationBatch(h,p))).next(()=>l.mutationQueue.performConsistencyCheck(h)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(h,d,u)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>l.localDocuments.getDocuments(h,d))})}(r.localStore,e);Y4(r,e,n),G4(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Jd(r,i)}catch(i){await qd(i)}}function G4(t,e){(t.fa.get(e)||[]).forEach(n=>{n.resolve()}),t.fa.delete(e)}function Y4(t,e,n){const r=ke(t);let i=r.ma[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ma[r.currentUser.toKey()]=i}}function cT(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ea.get(e))t.Ta.delete(r),n&&t.Ia.wa(r,n);t.Ea.delete(e),t.isPrimaryClient&&t.Va.Ar(e).forEach(r=>{t.Va.containsKey(r)||K4(t,r)})}function K4(t,e){t.da.delete(e.path.canonicalString());const n=t.Aa.get(e);n!==null&&(F4(t.remoteStore,n),t.Aa=t.Aa.remove(e),t.Ra.delete(n),VR(t))}function CD(t,e,n){for(const r of n)r instanceof z4?(t.Va.addReference(r.key,e),Oue(t,r)):r instanceof H4?(ge("SyncEngine","Document no longer in limbo: "+r.key),t.Va.removeReference(r.key,e),t.Va.containsKey(r.key)||K4(t,r.key)):Ie()}function Oue(t,e){const n=e.key,r=n.path.canonicalString();t.Aa.get(n)||t.da.has(r)||(ge("SyncEngine","New document in limbo: "+n),t.da.add(r),VR(t))}function VR(t){for(;t.da.size>0&&t.Aa.size<t.maxConcurrentLimboResolutions;){const e=t.da.values().next().value;t.da.delete(e);const n=new _e(yt.fromString(e)),r=t.ga.next();t.Ra.set(r,new Sue(n)),t.Aa=t.Aa.insert(n,r),U4(t.remoteStore,new xo(to(a4(n.path)),r,"TargetPurposeLimboResolution",wR.ae))}}async function Jd(t,e,n){const r=ke(t),i=[],s=[],o=[];r.Ta.isEmpty()||(r.Ta.forEach((u,l)=>{o.push(r.ya(l,e,n).then(h=>{if((h||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,h!=null&&h.fromCache?"not-current":"current"),h){i.push(h);const d=xR.qi(l.targetId,h);s.push(d)}}))}),await Promise.all(o),r.Ia.n_(i),await async function(l,h){const d=ke(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>te.forEach(h,g=>te.forEach(g.Li,v=>d.persistence.referenceDelegate.addReference(p,g.targetId,v)).next(()=>te.forEach(g.ki,v=>d.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))}catch(p){if(!Gd(p))throw p;ge("LocalStore","Failed to update sequence numbers: "+p)}for(const p of h){const g=p.targetId;if(!p.fromCache){const v=d.Ji.get(g),E=v.snapshotVersion,C=v.withLastLimboFreeSnapshotVersion(E);d.Ji=d.Ji.insert(g,C)}}}(r.localStore,s))}async function Nue(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const r=await x4(n.localStore,e);n.currentUser=e,function(s,o){s.fa.forEach(u=>{u.forEach(l=>{l.reject(new de(K.CANCELLED,o))})}),s.fa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Jd(n,r.ts)}}function xue(t,e){const n=ke(t),r=n.Ra.get(e);if(r&&r.Pa)return We().add(r.key);{let i=We();const s=n.Ea.get(e);if(!s)return i;for(const o of s){const u=n.Ta.get(o);i=i.unionWith(u.view.ra)}return i}}function Due(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=q4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xue.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Pue.bind(null,e),e.Ia.n_=_ue.bind(null,e.eventManager),e.Ia.wa=vue.bind(null,e.eventManager),e}function Lue(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kue.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bue.bind(null,e),e}class RD{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Cy(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Vae(this.persistence,new Fae,e.initialUser,this.serializer)}createPersistence(e){return new Mae(NR.zr,this.serializer)}createSharedClientState(e){return new Gae}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Mue{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ID(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Nue.bind(null,this.syncEngine),await fue(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new pue}()}createDatastore(e){const n=Cy(e.databaseInfo.databaseId),r=function(s){return new Xae(s)}(e.databaseInfo);return function(s,o,u,l){return new eue(s,o,u,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,u){return new nue(r,i,s,o,u)}(this.localStore,this.datastore,e.asyncQueue,n=>ID(this.syncEngine,n,0),function(){return ED.v()?new ED:new Yae}())}createSyncEngine(e,n){return function(i,s,o,u,l,h,d){const p=new Tue(i,s,o,u,l,h);return d&&(p.pa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ke(n);ge("RemoteStore","RemoteStore shutting down."),r.p_.add(5),await Xd(r),r.w_.shutdown(),r.S_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uue{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Da(this.observer.next,e)}error(e){this.observer.error?this.Da(this.observer.error,e):eo("Uncaught Error in snapshot listener:",e.toString())}va(){this.muted=!0}Da(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fue{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Mn.UNAUTHENTICATED,this.clientId=XV.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ge("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ge("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new de(K.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=FR(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function HE(t,e){t.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await x4(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function AD(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Vue(t);ge("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>SD(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>SD(e.remoteStore,s)),t._onlineComponents=e}function $ue(t){return t.name==="FirebaseError"?t.code===K.FAILED_PRECONDITION||t.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Vue(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await HE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!$ue(n))throw n;cc("Error using user provided cache. Falling back to memory cache: "+n),await HE(t,new RD)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await HE(t,new RD);return t._offlineComponents}async function Q4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await AD(t,t._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await AD(t,new Mue))),t._onlineComponents}function Wue(t){return Q4(t).then(e=>e.syncEngine)}async function jue(t){const e=await Q4(t),n=e.eventManager;return n.onListen=Iue.bind(null,e.syncEngine),n.onUnlisten=Rue.bind(null,e.syncEngine),n}function Bue(t,e,n={}){const r=new Jo;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,u,l,h){const d=new Uue({next:g=>{o.enqueueAndForget(()=>mue(s,p)),g.fromCache&&l.source==="server"?h.reject(new de(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),p=new yue(u,d,{includeMetadataChanges:!0,U_:!0});return gue(s,p)}(await jue(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(t,e,n){if(!n)throw new de(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function zue(t,e,n,r){if(e===!0&&r===!0)throw new de(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kD(t){if(!_e.isDocumentKey(t))throw new de(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bD(t){if(_e.isDocumentKey(t))throw new de(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Py(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie()}function hd(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Py(t);throw new de(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new de(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zue("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=X4((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new de(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new de(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new de(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ky{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OD({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new de(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new de(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OD(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new loe;switch(r.type){case"firstParty":return new doe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=PD.get(n);r&&(ge("ComponentProvider","Removing Datastore"),PD.delete(n),r.terminate())}(this),Promise.resolve()}}function Hue(t,e,n,r={}){var i;const s=(t=hd(t,ky))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&cc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let u,l;if(typeof r.mockUserToken=="string")u=r.mockUserToken,l=Mn.MOCK_USER;else{u=iC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new de(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Mn(h)}t._authCredentials=new coe(new QV(u,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Uc(this.firestore,e,this._query)}}class xr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xr(this.firestore,e,this._key)}}class Zo extends Uc{constructor(e,n,r){super(e,n,a4(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xr(this.firestore,null,new _e(e))}withConverter(e){return new Zo(this.firestore,e,this._path)}}function que(t,e,...n){if(t=ct(t),J4("collection","path",e),t instanceof ky){const r=yt.fromString(e,...n);return bD(r),new Zo(t,null,r)}{if(!(t instanceof xr||t instanceof Zo))throw new de(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yt.fromString(e,...n));return bD(r),new Zo(t.firestore,null,r)}}function Gue(t,e,...n){if(t=ct(t),arguments.length===1&&(e=XV.V()),J4("doc","path",e),t instanceof ky){const r=yt.fromString(e,...n);return kD(r),new xr(t,null,new _e(r))}{if(!(t instanceof xr||t instanceof Zo))throw new de(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yt.fromString(e,...n));return kD(r),new xr(t.firestore,t instanceof Zo?t.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yue{constructor(){this.Ua=Promise.resolve(),this.Wa=[],this.Ga=!1,this.za=[],this.ja=null,this.Ha=!1,this.Ja=!1,this.Ya=[],this.Qo=new L4(this,"async_queue_retry"),this.Za=()=>{const n=zE();n&&ge("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Qo.Oo()};const e=zE();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Za)}get isShuttingDown(){return this.Ga}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xa(),this.eu(e)}enterRestrictedMode(e){if(!this.Ga){this.Ga=!0,this.Ja=e||!1;const n=zE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Za)}}enqueue(e){if(this.Xa(),this.Ga)return new Promise(()=>{});const n=new Jo;return this.eu(()=>this.Ga&&this.Ja?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Wa.push(e),this.tu()))}async tu(){if(this.Wa.length!==0){try{await this.Wa[0](),this.Wa.shift(),this.Qo.reset()}catch(e){if(!Gd(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.Wa.length>0&&this.Qo.Mo(()=>this.tu())}}eu(e){const n=this.Ua.then(()=>(this.Ha=!0,e().catch(r=>{this.ja=r,this.Ha=!1;const i=function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),u}(r);throw eo("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ha=!1,r))));return this.Ua=n,n}enqueueAfterDelay(e,n,r){this.Xa(),this.Ya.indexOf(e)>-1&&(n=0);const i=UR.createAndSchedule(this,e,n,r,s=>this.nu(s));return this.za.push(i),i}Xa(){this.ja&&Ie()}verifyOperationInProgress(){}async ru(){let e;do e=this.Ua,await e;while(e!==this.Ua)}iu(e){for(const n of this.za)if(n.timerId===e)return!0;return!1}su(e){return this.ru().then(()=>{this.za.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.za)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ru()})}ou(e){this.Ya.push(e)}nu(e){const n=this.za.indexOf(e);this.za.splice(n,1)}}class WR extends ky{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Yue}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||e3(this),this._firestoreClient.terminate()}}function Kue(t,e){const n=typeof t=="object"?t:Bv(),r=typeof t=="string"?t:e||"(default)",i=Rd(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=rC("firestore");s&&Hue(i,...s)}return i}function Z4(t){return t._firestoreClient||e3(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function e3(t){var e,n,r;const i=t._freezeSettings(),s=function(u,l,h,d){return new Coe(u,l,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,X4(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Fue(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mc(qn.fromBase64String(e))}catch(n){throw new de(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new mc(qn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Que=/^__.*__$/;class Xue{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ku(e,this.data,this.fieldMask,n,this.fieldTransforms):new Kd(e,this.data,n,this.fieldTransforms)}}function n3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class zR{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this._u(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get au(){return this.settings.au}uu(e){return new zR(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.uu({path:r,lu:!1});return i.hu(e),i}Pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.uu({path:r,lu:!1});return i._u(),i}Iu(e){return this.uu({path:void 0,lu:!0})}Tu(e){return U_(e,this.settings.methodName,this.settings.Eu||!1,this.path,this.settings.du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_u(){if(this.path)for(let e=0;e<this.path.length;e++)this.hu(this.path.get(e))}hu(e){if(e.length===0)throw this.Tu("Document fields must not be empty");if(n3(this.au)&&Que.test(e))throw this.Tu('Document fields cannot begin and end with "__"')}}class Jue{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Cy(e)}Au(e,n,r,i=!1){return new zR({au:e,methodName:n,du:r,path:$n.emptyPath(),lu:!1,Eu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function r3(t){const e=t._freezeSettings(),n=Cy(t._databaseId);return new Jue(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Zue(t,e,n,r,i,s={}){const o=t.Au(s.merge||s.mergeFields?2:0,e,n,i);o3("Data must be an object, but it was:",o,r);const u=i3(r,o);let l,h;if(s.merge)l=new Ci(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const p of s.mergeFields){const g=tle(e,p,n);if(!o.contains(g))throw new de(K.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);rle(d,g)||d.push(g)}l=new Ci(d),h=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,h=o.fieldTransforms;return new Xue(new ti(u),l,h)}function ele(t,e,n,r=!1){return HR(n,t.Au(r?4:3,e))}function HR(t,e){if(s3(t=ct(t)))return o3("Unsupported field value:",e,t),i3(t,e);if(t instanceof t3)return function(r,i){if(!n3(i.au))throw i.Tu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.lu&&e.au!==4)throw e.Tu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const u of r){let l=HR(u,i.Iu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Hoe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=nn.fromDate(r);return{timestampValue:L_(i.serializer,s)}}if(r instanceof nn){const s=new nn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:L_(i.serializer,s)}}if(r instanceof BR)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof mc)return{bytesValue:A4(i.serializer,r._byteString)};if(r instanceof xr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Tu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:bR(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Tu(`Unsupported field value: ${Py(r)}`)}(t,e)}function i3(t,e){const n={};return JV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Dc(t,(r,i)=>{const s=HR(i,e.cu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function s3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nn||t instanceof BR||t instanceof mc||t instanceof xr||t instanceof t3)}function o3(t,e,n){if(!s3(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Py(n);throw r==="an object"?e.Tu(t+" a custom object"):e.Tu(t+" "+r)}}function tle(t,e,n){if((e=ct(e))instanceof jR)return e._internalPath;if(typeof e=="string")return a3(t,e);throw U_("Field path arguments must be of type string or ",t,!1,void 0,n)}const nle=new RegExp("[~\\*/\\[\\]]");function a3(t,e,n){if(e.search(nle)>=0)throw U_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new jR(...e.split("."))._internalPath}catch{throw U_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function U_(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new de(K.INVALID_ARGUMENT,u+t+l)}function rle(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new xr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ile(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ile extends u3{data(){return super.data()}}function qR(t,e){return typeof e=="string"?a3(t,e):e instanceof jR?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sle(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class GR{}class ole extends GR{}function ale(t,e,...n){let r=[];e instanceof GR&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof YR).length,u=s.filter(l=>l instanceof by).length;if(o>1||o>0&&u>0)throw new de(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class by extends ole{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new by(e,n,r)}_apply(e){const n=this._parse(e);return l3(e._query,n),new Uc(e.firestore,e.converter,nT(e._query,n))}_parse(e){const n=r3(e.firestore);return function(s,o,u,l,h,d,p){let g;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new de(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){DD(p,d);const v=[];for(const E of p)v.push(xD(l,s,E));g={arrayValue:{values:v}}}else g=xD(l,s,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||DD(p,d),g=ele(u,o,p,d==="in"||d==="not-in");return Gt.create(h,d,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ND(t,e,n){const r=e,i=qR("where",t);return by._create(i,r,n)}class YR extends GR{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new YR(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Li.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const u=s.getFlattenedFilters();for(const l of u)l3(o,l),o=nT(o,l)}(e._query,n),new Uc(e.firestore,e.converter,nT(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function xD(t,e,n){if(typeof(n=ct(n))=="string"){if(n==="")throw new de(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!l4(e)&&n.indexOf("/")!==-1)throw new de(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(yt.fromString(n));if(!_e.isDocumentKey(r))throw new de(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return nD(t,new _e(r))}if(n instanceof xr)return nD(t,n._key);throw new de(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Py(n)}.`)}function DD(t,e){if(!Array.isArray(t)||t.length===0)throw new de(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function l3(t,e){if(e.isInequality()){const r=RR(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new de(K.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=u4(t);s!==null&&ule(t,i,s)}const n=function(i,s){for(const o of i)for(const u of o.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new de(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function ule(t,e,n){if(!n.isEqual(e))throw new de(K.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class lle{convertValue(e,n="none"){switch(gu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Dc(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new BR(Ht(e.latitude),Ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=SR(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(od(e));default:return null}}convertTimestamp(e){const n=fa(e);return new nn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=yt.fromString(e);Et(N4(r));const i=new ad(r.get(1),r.get(3)),s=new _e(r.popFirst(5));return i.isEqual(n)||eo(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cle(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hle extends u3{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new um(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(qR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class um extends hle{data(e={}){return super.data(e)}}class fle{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Cg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new um(this._firestore,this._userDataWriter,r.key,r,new Cg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>{const l=new um(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Cg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const l=new um(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Cg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,d=-1;return u.type!==0&&(h=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),d=o.indexOf(u.doc.key)),{type:dle(u.type),doc:l,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function dle(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}class ple extends lle{constructor(e){super(),this.firestore=e}convertBytes(e){return new mc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xr(this.firestore,null,n)}}function gle(t){t=hd(t,Uc);const e=hd(t.firestore,WR),n=Z4(e),r=new ple(e);return sle(t._query),Bue(n,t._query).then(i=>new fle(e,r,t,i))}function mle(t,e,n){t=hd(t,xr);const r=hd(t.firestore,WR),i=cle(t.converter,e,n);return _le(r,[Zue(r3(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Bs.none())])}function _le(t,e){return function(r,i){const s=new Jo;return r.asyncQueue.enqueueAndForget(async()=>Aue(await Wue(r),i,s)),s.promise}(Z4(t),e)}(function(e,n=!0){(function(i){xc=i})(va),aa(new Qs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),u=new WR(new hoe(r.getProvider("auth-internal")),new goe(r.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new de(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ad(h.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),si(Xx,"4.0.0",e),si(Xx,"4.0.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3="firebasestorage.googleapis.com",h3="storageBucket",vle=2*60*1e3,yle=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t extends ls{constructor(e,n,r=0){super(qE(e),`Firebase Storage: ${n} (${qE(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return qE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ft;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ft||(Ft={}));function qE(t){return"storage/"+t}function KR(){const t="An unknown error occurred, please check the error payload for server response.";return new $t(Ft.UNKNOWN,t)}function wle(t){return new $t(Ft.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Ele(t){return new $t(Ft.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Sle(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new $t(Ft.UNAUTHENTICATED,t)}function Tle(){return new $t(Ft.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Ile(t){return new $t(Ft.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Cle(){return new $t(Ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Rle(){return new $t(Ft.CANCELED,"User canceled the upload/download.")}function Ale(t){return new $t(Ft.INVALID_URL,"Invalid URL '"+t+"'.")}function Ple(t){return new $t(Ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function kle(){return new $t(Ft.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+h3+"' property when initializing the app?")}function ble(){return new $t(Ft.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ole(){return new $t(Ft.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Nle(t){return new $t(Ft.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function hT(t){return new $t(Ft.INVALID_ARGUMENT,t)}function f3(){return new $t(Ft.APP_DELETED,"The Firebase app was deleted.")}function xle(t){return new $t(Ft.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cf(t,e){return new $t(Ft.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ih(t){throw new $t(Ft.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ir.makeFromUrl(e,n)}catch{return new ir(e,"")}if(r.path==="")return r;throw Ple(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const o="(/(.*))?$",u=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function h(b){b.path_=decodeURIComponent(b.path)}const d="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",v=new RegExp(`^https?://${p}/${d}/b/${i}/o${g}`,"i"),E={bucket:1,path:3},C=n===c3?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",S=new RegExp(`^https?://${C}/${i}/${R}`,"i"),k=[{regex:u,indices:l,postModify:s},{regex:v,indices:E,postModify:h},{regex:S,indices:{bucket:1,path:2},postModify:h}];for(let b=0;b<k.length;b++){const F=k[b],V=F.regex.exec(e);if(V){const W=V[F.indices.bucket];let G=V[F.indices.path];G||(G=""),r=new ir(W,G),F.postModify(r);break}}if(r==null)throw Ale(e);return r}}class Dle{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lle(t,e,n){let r=1,i=null,s=null,o=!1,u=0;function l(){return u===2}let h=!1;function d(...R){h||(h=!0,e.apply(null,R))}function p(R){i=setTimeout(()=>{i=null,t(v,l())},R)}function g(){s&&clearTimeout(s)}function v(R,...S){if(h){g();return}if(R){g(),d.call(null,R,...S);return}if(l()||o){g(),d.call(null,R,...S);return}r<64&&(r*=2);let k;u===1?(u=2,k=0):k=(r+Math.random())*1e3,p(k)}let E=!1;function C(R){E||(E=!0,g(),!h&&(i!==null?(R||(u=2),clearTimeout(i),p(0)):R||(u=1)))}return p(0),s=setTimeout(()=>{o=!0,C(!0)},n),C}function Mle(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ule(t){return t!==void 0}function Fle(t){return typeof t=="object"&&!Array.isArray(t)}function QR(t){return typeof t=="string"||t instanceof String}function LD(t){return XR()&&t instanceof Blob}function XR(){return typeof Blob<"u"&&!yJ()}function fT(t,e,n,r){if(r<e)throw hT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw hT(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function d3(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Za;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Za||(Za={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $le(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vle{constructor(e,n,r,i,s,o,u,l,h,d,p,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=l,this.timeout_=h,this.progressCallback_=d,this.connectionFactory_=p,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,E)=>{this.resolve_=v,this.reject_=E,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Rg(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=u=>{const l=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,h)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const u=s.getErrorCode()===Za.NO_ERROR,l=s.getStatus();if(!u||$le(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===Za.ABORT;r(!1,new Rg(!1,null,d));return}const h=this.successCodes_.indexOf(l)!==-1;r(!0,new Rg(h,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(u,u.getResponse());Ule(l)?s(l):s()}catch(l){o(l)}else if(u!==null){const l=KR();l.serverResponse=u.getErrorText(),this.errorCallback_?o(this.errorCallback_(u,l)):o(l)}else if(i.canceled){const l=this.appDelete_?f3():Rle();o(l)}else{const l=Cle();o(l)}};this.canceled_?n(!1,new Rg(!1,null,!0)):this.backoffId_=Lle(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Mle(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Rg{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Wle(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function jle(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Ble(t,e){e&&(t["X-Firebase-GMPID"]=e)}function zle(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Hle(t,e,n,r,i,s,o=!0){const u=d3(t.urlParams),l=t.url+u,h=Object.assign({},t.headers);return Ble(h,e),Wle(h,n),jle(h,s),zle(h,r),new Vle(l,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qle(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Gle(...t){const e=qle();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(XR())return new Blob(t);throw new $t(Ft.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Yle(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kle(t){if(typeof atob>"u")throw Nle("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class GE{constructor(e,n){this.data=e,this.contentType=n||null}}function Qle(t,e){switch(t){case Zi.RAW:return new GE(p3(e));case Zi.BASE64:case Zi.BASE64URL:return new GE(g3(t,e));case Zi.DATA_URL:return new GE(Jle(e),Zle(e))}throw KR()}function p3(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Xle(t){let e;try{e=decodeURIComponent(t)}catch{throw cf(Zi.DATA_URL,"Malformed data URL.")}return p3(e)}function g3(t,e){switch(t){case Zi.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw cf(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Zi.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw cf(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Kle(e)}catch(i){throw i.message.includes("polyfill")?i:cf(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class m3{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw cf(Zi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=ece(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Jle(t){const e=new m3(t);return e.base64?g3(Zi.BASE64,e.rest):Xle(e.rest)}function Zle(t){return new m3(t).contentType}function ece(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,n){let r=0,i="";LD(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(LD(this.data_)){const r=this.data_,i=Yle(r,e,n);return i===null?null:new Po(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Po(r,!0)}}static getBlob(...e){if(XR()){const n=e.map(r=>r instanceof Po?r.data_:r);return new Po(Gle.apply(null,n))}else{const n=e.map(o=>QR(o)?Qle(Zi.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let u=0;u<o.length;u++)i[s++]=o[u]}),new Po(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(t){let e;try{e=JSON.parse(t)}catch{return null}return Fle(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tce(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function nce(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function _3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rce(t,e){return e}class Jn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||rce}}let Ag=null;function ice(t){return!QR(t)||t.length<2?t:_3(t)}function v3(){if(Ag)return Ag;const t=[];t.push(new Jn("bucket")),t.push(new Jn("generation")),t.push(new Jn("metageneration")),t.push(new Jn("name","fullPath",!0));function e(s,o){return ice(o)}const n=new Jn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Jn("size");return i.xform=r,t.push(i),t.push(new Jn("timeCreated")),t.push(new Jn("updated")),t.push(new Jn("md5Hash",null,!0)),t.push(new Jn("cacheControl",null,!0)),t.push(new Jn("contentDisposition",null,!0)),t.push(new Jn("contentEncoding",null,!0)),t.push(new Jn("contentLanguage",null,!0)),t.push(new Jn("contentType",null,!0)),t.push(new Jn("metadata","customMetadata",!0)),Ag=t,Ag}function sce(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new ir(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function oce(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return sce(r,t),r}function y3(t,e,n){const r=JR(e);return r===null?null:oce(t,r,n)}function ace(t,e,n,r){const i=JR(e);if(i===null||!QR(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(h=>{const d=t.bucket,p=t.fullPath,g="/b/"+o(d)+"/o/"+o(p),v=Zd(g,n,r),E=d3({alt:"media",token:h});return v+E})[0]}function uce(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD="prefixes",UD="items";function lce(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[MD])for(const i of n[MD]){const s=i.replace(/\/$/,""),o=t._makeStorageReference(new ir(e,s));r.prefixes.push(o)}if(n[UD])for(const i of n[UD]){const s=t._makeStorageReference(new ir(e,i.name));r.items.push(s)}return r}function cce(t,e,n){const r=JR(n);return r===null?null:lce(t,e,r)}class Oy{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(t){if(!t)throw KR()}function hce(t,e){function n(r,i){const s=y3(t,i,e);return ZR(s!==null),s}return n}function fce(t,e){function n(r,i){const s=cce(t,e,i);return ZR(s!==null),s}return n}function dce(t,e){function n(r,i){const s=y3(t,i,e);return ZR(s!==null),ace(s,i,t.host,t._protocol)}return n}function eA(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Tle():i=Sle():n.getStatus()===402?i=Ele(t.bucket):n.getStatus()===403?i=Ile(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function w3(t){const e=eA(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=wle(t.path)),s.serverResponse=i.serverResponse,s}return n}function pce(t,e,n,r,i){const s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=e.bucketOnlyServerUrl(),u=Zd(o,t.host,t._protocol),l="GET",h=t.maxOperationRetryTime,d=new Oy(u,l,fce(t,e.bucket),h);return d.urlParams=s,d.errorHandler=eA(e),d}function gce(t,e,n){const r=e.fullServerUrl(),i=Zd(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,u=new Oy(i,s,dce(t,n),o);return u.errorHandler=w3(e),u}function mce(t,e){const n=e.fullServerUrl(),r=Zd(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,h){}const u=new Oy(r,i,o,s);return u.successCodes=[200,204],u.errorHandler=w3(e),u}function _ce(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function vce(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=_ce(null,e)),r}function yce(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function u(){let k="";for(let b=0;b<2;b++)k=k+Math.random().toString().slice(2);return k}const l=u();o["Content-Type"]="multipart/related; boundary="+l;const h=vce(e,r,i),d=uce(h,n),p="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+h.contentType+`\r
\r
`,g=`\r
--`+l+"--",v=Po.getBlob(p,r,g);if(v===null)throw ble();const E={name:h.fullPath},C=Zd(s,t.host,t._protocol),R="POST",S=t.maxUploadRetryTime,T=new Oy(C,R,hce(t,n),S);return T.urlParams=E,T.headers=o,T.body=v.uploadData(),T.errorHandler=eA(e),T}class wce{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Za.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Za.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Za.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Ih("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ih("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ih("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ih("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ih("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Ece extends wce{initXhr(){this.xhr_.responseType="text"}}function Ny(){return new Ece}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n){this._service=e,n instanceof ir?this._location=n:this._location=ir.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new mu(e,n)}get root(){const e=new ir(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _3(this._location.path)}get storage(){return this._service}get parent(){const e=tce(this._location.path);if(e===null)return null;const n=new ir(this._location.bucket,e);return new mu(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw xle(e)}}function Sce(t,e,n){t._throwIfRoot("uploadBytes");const r=yce(t.storage,t._location,v3(),new Po(e,!0),n);return t.storage.makeRequestWithTokens(r,Ny).then(i=>({metadata:i,ref:t}))}function Tce(t){const e={prefixes:[],items:[]};return E3(t,e).then(()=>e)}async function E3(t,e,n){const i=await Ice(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await E3(t,e,i.nextPageToken)}function Ice(t,e){e!=null&&typeof e.maxResults=="number"&&fT("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=pce(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Ny)}function Cce(t){t._throwIfRoot("getDownloadURL");const e=gce(t.storage,t._location,v3());return t.storage.makeRequestWithTokens(e,Ny).then(n=>{if(n===null)throw Ole();return n})}function Rce(t){t._throwIfRoot("deleteObject");const e=mce(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Ny)}function Ace(t,e){const n=nce(t._location.path,e),r=new ir(t._location.bucket,n);return new mu(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pce(t){return/^[A-Za-z]+:\/\//.test(t)}function kce(t,e){return new mu(t,e)}function S3(t,e){if(t instanceof tA){const n=t;if(n._bucket==null)throw kle();const r=new mu(n,n._bucket);return e!=null?S3(r,e):r}else return e!==void 0?Ace(t,e):t}function bce(t,e){if(e&&Pce(e)){if(t instanceof tA)return kce(t,e);throw hT("To use ref(service, url), the first argument must be a Storage instance.")}else return S3(t,e)}function FD(t,e){const n=e==null?void 0:e[h3];return n==null?null:ir.makeFromBucketSpec(n,t)}function Oce(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:iC(i,t.app.options.projectId))}class tA{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=c3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vle,this._maxUploadRetryTime=yle,this._requests=new Set,i!=null?this._bucket=ir.makeFromBucketSpec(i,this._host):this._bucket=FD(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ir.makeFromBucketSpec(this._url,e):this._bucket=FD(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new mu(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Dle(f3());{const o=Hle(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const $D="@firebase/storage",VD="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3="storage";function I3(t,e,n){return t=ct(t),Sce(t,e,n)}function Nce(t){return t=ct(t),Tce(t)}function C3(t){return t=ct(t),Cce(t)}function xce(t){return t=ct(t),Rce(t)}function nA(t,e){return t=ct(t),bce(t,e)}function Dce(t=Bv(),e){t=ct(t);const r=Rd(t,T3).getImmediate({identifier:e}),i=rC("storage");return i&&Lce(r,...i),r}function Lce(t,e,n,r={}){Oce(t,e,n,r)}function Mce(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new tA(n,r,i,e,va)}function Uce(){aa(new Qs(T3,Mce,"PUBLIC").setMultipleInstances(!0)),si($D,VD,""),si($D,VD,"esm2017")}Uce();let Pg;const Fce=new Uint8Array(16);function $ce(){if(!Pg&&(Pg=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Pg))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Pg(Fce)}const gn=[];for(let t=0;t<256;++t)gn.push((t+256).toString(16).slice(1));function Vce(t,e=0){return(gn[t[e+0]]+gn[t[e+1]]+gn[t[e+2]]+gn[t[e+3]]+"-"+gn[t[e+4]]+gn[t[e+5]]+"-"+gn[t[e+6]]+gn[t[e+7]]+"-"+gn[t[e+8]]+gn[t[e+9]]+"-"+gn[t[e+10]]+gn[t[e+11]]+gn[t[e+12]]+gn[t[e+13]]+gn[t[e+14]]+gn[t[e+15]]).toLowerCase()}const Wce=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),WD={randomUUID:Wce};function jce(t,e,n){if(WD.randomUUID&&!e&&!t)return WD.randomUUID();t=t||{};const r=t.random||(t.rng||$ce)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return Vce(r)}var Bce={apiKey:"AIzaSyAS70hZZxcHz-tNpYJtP0t3-f5vKPKa_xc",authDomain:"react-chat-app-5d058.firebaseapp.com",projectId:"react-chat-app-5d058",storageBucket:"react-chat-app-5d058.appspot.com",messagingSenderId:"464613708419",appId:"1:464613708419:web:a616818e812b956df041b6"},R3=function(e){return e.split("/").join(".").split("-").join("_")},pt;(function(t){t.Avatars="avatars",t.Attachments="attachments",t.Chats="chats",t.Users="users",t.UserChats="user_chats",t.Messages="messages"})(pt||(pt={}));function _c(t){return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function zce(t,e,n){return e=Hce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hce(t){var e=qce(t,"string");return _c(e)==="symbol"?e:String(e)}function qce(t,e){if(_c(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_c(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ar(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ar=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(I,_,w){I[_]=w.value},i=typeof Symbol=="function"?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(I,_,w){return Object.defineProperty(I,_,{value:w,enumerable:!0,configurable:!0,writable:!0}),I[_]}try{l({},"")}catch{l=function(w,N,D){return w[N]=D}}function h(I,_,w,N){var D=_&&_.prototype instanceof g?_:g,O=Object.create(D.prototype),M=new ie(N||[]);return r(O,"_invoke",{value:F(I,w,M)}),O}function d(I,_,w){try{return{type:"normal",arg:I.call(_,w)}}catch(N){return{type:"throw",arg:N}}}t.wrap=h;var p={};function g(){}function v(){}function E(){}var C={};l(C,s,function(){return this});var R=Object.getPrototypeOf,S=R&&R(R(re([])));S&&S!==e&&n.call(S,s)&&(C=S);var T=E.prototype=g.prototype=Object.create(C);function k(I){["next","throw","return"].forEach(function(_){l(I,_,function(w){return this._invoke(_,w)})})}function b(I,_){function w(D,O,M,B){var H=d(I[D],I,O);if(H.type!=="throw"){var ue=H.arg,fe=ue.value;return fe&&_c(fe)=="object"&&n.call(fe,"__await")?_.resolve(fe.__await).then(function(Se){w("next",Se,M,B)},function(Se){w("throw",Se,M,B)}):_.resolve(fe).then(function(Se){ue.value=Se,M(ue)},function(Se){return w("throw",Se,M,B)})}B(H.arg)}var N;r(this,"_invoke",{value:function(O,M){function B(){return new _(function(H,ue){w(O,M,H,ue)})}return N=N?N.then(B,B):B()}})}function F(I,_,w){var N="suspendedStart";return function(D,O){if(N==="executing")throw new Error("Generator is already running");if(N==="completed"){if(D==="throw")throw O;return Ne()}for(w.method=D,w.arg=O;;){var M=w.delegate;if(M){var B=V(M,w);if(B){if(B===p)continue;return B}}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(N==="suspendedStart")throw N="completed",w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);N="executing";var H=d(I,_,w);if(H.type==="normal"){if(N=w.done?"completed":"suspendedYield",H.arg===p)continue;return{value:H.arg,done:w.done}}H.type==="throw"&&(N="completed",w.method="throw",w.arg=H.arg)}}}function V(I,_){var w=_.method,N=I.iterator[w];if(N===void 0)return _.delegate=null,w==="throw"&&I.iterator.return&&(_.method="return",_.arg=void 0,V(I,_),_.method==="throw")||w!=="return"&&(_.method="throw",_.arg=new TypeError("The iterator does not provide a '"+w+"' method")),p;var D=d(N,I.iterator,_.arg);if(D.type==="throw")return _.method="throw",_.arg=D.arg,_.delegate=null,p;var O=D.arg;return O?O.done?(_[I.resultName]=O.value,_.next=I.nextLoc,_.method!=="return"&&(_.method="next",_.arg=void 0),_.delegate=null,p):O:(_.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,p)}function W(I){var _={tryLoc:I[0]};1 in I&&(_.catchLoc=I[1]),2 in I&&(_.finallyLoc=I[2],_.afterLoc=I[3]),this.tryEntries.push(_)}function G(I){var _=I.completion||{};_.type="normal",delete _.arg,I.completion=_}function ie(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(W,this),this.reset(!0)}function re(I){if(I){var _=I[s];if(_)return _.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var w=-1,N=function D(){for(;++w<I.length;)if(n.call(I,w))return D.value=I[w],D.done=!1,D;return D.value=void 0,D.done=!0,D};return N.next=N}}return{next:Ne}}function Ne(){return{value:void 0,done:!0}}return v.prototype=E,r(T,"constructor",{value:E,configurable:!0}),r(E,"constructor",{value:v,configurable:!0}),v.displayName=l(E,u,"GeneratorFunction"),t.isGeneratorFunction=function(I){var _=typeof I=="function"&&I.constructor;return!!_&&(_===v||(_.displayName||_.name)==="GeneratorFunction")},t.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,E):(I.__proto__=E,l(I,u,"GeneratorFunction")),I.prototype=Object.create(T),I},t.awrap=function(I){return{__await:I}},k(b.prototype),l(b.prototype,o,function(){return this}),t.AsyncIterator=b,t.async=function(I,_,w,N,D){D===void 0&&(D=Promise);var O=new b(h(I,_,w,N),D);return t.isGeneratorFunction(_)?O:O.next().then(function(M){return M.done?M.value:O.next()})},k(T),l(T,u,"Generator"),l(T,s,function(){return this}),l(T,"toString",function(){return"[object Generator]"}),t.keys=function(I){var _=Object(I),w=[];for(var N in _)w.push(N);return w.reverse(),function D(){for(;w.length;){var O=w.pop();if(O in _)return D.value=O,D.done=!1,D}return D.done=!0,D}},t.values=re,ie.prototype={constructor:ie,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(G),!_)for(var w in this)w.charAt(0)==="t"&&n.call(this,w)&&!isNaN(+w.slice(1))&&(this[w]=void 0)},stop:function(){this.done=!0;var _=this.tryEntries[0].completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var w=this;function N(ue,fe){return M.type="throw",M.arg=_,w.next=ue,fe&&(w.method="next",w.arg=void 0),!!fe}for(var D=this.tryEntries.length-1;D>=0;--D){var O=this.tryEntries[D],M=O.completion;if(O.tryLoc==="root")return N("end");if(O.tryLoc<=this.prev){var B=n.call(O,"catchLoc"),H=n.call(O,"finallyLoc");if(B&&H){if(this.prev<O.catchLoc)return N(O.catchLoc,!0);if(this.prev<O.finallyLoc)return N(O.finallyLoc)}else if(B){if(this.prev<O.catchLoc)return N(O.catchLoc,!0)}else{if(!H)throw new Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return N(O.finallyLoc)}}}},abrupt:function(_,w){for(var N=this.tryEntries.length-1;N>=0;--N){var D=this.tryEntries[N];if(D.tryLoc<=this.prev&&n.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var O=D;break}}O&&(_==="break"||_==="continue")&&O.tryLoc<=w&&w<=O.finallyLoc&&(O=null);var M=O?O.completion:{};return M.type=_,M.arg=w,O?(this.method="next",this.next=O.finallyLoc,p):this.complete(M)},complete:function(_,w){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&w&&(this.next=w),p},finish:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.finallyLoc===_)return this.complete(N.completion,N.afterLoc),G(N),p}},catch:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.tryLoc===_){var D=N.completion;if(D.type==="throw"){var O=D.arg;G(N)}return O}}throw new Error("illegal catch attempt")},delegateYield:function(_,w,N){return this.delegate={iterator:re(_),resultName:w,nextLoc:N},this.method==="next"&&(this.arg=void 0),p}},t}function jD(t,e,n,r,i,s,o){try{var u=t[s](o),l=u.value}catch(h){n(h);return}u.done?e(l):Promise.resolve(l).then(r,i)}function Ou(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(l){jD(s,r,i,o,u,"next",l)}function u(l){jD(s,r,i,o,u,"throw",l)}o(void 0)})}}KU(Bce);var bs=qte(),rA=Dce(),A3=Kue(),tr=QC(),ea=function(){var e;return(e=bs.currentUser)===null||e===void 0?void 0:e.uid},Gce=function(){var t=Ou(ar().mark(function e(n){var r,i,s,o,u,l,h;return ar().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return r=n.avatar,i=n.email,s=n.nickname,o=n.password,u={user:null,error:null},l="",p.prev=3,p.next=6,bee(bs,i,o);case 6:u.user=p.sent.user,p.next=12;break;case 9:p.prev=9,p.t0=p.catch(3),u.error=R3(p.t0.code);case 12:if(!(!u.error&&u.user)){p.next=28;break}if(h=nA(rA,"".concat(pt.Avatars,"/").concat(i)),!r){p.next=24;break}return p.next=17,I3(h,r);case 17:return p.next=19,C3(h);case 19:return l=p.sent,p.next=22,GN(u.user,{displayName:s,photoURL:l});case 22:p.next=26;break;case 24:return p.next=26,GN(u.user,{displayName:s});case 26:return p.next=28,mle(Gue(A3,pt.Users,u.user.uid),{uid:u.user.uid,nickname:s,email:i,avatarUrl:l});case 28:return p.abrupt("return",u);case 29:case"end":return p.stop()}},e,null,[[3,9]])}));return function(n){return t.apply(this,arguments)}}(),Yce=function(){var t=Ou(ar().mark(function e(n){var r,i,s;return ar().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return r=n.email,i=n.password,s={user:null,error:null},u.prev=2,u.next=5,Oee(bs,r,i);case 5:s.user=u.sent.user,u.next=11;break;case 8:u.prev=8,u.t0=u.catch(2),s.error=R3(u.t0.code);case 11:return u.abrupt("return",s);case 12:case"end":return u.stop()}},e,null,[[2,8]])}));return function(n){return t.apply(this,arguments)}}(),Kce=function(){var t=Ou(ar().mark(function e(n){var r,i,s,o;return ar().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return r={users:[],error:null},i=[],s=ale(que(A3,pt.Users),ND("nickname",">=",n),ND("nickname","<","".concat(n,""))),l.prev=3,l.next=6,gle(s);case 6:o=l.sent,o.forEach(function(h){i.push(h.data())}),l.next=13;break;case 10:l.prev=10,l.t0=l.catch(3),r.error="firestoreSearchUser";case 13:return r.users=i,l.abrupt("return",r);case 15:case"end":return l.stop()}},e,null,[[3,10]])}));return function(n){return t.apply(this,arguments)}}(),Qce=function(){var t=Ou(ar().mark(function e(n){var r,i,s,o,u,l,h,d;return ar().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return i={chat:null,error:null},s=(r=ea())!==null&&r!==void 0?r:"",o=s>n.uid?s+n.uid:n.uid+s,g.prev=3,g.next=6,Qf(xi(En(tr),"".concat(pt.Chats,"/").concat(o)));case 6:if(l=g.sent,!(!l.exists()&&bs.currentUser)){g.next=14;break}return g.next=10,rf(En(tr,"".concat(pt.Chats,"/").concat(o)),{createdAt:Fl()});case 10:return g.next=12,rf(En(tr,"".concat(pt.UserChats,"/").concat(s,"/").concat(o)),{interlocutorInfo:{avatarUrl:n.avatarUrl,nickname:n.nickname,uid:n.uid},lastUpdate:Fl(),chatUid:o});case 12:return g.next=14,rf(En(tr,"".concat(pt.UserChats,"/").concat(n.uid,"/").concat(o)),{interlocutorInfo:{avatarUrl:(h=bs.currentUser.photoURL)!==null&&h!==void 0?h:"",nickname:(d=bs.currentUser.displayName)!==null&&d!==void 0?d:"",uid:bs.currentUser.uid},lastUpdate:Fl(),chatUid:o});case 14:return g.next=16,Qf(xi(En(tr),"".concat(pt.UserChats,"/").concat((u=bs.currentUser)===null||u===void 0?void 0:u.uid,"/").concat(o)));case 16:i.chat=g.sent.val(),g.next=22;break;case 19:g.prev=19,g.t0=g.catch(3),i.error="firebaseGetUserChat";case 22:return g.abrupt("return",i);case 23:case"end":return g.stop()}},e,null,[[3,19]])}));return function(n){return t.apply(this,arguments)}}(),Xce=function(){var t=Ou(ar().mark(function e(n,r,i){var s,o,u,l,h,d;return ar().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(s=En(tr,"".concat(pt.Chats,"/").concat(r,"/").concat(pt.Messages)),o=zie(s),u="",l=jce(),!i){g.next=11;break}return h=nA(rA,"".concat(pt.Attachments,"/").concat(r,"/").concat(l)),g.next=8,I3(h,i);case 8:return g.next=10,C3(h);case 10:u=g.sent;case 11:return rf(o,{text:n,senderId:ea(),id:l,createdAt:Fl(),imgUrl:u}),g.next=14,Qf(xi(En(tr),"".concat(pt.UserChats,"/").concat(ea(),"/").concat(r)));case 14:return d=g.sent.val(),g.next=17,Ul(En(tr,"".concat(pt.UserChats,"/").concat(ea(),"/").concat(r)),{lastUpdate:Fl(),lastMessage:n||u&&"[ attachment ]"});case 17:return g.next=19,Ul(En(tr,"".concat(pt.UserChats,"/").concat(d.interlocutorInfo.uid,"/").concat(r)),{lastUpdate:Fl(),lastMessage:n||u&&"[ attachment ]"});case 19:case"end":return g.stop()}},e)}));return function(n,r,i){return t.apply(this,arguments)}}(),Jce=function(){var t=Ou(ar().mark(function e(n){var r,i,s,o;return ar().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Qf(xi(En(tr),"".concat(pt.Chats,"/").concat(n)));case 2:if(r=l.sent,!(r.exists()&&bs.currentUser)){l.next=18;break}return l.next=6,Ul(En(tr,"".concat(pt.Chats,"/").concat(n)),{messages:null});case 6:return l.next=8,Qf(xi(En(tr),"".concat(pt.UserChats,"/").concat(ea(),"/").concat(n)));case 8:return i=l.sent.val(),l.next=11,Ul(En(tr,"".concat(pt.UserChats,"/").concat(ea(),"/").concat(n)),{lastUpdate:"",lastMessage:""});case 11:return l.next=13,Ul(En(tr,"".concat(pt.UserChats,"/").concat(i.interlocutorInfo.uid,"/").concat(n)),{lastUpdate:"",lastMessage:""});case 13:return s=nA(rA,"".concat(pt.Attachments,"/").concat(n)),l.next=16,Nce(s);case 16:o=l.sent,o.items.map(function(h){return xce(h)});case 18:case"end":return l.stop()}},e)}));return function(n){return t.apply(this,arguments)}}(),Zce=function(){var t=Ou(ar().mark(function e(n,r){return ar().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Ul(En(tr),zce({},"".concat(pt.UserChats,"/").concat(ea(),"/").concat(n,"/interlocutorInfo/alias"),r));case 2:case"end":return s.stop()}},e)}));return function(n,r){return t.apply(this,arguments)}}(),ehe={getCurrentUser:ea,registerUser:Gce,loginUser:Yce,searchUser:Kce,getUserChat:Qce,sendMessage:Xce,clearChatHistory:Jce,setUserAlias:Zce};bU.create({baseURL:"https://dummyjson.com/auth/login",timeout:1e4,headers:{"Content-Type":"application/json"}});var _u={firebase:ehe};const the="GCX",nhe="eAv",BD={container:the,menu:nhe};var rhe=function(){var e=wr(function(o){return o.user}),n=e.chat,r=Tu(),i=function(){if(n){var u=prompt("Enter the user's alias. To remove an alias, leave the line empty.");u!==null&&(_u.firebase.setUserAlias(n.chatUid,u),r(He.actions.getInterlocutor(n.interlocutorInfo)))}},s=function(){n&&(_u.firebase.clearChatHistory(n.chatUid),r(He.actions.getInterlocutor(n.interlocutorInfo)))};return Qe("div",{className:BD.container,children:[Z(Lv.Options,{}),Qe("div",{className:BD.menu,children:[Z("button",{onClick:i,children:"Rename"}),Z("button",{onClick:s,children:"Clear history"})]})]})};const ihe="AXt",she={container:ihe};function ohe(t,e){return che(t)||lhe(t,e)||uhe(t,e)||ahe()}function ahe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uhe(t,e){if(t){if(typeof t=="string")return zD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zD(t,e)}}function zD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,u=[],l=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(d){h=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function che(t){if(Array.isArray(t))return t}var hhe=function(){var e=X.useState([]),n=ohe(e,2),r=n[0],i=n[1],s=wr(function(d){return d.user}),o=s.chat,u=s.user,l=wr(function(d){return d.cache}),h=l.isChatOpened;return NI(function(){var d=En(QC(),"".concat(pt.UserChats,"/").concat(u==null?void 0:u.uid)),p=G$(d,function(g){if(g.val()){var v=Object.values(g.val());i(v.sort(function(E,C){return+C.lastUpdate-+E.lastUpdate}))}});return function(){p()}}),Z("div",{className:she.container,children:Ws.map(r,function(d){return Z(ome,{chatInfo:d,isActive:d.chatUid===(o==null?void 0:o.chatUid)&&h},d.chatUid)})})};const fhe="zyS",dhe="_4EF",HD={container:fhe,sendContainer:dhe};function qD(t,e){return _he(t)||mhe(t,e)||ghe(t,e)||phe()}function phe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ghe(t,e){if(t){if(typeof t=="string")return GD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GD(t,e)}}function GD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,u=[],l=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(d){h=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function _he(t){if(Array.isArray(t))return t}var vhe=function(){var e=X.useState(""),n=qD(e,2),r=n[0],i=n[1],s=X.useState(""),o=qD(s,2),u=o[0],l=o[1],h=X.useRef(null),d=wr(function(C){return C.user}),p=d.chat,g=function(R){if(R==null||R.preventDefault(),h.current){var S=h.current.files&&h.current.files[0];(u||S)&&p&&(_u.firebase.sendMessage(u,p.chatUid,S),l(""),i(""),h.current.value="")}},v=function(R){if(R.target.files){var S=R.target.files[0],T=new FileReader;T.onload=function(){T.readyState===2&&typeof T.result=="string"&&i(T.result)},S&&T.readAsDataURL(S)}},E=function(R){l(R.target.value)};return Qe("form",{className:HD.container,onSubmit:g,children:[Z("input",{placeholder:"Type something...",type:"text",value:u,onChange:E}),Qe("div",{className:HD.sendContainer,children:[Qe("label",{htmlFor:"file",children:[r&&Z("img",{alt:"attachment",src:r}),Z(Lv.AddAvatar,{}),Z("input",{ref:h,hidden:!0,accept:"image/*",id:"file",type:"file",onChange:v})]}),Z("button",{children:"Send"})]})]})},yhe=function(){return Z("div",{className:"layout",children:Z(iU,{})})};function dT(t){return dT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dT(t)}var vu=function(){for(var e=[],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ws.map(r,function(s){if(s)switch(dT(s)){case"string":e.push(s);break;case"object":Ws(s).entries().map(function(o){return o[1]&&e.push(o[0]),null});break}return null}),e.join(" ")};const whe="-uQ",Ehe="mI2",YD={container:whe,dotFlashing:Ehe};var She=function(e){var n=e.className;return Z("span",{className:vu(YD.container,n),children:Z("span",{className:YD.dotFlashing})})};//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var P3;function ae(){return P3.apply(null,arguments)}function The(t){P3=t}function Mi(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function eu(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Xe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function iA(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Xe(t,e))return!1;return!0}function pr(t){return t===void 0}function ro(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function ep(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function k3(t,e){var n=[],r,i=t.length;for(r=0;r<i;++r)n.push(e(t[r],r));return n}function Do(t,e){for(var n in e)Xe(e,n)&&(t[n]=e[n]);return Xe(e,"toString")&&(t.toString=e.toString),Xe(e,"valueOf")&&(t.valueOf=e.valueOf),t}function fs(t,e,n,r){return Z3(t,e,n,r,!0).utc()}function Ihe(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Oe(t){return t._pf==null&&(t._pf=Ihe()),t._pf}var pT;Array.prototype.some?pT=Array.prototype.some:pT=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function sA(t){if(t._isValid==null){var e=Oe(t),n=pT.call(e.parsedDateParts,function(i){return i!=null}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r}return t._isValid}function xy(t){var e=fs(NaN);return t!=null?Do(Oe(e),t):Oe(e).userInvalidated=!0,e}var KD=ae.momentProperties=[],YE=!1;function oA(t,e){var n,r,i,s=KD.length;if(pr(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),pr(e._i)||(t._i=e._i),pr(e._f)||(t._f=e._f),pr(e._l)||(t._l=e._l),pr(e._strict)||(t._strict=e._strict),pr(e._tzm)||(t._tzm=e._tzm),pr(e._isUTC)||(t._isUTC=e._isUTC),pr(e._offset)||(t._offset=e._offset),pr(e._pf)||(t._pf=Oe(e)),pr(e._locale)||(t._locale=e._locale),s>0)for(n=0;n<s;n++)r=KD[n],i=e[r],pr(i)||(t[r]=i);return t}function tp(t){oA(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),YE===!1&&(YE=!0,ae.updateOffset(this),YE=!1)}function Ui(t){return t instanceof tp||t!=null&&t._isAMomentObject!=null}function b3(t){ae.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function ci(t,e){var n=!0;return Do(function(){if(ae.deprecationHandler!=null&&ae.deprecationHandler(null,t),n){var r=[],i,s,o,u=arguments.length;for(s=0;s<u;s++){if(i="",typeof arguments[s]=="object"){i+=`
[`+s+"] ";for(o in arguments[0])Xe(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[s];r.push(i)}b3(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var QD={};function O3(t,e){ae.deprecationHandler!=null&&ae.deprecationHandler(t,e),QD[t]||(b3(e),QD[t]=!0)}ae.suppressDeprecationWarnings=!1;ae.deprecationHandler=null;function ds(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function Che(t){var e,n;for(n in t)Xe(t,n)&&(e=t[n],ds(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function gT(t,e){var n=Do({},t),r;for(r in e)Xe(e,r)&&(eu(t[r])&&eu(e[r])?(n[r]={},Do(n[r],t[r]),Do(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)Xe(t,r)&&!Xe(e,r)&&eu(t[r])&&(n[r]=Do({},n[r]));return n}function aA(t){t!=null&&this.set(t)}var mT;Object.keys?mT=Object.keys:mT=function(t){var e,n=[];for(e in t)Xe(t,e)&&n.push(e);return n};var Rhe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Ahe(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return ds(r)?r.call(e,n):r}function us(t,e,n){var r=""+Math.abs(t),i=e-r.length,s=t>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var uA=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,kg=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,KE={},Bl={};function me(t,e,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),t&&(Bl[t]=i),e&&(Bl[e[0]]=function(){return us(i.apply(this,arguments),e[1],e[2])}),n&&(Bl[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function Phe(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function khe(t){var e=t.match(uA),n,r;for(n=0,r=e.length;n<r;n++)Bl[e[n]]?e[n]=Bl[e[n]]:e[n]=Phe(e[n]);return function(i){var s="",o;for(o=0;o<r;o++)s+=ds(e[o])?e[o].call(i,t):e[o];return s}}function lm(t,e){return t.isValid()?(e=N3(e,t.localeData()),KE[e]=KE[e]||khe(e),KE[e](t)):t.localeData().invalidDate()}function N3(t,e){var n=5;function r(i){return e.longDateFormat(i)||i}for(kg.lastIndex=0;n>=0&&kg.test(t);)t=t.replace(kg,r),kg.lastIndex=0,n-=1;return t}var bhe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Ohe(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(uA).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var Nhe="Invalid date";function xhe(){return this._invalidDate}var Dhe="%d",Lhe=/\d{1,2}/;function Mhe(t){return this._ordinal.replace("%d",t)}var Uhe={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Fhe(t,e,n,r){var i=this._relativeTime[n];return ds(i)?i(t,e,n,r):i.replace(/%d/i,t)}function $he(t,e){var n=this._relativeTime[t>0?"future":"past"];return ds(n)?n(e):n.replace(/%s/i,e)}var hf={};function Gn(t,e){var n=t.toLowerCase();hf[n]=hf[n+"s"]=hf[e]=t}function hi(t){return typeof t=="string"?hf[t]||hf[t.toLowerCase()]:void 0}function lA(t){var e={},n,r;for(r in t)Xe(t,r)&&(n=hi(r),n&&(e[n]=t[r]));return e}var x3={};function Yn(t,e){x3[t]=e}function Vhe(t){var e=[],n;for(n in t)Xe(t,n)&&e.push({unit:n,priority:x3[n]});return e.sort(function(r,i){return r.priority-i.priority}),e}function Dy(t){return t%4===0&&t%100!==0||t%400===0}function Zr(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Ue(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=Zr(e)),n}function Fc(t,e){return function(n){return n!=null?(D3(this,t,n),ae.updateOffset(this,e),this):F_(this,t)}}function F_(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function D3(t,e,n){t.isValid()&&!isNaN(n)&&(e==="FullYear"&&Dy(t.year())&&t.month()===1&&t.date()===29?(n=Ue(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Vy(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function Whe(t){return t=hi(t),ds(this[t])?this[t]():this}function jhe(t,e){if(typeof t=="object"){t=lA(t);var n=Vhe(t),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](t[n[r].unit])}else if(t=hi(t),ds(this[t]))return this[t](e);return this}var L3=/\d/,Wr=/\d\d/,M3=/\d{3}/,cA=/\d{4}/,Ly=/[+-]?\d{6}/,Tt=/\d\d?/,U3=/\d\d\d\d?/,F3=/\d\d\d\d\d\d?/,My=/\d{1,3}/,hA=/\d{1,4}/,Uy=/[+-]?\d{1,6}/,$c=/\d+/,Fy=/[+-]?\d+/,Bhe=/Z|[+-]\d\d:?\d\d/gi,$y=/Z|[+-]\d\d(?::?\d\d)?/gi,zhe=/[+-]?\d+(\.\d{1,3})?/,np=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,$_;$_={};function ce(t,e,n){$_[t]=ds(e)?e:function(r,i){return r&&n?n:e}}function Hhe(t,e){return Xe($_,t)?$_[t](e._strict,e._locale):new RegExp(qhe(t))}function qhe(t){return br(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,i,s){return n||r||i||s}))}function br(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var _T={};function ut(t,e){var n,r=e,i;for(typeof t=="string"&&(t=[t]),ro(e)&&(r=function(s,o){o[e]=Ue(s)}),i=t.length,n=0;n<i;n++)_T[t[n]]=r}function rp(t,e){ut(t,function(n,r,i,s){i._w=i._w||{},e(n,i._w,i,s)})}function Ghe(t,e,n){e!=null&&Xe(_T,t)&&_T[t](e,n._a,n,t)}var Bn=0,Fs=1,Ki=2,tn=3,Ri=4,$s=5,Ga=6,Yhe=7,Khe=8;function Qhe(t,e){return(t%e+e)%e}var jt;Array.prototype.indexOf?jt=Array.prototype.indexOf:jt=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function Vy(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=Qhe(e,12);return t+=(e-n)/12,n===1?Dy(t)?29:28:31-n%7%2}me("M",["MM",2],"Mo",function(){return this.month()+1});me("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});me("MMMM",0,0,function(t){return this.localeData().months(this,t)});Gn("month","M");Yn("month",8);ce("M",Tt);ce("MM",Tt,Wr);ce("MMM",function(t,e){return e.monthsShortRegex(t)});ce("MMMM",function(t,e){return e.monthsRegex(t)});ut(["M","MM"],function(t,e){e[Fs]=Ue(t)-1});ut(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);i!=null?e[Fs]=i:Oe(n).invalidMonth=t});var Xhe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),$3="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),V3=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Jhe=np,Zhe=np;function efe(t,e){return t?Mi(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||V3).test(e)?"format":"standalone"][t.month()]:Mi(this._months)?this._months:this._months.standalone}function tfe(t,e){return t?Mi(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[V3.test(e)?"format":"standalone"][t.month()]:Mi(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function nfe(t,e,n){var r,i,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=fs([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?e==="MMM"?(i=jt.call(this._shortMonthsParse,o),i!==-1?i:null):(i=jt.call(this._longMonthsParse,o),i!==-1?i:null):e==="MMM"?(i=jt.call(this._shortMonthsParse,o),i!==-1?i:(i=jt.call(this._longMonthsParse,o),i!==-1?i:null)):(i=jt.call(this._longMonthsParse,o),i!==-1?i:(i=jt.call(this._shortMonthsParse,o),i!==-1?i:null))}function rfe(t,e,n){var r,i,s;if(this._monthsParseExact)return nfe.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=fs([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function W3(t,e){var n;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Ue(e);else if(e=t.localeData().monthsParse(e),!ro(e))return t}return n=Math.min(t.date(),Vy(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function j3(t){return t!=null?(W3(this,t),ae.updateOffset(this,!0),this):F_(this,"Month")}function ife(){return Vy(this.year(),this.month())}function sfe(t){return this._monthsParseExact?(Xe(this,"_monthsRegex")||B3.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Xe(this,"_monthsShortRegex")||(this._monthsShortRegex=Jhe),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function ofe(t){return this._monthsParseExact?(Xe(this,"_monthsRegex")||B3.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Xe(this,"_monthsRegex")||(this._monthsRegex=Zhe),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function B3(){function t(o,u){return u.length-o.length}var e=[],n=[],r=[],i,s;for(i=0;i<12;i++)s=fs([2e3,i]),e.push(this.monthsShort(s,"")),n.push(this.months(s,"")),r.push(this.months(s,"")),r.push(this.monthsShort(s,""));for(e.sort(t),n.sort(t),r.sort(t),i=0;i<12;i++)e[i]=br(e[i]),n[i]=br(n[i]);for(i=0;i<24;i++)r[i]=br(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}me("Y",0,0,function(){var t=this.year();return t<=9999?us(t,4):"+"+t});me(0,["YY",2],0,function(){return this.year()%100});me(0,["YYYY",4],0,"year");me(0,["YYYYY",5],0,"year");me(0,["YYYYYY",6,!0],0,"year");Gn("year","y");Yn("year",1);ce("Y",Fy);ce("YY",Tt,Wr);ce("YYYY",hA,cA);ce("YYYYY",Uy,Ly);ce("YYYYYY",Uy,Ly);ut(["YYYYY","YYYYYY"],Bn);ut("YYYY",function(t,e){e[Bn]=t.length===2?ae.parseTwoDigitYear(t):Ue(t)});ut("YY",function(t,e){e[Bn]=ae.parseTwoDigitYear(t)});ut("Y",function(t,e){e[Bn]=parseInt(t,10)});function ff(t){return Dy(t)?366:365}ae.parseTwoDigitYear=function(t){return Ue(t)+(Ue(t)>68?1900:2e3)};var z3=Fc("FullYear",!0);function afe(){return Dy(this.year())}function ufe(t,e,n,r,i,s,o){var u;return t<100&&t>=0?(u=new Date(t+400,e,n,r,i,s,o),isFinite(u.getFullYear())&&u.setFullYear(t)):u=new Date(t,e,n,r,i,s,o),u}function fd(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function V_(t,e,n){var r=7+e-n,i=(7+fd(t,0,r).getUTCDay()-e)%7;return-i+r-1}function H3(t,e,n,r,i){var s=(7+n-r)%7,o=V_(t,r,i),u=1+7*(e-1)+s+o,l,h;return u<=0?(l=t-1,h=ff(l)+u):u>ff(t)?(l=t+1,h=u-ff(t)):(l=t,h=u),{year:l,dayOfYear:h}}function dd(t,e,n){var r=V_(t.year(),e,n),i=Math.floor((t.dayOfYear()-r-1)/7)+1,s,o;return i<1?(o=t.year()-1,s=i+zs(o,e,n)):i>zs(t.year(),e,n)?(s=i-zs(t.year(),e,n),o=t.year()+1):(o=t.year(),s=i),{week:s,year:o}}function zs(t,e,n){var r=V_(t,e,n),i=V_(t+1,e,n);return(ff(t)-r+i)/7}me("w",["ww",2],"wo","week");me("W",["WW",2],"Wo","isoWeek");Gn("week","w");Gn("isoWeek","W");Yn("week",5);Yn("isoWeek",5);ce("w",Tt);ce("ww",Tt,Wr);ce("W",Tt);ce("WW",Tt,Wr);rp(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=Ue(t)});function lfe(t){return dd(t,this._week.dow,this._week.doy).week}var cfe={dow:0,doy:6};function hfe(){return this._week.dow}function ffe(){return this._week.doy}function dfe(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function pfe(t){var e=dd(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}me("d",0,"do","day");me("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});me("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});me("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});me("e",0,0,"weekday");me("E",0,0,"isoWeekday");Gn("day","d");Gn("weekday","e");Gn("isoWeekday","E");Yn("day",11);Yn("weekday",11);Yn("isoWeekday",11);ce("d",Tt);ce("e",Tt);ce("E",Tt);ce("dd",function(t,e){return e.weekdaysMinRegex(t)});ce("ddd",function(t,e){return e.weekdaysShortRegex(t)});ce("dddd",function(t,e){return e.weekdaysRegex(t)});rp(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);i!=null?e.d=i:Oe(n).invalidWeekday=t});rp(["d","e","E"],function(t,e,n,r){e[r]=Ue(t)});function gfe(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function mfe(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function fA(t,e){return t.slice(e,7).concat(t.slice(0,e))}var _fe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),q3="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),vfe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),yfe=np,wfe=np,Efe=np;function Sfe(t,e){var n=Mi(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?fA(n,this._week.dow):t?n[t.day()]:n}function Tfe(t){return t===!0?fA(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Ife(t){return t===!0?fA(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Cfe(t,e,n){var r,i,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=fs([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?e==="dddd"?(i=jt.call(this._weekdaysParse,o),i!==-1?i:null):e==="ddd"?(i=jt.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=jt.call(this._minWeekdaysParse,o),i!==-1?i:null):e==="dddd"?(i=jt.call(this._weekdaysParse,o),i!==-1||(i=jt.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=jt.call(this._minWeekdaysParse,o),i!==-1?i:null)):e==="ddd"?(i=jt.call(this._shortWeekdaysParse,o),i!==-1||(i=jt.call(this._weekdaysParse,o),i!==-1)?i:(i=jt.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=jt.call(this._minWeekdaysParse,o),i!==-1||(i=jt.call(this._weekdaysParse,o),i!==-1)?i:(i=jt.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function Rfe(t,e,n){var r,i,s;if(this._weekdaysParseExact)return Cfe.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=fs([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function Afe(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=gfe(t,this.localeData()),this.add(t-e,"d")):e}function Pfe(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function kfe(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=mfe(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function bfe(t){return this._weekdaysParseExact?(Xe(this,"_weekdaysRegex")||dA.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Xe(this,"_weekdaysRegex")||(this._weekdaysRegex=yfe),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ofe(t){return this._weekdaysParseExact?(Xe(this,"_weekdaysRegex")||dA.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Xe(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=wfe),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Nfe(t){return this._weekdaysParseExact?(Xe(this,"_weekdaysRegex")||dA.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Xe(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Efe),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function dA(){function t(d,p){return p.length-d.length}var e=[],n=[],r=[],i=[],s,o,u,l,h;for(s=0;s<7;s++)o=fs([2e3,1]).day(s),u=br(this.weekdaysMin(o,"")),l=br(this.weekdaysShort(o,"")),h=br(this.weekdays(o,"")),e.push(u),n.push(l),r.push(h),i.push(u),i.push(l),i.push(h);e.sort(t),n.sort(t),r.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function pA(){return this.hours()%12||12}function xfe(){return this.hours()||24}me("H",["HH",2],0,"hour");me("h",["hh",2],0,pA);me("k",["kk",2],0,xfe);me("hmm",0,0,function(){return""+pA.apply(this)+us(this.minutes(),2)});me("hmmss",0,0,function(){return""+pA.apply(this)+us(this.minutes(),2)+us(this.seconds(),2)});me("Hmm",0,0,function(){return""+this.hours()+us(this.minutes(),2)});me("Hmmss",0,0,function(){return""+this.hours()+us(this.minutes(),2)+us(this.seconds(),2)});function G3(t,e){me(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}G3("a",!0);G3("A",!1);Gn("hour","h");Yn("hour",13);function Y3(t,e){return e._meridiemParse}ce("a",Y3);ce("A",Y3);ce("H",Tt);ce("h",Tt);ce("k",Tt);ce("HH",Tt,Wr);ce("hh",Tt,Wr);ce("kk",Tt,Wr);ce("hmm",U3);ce("hmmss",F3);ce("Hmm",U3);ce("Hmmss",F3);ut(["H","HH"],tn);ut(["k","kk"],function(t,e,n){var r=Ue(t);e[tn]=r===24?0:r});ut(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});ut(["h","hh"],function(t,e,n){e[tn]=Ue(t),Oe(n).bigHour=!0});ut("hmm",function(t,e,n){var r=t.length-2;e[tn]=Ue(t.substr(0,r)),e[Ri]=Ue(t.substr(r)),Oe(n).bigHour=!0});ut("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[tn]=Ue(t.substr(0,r)),e[Ri]=Ue(t.substr(r,2)),e[$s]=Ue(t.substr(i)),Oe(n).bigHour=!0});ut("Hmm",function(t,e,n){var r=t.length-2;e[tn]=Ue(t.substr(0,r)),e[Ri]=Ue(t.substr(r))});ut("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[tn]=Ue(t.substr(0,r)),e[Ri]=Ue(t.substr(r,2)),e[$s]=Ue(t.substr(i))});function Dfe(t){return(t+"").toLowerCase().charAt(0)==="p"}var Lfe=/[ap]\.?m?\.?/i,Mfe=Fc("Hours",!0);function Ufe(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var K3={calendar:Rhe,longDateFormat:bhe,invalidDate:Nhe,ordinal:Dhe,dayOfMonthOrdinalParse:Lhe,relativeTime:Uhe,months:Xhe,monthsShort:$3,week:cfe,weekdays:_fe,weekdaysMin:vfe,weekdaysShort:q3,meridiemParse:Lfe},Ct={},Ch={},pd;function Ffe(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function XD(t){return t&&t.toLowerCase().replace("_","-")}function $fe(t){for(var e=0,n,r,i,s;e<t.length;){for(s=XD(t[e]).split("-"),n=s.length,r=XD(t[e+1]),r=r?r.split("-"):null;n>0;){if(i=Wy(s.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&Ffe(s,r)>=n-1)break;n--}e++}return pd}function Vfe(t){return t.match("^[^/\\\\]*$")!=null}function Wy(t){var e=null,n;if(Ct[t]===void 0&&typeof _m<"u"&&_m&&_m.exports&&Vfe(t))try{e=pd._abbr,n=require,n("./locale/"+t),ta(e)}catch{Ct[t]=null}return Ct[t]}function ta(t,e){var n;return t&&(pr(e)?n=so(t):n=gA(t,e),n?pd=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),pd._abbr}function gA(t,e){if(e!==null){var n,r=K3;if(e.abbr=t,Ct[t]!=null)O3("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Ct[t]._config;else if(e.parentLocale!=null)if(Ct[e.parentLocale]!=null)r=Ct[e.parentLocale]._config;else if(n=Wy(e.parentLocale),n!=null)r=n._config;else return Ch[e.parentLocale]||(Ch[e.parentLocale]=[]),Ch[e.parentLocale].push({name:t,config:e}),null;return Ct[t]=new aA(gT(r,e)),Ch[t]&&Ch[t].forEach(function(i){gA(i.name,i.config)}),ta(t),Ct[t]}else return delete Ct[t],null}function Wfe(t,e){if(e!=null){var n,r,i=K3;Ct[t]!=null&&Ct[t].parentLocale!=null?Ct[t].set(gT(Ct[t]._config,e)):(r=Wy(t),r!=null&&(i=r._config),e=gT(i,e),r==null&&(e.abbr=t),n=new aA(e),n.parentLocale=Ct[t],Ct[t]=n),ta(t)}else Ct[t]!=null&&(Ct[t].parentLocale!=null?(Ct[t]=Ct[t].parentLocale,t===ta()&&ta(t)):Ct[t]!=null&&delete Ct[t]);return Ct[t]}function so(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return pd;if(!Mi(t)){if(e=Wy(t),e)return e;t=[t]}return $fe(t)}function jfe(){return mT(Ct)}function mA(t){var e,n=t._a;return n&&Oe(t).overflow===-2&&(e=n[Fs]<0||n[Fs]>11?Fs:n[Ki]<1||n[Ki]>Vy(n[Bn],n[Fs])?Ki:n[tn]<0||n[tn]>24||n[tn]===24&&(n[Ri]!==0||n[$s]!==0||n[Ga]!==0)?tn:n[Ri]<0||n[Ri]>59?Ri:n[$s]<0||n[$s]>59?$s:n[Ga]<0||n[Ga]>999?Ga:-1,Oe(t)._overflowDayOfYear&&(e<Bn||e>Ki)&&(e=Ki),Oe(t)._overflowWeeks&&e===-1&&(e=Yhe),Oe(t)._overflowWeekday&&e===-1&&(e=Khe),Oe(t).overflow=e),t}var Bfe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,zfe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Hfe=/Z|[+-]\d\d(?::?\d\d)?/,bg=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],QE=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],qfe=/^\/?Date\((-?\d+)/i,Gfe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Yfe={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Q3(t){var e,n,r=t._i,i=Bfe.exec(r)||zfe.exec(r),s,o,u,l,h=bg.length,d=QE.length;if(i){for(Oe(t).iso=!0,e=0,n=h;e<n;e++)if(bg[e][1].exec(i[1])){o=bg[e][0],s=bg[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(i[3]){for(e=0,n=d;e<n;e++)if(QE[e][1].exec(i[3])){u=(i[2]||" ")+QE[e][0];break}if(u==null){t._isValid=!1;return}}if(!s&&u!=null){t._isValid=!1;return}if(i[4])if(Hfe.exec(i[4]))l="Z";else{t._isValid=!1;return}t._f=o+(u||"")+(l||""),vA(t)}else t._isValid=!1}function Kfe(t,e,n,r,i,s){var o=[Qfe(t),$3.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return s&&o.push(parseInt(s,10)),o}function Qfe(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function Xfe(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Jfe(t,e,n){if(t){var r=q3.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return Oe(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function Zfe(t,e,n){if(t)return Yfe[t];if(e)return 0;var r=parseInt(n,10),i=r%100,s=(r-i)/100;return s*60+i}function X3(t){var e=Gfe.exec(Xfe(t._i)),n;if(e){if(n=Kfe(e[4],e[3],e[2],e[5],e[6],e[7]),!Jfe(e[1],n,t))return;t._a=n,t._tzm=Zfe(e[8],e[9],e[10]),t._d=fd.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),Oe(t).rfc2822=!0}else t._isValid=!1}function ede(t){var e=qfe.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(Q3(t),t._isValid===!1)delete t._isValid;else return;if(X3(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:ae.createFromInputFallback(t)}ae.createFromInputFallback=ci("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function al(t,e,n){return t??e??n}function tde(t){var e=new Date(ae.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function _A(t){var e,n,r=[],i,s,o;if(!t._d){for(i=tde(t),t._w&&t._a[Ki]==null&&t._a[Fs]==null&&nde(t),t._dayOfYear!=null&&(o=al(t._a[Bn],i[Bn]),(t._dayOfYear>ff(o)||t._dayOfYear===0)&&(Oe(t)._overflowDayOfYear=!0),n=fd(o,0,t._dayOfYear),t._a[Fs]=n.getUTCMonth(),t._a[Ki]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[tn]===24&&t._a[Ri]===0&&t._a[$s]===0&&t._a[Ga]===0&&(t._nextDay=!0,t._a[tn]=0),t._d=(t._useUTC?fd:ufe).apply(null,r),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[tn]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==s&&(Oe(t).weekdayMismatch=!0)}}function nde(t){var e,n,r,i,s,o,u,l,h;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,o=4,n=al(e.GG,t._a[Bn],dd(St(),1,4).year),r=al(e.W,1),i=al(e.E,1),(i<1||i>7)&&(l=!0)):(s=t._locale._week.dow,o=t._locale._week.doy,h=dd(St(),s,o),n=al(e.gg,t._a[Bn],h.year),r=al(e.w,h.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+s,(e.e<0||e.e>6)&&(l=!0)):i=s),r<1||r>zs(n,s,o)?Oe(t)._overflowWeeks=!0:l!=null?Oe(t)._overflowWeekday=!0:(u=H3(n,r,i,s,o),t._a[Bn]=u.year,t._dayOfYear=u.dayOfYear)}ae.ISO_8601=function(){};ae.RFC_2822=function(){};function vA(t){if(t._f===ae.ISO_8601){Q3(t);return}if(t._f===ae.RFC_2822){X3(t);return}t._a=[],Oe(t).empty=!0;var e=""+t._i,n,r,i,s,o,u=e.length,l=0,h,d;for(i=N3(t._f,t._locale).match(uA)||[],d=i.length,n=0;n<d;n++)s=i[n],r=(e.match(Hhe(s,t))||[])[0],r&&(o=e.substr(0,e.indexOf(r)),o.length>0&&Oe(t).unusedInput.push(o),e=e.slice(e.indexOf(r)+r.length),l+=r.length),Bl[s]?(r?Oe(t).empty=!1:Oe(t).unusedTokens.push(s),Ghe(s,r,t)):t._strict&&!r&&Oe(t).unusedTokens.push(s);Oe(t).charsLeftOver=u-l,e.length>0&&Oe(t).unusedInput.push(e),t._a[tn]<=12&&Oe(t).bigHour===!0&&t._a[tn]>0&&(Oe(t).bigHour=void 0),Oe(t).parsedDateParts=t._a.slice(0),Oe(t).meridiem=t._meridiem,t._a[tn]=rde(t._locale,t._a[tn],t._meridiem),h=Oe(t).era,h!==null&&(t._a[Bn]=t._locale.erasConvertYear(h,t._a[Bn])),_A(t),mA(t)}function rde(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function ide(t){var e,n,r,i,s,o,u=!1,l=t._f.length;if(l===0){Oe(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<l;i++)s=0,o=!1,e=oA({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],vA(e),sA(e)&&(o=!0),s+=Oe(e).charsLeftOver,s+=Oe(e).unusedTokens.length*10,Oe(e).score=s,u?s<r&&(r=s,n=e):(r==null||s<r||o)&&(r=s,n=e,o&&(u=!0));Do(t,n||e)}function sde(t){if(!t._d){var e=lA(t._i),n=e.day===void 0?e.date:e.day;t._a=k3([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),_A(t)}}function ode(t){var e=new tp(mA(J3(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function J3(t){var e=t._i,n=t._f;return t._locale=t._locale||so(t._l),e===null||n===void 0&&e===""?xy({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Ui(e)?new tp(mA(e)):(ep(e)?t._d=e:Mi(n)?ide(t):n?vA(t):ade(t),sA(t)||(t._d=null),t))}function ade(t){var e=t._i;pr(e)?t._d=new Date(ae.now()):ep(e)?t._d=new Date(e.valueOf()):typeof e=="string"?ede(t):Mi(e)?(t._a=k3(e.slice(0),function(n){return parseInt(n,10)}),_A(t)):eu(e)?sde(t):ro(e)?t._d=new Date(e):ae.createFromInputFallback(t)}function Z3(t,e,n,r,i){var s={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(eu(t)&&iA(t)||Mi(t)&&t.length===0)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=t,s._f=e,s._strict=r,ode(s)}function St(t,e,n,r){return Z3(t,e,n,r,!1)}var ude=ci("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=St.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:xy()}),lde=ci("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=St.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:xy()});function e6(t,e){var n,r;if(e.length===1&&Mi(e[0])&&(e=e[0]),!e.length)return St();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function cde(){var t=[].slice.call(arguments,0);return e6("isBefore",t)}function hde(){var t=[].slice.call(arguments,0);return e6("isAfter",t)}var fde=function(){return Date.now?Date.now():+new Date},Rh=["year","quarter","month","week","day","hour","minute","second","millisecond"];function dde(t){var e,n=!1,r,i=Rh.length;for(e in t)if(Xe(t,e)&&!(jt.call(Rh,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<i;++r)if(t[Rh[r]]){if(n)return!1;parseFloat(t[Rh[r]])!==Ue(t[Rh[r]])&&(n=!0)}return!0}function pde(){return this._isValid}function gde(){return $i(NaN)}function jy(t){var e=lA(t),n=e.year||0,r=e.quarter||0,i=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,u=e.hour||0,l=e.minute||0,h=e.second||0,d=e.millisecond||0;this._isValid=dde(e),this._milliseconds=+d+h*1e3+l*6e4+u*1e3*60*60,this._days=+o+s*7,this._months=+i+r*3+n*12,this._data={},this._locale=so(),this._bubble()}function cm(t){return t instanceof jy}function vT(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function mde(t,e,n){var r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),s=0,o;for(o=0;o<r;o++)(n&&t[o]!==e[o]||!n&&Ue(t[o])!==Ue(e[o]))&&s++;return s+i}function t6(t,e){me(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+us(~~(n/60),2)+e+us(~~n%60,2)})}t6("Z",":");t6("ZZ","");ce("Z",$y);ce("ZZ",$y);ut(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=yA($y,t)});var _de=/([\+\-]|\d\d)/gi;function yA(t,e){var n=(e||"").match(t),r,i,s;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(_de)||["-",0,0],s=+(i[1]*60)+Ue(i[2]),s===0?0:i[0]==="+"?s:-s)}function wA(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(Ui(t)||ep(t)?t.valueOf():St(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),ae.updateOffset(n,!1),n):St(t).local()}function yT(t){return-Math.round(t._d.getTimezoneOffset())}ae.updateOffset=function(){};function vde(t,e,n){var r=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=yA($y,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(i=yT(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?i6(this,$i(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ae.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:yT(this)}function yde(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function wde(t){return this.utcOffset(0,t)}function Ede(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(yT(this),"m")),this}function Sde(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=yA(Bhe,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Tde(t){return this.isValid()?(t=t?St(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function Ide(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Cde(){if(!pr(this._isDSTShifted))return this._isDSTShifted;var t={},e;return oA(t,this),t=J3(t),t._a?(e=t._isUTC?fs(t._a):St(t._a),this._isDSTShifted=this.isValid()&&mde(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Rde(){return this.isValid()?!this._isUTC:!1}function Ade(){return this.isValid()?this._isUTC:!1}function n6(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Pde=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,kde=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function $i(t,e){var n=t,r=null,i,s,o;return cm(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:ro(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=Pde.exec(t))?(i=r[1]==="-"?-1:1,n={y:0,d:Ue(r[Ki])*i,h:Ue(r[tn])*i,m:Ue(r[Ri])*i,s:Ue(r[$s])*i,ms:Ue(vT(r[Ga]*1e3))*i}):(r=kde.exec(t))?(i=r[1]==="-"?-1:1,n={y:Oa(r[2],i),M:Oa(r[3],i),w:Oa(r[4],i),d:Oa(r[5],i),h:Oa(r[6],i),m:Oa(r[7],i),s:Oa(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=bde(St(n.from),St(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),s=new jy(n),cm(t)&&Xe(t,"_locale")&&(s._locale=t._locale),cm(t)&&Xe(t,"_isValid")&&(s._isValid=t._isValid),s}$i.fn=jy.prototype;$i.invalid=gde;function Oa(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function JD(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function bde(t,e){var n;return t.isValid()&&e.isValid()?(e=wA(e,t),t.isBefore(e)?n=JD(t,e):(n=JD(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function r6(t,e){return function(n,r){var i,s;return r!==null&&!isNaN(+r)&&(O3(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=r,r=s),i=$i(n,r),i6(this,i,t),this}}function i6(t,e,n,r){var i=e._milliseconds,s=vT(e._days),o=vT(e._months);t.isValid()&&(r=r??!0,o&&W3(t,F_(t,"Month")+o*n),s&&D3(t,"Date",F_(t,"Date")+s*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&ae.updateOffset(t,s||o))}var Ode=r6(1,"add"),Nde=r6(-1,"subtract");function s6(t){return typeof t=="string"||t instanceof String}function xde(t){return Ui(t)||ep(t)||s6(t)||ro(t)||Lde(t)||Dde(t)||t===null||t===void 0}function Dde(t){var e=eu(t)&&!iA(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,s,o=r.length;for(i=0;i<o;i+=1)s=r[i],n=n||Xe(t,s);return e&&n}function Lde(t){var e=Mi(t),n=!1;return e&&(n=t.filter(function(r){return!ro(r)&&s6(t)}).length===0),e&&n}function Mde(t){var e=eu(t)&&!iA(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,s;for(i=0;i<r.length;i+=1)s=r[i],n=n||Xe(t,s);return e&&n}function Ude(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Fde(t,e){arguments.length===1&&(arguments[0]?xde(arguments[0])?(t=arguments[0],e=void 0):Mde(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||St(),r=wA(n,this).startOf("day"),i=ae.calendarFormat(this,r)||"sameElse",s=e&&(ds(e[i])?e[i].call(this,n):e[i]);return this.format(s||this.localeData().calendar(i,this,St(n)))}function $de(){return new tp(this)}function Vde(t,e){var n=Ui(t)?t:St(t);return this.isValid()&&n.isValid()?(e=hi(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function Wde(t,e){var n=Ui(t)?t:St(t);return this.isValid()&&n.isValid()?(e=hi(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function jde(t,e,n,r){var i=Ui(t)?t:St(t),s=Ui(e)?e:St(e);return this.isValid()&&i.isValid()&&s.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(s,n):!this.isAfter(s,n))):!1}function Bde(t,e){var n=Ui(t)?t:St(t),r;return this.isValid()&&n.isValid()?(e=hi(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function zde(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Hde(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function qde(t,e,n){var r,i,s;if(!this.isValid())return NaN;if(r=wA(t,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,e=hi(e),e){case"year":s=hm(this,r)/12;break;case"month":s=hm(this,r);break;case"quarter":s=hm(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:Zr(s)}function hm(t,e){if(t.date()<e.date())return-hm(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),i,s;return e-r<0?(i=t.clone().add(n-1,"months"),s=(e-r)/(r-i)):(i=t.clone().add(n+1,"months"),s=(e-r)/(i-r)),-(n+s)||0}ae.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";ae.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Gde(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Yde(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?lm(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ds(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",lm(n,"Z")):lm(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Kde(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,i,s;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(n+r+i+s)}function Qde(t){t||(t=this.isUtc()?ae.defaultFormatUtc:ae.defaultFormat);var e=lm(this,t);return this.localeData().postformat(e)}function Xde(t,e){return this.isValid()&&(Ui(t)&&t.isValid()||St(t).isValid())?$i({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Jde(t){return this.from(St(),t)}function Zde(t,e){return this.isValid()&&(Ui(t)&&t.isValid()||St(t).isValid())?$i({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function epe(t){return this.to(St(),t)}function o6(t){var e;return t===void 0?this._locale._abbr:(e=so(t),e!=null&&(this._locale=e),this)}var a6=ci("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function u6(){return this._locale}var W_=1e3,zl=60*W_,j_=60*zl,l6=(365*400+97)*24*j_;function Hl(t,e){return(t%e+e)%e}function c6(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-l6:new Date(t,e,n).valueOf()}function h6(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-l6:Date.UTC(t,e,n)}function tpe(t){var e,n;if(t=hi(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?h6:c6,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Hl(e+(this._isUTC?0:this.utcOffset()*zl),j_);break;case"minute":e=this._d.valueOf(),e-=Hl(e,zl);break;case"second":e=this._d.valueOf(),e-=Hl(e,W_);break}return this._d.setTime(e),ae.updateOffset(this,!0),this}function npe(t){var e,n;if(t=hi(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?h6:c6,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=j_-Hl(e+(this._isUTC?0:this.utcOffset()*zl),j_)-1;break;case"minute":e=this._d.valueOf(),e+=zl-Hl(e,zl)-1;break;case"second":e=this._d.valueOf(),e+=W_-Hl(e,W_)-1;break}return this._d.setTime(e),ae.updateOffset(this,!0),this}function rpe(){return this._d.valueOf()-(this._offset||0)*6e4}function ipe(){return Math.floor(this.valueOf()/1e3)}function spe(){return new Date(this.valueOf())}function ope(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function ape(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function upe(){return this.isValid()?this.toISOString():null}function lpe(){return sA(this)}function cpe(){return Do({},Oe(this))}function hpe(){return Oe(this).overflow}function fpe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}me("N",0,0,"eraAbbr");me("NN",0,0,"eraAbbr");me("NNN",0,0,"eraAbbr");me("NNNN",0,0,"eraName");me("NNNNN",0,0,"eraNarrow");me("y",["y",1],"yo","eraYear");me("y",["yy",2],0,"eraYear");me("y",["yyy",3],0,"eraYear");me("y",["yyyy",4],0,"eraYear");ce("N",EA);ce("NN",EA);ce("NNN",EA);ce("NNNN",Tpe);ce("NNNNN",Ipe);ut(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?Oe(n).era=i:Oe(n).invalidEra=t});ce("y",$c);ce("yy",$c);ce("yyy",$c);ce("yyyy",$c);ce("yo",Cpe);ut(["y","yy","yyy","yyyy"],Bn);ut(["yo"],function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[Bn]=n._locale.eraYearOrdinalParse(t,i):e[Bn]=parseInt(t,10)});function dpe(t,e){var n,r,i,s=this._eras||so("en")._eras;for(n=0,r=s.length;n<r;++n){switch(typeof s[n].since){case"string":i=ae(s[n].since).startOf("day"),s[n].since=i.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":i=ae(s[n].until).startOf("day").valueOf(),s[n].until=i.valueOf();break}}return s}function ppe(t,e,n){var r,i,s=this.eras(),o,u,l;for(t=t.toUpperCase(),r=0,i=s.length;r<i;++r)if(o=s[r].name.toUpperCase(),u=s[r].abbr.toUpperCase(),l=s[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(u===t)return s[r];break;case"NNNN":if(o===t)return s[r];break;case"NNNNN":if(l===t)return s[r];break}else if([o,u,l].indexOf(t)>=0)return s[r]}function gpe(t,e){var n=t.since<=t.until?1:-1;return e===void 0?ae(t.since).year():ae(t.since).year()+(e-t.offset)*n}function mpe(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function _pe(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function vpe(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function ype(){var t,e,n,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until||i[t].until<=r&&r<=i[t].since)return(this.year()-ae(i[t].since).year())*n+i[t].offset;return this.year()}function wpe(t){return Xe(this,"_erasNameRegex")||SA.call(this),t?this._erasNameRegex:this._erasRegex}function Epe(t){return Xe(this,"_erasAbbrRegex")||SA.call(this),t?this._erasAbbrRegex:this._erasRegex}function Spe(t){return Xe(this,"_erasNarrowRegex")||SA.call(this),t?this._erasNarrowRegex:this._erasRegex}function EA(t,e){return e.erasAbbrRegex(t)}function Tpe(t,e){return e.erasNameRegex(t)}function Ipe(t,e){return e.erasNarrowRegex(t)}function Cpe(t,e){return e._eraYearOrdinalRegex||$c}function SA(){var t=[],e=[],n=[],r=[],i,s,o=this.eras();for(i=0,s=o.length;i<s;++i)e.push(br(o[i].name)),t.push(br(o[i].abbr)),n.push(br(o[i].narrow)),r.push(br(o[i].name)),r.push(br(o[i].abbr)),r.push(br(o[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}me(0,["gg",2],0,function(){return this.weekYear()%100});me(0,["GG",2],0,function(){return this.isoWeekYear()%100});function By(t,e){me(0,[t,t.length],0,e)}By("gggg","weekYear");By("ggggg","weekYear");By("GGGG","isoWeekYear");By("GGGGG","isoWeekYear");Gn("weekYear","gg");Gn("isoWeekYear","GG");Yn("weekYear",1);Yn("isoWeekYear",1);ce("G",Fy);ce("g",Fy);ce("GG",Tt,Wr);ce("gg",Tt,Wr);ce("GGGG",hA,cA);ce("gggg",hA,cA);ce("GGGGG",Uy,Ly);ce("ggggg",Uy,Ly);rp(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=Ue(t)});rp(["gg","GG"],function(t,e,n,r){e[r]=ae.parseTwoDigitYear(t)});function Rpe(t){return f6.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Ape(t){return f6.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Ppe(){return zs(this.year(),1,4)}function kpe(){return zs(this.isoWeekYear(),1,4)}function bpe(){var t=this.localeData()._week;return zs(this.year(),t.dow,t.doy)}function Ope(){var t=this.localeData()._week;return zs(this.weekYear(),t.dow,t.doy)}function f6(t,e,n,r,i){var s;return t==null?dd(this,r,i).year:(s=zs(t,r,i),e>s&&(e=s),Npe.call(this,t,e,n,r,i))}function Npe(t,e,n,r,i){var s=H3(t,e,n,r,i),o=fd(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}me("Q",0,"Qo","quarter");Gn("quarter","Q");Yn("quarter",7);ce("Q",L3);ut("Q",function(t,e){e[Fs]=(Ue(t)-1)*3});function xpe(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}me("D",["DD",2],"Do","date");Gn("date","D");Yn("date",9);ce("D",Tt);ce("DD",Tt,Wr);ce("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});ut(["D","DD"],Ki);ut("Do",function(t,e){e[Ki]=Ue(t.match(Tt)[0])});var d6=Fc("Date",!0);me("DDD",["DDDD",3],"DDDo","dayOfYear");Gn("dayOfYear","DDD");Yn("dayOfYear",4);ce("DDD",My);ce("DDDD",M3);ut(["DDD","DDDD"],function(t,e,n){n._dayOfYear=Ue(t)});function Dpe(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}me("m",["mm",2],0,"minute");Gn("minute","m");Yn("minute",14);ce("m",Tt);ce("mm",Tt,Wr);ut(["m","mm"],Ri);var Lpe=Fc("Minutes",!1);me("s",["ss",2],0,"second");Gn("second","s");Yn("second",15);ce("s",Tt);ce("ss",Tt,Wr);ut(["s","ss"],$s);var Mpe=Fc("Seconds",!1);me("S",0,0,function(){return~~(this.millisecond()/100)});me(0,["SS",2],0,function(){return~~(this.millisecond()/10)});me(0,["SSS",3],0,"millisecond");me(0,["SSSS",4],0,function(){return this.millisecond()*10});me(0,["SSSSS",5],0,function(){return this.millisecond()*100});me(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});me(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});me(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});me(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Gn("millisecond","ms");Yn("millisecond",16);ce("S",My,L3);ce("SS",My,Wr);ce("SSS",My,M3);var Lo,p6;for(Lo="SSSS";Lo.length<=9;Lo+="S")ce(Lo,$c);function Upe(t,e){e[Ga]=Ue(("0."+t)*1e3)}for(Lo="S";Lo.length<=9;Lo+="S")ut(Lo,Upe);p6=Fc("Milliseconds",!1);me("z",0,0,"zoneAbbr");me("zz",0,0,"zoneName");function Fpe(){return this._isUTC?"UTC":""}function $pe(){return this._isUTC?"Coordinated Universal Time":""}var ee=tp.prototype;ee.add=Ode;ee.calendar=Fde;ee.clone=$de;ee.diff=qde;ee.endOf=npe;ee.format=Qde;ee.from=Xde;ee.fromNow=Jde;ee.to=Zde;ee.toNow=epe;ee.get=Whe;ee.invalidAt=hpe;ee.isAfter=Vde;ee.isBefore=Wde;ee.isBetween=jde;ee.isSame=Bde;ee.isSameOrAfter=zde;ee.isSameOrBefore=Hde;ee.isValid=lpe;ee.lang=a6;ee.locale=o6;ee.localeData=u6;ee.max=lde;ee.min=ude;ee.parsingFlags=cpe;ee.set=jhe;ee.startOf=tpe;ee.subtract=Nde;ee.toArray=ope;ee.toObject=ape;ee.toDate=spe;ee.toISOString=Yde;ee.inspect=Kde;typeof Symbol<"u"&&Symbol.for!=null&&(ee[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});ee.toJSON=upe;ee.toString=Gde;ee.unix=ipe;ee.valueOf=rpe;ee.creationData=fpe;ee.eraName=mpe;ee.eraNarrow=_pe;ee.eraAbbr=vpe;ee.eraYear=ype;ee.year=z3;ee.isLeapYear=afe;ee.weekYear=Rpe;ee.isoWeekYear=Ape;ee.quarter=ee.quarters=xpe;ee.month=j3;ee.daysInMonth=ife;ee.week=ee.weeks=dfe;ee.isoWeek=ee.isoWeeks=pfe;ee.weeksInYear=bpe;ee.weeksInWeekYear=Ope;ee.isoWeeksInYear=Ppe;ee.isoWeeksInISOWeekYear=kpe;ee.date=d6;ee.day=ee.days=Afe;ee.weekday=Pfe;ee.isoWeekday=kfe;ee.dayOfYear=Dpe;ee.hour=ee.hours=Mfe;ee.minute=ee.minutes=Lpe;ee.second=ee.seconds=Mpe;ee.millisecond=ee.milliseconds=p6;ee.utcOffset=vde;ee.utc=wde;ee.local=Ede;ee.parseZone=Sde;ee.hasAlignedHourOffset=Tde;ee.isDST=Ide;ee.isLocal=Rde;ee.isUtcOffset=Ade;ee.isUtc=n6;ee.isUTC=n6;ee.zoneAbbr=Fpe;ee.zoneName=$pe;ee.dates=ci("dates accessor is deprecated. Use date instead.",d6);ee.months=ci("months accessor is deprecated. Use month instead",j3);ee.years=ci("years accessor is deprecated. Use year instead",z3);ee.zone=ci("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",yde);ee.isDSTShifted=ci("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Cde);function Vpe(t){return St(t*1e3)}function Wpe(){return St.apply(null,arguments).parseZone()}function g6(t){return t}var Je=aA.prototype;Je.calendar=Ahe;Je.longDateFormat=Ohe;Je.invalidDate=xhe;Je.ordinal=Mhe;Je.preparse=g6;Je.postformat=g6;Je.relativeTime=Fhe;Je.pastFuture=$he;Je.set=Che;Je.eras=dpe;Je.erasParse=ppe;Je.erasConvertYear=gpe;Je.erasAbbrRegex=Epe;Je.erasNameRegex=wpe;Je.erasNarrowRegex=Spe;Je.months=efe;Je.monthsShort=tfe;Je.monthsParse=rfe;Je.monthsRegex=ofe;Je.monthsShortRegex=sfe;Je.week=lfe;Je.firstDayOfYear=ffe;Je.firstDayOfWeek=hfe;Je.weekdays=Sfe;Je.weekdaysMin=Ife;Je.weekdaysShort=Tfe;Je.weekdaysParse=Rfe;Je.weekdaysRegex=bfe;Je.weekdaysShortRegex=Ofe;Je.weekdaysMinRegex=Nfe;Je.isPM=Dfe;Je.meridiem=Ufe;function B_(t,e,n,r){var i=so(),s=fs().set(r,e);return i[n](s,t)}function m6(t,e,n){if(ro(t)&&(e=t,t=void 0),t=t||"",e!=null)return B_(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=B_(t,r,n,"month");return i}function TA(t,e,n,r){typeof t=="boolean"?(ro(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,ro(e)&&(n=e,e=void 0),e=e||"");var i=so(),s=t?i._week.dow:0,o,u=[];if(n!=null)return B_(e,(n+s)%7,r,"day");for(o=0;o<7;o++)u[o]=B_(e,(o+s)%7,r,"day");return u}function jpe(t,e){return m6(t,e,"months")}function Bpe(t,e){return m6(t,e,"monthsShort")}function zpe(t,e,n){return TA(t,e,n,"weekdays")}function Hpe(t,e,n){return TA(t,e,n,"weekdaysShort")}function qpe(t,e,n){return TA(t,e,n,"weekdaysMin")}ta("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=Ue(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});ae.lang=ci("moment.lang is deprecated. Use moment.locale instead.",ta);ae.langData=ci("moment.langData is deprecated. Use moment.localeData instead.",so);var Cs=Math.abs;function Gpe(){var t=this._data;return this._milliseconds=Cs(this._milliseconds),this._days=Cs(this._days),this._months=Cs(this._months),t.milliseconds=Cs(t.milliseconds),t.seconds=Cs(t.seconds),t.minutes=Cs(t.minutes),t.hours=Cs(t.hours),t.months=Cs(t.months),t.years=Cs(t.years),this}function _6(t,e,n,r){var i=$i(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function Ype(t,e){return _6(this,t,e,1)}function Kpe(t,e){return _6(this,t,e,-1)}function ZD(t){return t<0?Math.floor(t):Math.ceil(t)}function Qpe(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,i,s,o,u,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=ZD(wT(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,i=Zr(t/1e3),r.seconds=i%60,s=Zr(i/60),r.minutes=s%60,o=Zr(s/60),r.hours=o%24,e+=Zr(o/24),l=Zr(v6(e)),n+=l,e-=ZD(wT(l)),u=Zr(n/12),n%=12,r.days=e,r.months=n,r.years=u,this}function v6(t){return t*4800/146097}function wT(t){return t*146097/4800}function Xpe(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=hi(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+v6(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(wT(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function Jpe(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Ue(this._months/12)*31536e6:NaN}function oo(t){return function(){return this.as(t)}}var Zpe=oo("ms"),ege=oo("s"),tge=oo("m"),nge=oo("h"),rge=oo("d"),ige=oo("w"),sge=oo("M"),oge=oo("Q"),age=oo("y");function uge(){return $i(this)}function lge(t){return t=hi(t),this.isValid()?this[t+"s"]():NaN}function Nu(t){return function(){return this.isValid()?this._data[t]:NaN}}var cge=Nu("milliseconds"),hge=Nu("seconds"),fge=Nu("minutes"),dge=Nu("hours"),pge=Nu("days"),gge=Nu("months"),mge=Nu("years");function _ge(){return Zr(this.days()/7)}var Ps=Math.round,Tl={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function vge(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function yge(t,e,n,r){var i=$i(t).abs(),s=Ps(i.as("s")),o=Ps(i.as("m")),u=Ps(i.as("h")),l=Ps(i.as("d")),h=Ps(i.as("M")),d=Ps(i.as("w")),p=Ps(i.as("y")),g=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||o<=1&&["m"]||o<n.m&&["mm",o]||u<=1&&["h"]||u<n.h&&["hh",u]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(g=g||d<=1&&["w"]||d<n.w&&["ww",d]),g=g||h<=1&&["M"]||h<n.M&&["MM",h]||p<=1&&["y"]||["yy",p],g[2]=e,g[3]=+t>0,g[4]=r,vge.apply(null,g)}function wge(t){return t===void 0?Ps:typeof t=="function"?(Ps=t,!0):!1}function Ege(t,e){return Tl[t]===void 0?!1:e===void 0?Tl[t]:(Tl[t]=e,t==="s"&&(Tl.ss=e-1),!0)}function Sge(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Tl,i,s;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},Tl,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),i=this.localeData(),s=yge(this,!n,r,i),n&&(s=i.pastFuture(+this,s)),i.postformat(s)}var XE=Math.abs;function el(t){return(t>0)-(t<0)||+t}function zy(){if(!this.isValid())return this.localeData().invalidDate();var t=XE(this._milliseconds)/1e3,e=XE(this._days),n=XE(this._months),r,i,s,o,u=this.asSeconds(),l,h,d,p;return u?(r=Zr(t/60),i=Zr(r/60),t%=60,r%=60,s=Zr(n/12),n%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=u<0?"-":"",h=el(this._months)!==el(u)?"-":"",d=el(this._days)!==el(u)?"-":"",p=el(this._milliseconds)!==el(u)?"-":"",l+"P"+(s?h+s+"Y":"")+(n?h+n+"M":"")+(e?d+e+"D":"")+(i||r||t?"T":"")+(i?p+i+"H":"")+(r?p+r+"M":"")+(t?p+o+"S":"")):"P0D"}var qe=jy.prototype;qe.isValid=pde;qe.abs=Gpe;qe.add=Ype;qe.subtract=Kpe;qe.as=Xpe;qe.asMilliseconds=Zpe;qe.asSeconds=ege;qe.asMinutes=tge;qe.asHours=nge;qe.asDays=rge;qe.asWeeks=ige;qe.asMonths=sge;qe.asQuarters=oge;qe.asYears=age;qe.valueOf=Jpe;qe._bubble=Qpe;qe.clone=uge;qe.get=lge;qe.milliseconds=cge;qe.seconds=hge;qe.minutes=fge;qe.hours=dge;qe.days=pge;qe.weeks=_ge;qe.months=gge;qe.years=mge;qe.humanize=Sge;qe.toISOString=zy;qe.toString=zy;qe.toJSON=zy;qe.locale=o6;qe.localeData=u6;qe.toIsoString=ci("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",zy);qe.lang=a6;me("X",0,0,"unix");me("x",0,0,"valueOf");ce("x",Fy);ce("X",zhe);ut("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});ut("x",function(t,e,n){n._d=new Date(Ue(t))});//! moment.js
ae.version="2.29.4";The(St);ae.fn=ee;ae.min=cde;ae.max=hde;ae.now=fde;ae.utc=fs;ae.unix=Vpe;ae.months=jpe;ae.isDate=ep;ae.locale=ta;ae.invalid=xy;ae.duration=$i;ae.isMoment=Ui;ae.weekdays=zpe;ae.parseZone=Wpe;ae.localeData=so;ae.isDuration=cm;ae.monthsShort=Bpe;ae.weekdaysMin=qpe;ae.defineLocale=gA;ae.updateLocale=Wfe;ae.locales=jfe;ae.weekdaysShort=Hpe;ae.normalizeUnits=hi;ae.relativeTimeRounding=wge;ae.relativeTimeThreshold=Ege;ae.calendarFormat=Ude;ae.prototype=ee;ae.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const Tge="Pyf",Ige="i-p",Cge="F2M",Rge="_2Sx",Og={message:Tge,owner:Ige,content:Cge,info:Rge};var Age=function(e){var n=e.text,r=e.senderId,i=e.createdAt,s=e.imgUrl,o=wr(function(h){return h.user}),u=o.chat,l=o.user;return Qe("div",{className:vu(Og.message,(l==null?void 0:l.uid)===r&&Og.owner),children:[Qe("div",{className:Og.info,children:[Z("img",{alt:"avatar",src:(l==null?void 0:l.uid)===r?l.avatarUrl:u==null?void 0:u.interlocutorInfo.avatarUrl}),Z("span",{children:ae(i).format("LT")})]}),Qe("div",{className:Og.content,children:[s&&Z("img",{alt:"attached",src:s}),n&&Z("p",{children:n})]})]})};const Pge="_6GP",kge={container:Pge};function bge(t,e){return Dge(t)||xge(t,e)||Nge(t,e)||Oge()}function Oge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nge(t,e){if(t){if(typeof t=="string")return eL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eL(t,e)}}function eL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,u=[],l=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(d){h=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function Dge(t){if(Array.isArray(t))return t}var Lge=function(){var e=wr(function(l){return l.user}),n=e.chat,r=X.useState([]),i=bge(r,2),s=i[0],o=i[1],u=X.useRef(null);return X.useEffect(function(){o([]);var l=En(QC(),"".concat(pt.Chats,"/").concat(n==null?void 0:n.chatUid,"/").concat(pt.Messages)),h=G$(l,function(d){if(Ws.isObject(d.val())){var p=Object.values(d.val());o(p)}Ws.isNull(d.val())&&o([])});return function(){h()}},[n==null?void 0:n.chatUid]),X.useEffect(function(){if(u.current){var l;(l=u.current.lastElementChild)===null||l===void 0||l.scrollIntoView({behavior:"smooth"})}},[s]),Z("div",{ref:u,className:kge.container,children:Ws.map(s,function(l){return Z(Age,{...l},l.id)})})};const Mge="zsV",Uge="LJZ",Fge="rML",$ge="bff",Ah={container:Mge,logo:Uge,opened:Fge,user:$ge};var Vge=function(){var e=Tu(),n=wr(function(u){return u.user}),r=n.user,i=wr(function(u){return u.cache}),s=i.isChatOpened,o=function(){e(He.actions.logout())};return Qe("div",{className:Ah.container,children:[Qe(Dv,{className:vu(Ah.logo,s&&Ah.opened),to:Sn.Root,children:[Z("img",{alt:"logo",src:"./logo.png"}),"Chat"]}),Qe("div",{className:vu(Ah.user,s&&Ah.opened),children:[Z("img",{alt:"avatar",src:r==null?void 0:r.avatarUrl}),Z("span",{children:r==null?void 0:r.nickname}),Z("button",{onClick:o,children:"logout"})]})]})},Wge=function(e){var n=e.children,r=wr(function(s){return s.user}),i=r.user;return i!=null&&i.uid?n:Z(DK,{to:"".concat(Sn.Root).concat(Sn.Login)})};const jge="AAI",Bge="DfR",zge="jvh",Hge="_0Pa",Ng={container:jge,chat:Bge,chatInfo:zge,username:Hge};function tL(t,e){return Kge(t)||Yge(t,e)||Gge(t,e)||qge()}function qge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gge(t,e){if(t){if(typeof t=="string")return nL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nL(t,e)}}function nL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,u=[],l=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(d){h=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function Kge(t){if(Array.isArray(t))return t}var Qge=function(){var e=X.useState(""),n=tL(e,2),r=n[0],i=n[1],s=X.useState(""),o=tL(s,2),u=o[0],l=o[1],h=Tu(),d=wr(function(E){return E.user}),p=d.searchedUsers,g=function(C){if(C==null||C.preventDefault(),i(u),u===""){h(He.actions.clearSearchedUser());return}r!==u&&u!==""&&h(He.actions.searchUser(u))},v=function(C){l(C.target.value)};return NI(function(){h(He.actions.clearSearchedUser())}),Qe("form",{className:Ng.container,onSubmit:g,children:[Z("input",{placeholder:"Find a user",type:"text",value:u,onChange:v}),Ws.map(p,function(E){var C=function(){l(""),i(""),h(He.actions.getInterlocutor(E)),h(He.actions.clearSearchedUser())};return Qe("button",{className:Ng.chat,onClick:C,children:[Z("img",{alt:"avatar",src:E.avatarUrl}),Z("div",{className:Ng.chatInfo,children:Z("span",{className:Ng.username,children:E.nickname})})]},E.uid)})]})};const Xge="eGh",Jge="FKL",Zge="QCC",JE={container:Xge,hide:Jge,content:Zge};var eme=function(){var e=wr(function(r){return r.cache}),n=e.isChatOpened;return Qe("div",{className:vu(JE.container,n&&JE.hide),children:[Z(Vge,{}),Qe("div",{className:JE.content,children:[Z(Qge,{}),Z(hhe,{})]})]})};const tme="PhY",nme="xxr",rme="uJq",ime="BZ4",xg={chat:tme,active:nme,chatInfo:rme,username:ime};var sme=function(e){var n=e.chatInfo,r=e.isActive,i=Tu(),s=function(){i(He.actions.getInterlocutor(Ws.clone(n.interlocutorInfo))),i(He.actions.clearSearchedUser())};return Qe("button",{className:vu(xg.chat,r&&xg.active),onClick:s,children:[Z("img",{alt:"avatar",src:n.interlocutorInfo.avatarUrl}),Qe("div",{className:xg.chatInfo,children:[Z("span",{className:xg.username,children:n.interlocutorInfo.alias||n.interlocutorInfo.nickname}),n.lastUpdate&&Z("span",{children:ae(n.lastUpdate).fromNow()}),Z("p",{children:n.lastMessage})]})]},n.interlocutorInfo.uid)},ome=X.memo(sme);const ame="Rbz",ume="ZJj",rL={container:ame,closed:ume};var lme=function(){var e=Sd(),n=Tu(),r=X.useMemo(function(){return!!e.pathname.match(/\/.+/g)},[e.pathname]);return X.useEffect(function(){n(gU.actions.setIsChatOpened(r))},[r]),Qe("div",{className:vu(rL.container,!r&&rL.closed),children:[Z(eme,{}),Z(iU,{})]})};const cme="YEy",hme="nrP",fme="EIi",dme="_1Wn",pme="DjV",gme="Cim",tl={container:cme,title:hme,subtitle:fme,form:dme,error:pme,login:gme};function ET(t){return ET=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ET(t)}function ST(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ST=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(I,_,w){I[_]=w.value},i=typeof Symbol=="function"?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(I,_,w){return Object.defineProperty(I,_,{value:w,enumerable:!0,configurable:!0,writable:!0}),I[_]}try{l({},"")}catch{l=function(w,N,D){return w[N]=D}}function h(I,_,w,N){var D=_&&_.prototype instanceof g?_:g,O=Object.create(D.prototype),M=new ie(N||[]);return r(O,"_invoke",{value:F(I,w,M)}),O}function d(I,_,w){try{return{type:"normal",arg:I.call(_,w)}}catch(N){return{type:"throw",arg:N}}}t.wrap=h;var p={};function g(){}function v(){}function E(){}var C={};l(C,s,function(){return this});var R=Object.getPrototypeOf,S=R&&R(R(re([])));S&&S!==e&&n.call(S,s)&&(C=S);var T=E.prototype=g.prototype=Object.create(C);function k(I){["next","throw","return"].forEach(function(_){l(I,_,function(w){return this._invoke(_,w)})})}function b(I,_){function w(D,O,M,B){var H=d(I[D],I,O);if(H.type!=="throw"){var ue=H.arg,fe=ue.value;return fe&&ET(fe)=="object"&&n.call(fe,"__await")?_.resolve(fe.__await).then(function(Se){w("next",Se,M,B)},function(Se){w("throw",Se,M,B)}):_.resolve(fe).then(function(Se){ue.value=Se,M(ue)},function(Se){return w("throw",Se,M,B)})}B(H.arg)}var N;r(this,"_invoke",{value:function(O,M){function B(){return new _(function(H,ue){w(O,M,H,ue)})}return N=N?N.then(B,B):B()}})}function F(I,_,w){var N="suspendedStart";return function(D,O){if(N==="executing")throw new Error("Generator is already running");if(N==="completed"){if(D==="throw")throw O;return Ne()}for(w.method=D,w.arg=O;;){var M=w.delegate;if(M){var B=V(M,w);if(B){if(B===p)continue;return B}}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(N==="suspendedStart")throw N="completed",w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);N="executing";var H=d(I,_,w);if(H.type==="normal"){if(N=w.done?"completed":"suspendedYield",H.arg===p)continue;return{value:H.arg,done:w.done}}H.type==="throw"&&(N="completed",w.method="throw",w.arg=H.arg)}}}function V(I,_){var w=_.method,N=I.iterator[w];if(N===void 0)return _.delegate=null,w==="throw"&&I.iterator.return&&(_.method="return",_.arg=void 0,V(I,_),_.method==="throw")||w!=="return"&&(_.method="throw",_.arg=new TypeError("The iterator does not provide a '"+w+"' method")),p;var D=d(N,I.iterator,_.arg);if(D.type==="throw")return _.method="throw",_.arg=D.arg,_.delegate=null,p;var O=D.arg;return O?O.done?(_[I.resultName]=O.value,_.next=I.nextLoc,_.method!=="return"&&(_.method="next",_.arg=void 0),_.delegate=null,p):O:(_.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,p)}function W(I){var _={tryLoc:I[0]};1 in I&&(_.catchLoc=I[1]),2 in I&&(_.finallyLoc=I[2],_.afterLoc=I[3]),this.tryEntries.push(_)}function G(I){var _=I.completion||{};_.type="normal",delete _.arg,I.completion=_}function ie(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(W,this),this.reset(!0)}function re(I){if(I){var _=I[s];if(_)return _.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var w=-1,N=function D(){for(;++w<I.length;)if(n.call(I,w))return D.value=I[w],D.done=!1,D;return D.value=void 0,D.done=!0,D};return N.next=N}}return{next:Ne}}function Ne(){return{value:void 0,done:!0}}return v.prototype=E,r(T,"constructor",{value:E,configurable:!0}),r(E,"constructor",{value:v,configurable:!0}),v.displayName=l(E,u,"GeneratorFunction"),t.isGeneratorFunction=function(I){var _=typeof I=="function"&&I.constructor;return!!_&&(_===v||(_.displayName||_.name)==="GeneratorFunction")},t.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,E):(I.__proto__=E,l(I,u,"GeneratorFunction")),I.prototype=Object.create(T),I},t.awrap=function(I){return{__await:I}},k(b.prototype),l(b.prototype,o,function(){return this}),t.AsyncIterator=b,t.async=function(I,_,w,N,D){D===void 0&&(D=Promise);var O=new b(h(I,_,w,N),D);return t.isGeneratorFunction(_)?O:O.next().then(function(M){return M.done?M.value:O.next()})},k(T),l(T,u,"Generator"),l(T,s,function(){return this}),l(T,"toString",function(){return"[object Generator]"}),t.keys=function(I){var _=Object(I),w=[];for(var N in _)w.push(N);return w.reverse(),function D(){for(;w.length;){var O=w.pop();if(O in _)return D.value=O,D.done=!1,D}return D.done=!0,D}},t.values=re,ie.prototype={constructor:ie,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(G),!_)for(var w in this)w.charAt(0)==="t"&&n.call(this,w)&&!isNaN(+w.slice(1))&&(this[w]=void 0)},stop:function(){this.done=!0;var _=this.tryEntries[0].completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var w=this;function N(ue,fe){return M.type="throw",M.arg=_,w.next=ue,fe&&(w.method="next",w.arg=void 0),!!fe}for(var D=this.tryEntries.length-1;D>=0;--D){var O=this.tryEntries[D],M=O.completion;if(O.tryLoc==="root")return N("end");if(O.tryLoc<=this.prev){var B=n.call(O,"catchLoc"),H=n.call(O,"finallyLoc");if(B&&H){if(this.prev<O.catchLoc)return N(O.catchLoc,!0);if(this.prev<O.finallyLoc)return N(O.finallyLoc)}else if(B){if(this.prev<O.catchLoc)return N(O.catchLoc,!0)}else{if(!H)throw new Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return N(O.finallyLoc)}}}},abrupt:function(_,w){for(var N=this.tryEntries.length-1;N>=0;--N){var D=this.tryEntries[N];if(D.tryLoc<=this.prev&&n.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var O=D;break}}O&&(_==="break"||_==="continue")&&O.tryLoc<=w&&w<=O.finallyLoc&&(O=null);var M=O?O.completion:{};return M.type=_,M.arg=w,O?(this.method="next",this.next=O.finallyLoc,p):this.complete(M)},complete:function(_,w){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&w&&(this.next=w),p},finish:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.finallyLoc===_)return this.complete(N.completion,N.afterLoc),G(N),p}},catch:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.tryLoc===_){var D=N.completion;if(D.type==="throw"){var O=D.arg;G(N)}return O}}throw new Error("illegal catch attempt")},delegateYield:function(_,w,N){return this.delegate={iterator:re(_),resultName:w,nextLoc:N},this.method==="next"&&(this.arg=void 0),p}},t}function iL(t,e,n,r,i,s,o){try{var u=t[s](o),l=u.value}catch(h){n(h);return}u.done?e(l):Promise.resolve(l).then(r,i)}function mme(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(l){iL(s,r,i,o,u,"next",l)}function u(l){iL(s,r,i,o,u,"throw",l)}o(void 0)})}}var _me=function(){var e=FM(),n=e.t,r=Tu(),i=wr(function(h){return h.app}),s=i.errors.loginUser,o=i.loading.isLoginUser,u=function(){var h=mme(ST().mark(function d(p){var g,v,E;return ST().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:p.preventDefault(),g=p.target,v=g.email,E=g.password,r(He.actions.loginUser({email:v.value,password:E.value}));case 3:case"end":return R.stop()}},d)}));return function(p){return h.apply(this,arguments)}}(),l=function(){r(jI.actions.resetErrors())};return Qe("div",{className:tl.container,children:[Z("h2",{className:tl.title,children:"Chat"}),Z("h3",{className:tl.subtitle,children:"Login"}),Qe("form",{className:tl.form,onSubmit:u,children:[Z("input",{required:!0,name:Mo.Email,placeholder:"email@mail.com",type:"email"}),Z("input",{required:!0,name:Mo.Password,placeholder:"password",type:"password"}),s&&Z("p",{className:tl.error,children:n(s)}),Z("button",{disabled:o,type:"submit",children:"Sign in"})]}),Qe("p",{className:tl.login,children:["Don't have an account?"," ",Z(Dv,{to:"".concat(Sn.Root).concat(Sn.Register),onClick:l,children:"Register"})]})]})};function gd(t){return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function vme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y6(r.key),r)}}function yme(t,e,n){return e&&sL(t.prototype,e),n&&sL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wme(t,e,n){return e=y6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y6(t){var e=Eme(t,"string");return gd(e)==="symbol"?e:String(e)}function Eme(t,e){if(gd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vc=function(){function t(){vme(this,t)}return yme(t,null,[{key:"navigate",value:function(n,r){this.navigator&&(typeof n=="number"?this.navigator(n):this.navigator(n,r))}}]),t}();wme(Vc,"navigator",null);var Sme=function(){return Vc.navigator=OI(),null};const Tme="jS7",Ime="oSO",Cme="rMO",Rme="myD",Dg={container:Tme,title:Ime,loading:Cme,loadingDots:Rme};var oL=function(){return NI(function(){setTimeout(function(){Vc.navigate(Sn.Root)},3e3)}),Qe("div",{className:Dg.container,children:[Z("p",{className:Dg.title,children:"This page doesn't exist."}),Qe("p",{className:Dg.loading,children:["Redirecting to the homepage",Z(She,{className:Dg.loadingDots})]})]})};const Ame="Kv-",Pme="Sx9",kme="ldd",bme="-ft",Ome="jUq",Nme="LLm",nl={container:Ame,title:Pme,subtitle:kme,form:bme,error:Ome,login:Nme};var Mo;(function(t){t.Nickname="nickname",t.Email="email",t.Password="password",t.File="file"})(Mo||(Mo={}));function TT(t){return TT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TT(t)}function IT(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */IT=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(I,_,w){I[_]=w.value},i=typeof Symbol=="function"?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(I,_,w){return Object.defineProperty(I,_,{value:w,enumerable:!0,configurable:!0,writable:!0}),I[_]}try{l({},"")}catch{l=function(w,N,D){return w[N]=D}}function h(I,_,w,N){var D=_&&_.prototype instanceof g?_:g,O=Object.create(D.prototype),M=new ie(N||[]);return r(O,"_invoke",{value:F(I,w,M)}),O}function d(I,_,w){try{return{type:"normal",arg:I.call(_,w)}}catch(N){return{type:"throw",arg:N}}}t.wrap=h;var p={};function g(){}function v(){}function E(){}var C={};l(C,s,function(){return this});var R=Object.getPrototypeOf,S=R&&R(R(re([])));S&&S!==e&&n.call(S,s)&&(C=S);var T=E.prototype=g.prototype=Object.create(C);function k(I){["next","throw","return"].forEach(function(_){l(I,_,function(w){return this._invoke(_,w)})})}function b(I,_){function w(D,O,M,B){var H=d(I[D],I,O);if(H.type!=="throw"){var ue=H.arg,fe=ue.value;return fe&&TT(fe)=="object"&&n.call(fe,"__await")?_.resolve(fe.__await).then(function(Se){w("next",Se,M,B)},function(Se){w("throw",Se,M,B)}):_.resolve(fe).then(function(Se){ue.value=Se,M(ue)},function(Se){return w("throw",Se,M,B)})}B(H.arg)}var N;r(this,"_invoke",{value:function(O,M){function B(){return new _(function(H,ue){w(O,M,H,ue)})}return N=N?N.then(B,B):B()}})}function F(I,_,w){var N="suspendedStart";return function(D,O){if(N==="executing")throw new Error("Generator is already running");if(N==="completed"){if(D==="throw")throw O;return Ne()}for(w.method=D,w.arg=O;;){var M=w.delegate;if(M){var B=V(M,w);if(B){if(B===p)continue;return B}}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(N==="suspendedStart")throw N="completed",w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);N="executing";var H=d(I,_,w);if(H.type==="normal"){if(N=w.done?"completed":"suspendedYield",H.arg===p)continue;return{value:H.arg,done:w.done}}H.type==="throw"&&(N="completed",w.method="throw",w.arg=H.arg)}}}function V(I,_){var w=_.method,N=I.iterator[w];if(N===void 0)return _.delegate=null,w==="throw"&&I.iterator.return&&(_.method="return",_.arg=void 0,V(I,_),_.method==="throw")||w!=="return"&&(_.method="throw",_.arg=new TypeError("The iterator does not provide a '"+w+"' method")),p;var D=d(N,I.iterator,_.arg);if(D.type==="throw")return _.method="throw",_.arg=D.arg,_.delegate=null,p;var O=D.arg;return O?O.done?(_[I.resultName]=O.value,_.next=I.nextLoc,_.method!=="return"&&(_.method="next",_.arg=void 0),_.delegate=null,p):O:(_.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,p)}function W(I){var _={tryLoc:I[0]};1 in I&&(_.catchLoc=I[1]),2 in I&&(_.finallyLoc=I[2],_.afterLoc=I[3]),this.tryEntries.push(_)}function G(I){var _=I.completion||{};_.type="normal",delete _.arg,I.completion=_}function ie(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(W,this),this.reset(!0)}function re(I){if(I){var _=I[s];if(_)return _.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var w=-1,N=function D(){for(;++w<I.length;)if(n.call(I,w))return D.value=I[w],D.done=!1,D;return D.value=void 0,D.done=!0,D};return N.next=N}}return{next:Ne}}function Ne(){return{value:void 0,done:!0}}return v.prototype=E,r(T,"constructor",{value:E,configurable:!0}),r(E,"constructor",{value:v,configurable:!0}),v.displayName=l(E,u,"GeneratorFunction"),t.isGeneratorFunction=function(I){var _=typeof I=="function"&&I.constructor;return!!_&&(_===v||(_.displayName||_.name)==="GeneratorFunction")},t.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,E):(I.__proto__=E,l(I,u,"GeneratorFunction")),I.prototype=Object.create(T),I},t.awrap=function(I){return{__await:I}},k(b.prototype),l(b.prototype,o,function(){return this}),t.AsyncIterator=b,t.async=function(I,_,w,N,D){D===void 0&&(D=Promise);var O=new b(h(I,_,w,N),D);return t.isGeneratorFunction(_)?O:O.next().then(function(M){return M.done?M.value:O.next()})},k(T),l(T,u,"Generator"),l(T,s,function(){return this}),l(T,"toString",function(){return"[object Generator]"}),t.keys=function(I){var _=Object(I),w=[];for(var N in _)w.push(N);return w.reverse(),function D(){for(;w.length;){var O=w.pop();if(O in _)return D.value=O,D.done=!1,D}return D.done=!0,D}},t.values=re,ie.prototype={constructor:ie,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(G),!_)for(var w in this)w.charAt(0)==="t"&&n.call(this,w)&&!isNaN(+w.slice(1))&&(this[w]=void 0)},stop:function(){this.done=!0;var _=this.tryEntries[0].completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var w=this;function N(ue,fe){return M.type="throw",M.arg=_,w.next=ue,fe&&(w.method="next",w.arg=void 0),!!fe}for(var D=this.tryEntries.length-1;D>=0;--D){var O=this.tryEntries[D],M=O.completion;if(O.tryLoc==="root")return N("end");if(O.tryLoc<=this.prev){var B=n.call(O,"catchLoc"),H=n.call(O,"finallyLoc");if(B&&H){if(this.prev<O.catchLoc)return N(O.catchLoc,!0);if(this.prev<O.finallyLoc)return N(O.finallyLoc)}else if(B){if(this.prev<O.catchLoc)return N(O.catchLoc,!0)}else{if(!H)throw new Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return N(O.finallyLoc)}}}},abrupt:function(_,w){for(var N=this.tryEntries.length-1;N>=0;--N){var D=this.tryEntries[N];if(D.tryLoc<=this.prev&&n.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var O=D;break}}O&&(_==="break"||_==="continue")&&O.tryLoc<=w&&w<=O.finallyLoc&&(O=null);var M=O?O.completion:{};return M.type=_,M.arg=w,O?(this.method="next",this.next=O.finallyLoc,p):this.complete(M)},complete:function(_,w){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&w&&(this.next=w),p},finish:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.finallyLoc===_)return this.complete(N.completion,N.afterLoc),G(N),p}},catch:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.tryLoc===_){var D=N.completion;if(D.type==="throw"){var O=D.arg;G(N)}return O}}throw new Error("illegal catch attempt")},delegateYield:function(_,w,N){return this.delegate={iterator:re(_),resultName:w,nextLoc:N},this.method==="next"&&(this.arg=void 0),p}},t}function aL(t,e,n,r,i,s,o){try{var u=t[s](o),l=u.value}catch(h){n(h);return}u.done?e(l):Promise.resolve(l).then(r,i)}function xme(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(l){aL(s,r,i,o,u,"next",l)}function u(l){aL(s,r,i,o,u,"throw",l)}o(void 0)})}}function Dme(t,e){return Fme(t)||Ume(t,e)||Mme(t,e)||Lme()}function Lme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mme(t,e){if(t){if(typeof t=="string")return uL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uL(t,e)}}function uL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ume(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,u=[],l=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(d){h=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function Fme(t){if(Array.isArray(t))return t}var $me=function(){var e=X.useState(""),n=Dme(e,2),r=n[0],i=n[1],s=FM(),o=s.t,u=Tu(),l=wr(function(E){return E.app}),h=l.errors.registerUser,d=l.loading.isRegisterUser,p=function(C){if(C.target.files){var R=C.target.files[0],S=new FileReader;S.onload=function(){S.readyState===2&&typeof S.result=="string"&&i(S.result)},R&&S.readAsDataURL(R)}},g=function(){var E=xme(IT().mark(function C(R){var S,T,k,b,F;return IT().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:R.preventDefault(),S=R.target,T=S.nickname,k=S.email,b=S.password,F=S.file,u(He.actions.registerUser({nickname:T.value,email:k.value,password:b.value,avatar:F.files&&F.files[0]}));case 3:case"end":return W.stop()}},C)}));return function(R){return E.apply(this,arguments)}}(),v=function(){u(jI.actions.resetErrors())};return Qe("div",{className:nl.container,children:[Z("h2",{className:nl.title,children:"Chat"}),Z("h3",{className:nl.subtitle,children:"Register"}),Qe("form",{className:nl.form,onSubmit:g,children:[Z("input",{required:!0,name:Mo.Nickname,placeholder:"Nickname",type:"text"}),Z("input",{required:!0,name:Mo.Email,placeholder:"email@mail.com",type:"email"}),Z("input",{required:!0,minLength:6,name:Mo.Password,placeholder:"password",type:"password"}),Qe("label",{htmlFor:"file",children:[Z("input",{hidden:!0,accept:"image/*",id:"file",name:Mo.File,type:"file",onChange:p}),Z(Lv.AddAvatar,{}),r?Z("img",{alt:"avatar",src:r}):Z("span",{children:"Add an avatar"})]}),h&&Z("p",{className:nl.error,children:o(h)}),Z("button",{disabled:d,type:"submit",children:"Sign up"})]}),Qe("p",{className:nl.login,children:["Do you already have an account?"," ",Z(Dv,{to:"".concat(Sn.Root).concat(Sn.Login),onClick:v,children:"Login"})]})]})},Vme=function(){return Qe(WK,{children:[Z(Sme,{}),Qe(MK,{children:[Qe(Da,{element:Z(yhe,{}),errorElement:Z(oL,{}),path:Sn.Root,children:[Z(Da,{element:Z(Wge,{children:Z(lme,{})}),path:Sn.Root,children:Z(Da,{element:Z(KK,{}),path:":".concat(lS.ChatId)})}),Z(Da,{element:Z(_me,{}),path:Sn.Login}),Z(Da,{element:Z($me,{}),path:Sn.Register})]}),Z(Da,{element:Z(oL,{}),path:"*"})]})]})},IA="persist:",w6="persist/FLUSH",CA="persist/REHYDRATE",E6="persist/PAUSE",S6="persist/PERSIST",T6="persist/PURGE",I6="persist/REGISTER",Wme=-1;function fm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fm=function(n){return typeof n}:fm=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},fm(t)}function lL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jme(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lL(n,!0).forEach(function(r){Bme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lL(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bme(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zme(t,e,n,r){r.debug;var i=jme({},n);return t&&fm(t)==="object"&&Object.keys(t).forEach(function(s){s!=="_persist"&&e[s]===n[s]&&(i[s]=t[s])}),i}function Hme(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,s="".concat(t.keyPrefix!==void 0?t.keyPrefix:IA).concat(t.key),o=t.storage,u;t.serialize===!1?u=function(F){return F}:typeof t.serialize=="function"?u=t.serialize:u=qme;var l=t.writeFailHandler||null,h={},d={},p=[],g=null,v=null,E=function(F){Object.keys(F).forEach(function(V){S(V)&&h[V]!==F[V]&&p.indexOf(V)===-1&&p.push(V)}),Object.keys(h).forEach(function(V){F[V]===void 0&&S(V)&&p.indexOf(V)===-1&&h[V]!==void 0&&p.push(V)}),g===null&&(g=setInterval(C,i)),h=F};function C(){if(p.length===0){g&&clearInterval(g),g=null;return}var b=p.shift(),F=r.reduce(function(V,W){return W.in(V,b,h)},h[b]);if(F!==void 0)try{d[b]=u(F)}catch(V){console.error("redux-persist/createPersistoid: error serializing state",V)}else delete d[b];p.length===0&&R()}function R(){Object.keys(d).forEach(function(b){h[b]===void 0&&delete d[b]}),v=o.setItem(s,u(d)).catch(T)}function S(b){return!(n&&n.indexOf(b)===-1&&b!=="_persist"||e&&e.indexOf(b)!==-1)}function T(b){l&&l(b)}var k=function(){for(;p.length!==0;)C();return v||Promise.resolve()};return{update:E,flush:k}}function qme(t){return JSON.stringify(t)}function Gme(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:IA).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(o){return o}:typeof t.deserialize=="function"?i=t.deserialize:i=Yme,r.getItem(n).then(function(s){if(s)try{var o={},u=i(s);return Object.keys(u).forEach(function(l){o[l]=e.reduceRight(function(h,d){return d.out(h,l,u)},i(u[l]))}),o}catch(l){throw l}else return})}function Yme(t){return JSON.parse(t)}function Kme(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:IA).concat(t.key);return e.removeItem(n,Qme)}function Qme(t){}function cL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cL(n,!0).forEach(function(r){Xme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cL(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xme(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jme(t,e){if(t==null)return{};var n=Zme(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zme(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var e_e=5e3;function t_e(t,e){var n=t.version!==void 0?t.version:Wme;t.debug;var r=t.stateReconciler===void 0?zme:t.stateReconciler,i=t.getStoredState||Gme,s=t.timeout!==void 0?t.timeout:e_e,o=null,u=!1,l=!0,h=function(p){return p._persist.rehydrated&&o&&!l&&o.update(p),p};return function(d,p){var g=d||{},v=g._persist,E=Jme(g,["_persist"]),C=E;if(p.type===S6){var R=!1,S=function(G,ie){R||(p.rehydrate(t.key,G,ie),R=!0)};if(s&&setTimeout(function(){!R&&S(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},s),l=!1,o||(o=Hme(t)),v)return Rs({},e(C,p),{_persist:v});if(typeof p.rehydrate!="function"||typeof p.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return p.register(t.key),i(t).then(function(W){var G=t.migrate||function(ie,re){return Promise.resolve(ie)};G(W,n).then(function(ie){S(ie)},function(ie){S(void 0,ie)})},function(W){S(void 0,W)}),Rs({},e(C,p),{_persist:{version:n,rehydrated:!1}})}else{if(p.type===T6)return u=!0,p.result(Kme(t)),Rs({},e(C,p),{_persist:v});if(p.type===w6)return p.result(o&&o.flush()),Rs({},e(C,p),{_persist:v});if(p.type===E6)l=!0;else if(p.type===CA){if(u)return Rs({},C,{_persist:Rs({},v,{rehydrated:!0})});if(p.key===t.key){var T=e(C,p),k=p.payload,b=r!==!1&&k!==void 0?r(k,d,T,t):T,F=Rs({},b,{_persist:Rs({},v,{rehydrated:!0})});return h(F)}}}if(!v)return e(d,p);var V=e(C,p);return V===C?d:h(Rs({},V,{_persist:v}))}}function hL(t){return i_e(t)||r_e(t)||n_e()}function n_e(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function r_e(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function i_e(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function fL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fL(n,!0).forEach(function(r){s_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fL(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s_e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var C6={registry:[],bootstrapped:!1},o_e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:C6,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case I6:return CT({},e,{registry:[].concat(hL(e.registry),[n.key])});case CA:var r=e.registry.indexOf(n.key),i=hL(e.registry);return i.splice(r,1),CT({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function a_e(t,e,n){var r=n||!1,i=$I(o_e,C6,e&&e.enhancer?e.enhancer:void 0),s=function(h){i.dispatch({type:I6,key:h})},o=function(h,d,p){var g={type:CA,payload:d,err:p,key:h};t.dispatch(g),i.dispatch(g),r&&u.getState().bootstrapped&&(r(),r=!1)},u=CT({},i,{purge:function(){var h=[];return t.dispatch({type:T6,result:function(p){h.push(p)}}),Promise.all(h)},flush:function(){var h=[];return t.dispatch({type:w6,result:function(p){h.push(p)}}),Promise.all(h)},pause:function(){t.dispatch({type:E6})},persist:function(){t.dispatch({type:S6,register:s,rehydrate:o})}});return e&&e.manualPersist||u.persist(),u}var RA={},AA={};AA.__esModule=!0;AA.default=c_e;function dm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dm=function(n){return typeof n}:dm=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},dm(t)}function ZE(){}var u_e={getItem:ZE,setItem:ZE,removeItem:ZE};function l_e(t){if((typeof self>"u"?"undefined":dm(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function c_e(t){var e="".concat(t,"Storage");return l_e(e)?self[e]:u_e}RA.__esModule=!0;RA.default=d_e;var h_e=f_e(AA);function f_e(t){return t&&t.__esModule?t:{default:t}}function d_e(t){var e=(0,h_e.default)(t);return{getItem:function(r){return new Promise(function(i,s){i(e.getItem(r))})},setItem:function(r,i){return new Promise(function(s,o){s(e.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,s){i(e.removeItem(r))})}}}var R6=void 0,p_e=g_e(RA);function g_e(t){return t&&t.__esModule?t:{default:t}}var m_e=(0,p_e.default)("local");R6=m_e;var Vi=function(e){return"@@redux-saga/"+e},__e=Vi("CANCEL_PROMISE"),A6=Vi("CHANNEL_END"),P6=Vi("IO"),dL=Vi("MATCH"),k6=Vi("MULTICAST"),b6=Vi("SAGA_ACTION"),O6=Vi("SELF_CANCELLATION"),v_e=Vi("TASK"),ql=Vi("TASK_CANCEL"),N6=Vi("TERMINATE"),y_e=Vi("LOCATION"),x6=function(e){return e==null},pm=function(e){return e!=null},Er=function(e){return typeof e=="function"},PA=function(e){return typeof e=="string"},Ea=Array.isArray,Hy=function(e){return e&&Er(e.then)},kA=function(e){return e&&Er(e.next)&&Er(e.throw)},pL=function t(e){return e&&(PA(e)||L6(e)||Er(e)||Ea(e)&&e.every(t))},bA=function(e){return e&&Er(e.take)&&Er(e.close)},D6=function(e){return Er(e)&&e.hasOwnProperty("toString")},L6=function(e){return Boolean(e)&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype},w_e=function(e){return bA(e)&&e[k6]},E_e=function(e){return function(){return e}},S_e=E_e(!0),er=function(){},T_e=function(e){return e},OA=function(e,n){zm(e,n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(n).forEach(function(r){e[r]=n[r]})},I_e=function(e,n){var r;return(r=[]).concat.apply(r,n.map(e))};function qy(t,e){var n=t.indexOf(e);n>=0&&t.splice(n,1)}function C_e(t){var e=!1;return function(){e||(e=!0,t())}}var R_e=function(e){throw e},A_e=function(e){return{value:e,done:!0}};function RT(t,e,n){e===void 0&&(e=R_e),n===void 0&&(n="iterator");var r={meta:{name:n},next:t,throw:e,return:A_e,isSagaIterator:!0};return typeof Symbol<"u"&&(r[Symbol.iterator]=function(){return r}),r}function P_e(t,e){var n=e.sagaStack;console.error(t),console.error(n)}var M6=function(e){return Array.apply(null,new Array(e))},k_e=function(e){return function(n){return e(Object.defineProperty(n,b6,{value:!0}))}},U6=function(e){return e===N6},F6=function(e){return e===ql},$6=function(e){return U6(e)||F6(e)};function V6(t,e){var n=Object.keys(t),r=n.length,i=0,s,o=Ea(t)?M6(r):{},u={};function l(){i===r&&(s=!0,e(o))}return n.forEach(function(h){var d=function(g,v){s||(v||$6(g)?(e.cancel(),e(g,v)):(o[h]=g,i++,l()))};d.cancel=er,u[h]=d}),e.cancel=function(){s||(s=!0,n.forEach(function(h){return u[h].cancel()}))},u}function NA(t){return{name:t.name||"anonymous",location:W6(t)}}function W6(t){return t[y_e]}var b_e="Channel's Buffer overflow!",O_e=1,N_e=3,j6=4;function x_e(t,e){t===void 0&&(t=10);var n=new Array(t),r=0,i=0,s=0,o=function(d){n[i]=d,i=(i+1)%t,r++},u=function(){if(r!=0){var d=n[s];return n[s]=null,r--,s=(s+1)%t,d}},l=function(){for(var d=[];r;)d.push(u());return d};return{isEmpty:function(){return r==0},put:function(d){if(r<t)o(d);else{var p;switch(e){case O_e:throw new Error(b_e);case N_e:n[i]=d,i=(i+1)%t,s=i;break;case j6:p=2*t,n=l(),r=n.length,i=n.length,s=0,n.length=p,t=p,o(d);break}}},take:u,flush:l}}var D_e=function(e){return x_e(e,j6)},gm="TAKE",B6="PUT",z6="ALL",L_e="RACE",H6="CALL",M_e="CPS",q6="FORK",U_e="JOIN",G6="CANCEL",F_e="SELECT",$_e="ACTION_CHANNEL",V_e="CANCELLED",W_e="FLUSH",j_e="GET_CONTEXT",B_e="SET_CONTEXT",na=function(e,n){var r;return r={},r[P6]=!0,r.combinator=!1,r.type=e,r.payload=n,r};function z_e(t,e){if(t===void 0&&(t="*"),pL(t))return pm(e)&&console.warn("take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types"),na(gm,{pattern:t});if(w_e(t)&&pm(e)&&pL(e))return na(gm,{channel:t,pattern:e});if(bA(t))return pm(e)&&console.warn("take(channel) takes one argument but two were provided. Second argument is ignored."),na(gm,{channel:t})}function pa(t,e){return x6(e)&&(e=t,t=void 0),na(B6,{channel:t,action:e})}function H_e(t){var e=na(z6,t);return e.combinator=!0,e}function Y6(t,e){var n=null,r;return Er(t)?r=t:(Ea(t)?(n=t[0],r=t[1]):(n=t.context,r=t.fn),n&&PA(r)&&Er(n[r])&&(r=n[r])),{context:n,fn:r,args:e}}function Gy(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return na(H6,Y6(t,n))}function K6(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return na(q6,Y6(t,n))}function q_e(t){return t===void 0&&(t=O6),na(G6,t)}function G_e(){var t={};return t.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),t}var Q6=[],Yy=0;function Y_e(t){try{xA(),t()}finally{Z6()}}function X6(t){Q6.push(t),Yy||(xA(),eW())}function J6(t){try{return xA(),t()}finally{eW()}}function xA(){Yy++}function Z6(){Yy--}function eW(){Z6();for(var t;!Yy&&(t=Q6.shift())!==void 0;)Y_e(t)}var K_e=function(e){return function(n){return e.some(function(r){return DA(r)(n)})}},Q_e=function(e){return function(n){return e(n)}},gL=function(e){return function(n){return n.type===String(e)}},X_e=function(e){return function(n){return n.type===e}},tW=function(){return S_e};function DA(t){var e=t==="*"?tW:PA(t)?gL:Ea(t)?K_e:D6(t)?gL:Er(t)?Q_e:L6(t)?X_e:null;if(e===null)throw new Error("invalid pattern: "+t);return e(t)}var df={type:A6},LA=function(e){return e&&e.type===A6};function J_e(t){t===void 0&&(t=D_e());var e=!1,n=[];function r(u){if(!e){if(n.length===0)return t.put(u);var l=n.shift();l(u)}}function i(u){e&&t.isEmpty()?u(df):t.isEmpty()?(n.push(u),u.cancel=function(){qy(n,u)}):u(t.take())}function s(u){if(e&&t.isEmpty()){u(df);return}u(t.flush())}function o(){if(!e){e=!0;var u=n;n=[];for(var l=0,h=u.length;l<h;l++){var d=u[l];d(df)}}}return{take:i,put:r,flush:s,close:o}}function Z_e(){var t,e=!1,n=[],r=n,i=function(){r===n&&(r=n.slice())},s=function(){e=!0;var u=n=r;r=[],u.forEach(function(l){l(df)})};return t={},t[k6]=!0,t.put=function(u){if(!e){if(LA(u)){s();return}for(var l=n=r,h=0,d=l.length;h<d;h++){var p=l[h];p[dL](u)&&(p.cancel(),p(u))}}},t.take=function(u,l){if(l===void 0&&(l=tW),e){u(df);return}u[dL]=l,i(),r.push(u),u.cancel=C_e(function(){i(),qy(r,u)})},t.close=s,t}function nW(){var t=Z_e(),e=t.put;return t.put=function(n){if(n[b6]){e(n);return}X6(function(){e(n)})},t}var $a=0,Os=1,mm=2,rW=3;function MA(t,e){var n=t[__e];Er(n)&&(e.cancel=n),t.then(e,function(r){e(r,!0)})}var ip=0,iW=function(){return++ip},pn;function eve(t,e){return t.isSagaIterator?{name:t.meta.name}:NA(e)}function tve(t){var e=t.context,n=t.fn,r=t.args;try{var i=n.apply(e,r);if(kA(i))return i;var s=!1,o=function(l){return s?{value:l,done:!0}:(s=!0,{value:i,done:!Hy(i)})};return RT(o)}catch(u){return RT(function(){throw u})}}function nve(t,e,n){var r=e.channel,i=e.action,s=e.resolve;X6(function(){var o;try{o=(r?r.put:t.dispatch)(i)}catch(u){n(u,!0);return}s&&Hy(o)?MA(o,n):n(o)})}function rve(t,e,n){var r=e.channel,i=r===void 0?t.channel:r,s=e.pattern,o=e.maybe,u=function(h){if(h instanceof Error){n(h,!0);return}if(LA(h)&&!o){n(N6);return}n(h)};try{i.take(u,pm(s)?DA(s):null)}catch(l){n(l,!0);return}n.cancel=u.cancel}function ive(t,e,n,r){var i=e.context,s=e.fn,o=e.args,u=r.task;try{var l=s.apply(i,o);if(Hy(l)){MA(l,n);return}if(kA(l)){Ky(t,l,u.context,ip,NA(s),!1,n);return}n(l)}catch(h){n(h,!0)}}function sve(t,e,n){var r=e.context,i=e.fn,s=e.args;try{var o=function(l,h){x6(l)?n(h):n(l,!0)};i.apply(r,s.concat(o)),o.cancel&&(n.cancel=o.cancel)}catch(u){n(u,!0)}}function ove(t,e,n,r){var i=e.context,s=e.fn,o=e.args,u=e.detached,l=r.task,h=tve({context:i,fn:s,args:o}),d=eve(h,s);J6(function(){var p=Ky(t,h,l.context,ip,d,u,void 0);u?n(p):p.isRunning()?(l.queue.addTask(p),n(p)):p.isAborted()?l.queue.abort(p.error()):n(p)})}function ave(t,e,n,r){var i=r.task,s=function(l,h){if(l.isRunning()){var d={task:i,cb:h};h.cancel=function(){l.isRunning()&&qy(l.joiners,d)},l.joiners.push(d)}else l.isAborted()?h(l.error(),!0):h(l.result())};if(Ea(e)){if(e.length===0){n([]);return}var o=V6(e,n);e.forEach(function(u,l){s(u,o[l])})}else s(e,n)}function e1(t){t.isRunning()&&t.cancel()}function uve(t,e,n,r){var i=r.task;e===O6?e1(i):Ea(e)?e.forEach(e1):e1(e),n()}function lve(t,e,n,r){var i=r.digestEffect,s=ip,o=Object.keys(e);if(o.length===0){n(Ea(e)?[]:{});return}var u=V6(e,n);o.forEach(function(l){i(e[l],s,u[l],l)})}function cve(t,e,n,r){var i=r.digestEffect,s=ip,o=Object.keys(e),u=Ea(e)?M6(o.length):{},l={},h=!1;o.forEach(function(d){var p=function(v,E){h||(E||$6(v)?(n.cancel(),n(v,E)):(n.cancel(),h=!0,u[d]=v,n(u)))};p.cancel=er,l[d]=p}),n.cancel=function(){h||(h=!0,o.forEach(function(d){return l[d].cancel()}))},o.forEach(function(d){h||i(e[d],s,l[d],d)})}function hve(t,e,n){var r=e.selector,i=e.args;try{var s=r.apply(void 0,[t.getState()].concat(i));n(s)}catch(o){n(o,!0)}}function fve(t,e,n){var r=e.pattern,i=e.buffer,s=J_e(i),o=DA(r),u=function h(d){LA(d)||t.channel.take(h,o),s.put(d)},l=s.close;s.close=function(){u.cancel(),l()},t.channel.take(u,o),n(s)}function dve(t,e,n,r){var i=r.task;n(i.isCancelled())}function pve(t,e,n){e.flush(n)}function gve(t,e,n,r){var i=r.task;n(i.context[e])}function mve(t,e,n,r){var i=r.task;OA(i.context,e),n()}var _ve=(pn={},pn[gm]=rve,pn[B6]=nve,pn[z6]=lve,pn[L_e]=cve,pn[H6]=ive,pn[M_e]=sve,pn[q6]=ove,pn[U_e]=ave,pn[G6]=uve,pn[F_e]=hve,pn[$_e]=fve,pn[V_e]=dve,pn[W_e]=pve,pn[j_e]=gve,pn[B_e]=mve,pn);function vve(t,e,n){var r=[],i,s=!1;l(t);var o=function(){return r};function u(d){e(),h(),n(d,!0)}function l(d){r.push(d),d.cont=function(p,g){s||(qy(r,d),d.cont=er,g?u(p):(d===t&&(i=p),r.length||(s=!0,n(i))))}}function h(){s||(s=!0,r.forEach(function(d){d.cont=er,d.cancel()}),r=[])}return{addTask:l,cancelAll:h,abort:u,getTasks:o}}function sW(t,e){return t+"?"+e}function yve(t){var e=W6(t);if(e){var n=e.code,r=e.fileName,i=e.lineNumber,s=n+"  "+sW(r,i);return s}return""}function mL(t){var e=t.name,n=t.location;return n?e+"  "+sW(n.fileName,n.lineNumber):e}function wve(t){var e=I_e(function(n){return n.cancelledTasks},t);return e.length?["Tasks cancelled due to error:"].concat(e).join(`
`):""}var UA=null,pf=[],Eve=function(e){e.crashedEffect=UA,pf.push(e)},oW=function(){UA=null,pf.length=0},Sve=function(e){UA=e},Tve=function(){var e=pf[0],n=pf.slice(1),r=e.crashedEffect?yve(e.crashedEffect):null,i="The above error occurred in task "+mL(e.meta)+(r?` 
 when executing effect `+r:"");return[i].concat(n.map(function(s){return"    created by "+mL(s.meta)}),[wve(pf)]).join(`
`)};function Ive(t,e,n,r,i,s,o){var u;o===void 0&&(o=er);var l=$a,h,d,p=null,g=[],v=Object.create(n),E=vve(e,function(){g.push.apply(g,E.getTasks().map(function(F){return F.meta.name}))},R);function C(){l===$a&&(l=Os,E.cancelAll(),R(ql,!1))}function R(b,F){if(!F)b===ql?l=Os:l!==Os&&(l=rW),h=b,p&&p.resolve(b);else{if(l=mm,Eve({meta:i,cancelledTasks:g}),k.isRoot){var V=Tve();oW(),t.onError(b,{sagaStack:V})}d=b,p&&p.reject(b)}k.cont(b,F),k.joiners.forEach(function(W){W.cb(b,F)}),k.joiners=null}function S(b){OA(v,b)}function T(){return p||(p=G_e(),l===mm?p.reject(d):l!==$a&&p.resolve(h)),p.promise}var k=(u={},u[v_e]=!0,u.id=r,u.meta=i,u.isRoot=s,u.context=v,u.joiners=[],u.queue=E,u.cancel=C,u.cont=o,u.end=R,u.setContext=S,u.toPromise=T,u.isRunning=function(){return l===$a},u.isCancelled=function(){return l===Os||l===$a&&e.status===Os},u.isAborted=function(){return l===mm},u.result=function(){return h},u.error=function(){return d},u);return k}function Ky(t,e,n,r,i,s,o){var u=t.finalizeRunEffect(v);g.cancel=er;var l={meta:i,cancel:p,status:$a},h=Ive(t,l,n,r,i,s,o),d={task:h,digestEffect:E};function p(){l.status===$a&&(l.status=Os,g(ql))}return o&&(o.cancel=h.cancel),g(),h;function g(C,R){try{var S;R?(S=e.throw(C),oW()):F6(C)?(l.status=Os,g.cancel(),S=Er(e.return)?e.return(ql):{done:!0,value:ql}):U6(C)?S=Er(e.return)?e.return():{done:!0}:S=e.next(C),S.done?(l.status!==Os&&(l.status=rW),l.cont(S.value)):E(S.value,r,g)}catch(T){if(l.status===Os)throw T;l.status=mm,l.cont(T,!0)}}function v(C,R,S){if(Hy(C))MA(C,S);else if(kA(C))Ky(t,C,h.context,R,i,!1,S);else if(C&&C[P6]){var T=_ve[C.type];T(t,C.payload,S,d)}else S(C)}function E(C,R,S,T){T===void 0&&(T="");var k=iW();t.sagaMonitor&&t.sagaMonitor.effectTriggered({effectId:k,parentEffectId:R,label:T,effect:C});var b;function F(V,W){b||(b=!0,S.cancel=er,t.sagaMonitor&&(W?t.sagaMonitor.effectRejected(k,V):t.sagaMonitor.effectResolved(k,V)),W&&Sve(C),S(V,W))}F.cancel=er,S.cancel=function(){b||(b=!0,F.cancel(),F.cancel=er,t.sagaMonitor&&t.sagaMonitor.effectCancelled(k))},u(C,k,F)}}function Cve(t,e){for(var n=t.channel,r=n===void 0?nW():n,i=t.dispatch,s=t.getState,o=t.context,u=o===void 0?{}:o,l=t.sagaMonitor,h=t.effectMiddlewares,d=t.onError,p=d===void 0?P_e:d,g=arguments.length,v=new Array(g>2?g-2:0),E=2;E<g;E++)v[E-2]=arguments[E];var C=e.apply(void 0,v),R=iW();l&&(l.rootSagaStarted=l.rootSagaStarted||er,l.effectTriggered=l.effectTriggered||er,l.effectResolved=l.effectResolved||er,l.effectRejected=l.effectRejected||er,l.effectCancelled=l.effectCancelled||er,l.actionDispatched=l.actionDispatched||er,l.rootSagaStarted({effectId:R,saga:e,args:v}));var S;if(h){var T=Mf.apply(void 0,h);S=function(F){return function(V,W,G){var ie=function(Ne){return F(Ne,W,G)};return T(ie)(V)}}}else S=T_e;var k={channel:r,dispatch:k_e(i),getState:s,sagaMonitor:l,onError:p,finalizeRunEffect:S};return J6(function(){var b=Ky(k,C,u,R,NA(e),!0,void 0);return l&&l.effectResolved(R,b),b})}function Rve(t){var e=t===void 0?{}:t,n=e.context,r=n===void 0?{}:n,i=e.channel,s=i===void 0?nW():i,o=e.sagaMonitor,u=gY(e,["context","channel","sagaMonitor"]),l;function h(d){var p=d.getState,g=d.dispatch;return l=Cve.bind(null,zm({},u,{context:r,channel:s,dispatch:g,getState:p,sagaMonitor:o})),function(v){return function(E){o&&o.actionDispatched&&o.actionDispatched(E);var C=v(E);return s.put(E),C}}}return h.run=function(){return l.apply(void 0,arguments)},h.setContext=function(d){OA(r,d)},h}var _L=function(e){return{done:!0,value:e}},t1={};function Ave(t){return bA(t)?"channel":D6(t)?String(t):Er(t)?t.name:String(t)}function Pve(t,e,n){var r,i,s,o=e;function u(l,h){if(o===t1)return _L(l);if(h&&!i)throw o=t1,h;r&&r(l);var d=h?t[i](h):t[o]();return o=d.nextState,s=d.effect,r=d.stateUpdater,i=d.errorState,o===t1?_L(l):s}return RT(u,function(l){return u(null,l)},n)}function kve(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s={done:!1,value:z_e(t)},o=function(v){return{done:!1,value:K6.apply(void 0,[e].concat(r,[v]))}},u=function(v){return{done:!1,value:q_e(v)}},l,h,d=function(v){return l=v},p=function(v){return h=v};return Pve({q1:function(){return{nextState:"q2",effect:s,stateUpdater:p}},q2:function(){return l?{nextState:"q3",effect:u(l)}:{nextState:"q1",effect:o(h),stateUpdater:d}},q3:function(){return{nextState:"q1",effect:o(h),stateUpdater:d}}},"q1","takeLatest("+Ave(t)+", "+e.name+")")}function Lg(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return K6.apply(void 0,[kve,t,e].concat(r))}function AT(t){return AT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AT(t)}var bve=Fi().mark(aW);function Fi(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Fi=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(I,_,w){I[_]=w.value},i=typeof Symbol=="function"?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(I,_,w){return Object.defineProperty(I,_,{value:w,enumerable:!0,configurable:!0,writable:!0}),I[_]}try{l({},"")}catch{l=function(w,N,D){return w[N]=D}}function h(I,_,w,N){var D=_&&_.prototype instanceof g?_:g,O=Object.create(D.prototype),M=new ie(N||[]);return r(O,"_invoke",{value:F(I,w,M)}),O}function d(I,_,w){try{return{type:"normal",arg:I.call(_,w)}}catch(N){return{type:"throw",arg:N}}}t.wrap=h;var p={};function g(){}function v(){}function E(){}var C={};l(C,s,function(){return this});var R=Object.getPrototypeOf,S=R&&R(R(re([])));S&&S!==e&&n.call(S,s)&&(C=S);var T=E.prototype=g.prototype=Object.create(C);function k(I){["next","throw","return"].forEach(function(_){l(I,_,function(w){return this._invoke(_,w)})})}function b(I,_){function w(D,O,M,B){var H=d(I[D],I,O);if(H.type!=="throw"){var ue=H.arg,fe=ue.value;return fe&&AT(fe)=="object"&&n.call(fe,"__await")?_.resolve(fe.__await).then(function(Se){w("next",Se,M,B)},function(Se){w("throw",Se,M,B)}):_.resolve(fe).then(function(Se){ue.value=Se,M(ue)},function(Se){return w("throw",Se,M,B)})}B(H.arg)}var N;r(this,"_invoke",{value:function(O,M){function B(){return new _(function(H,ue){w(O,M,H,ue)})}return N=N?N.then(B,B):B()}})}function F(I,_,w){var N="suspendedStart";return function(D,O){if(N==="executing")throw new Error("Generator is already running");if(N==="completed"){if(D==="throw")throw O;return Ne()}for(w.method=D,w.arg=O;;){var M=w.delegate;if(M){var B=V(M,w);if(B){if(B===p)continue;return B}}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(N==="suspendedStart")throw N="completed",w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);N="executing";var H=d(I,_,w);if(H.type==="normal"){if(N=w.done?"completed":"suspendedYield",H.arg===p)continue;return{value:H.arg,done:w.done}}H.type==="throw"&&(N="completed",w.method="throw",w.arg=H.arg)}}}function V(I,_){var w=_.method,N=I.iterator[w];if(N===void 0)return _.delegate=null,w==="throw"&&I.iterator.return&&(_.method="return",_.arg=void 0,V(I,_),_.method==="throw")||w!=="return"&&(_.method="throw",_.arg=new TypeError("The iterator does not provide a '"+w+"' method")),p;var D=d(N,I.iterator,_.arg);if(D.type==="throw")return _.method="throw",_.arg=D.arg,_.delegate=null,p;var O=D.arg;return O?O.done?(_[I.resultName]=O.value,_.next=I.nextLoc,_.method!=="return"&&(_.method="next",_.arg=void 0),_.delegate=null,p):O:(_.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,p)}function W(I){var _={tryLoc:I[0]};1 in I&&(_.catchLoc=I[1]),2 in I&&(_.finallyLoc=I[2],_.afterLoc=I[3]),this.tryEntries.push(_)}function G(I){var _=I.completion||{};_.type="normal",delete _.arg,I.completion=_}function ie(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(W,this),this.reset(!0)}function re(I){if(I){var _=I[s];if(_)return _.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var w=-1,N=function D(){for(;++w<I.length;)if(n.call(I,w))return D.value=I[w],D.done=!1,D;return D.value=void 0,D.done=!0,D};return N.next=N}}return{next:Ne}}function Ne(){return{value:void 0,done:!0}}return v.prototype=E,r(T,"constructor",{value:E,configurable:!0}),r(E,"constructor",{value:v,configurable:!0}),v.displayName=l(E,u,"GeneratorFunction"),t.isGeneratorFunction=function(I){var _=typeof I=="function"&&I.constructor;return!!_&&(_===v||(_.displayName||_.name)==="GeneratorFunction")},t.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,E):(I.__proto__=E,l(I,u,"GeneratorFunction")),I.prototype=Object.create(T),I},t.awrap=function(I){return{__await:I}},k(b.prototype),l(b.prototype,o,function(){return this}),t.AsyncIterator=b,t.async=function(I,_,w,N,D){D===void 0&&(D=Promise);var O=new b(h(I,_,w,N),D);return t.isGeneratorFunction(_)?O:O.next().then(function(M){return M.done?M.value:O.next()})},k(T),l(T,u,"Generator"),l(T,s,function(){return this}),l(T,"toString",function(){return"[object Generator]"}),t.keys=function(I){var _=Object(I),w=[];for(var N in _)w.push(N);return w.reverse(),function D(){for(;w.length;){var O=w.pop();if(O in _)return D.value=O,D.done=!1,D}return D.done=!0,D}},t.values=re,ie.prototype={constructor:ie,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(G),!_)for(var w in this)w.charAt(0)==="t"&&n.call(this,w)&&!isNaN(+w.slice(1))&&(this[w]=void 0)},stop:function(){this.done=!0;var _=this.tryEntries[0].completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var w=this;function N(ue,fe){return M.type="throw",M.arg=_,w.next=ue,fe&&(w.method="next",w.arg=void 0),!!fe}for(var D=this.tryEntries.length-1;D>=0;--D){var O=this.tryEntries[D],M=O.completion;if(O.tryLoc==="root")return N("end");if(O.tryLoc<=this.prev){var B=n.call(O,"catchLoc"),H=n.call(O,"finallyLoc");if(B&&H){if(this.prev<O.catchLoc)return N(O.catchLoc,!0);if(this.prev<O.finallyLoc)return N(O.finallyLoc)}else if(B){if(this.prev<O.catchLoc)return N(O.catchLoc,!0)}else{if(!H)throw new Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return N(O.finallyLoc)}}}},abrupt:function(_,w){for(var N=this.tryEntries.length-1;N>=0;--N){var D=this.tryEntries[N];if(D.tryLoc<=this.prev&&n.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var O=D;break}}O&&(_==="break"||_==="continue")&&O.tryLoc<=w&&w<=O.finallyLoc&&(O=null);var M=O?O.completion:{};return M.type=_,M.arg=w,O?(this.method="next",this.next=O.finallyLoc,p):this.complete(M)},complete:function(_,w){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&w&&(this.next=w),p},finish:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.finallyLoc===_)return this.complete(N.completion,N.afterLoc),G(N),p}},catch:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.tryLoc===_){var D=N.completion;if(D.type==="throw"){var O=D.arg;G(N)}return O}}throw new Error("illegal catch attempt")},delegateYield:function(_,w,N){return this.delegate={iterator:re(_),resultName:w,nextLoc:N},this.method==="next"&&(this.arg=void 0),p}},t}function Ove(t){var e=t.payload;return Fi().mark(function n(){var r,i,s,o,u;return Fi().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,Gy(_u.firebase.registerUser,e);case 2:if(r=h.sent,!(!r.error&&r.user)){h.next=8;break}return u={avatarUrl:(i=r.user.photoURL)!==null&&i!==void 0?i:"",email:(s=r.user.email)!==null&&s!==void 0?s:"",nickname:(o=r.user.displayName)!==null&&o!==void 0?o:"",uid:r.user.uid},h.next=7,pa(He.actions.registerUserSuccess(u));case 7:Vc.navigate(Sn.Root);case 8:if(!r.error){h.next=11;break}return h.next=11,pa(He.actions.registerUserError(r.error));case 11:case"end":return h.stop()}},n)})()}function Nve(t){var e=t.payload;return Fi().mark(function n(){var r,i,s,o,u;return Fi().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,Gy(_u.firebase.loginUser,e);case 2:if(r=h.sent,!(!r.error&&r.user)){h.next=8;break}return u={avatarUrl:(i=r.user.photoURL)!==null&&i!==void 0?i:"",email:(s=r.user.email)!==null&&s!==void 0?s:"",nickname:(o=r.user.displayName)!==null&&o!==void 0?o:"",uid:r.user.uid},h.next=7,pa(He.actions.loginUserSuccess(u));case 7:Vc.navigate(Sn.Root);case 8:if(!r.error){h.next=11;break}return h.next=11,pa(He.actions.loginUserError(r.error));case 11:case"end":return h.stop()}},n)})()}function xve(t){var e=t.payload;return Fi().mark(function n(){var r;return Fi().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Gy(_u.firebase.searchUser,e);case 2:if(r=s.sent,!(!r.error&&r.users)){s.next=6;break}return s.next=6,pa(He.actions.searchUserSuccess(r.users));case 6:if(!r.error){s.next=9;break}return s.next=9,pa(He.actions.searchUserError(r.error));case 9:case"end":return s.stop()}},n)})()}function Dve(t){var e=t.payload;return Fi().mark(function n(){var r;return Fi().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Gy(_u.firebase.getUserChat,e);case 2:if(r=s.sent,!(!r.error&&r.chat)){s.next=7;break}return s.next=6,pa(He.actions.getInterlocutorSuccess(r.chat));case 6:Vc.navigate("".concat(r.chat.chatUid));case 7:if(!r.error){s.next=10;break}return s.next=10,pa(He.actions.getInterlocutorError(r.error));case 10:case"end":return s.stop()}},n)})()}function aW(){return Fi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lg(He.actions.registerUser,Ove);case 2:return e.next=4,Lg(He.actions.loginUser,Nve);case 4:return e.next=6,Lg(He.actions.searchUser,xve);case 6:return e.next=8,Lg(He.actions.getInterlocutor,Dve);case 8:case"end":return e.stop()}},bve)}function PT(t){return PT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PT(t)}function FA(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */FA=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(I,_,w){I[_]=w.value},i=typeof Symbol=="function"?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(I,_,w){return Object.defineProperty(I,_,{value:w,enumerable:!0,configurable:!0,writable:!0}),I[_]}try{l({},"")}catch{l=function(w,N,D){return w[N]=D}}function h(I,_,w,N){var D=_&&_.prototype instanceof g?_:g,O=Object.create(D.prototype),M=new ie(N||[]);return r(O,"_invoke",{value:F(I,w,M)}),O}function d(I,_,w){try{return{type:"normal",arg:I.call(_,w)}}catch(N){return{type:"throw",arg:N}}}t.wrap=h;var p={};function g(){}function v(){}function E(){}var C={};l(C,s,function(){return this});var R=Object.getPrototypeOf,S=R&&R(R(re([])));S&&S!==e&&n.call(S,s)&&(C=S);var T=E.prototype=g.prototype=Object.create(C);function k(I){["next","throw","return"].forEach(function(_){l(I,_,function(w){return this._invoke(_,w)})})}function b(I,_){function w(D,O,M,B){var H=d(I[D],I,O);if(H.type!=="throw"){var ue=H.arg,fe=ue.value;return fe&&PT(fe)=="object"&&n.call(fe,"__await")?_.resolve(fe.__await).then(function(Se){w("next",Se,M,B)},function(Se){w("throw",Se,M,B)}):_.resolve(fe).then(function(Se){ue.value=Se,M(ue)},function(Se){return w("throw",Se,M,B)})}B(H.arg)}var N;r(this,"_invoke",{value:function(O,M){function B(){return new _(function(H,ue){w(O,M,H,ue)})}return N=N?N.then(B,B):B()}})}function F(I,_,w){var N="suspendedStart";return function(D,O){if(N==="executing")throw new Error("Generator is already running");if(N==="completed"){if(D==="throw")throw O;return Ne()}for(w.method=D,w.arg=O;;){var M=w.delegate;if(M){var B=V(M,w);if(B){if(B===p)continue;return B}}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(N==="suspendedStart")throw N="completed",w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);N="executing";var H=d(I,_,w);if(H.type==="normal"){if(N=w.done?"completed":"suspendedYield",H.arg===p)continue;return{value:H.arg,done:w.done}}H.type==="throw"&&(N="completed",w.method="throw",w.arg=H.arg)}}}function V(I,_){var w=_.method,N=I.iterator[w];if(N===void 0)return _.delegate=null,w==="throw"&&I.iterator.return&&(_.method="return",_.arg=void 0,V(I,_),_.method==="throw")||w!=="return"&&(_.method="throw",_.arg=new TypeError("The iterator does not provide a '"+w+"' method")),p;var D=d(N,I.iterator,_.arg);if(D.type==="throw")return _.method="throw",_.arg=D.arg,_.delegate=null,p;var O=D.arg;return O?O.done?(_[I.resultName]=O.value,_.next=I.nextLoc,_.method!=="return"&&(_.method="next",_.arg=void 0),_.delegate=null,p):O:(_.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,p)}function W(I){var _={tryLoc:I[0]};1 in I&&(_.catchLoc=I[1]),2 in I&&(_.finallyLoc=I[2],_.afterLoc=I[3]),this.tryEntries.push(_)}function G(I){var _=I.completion||{};_.type="normal",delete _.arg,I.completion=_}function ie(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(W,this),this.reset(!0)}function re(I){if(I){var _=I[s];if(_)return _.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var w=-1,N=function D(){for(;++w<I.length;)if(n.call(I,w))return D.value=I[w],D.done=!1,D;return D.value=void 0,D.done=!0,D};return N.next=N}}return{next:Ne}}function Ne(){return{value:void 0,done:!0}}return v.prototype=E,r(T,"constructor",{value:E,configurable:!0}),r(E,"constructor",{value:v,configurable:!0}),v.displayName=l(E,u,"GeneratorFunction"),t.isGeneratorFunction=function(I){var _=typeof I=="function"&&I.constructor;return!!_&&(_===v||(_.displayName||_.name)==="GeneratorFunction")},t.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,E):(I.__proto__=E,l(I,u,"GeneratorFunction")),I.prototype=Object.create(T),I},t.awrap=function(I){return{__await:I}},k(b.prototype),l(b.prototype,o,function(){return this}),t.AsyncIterator=b,t.async=function(I,_,w,N,D){D===void 0&&(D=Promise);var O=new b(h(I,_,w,N),D);return t.isGeneratorFunction(_)?O:O.next().then(function(M){return M.done?M.value:O.next()})},k(T),l(T,u,"Generator"),l(T,s,function(){return this}),l(T,"toString",function(){return"[object Generator]"}),t.keys=function(I){var _=Object(I),w=[];for(var N in _)w.push(N);return w.reverse(),function D(){for(;w.length;){var O=w.pop();if(O in _)return D.value=O,D.done=!1,D}return D.done=!0,D}},t.values=re,ie.prototype={constructor:ie,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(G),!_)for(var w in this)w.charAt(0)==="t"&&n.call(this,w)&&!isNaN(+w.slice(1))&&(this[w]=void 0)},stop:function(){this.done=!0;var _=this.tryEntries[0].completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var w=this;function N(ue,fe){return M.type="throw",M.arg=_,w.next=ue,fe&&(w.method="next",w.arg=void 0),!!fe}for(var D=this.tryEntries.length-1;D>=0;--D){var O=this.tryEntries[D],M=O.completion;if(O.tryLoc==="root")return N("end");if(O.tryLoc<=this.prev){var B=n.call(O,"catchLoc"),H=n.call(O,"finallyLoc");if(B&&H){if(this.prev<O.catchLoc)return N(O.catchLoc,!0);if(this.prev<O.finallyLoc)return N(O.finallyLoc)}else if(B){if(this.prev<O.catchLoc)return N(O.catchLoc,!0)}else{if(!H)throw new Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return N(O.finallyLoc)}}}},abrupt:function(_,w){for(var N=this.tryEntries.length-1;N>=0;--N){var D=this.tryEntries[N];if(D.tryLoc<=this.prev&&n.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var O=D;break}}O&&(_==="break"||_==="continue")&&O.tryLoc<=w&&w<=O.finallyLoc&&(O=null);var M=O?O.completion:{};return M.type=_,M.arg=w,O?(this.method="next",this.next=O.finallyLoc,p):this.complete(M)},complete:function(_,w){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&w&&(this.next=w),p},finish:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.finallyLoc===_)return this.complete(N.completion,N.afterLoc),G(N),p}},catch:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.tryLoc===_){var D=N.completion;if(D.type==="throw"){var O=D.arg;G(N)}return O}}throw new Error("illegal catch attempt")},delegateYield:function(_,w,N){return this.delegate={iterator:re(_),resultName:w,nextLoc:N},this.method==="next"&&(this.arg=void 0),p}},t}var Lve=FA().mark(uW);function uW(){return FA().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H_e([aW()]);case 2:case"end":return e.stop()}},Lve)}var Mve=cU({app:jI.reducer,user:He.reducer,cache:gU.reducer}),Uve={key:"root",storage:R6},Fve=t_e(Uve,Mve),lW=Rve(),$ve=[hU(lW)],cW=RQ({reducer:Fve,enhancers:$ve,middleware:function(e){return e({thunk:!1,serializableCheck:!1})}});lW.run(uW);var Vve=a_e(cW);const Wve={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class z_{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||Wve,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new z_(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new z_(this.logger,e)}}var es=new z_;class Qy{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]=this.observers[r]||[],this.observers[r].push(n)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e]=this.observers[e].filter(r=>r!==n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[e]&&[].concat(this.observers[e]).forEach(o=>{o(...r)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(o=>{o.apply(o,[e,...r])})}}function Ph(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function vL(t){return t==null?"":""+t}function jve(t,e,n){t.forEach(r=>{e[r]&&(n[r]=e[r])})}function $A(t,e,n){function r(o){return o&&o.indexOf("###")>-1?o.replace(/###/g,"."):o}function i(){return!t||typeof t=="string"}const s=typeof e!="string"?[].concat(e):e.split(".");for(;s.length>1;){if(i())return{};const o=r(s.shift());!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={}}return i()?{}:{obj:t,k:r(s.shift())}}function yL(t,e,n){const{obj:r,k:i}=$A(t,e,Object);r[i]=n}function Bve(t,e,n,r){const{obj:i,k:s}=$A(t,e,Object);i[s]=i[s]||[],r&&(i[s]=i[s].concat(n)),r||i[s].push(n)}function H_(t,e){const{obj:n,k:r}=$A(t,e);if(n)return n[r]}function zve(t,e,n){const r=H_(t,n);return r!==void 0?r:H_(e,n)}function hW(t,e,n){for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):hW(t[r],e[r],n):t[r]=e[r]);return t}function rl(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Hve={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function qve(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,e=>Hve[e]):t}const Gve=[" ",",","?","!",";"];function Yve(t,e,n){e=e||"",n=n||"";const r=Gve.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const i=new RegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!i.test(t);if(!s){const o=t.indexOf(n);o>0&&!i.test(t.substring(0,o))&&(s=!0)}return s}function q_(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(n);let i=t;for(let s=0;s<r.length;++s){if(!i||typeof i[r[s]]=="string"&&s+1<r.length)return;if(i[r[s]]===void 0){let o=2,u=r.slice(s,s+o).join(n),l=i[u];for(;l===void 0&&r.length>s+o;)o++,u=r.slice(s,s+o).join(n),l=i[u];if(l===void 0)return;if(l===null)return null;if(e.endsWith(u)){if(typeof l=="string")return l;if(u&&typeof l[u]=="string")return l[u]}const h=r.slice(s+o).join(n);return h?q_(l,h,n):void 0}i=i[r[s]]}return i}function G_(t){return t&&t.indexOf("_")>0?t.replace("_","-"):t}class wL extends Qy{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let u=[e,n];r&&typeof r!="string"&&(u=u.concat(r)),r&&typeof r=="string"&&(u=u.concat(s?r.split(s):r)),e.indexOf(".")>-1&&(u=e.split("."));const l=H_(this.data,u);return l||!o||typeof r!="string"?l:q_(this.data&&this.data[e]&&this.data[e][n],r,s)}addResource(e,n,r,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let u=[e,n];r&&(u=u.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(u=e.split("."),i=n,n=u[1]),this.addNamespaces(n),yL(this.data,u,i),s.silent||this.emit("added",e,n,r,i)}addResources(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in r)(typeof r[s]=="string"||Object.prototype.toString.apply(r[s])==="[object Array]")&&this.addResource(e,n,s,r[s],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},u=[e,n];e.indexOf(".")>-1&&(u=e.split("."),i=r,r=n,n=u[1]),this.addNamespaces(n);let l=H_(this.data,u)||{};i?hW(l,r,s):l={...l,...r},yL(this.data,u,l),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var fW={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(s=>{this.processors[s]&&(e=this.processors[s].process(e,n,r,i))}),e}};const EL={};class Y_ extends Qy{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),jve(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=es.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,n);return r&&r.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,u=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Yve(e,r,i);if(o&&!u){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:s};const h=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(h[0])>-1)&&(s=h.shift()),e=h.join(i)}return typeof s=="string"&&(s=[s]),{key:e,namespaces:s}}translate(e,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:u}=this.extractFromKey(e[e.length-1],n),l=u[u.length-1],h=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h&&h.toLowerCase()==="cimode"){if(d){const b=n.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${b}${o}`,usedKey:o,exactUsedKey:o,usedLng:h,usedNS:l}:`${l}${b}${o}`}return i?{res:o,usedKey:o,exactUsedKey:o,usedLng:h,usedNS:l}:o}const p=this.resolve(e,n);let g=p&&p.res;const v=p&&p.usedKey||o,E=p&&p.exactUsedKey||o,C=Object.prototype.toString.apply(g),R=["[object Number]","[object Function]","[object RegExp]"],S=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,T=!this.i18nFormat||this.i18nFormat.handleAsObject;if(T&&g&&(typeof g!="string"&&typeof g!="boolean"&&typeof g!="number")&&R.indexOf(C)<0&&!(typeof S=="string"&&C==="[object Array]")){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const b=this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,g,{...n,ns:u}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(p.res=b,p):b}if(s){const b=C==="[object Array]",F=b?[]:{},V=b?E:v;for(const W in g)if(Object.prototype.hasOwnProperty.call(g,W)){const G=`${V}${s}${W}`;F[W]=this.translate(G,{...n,joinArrays:!1,ns:u}),F[W]===G&&(F[W]=g[W])}g=F}}else if(T&&typeof S=="string"&&C==="[object Array]")g=g.join(S),g&&(g=this.extendTranslation(g,e,n,r));else{let b=!1,F=!1;const V=n.count!==void 0&&typeof n.count!="string",W=Y_.hasDefaultValue(n),G=V?this.pluralResolver.getSuffix(h,n.count,n):"",ie=n.ordinal&&V?this.pluralResolver.getSuffix(h,n.count,{ordinal:!1}):"",re=n[`defaultValue${G}`]||n[`defaultValue${ie}`]||n.defaultValue;!this.isValidLookup(g)&&W&&(b=!0,g=re),this.isValidLookup(g)||(F=!0,g=o);const I=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&F?void 0:g,_=W&&re!==g&&this.options.updateMissing;if(F||b||_){if(this.logger.log(_?"updateKey":"missingKey",h,l,o,_?re:g),s){const O=this.resolve(o,{...n,keySeparator:!1});O&&O.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let w=[];const N=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&N&&N[0])for(let O=0;O<N.length;O++)w.push(N[O]);else this.options.saveMissingTo==="all"?w=this.languageUtils.toResolveHierarchy(n.lng||this.language):w.push(n.lng||this.language);const D=(O,M,B)=>{const H=W&&B!==g?B:I;this.options.missingKeyHandler?this.options.missingKeyHandler(O,l,M,H,_,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(O,l,M,H,_,n),this.emit("missingKey",O,l,M,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&V?w.forEach(O=>{this.pluralResolver.getSuffixes(O,n).forEach(M=>{D([O],o+M,n[`defaultValue${M}`]||re)})}):D(w,o,re))}g=this.extendTranslation(g,e,n,p,r),F&&g===o&&this.options.appendNamespaceToMissingKey&&(g=`${l}:${o}`),(F||b)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${o}`:o,b?g:void 0):g=this.options.parseMissingKeyHandler(g))}return i?(p.res=g,p):g}extendTranslation(e,n,r,i,s){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const h=typeof e=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(h){const g=e.match(this.interpolator.nestingRegexp);d=g&&g.length}let p=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,r.lng||this.language,r),h){const g=e.match(this.interpolator.nestingRegexp),v=g&&g.length;d<v&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var g=arguments.length,v=new Array(g),E=0;E<g;E++)v[E]=arguments[E];return s&&s[0]===v[0]&&!r.context?(o.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${n[0]}`),null):o.translate(...v,n)},r)),r.interpolation&&this.interpolator.reset()}const u=r.postProcess||this.options.postProcess,l=typeof u=="string"?[u]:u;return e!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(e=fW.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:i,...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,s,o,u;return typeof e=="string"&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const h=this.extractFromKey(l,n),d=h.key;i=d;let p=h.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));const g=n.count!==void 0&&typeof n.count!="string",v=g&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),E=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",C=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);p.forEach(R=>{this.isValidLookup(r)||(u=R,!EL[`${C[0]}-${R}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(u)&&(EL[`${C[0]}-${R}`]=!0,this.logger.warn(`key "${i}" for languages "${C.join(", ")}" won't get resolved as namespace "${u}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),C.forEach(S=>{if(this.isValidLookup(r))return;o=S;const T=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(T,d,S,R,n);else{let b;g&&(b=this.pluralResolver.getSuffix(S,n.count,n));const F=`${this.options.pluralSeparator}zero`,V=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(g&&(T.push(d+b),n.ordinal&&b.indexOf(V)===0&&T.push(d+b.replace(V,this.options.pluralSeparator)),v&&T.push(d+F)),E){const W=`${d}${this.options.contextSeparator}${n.context}`;T.push(W),g&&(T.push(W+b),n.ordinal&&b.indexOf(V)===0&&T.push(W+b.replace(V,this.options.pluralSeparator)),v&&T.push(W+F))}}let k;for(;k=T.pop();)this.isValidLookup(r)||(s=k,r=this.getResource(S,R,k,n))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:u}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}function n1(t){return t.charAt(0).toUpperCase()+t.slice(1)}class SL{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=es.create("languageUtils")}getScriptPartFromCode(e){if(e=G_(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=G_(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=n1(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=n1(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=n1(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(s=>{if(s===i)return s;if(!(s.indexOf("-")<0&&i.indexOf("-")<0)&&s.indexOf(i)===0)return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),typeof e=="string"&&(e=[e]),Object.prototype.toString.apply(e)==="[object Array]")return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),i=[],s=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):typeof e=="string"&&s(this.formatLanguageCode(e)),r.forEach(o=>{i.indexOf(o)<0&&s(this.formatLanguageCode(o))}),i}}let Kve=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Qve={1:function(t){return Number(t>1)},2:function(t){return Number(t!=1)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(t==1?0:t>=2&&t<=4?1:2)},7:function(t){return Number(t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(t==1?0:t==2?1:t!=8&&t!=11?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(t==1?0:t==2?1:t<7?2:t<11?3:4)},11:function(t){return Number(t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(t!==0)},14:function(t){return Number(t==1?0:t==2?1:t==3?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:t!==0?1:2)},17:function(t){return Number(t==1||t%10==1&&t%100!=11?0:1)},18:function(t){return Number(t==0?0:t==1?1:2)},19:function(t){return Number(t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(t==1?0:t==0||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3)}};const Xve=["v1","v2","v3"],Jve=["v4"],TL={zero:0,one:1,two:2,few:3,many:4,other:5};function Zve(){const t={};return Kve.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:Qve[e.fc]}})}),t}class eye{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=es.create("pluralResolver"),(!this.options.compatibilityJSON||Jve.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Zve()}addRule(e,n){this.rules[e]=n}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(G_(e),{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,s)=>TL[i]-TL[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(e,i,n)):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:this.getSuffixRetroCompatible(i,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const r=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let i=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const s=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?s():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!Xve.includes(this.options.compatibilityJSON)}}function IL(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=zve(t,e,n);return!s&&i&&typeof n=="string"&&(s=q_(t,n,r),s===void 0&&(s=q_(e,n,r))),s}class tye{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=es.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const n=e.interpolation;this.escape=n.escape!==void 0?n.escape:qve,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?rl(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?rl(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?rl(n.nestingPrefix):n.nestingPrefixEscaped||rl("$t("),this.nestingSuffix=n.nestingSuffix?rl(n.nestingSuffix):n.nestingSuffixEscaped||rl(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=`${this.prefix}(.+?)${this.suffix}`;this.regexp=new RegExp(e,"g");const n=`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;this.regexpUnescape=new RegExp(n,"g");const r=`${this.nestingPrefix}(.+?)${this.nestingSuffix}`;this.nestingRegexp=new RegExp(r,"g")}interpolate(e,n,r,i){let s,o,u;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function h(E){return E.replace(/\$/g,"$$$$")}const d=E=>{if(E.indexOf(this.formatSeparator)<0){const T=IL(n,l,E,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(T,void 0,r,{...i,...n,interpolationkey:E}):T}const C=E.split(this.formatSeparator),R=C.shift().trim(),S=C.join(this.formatSeparator).trim();return this.format(IL(n,l,R,this.options.keySeparator,this.options.ignoreJSONStructure),S,r,{...i,...n,interpolationkey:R})};this.resetRegExp();const p=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,g=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:E=>h(E)},{regex:this.regexp,safeValue:E=>this.escapeValue?h(this.escape(E)):h(E)}].forEach(E=>{for(u=0;s=E.regex.exec(e);){const C=s[1].trim();if(o=d(C),o===void 0)if(typeof p=="function"){const S=p(e,s,i);o=typeof S=="string"?S:""}else if(i&&Object.prototype.hasOwnProperty.call(i,C))o="";else if(g){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${C} for interpolating ${e}`),o="";else typeof o!="string"&&!this.useRawValueToEscape&&(o=vL(o));const R=E.safeValue(o);if(e=e.replace(s[0],R),g?(E.regex.lastIndex+=o.length,E.regex.lastIndex-=s[0].length):E.regex.lastIndex=0,u++,u>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,s,o;function u(l,h){const d=this.nestingOptionsSeparator;if(l.indexOf(d)<0)return l;const p=l.split(new RegExp(`${d}[ ]*{`));let g=`{${p[1]}`;l=p[0],g=this.interpolate(g,o);const v=g.match(/'/g),E=g.match(/"/g);(v&&v.length%2===0&&!E||E.length%2!==0)&&(g=g.replace(/'/g,'"'));try{o=JSON.parse(g),h&&(o={...h,...o})}catch(C){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,C),`${l}${d}${g}`}return delete o.defaultValue,l}for(;i=this.nestingRegexp.exec(e);){let l=[];o={...r},o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let h=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const d=i[1].split(this.formatSeparator).map(p=>p.trim());i[1]=d.shift(),l=d,h=!0}if(s=n(u.call(this,i[1].trim(),o),o),s&&i[0]===e&&typeof s!="string")return s;typeof s!="string"&&(s=vL(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),h&&(s=l.reduce((d,p)=>this.format(d,p,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}function nye(t){let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(o=>{if(!o)return;const[u,...l]=o.split(":"),h=l.join(":").trim().replace(/^'+|'+$/g,"");n[u.trim()]||(n[u.trim()]=h),h==="false"&&(n[u.trim()]=!1),h==="true"&&(n[u.trim()]=!0),isNaN(h)||(n[u.trim()]=parseInt(h,10))})}return{formatName:e,formatOptions:n}}function il(t){const e={};return function(r,i,s){const o=i+JSON.stringify(s);let u=e[o];return u||(u=t(G_(i),s),e[o]=u),u(r)}}class rye{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=es.create("formatter"),this.options=e,this.formats={number:il((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return s=>i.format(s)}),currency:il((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return s=>i.format(s)}),datetime:il((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return s=>i.format(s)}),relativetime:il((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return s=>i.format(s,r.range||"day")}),list:il((n,r)=>{const i=new Intl.ListFormat(n,{...r});return s=>i.format(s)})},this.init(e)}init(e){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=il(n)}format(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return n.split(this.formatSeparator).reduce((u,l)=>{const{formatName:h,formatOptions:d}=nye(l);if(this.formats[h]){let p=u;try{const g=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},v=g.locale||g.lng||i.locale||i.lng||r;p=this.formats[h](u,v,{...d,...i,...g})}catch(g){this.logger.warn(g)}return p}else this.logger.warn(`there was no format function for ${h}`);return u},e)}}function iye(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}class sye extends Qy{constructor(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=es.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(e,n,r,i){const s={},o={},u={},l={};return e.forEach(h=>{let d=!0;n.forEach(p=>{const g=`${h}|${p}`;!r.reload&&this.store.hasResourceBundle(h,p)?this.state[g]=2:this.state[g]<0||(this.state[g]===1?o[g]===void 0&&(o[g]=!0):(this.state[g]=1,d=!1,o[g]===void 0&&(o[g]=!0),s[g]===void 0&&(s[g]=!0),l[p]===void 0&&(l[p]=!0)))}),d||(u[h]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(u),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const i=e.split("|"),s=i[0],o=i[1];n&&this.emit("failedLoading",s,o,n),r&&this.store.addResourceBundle(s,o,r),this.state[e]=n?-1:2;const u={};this.queue.forEach(l=>{Bve(l.loaded,[s],o),iye(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(h=>{u[h]||(u[h]={});const d=l.loaded[h];d.length&&d.forEach(p=>{u[h][p]===void 0&&(u[h][p]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:s,callback:o});return}this.readingCalls++;const u=(h,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(h&&d&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,s*2,o)},s);return}o(h,d)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const h=l(e,n);h&&typeof h.then=="function"?h.then(d=>u(null,d)).catch(u):u(null,h)}catch(h){u(h)}return}return l(e,n,u)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof n=="string"&&(n=[n]);const s=this.queueLoad(e,n,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(o,u)=>{o&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,o),!o&&u&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,u),this.loaded(e,o,u)})}saveMissing(e,n,r,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},u=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:s},h=this.backend.create.bind(this.backend);if(h.length<6)try{let d;h.length===5?d=h(e,n,r,i,l):d=h(e,n,r,i),d&&typeof d.then=="function"?d.then(p=>u(null,p)).catch(u):u(null,d)}catch(d){u(d)}else h(e,n,r,i,u,l)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}function CL(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let n={};if(typeof e[1]=="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(i=>{n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:(t,e,n,r)=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function RL(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function Mg(){}function oye(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}class md extends Qy{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=RL(e),this.services={},this.logger=es,this.modules={external:[]},oye(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=CL();this.options={...i,...this.options,...RL(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);function s(d){return d?typeof d=="function"?new d:d:null}if(!this.options.isClone){this.modules.logger?es.init(s(this.modules.logger),this.options):es.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=rye);const p=new SL(this.options);this.store=new wL(this.options.resources,this.options);const g=this.services;g.logger=es,g.resourceStore=this.store,g.languageUtils=p,g.pluralResolver=new eye(p,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(g.formatter=s(d),g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new tye(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new sye(s(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",function(v){for(var E=arguments.length,C=new Array(E>1?E-1:0),R=1;R<E;R++)C[R-1]=arguments[R];e.emit(v,...C)}),this.modules.languageDetector&&(g.languageDetector=s(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=s(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new Y_(this.services,this.options),this.translator.on("*",function(v){for(var E=arguments.length,C=new Array(E>1?E-1:0),R=1;R<E;R++)C[R-1]=arguments[R];e.emit(v,...C)}),this.modules.external.forEach(v=>{v.init&&v.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Mg),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return e.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return e.store[d](...arguments),e}});const l=Ph(),h=()=>{const d=(p,g)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(g),r(p,g)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?h():setTimeout(h,0),l}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mg;const i=typeof e=="string"?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode")return r();const s=[],o=u=>{if(!u)return;this.services.languageUtils.toResolveHierarchy(u).forEach(h=>{s.indexOf(h)<0&&s.push(h)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(u=>o(u)),this.services.backendConnector.load(s,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(u)})}else r(null)}reloadResources(e,n,r){const i=Ph();return e||(e=this.languages),n||(n=this.options.ns),r||(r=Mg),this.services.backendConnector.reload(e,n,s=>{i.resolve(),r(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&fW.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const i=Ph();this.emit("languageChanging",e);const s=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,h)=>{h?(s(h),this.translator.changeLanguage(h),this.isLanguageChangingTo=void 0,this.emit("languageChanged",h),this.logger.log("languageChanged",h)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},u=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const h=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);h&&(this.language||s(h),this.translator.language||this.translator.changeLanguage(h),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(h)),this.loadResources(h,d=>{o(d,h)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),i}getFixedT(e,n,r){var i=this;const s=function(o,u){let l;if(typeof u!="object"){for(var h=arguments.length,d=new Array(h>2?h-2:0),p=2;p<h;p++)d[p-2]=arguments[p];l=i.options.overloadTranslationOptionHandler([o,u].concat(d))}else l={...u};l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix=l.keyPrefix||r||s.keyPrefix;const g=i.options.keySeparator||".";let v;return l.keyPrefix&&Array.isArray(o)?v=o.map(E=>`${l.keyPrefix}${g}${E}`):v=l.keyPrefix?`${l.keyPrefix}${g}${o}`:o,i.t(v,l)};return typeof e=="string"?s.lng=e:s.lngs=e,s.ns=n,s.keyPrefix=r,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(u,l)=>{const h=this.services.backendConnector.state[`${u}|${l}`];return h===-1||h===2};if(n.precheck){const u=n.precheck(this,o);if(u!==void 0)return u}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!i||o(s,e)))}loadNamespaces(e,n){const r=Ph();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Ph();typeof e=="string"&&(e=[e]);const i=this.options.preload||[],s=e.filter(o=>i.indexOf(o)<0);return s.length?(this.options.preload=i.concat(s),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new SL(CL());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new md(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mg;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new md(i);return(e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(u=>{s[u]=this[u]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r&&(s.store=new wL(this.store.data,i),s.services.resourceStore=s.store),s.translator=new Y_(s.services,i),s.translator.on("*",function(u){for(var l=arguments.length,h=new Array(l>1?l-1:0),d=1;d<l;d++)h[d-1]=arguments[d];s.emit(u,...h)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const An=md.createInstance();An.createInstance=md.createInstance;An.createInstance;An.dir;An.init;An.loadResources;An.reloadResources;An.use;An.changeLanguage;An.getFixedT;An.t;An.exists;An.setDefaultNamespace;An.hasLoadedNamespace;An.loadNamespaces;An.loadLanguages;var aye={auth:{email_already_in_use:"This email address is already in use!",user_not_found:"User is not found!",wrong_password:"Wrong password!",weak_password:"Password should be at least 6 characters"}};An.use(F7).init({resources:{en:{translation:aye}},lng:"en"});var uye=function(){return Z(xT.StrictMode,{children:Z(W7,{i18n:An,children:Z(OY,{store:cW,children:Z(KM,{persistor:Vve,children:Z(Vme,{})})})})})};i1.createRoot(document.getElementById("root")).render(Z(uye,{}))});export default lye();
