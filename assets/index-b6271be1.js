var Z8=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var lye=Z8((_ye,gm)=>{function eq(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tq(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mm={},nq={get exports(){return mm},set exports(t){mm=t}},K_={},X={},rq={get exports(){return X},set exports(t){X=t}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gd=Symbol.for("react.element"),iq=Symbol.for("react.portal"),sq=Symbol.for("react.fragment"),oq=Symbol.for("react.strict_mode"),aq=Symbol.for("react.profiler"),uq=Symbol.for("react.provider"),lq=Symbol.for("react.context"),cq=Symbol.for("react.forward_ref"),hq=Symbol.for("react.suspense"),fq=Symbol.for("react.memo"),dq=Symbol.for("react.lazy"),_b=Symbol.iterator;function pq(t){return t===null||typeof t!="object"?null:(t=_b&&t[_b]||t["@@iterator"],typeof t=="function"?t:null)}var kL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bL=Object.assign,OL={};function _c(t,e,n){this.props=t,this.context=e,this.refs=OL,this.updater=n||kL}_c.prototype.isReactComponent={};_c.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_c.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function NL(){}NL.prototype=_c.prototype;function OT(t,e,n){this.props=t,this.context=e,this.refs=OL,this.updater=n||kL}var NT=OT.prototype=new NL;NT.constructor=OT;bL(NT,_c.prototype);NT.isPureReactComponent=!0;var vb=Array.isArray,xL=Object.prototype.hasOwnProperty,xT={current:null},DL={key:!0,ref:!0,__self:!0,__source:!0};function LL(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)xL.call(e,r)&&!DL.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var l=Array(u),h=0;h<u;h++)l[h]=arguments[h+2];i.children=l}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:gd,type:t,key:s,ref:o,props:i,_owner:xT.current}}function gq(t,e){return{$$typeof:gd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function DT(t){return typeof t=="object"&&t!==null&&t.$$typeof===gd}function mq(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var yb=/\/+/g;function vw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?mq(""+t.key):e.toString(36)}function Lg(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case gd:case iq:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+vw(o,0):r,vb(i)?(n="",t!=null&&(n=t.replace(yb,"$&/")+"/"),Lg(i,e,n,"",function(h){return h})):i!=null&&(DT(i)&&(i=gq(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(yb,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",vb(t))for(var u=0;u<t.length;u++){s=t[u];var l=r+vw(s,u);o+=Lg(s,e,n,l,i)}else if(l=pq(t),typeof l=="function")for(t=l.call(t),u=0;!(s=t.next()).done;)s=s.value,l=r+vw(s,u++),o+=Lg(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Yp(t,e,n){if(t==null)return t;var r=[],i=0;return Lg(t,r,"","",function(s){return e.call(n,s,i++)}),r}function _q(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ar={current:null},Mg={transition:null},vq={ReactCurrentDispatcher:ar,ReactCurrentBatchConfig:Mg,ReactCurrentOwner:xT};je.Children={map:Yp,forEach:function(t,e,n){Yp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yp(t,function(){e++}),e},toArray:function(t){return Yp(t,function(e){return e})||[]},only:function(t){if(!DT(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=_c;je.Fragment=sq;je.Profiler=aq;je.PureComponent=OT;je.StrictMode=oq;je.Suspense=hq;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vq;je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=bL({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=xT.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(l in e)xL.call(e,l)&&!DL.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&u!==void 0?u[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){u=Array(l);for(var h=0;h<l;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:gd,type:t.type,key:i,ref:s,props:r,_owner:o}};je.createContext=function(t){return t={$$typeof:lq,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:uq,_context:t},t.Consumer=t};je.createElement=LL;je.createFactory=function(t){var e=LL.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:cq,render:t}};je.isValidElement=DT;je.lazy=function(t){return{$$typeof:dq,_payload:{_status:-1,_result:t},_init:_q}};je.memo=function(t,e){return{$$typeof:fq,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=Mg.transition;Mg.transition={};try{t()}finally{Mg.transition=e}};je.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};je.useCallback=function(t,e){return ar.current.useCallback(t,e)};je.useContext=function(t){return ar.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return ar.current.useDeferredValue(t)};je.useEffect=function(t,e){return ar.current.useEffect(t,e)};je.useId=function(){return ar.current.useId()};je.useImperativeHandle=function(t,e,n){return ar.current.useImperativeHandle(t,e,n)};je.useInsertionEffect=function(t,e){return ar.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return ar.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return ar.current.useMemo(t,e)};je.useReducer=function(t,e,n){return ar.current.useReducer(t,e,n)};je.useRef=function(t){return ar.current.useRef(t)};je.useState=function(t){return ar.current.useState(t)};je.useSyncExternalStore=function(t,e,n){return ar.current.useSyncExternalStore(t,e,n)};je.useTransition=function(){return ar.current.useTransition()};je.version="18.2.0";(function(t){t.exports=je})(rq);const LT=tq(X),r1=eq({__proto__:null,default:LT},[X]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yq=X,wq=Symbol.for("react.element"),Eq=Symbol.for("react.fragment"),Sq=Object.prototype.hasOwnProperty,Tq=yq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Iq={key:!0,ref:!0,__self:!0,__source:!0};function ML(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Sq.call(e,r)&&!Iq.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:wq,type:t,key:s,ref:o,props:i,_owner:Tq.current}}K_.Fragment=Eq;K_.jsx=ML;K_.jsxs=ML;(function(t){t.exports=K_})(nq);const Z=mm.jsx,Qe=mm.jsxs;var i1={},_m={},Cq={get exports(){return _m},set exports(t){_m=t}},Ur={},s1={},Rq={get exports(){return s1},set exports(t){s1=t}},UL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,B){var H=M.length;M.push(B);e:for(;0<H;){var ue=H-1>>>1,fe=M[ue];if(0<i(fe,B))M[ue]=B,M[H]=fe,H=ue;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var B=M[0],H=M.pop();if(H!==B){M[0]=H;e:for(var ue=0,fe=M.length,Se=fe>>>1;ue<Se;){var ds=2*(ue+1)-1,Vi=M[ds],jr=ds+1,xu=M[jr];if(0>i(Vi,H))jr<fe&&0>i(xu,Vi)?(M[ue]=xu,M[jr]=H,ue=jr):(M[ue]=Vi,M[ds]=H,ue=ds);else if(jr<fe&&0>i(xu,H))M[ue]=xu,M[jr]=H,ue=jr;else break e}}return B}function i(M,B){var H=M.sortIndex-B.sortIndex;return H!==0?H:M.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var l=[],h=[],f=1,p=null,g=3,v=!1,E=!1,C=!1,R=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(M){for(var B=n(h);B!==null;){if(B.callback===null)r(h);else if(B.startTime<=M)r(h),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(h)}}function b(M){if(C=!1,k(M),!E)if(n(l)!==null)E=!0,D(F);else{var B=n(h);B!==null&&O(b,B.startTime-M)}}function F(M,B){E=!1,C&&(C=!1,S(G),G=-1),v=!0;var H=g;try{for(k(B),p=n(l);p!==null&&(!(p.expirationTime>B)||M&&!Ne());){var ue=p.callback;if(typeof ue=="function"){p.callback=null,g=p.priorityLevel;var fe=ue(p.expirationTime<=B);B=t.unstable_now(),typeof fe=="function"?p.callback=fe:p===n(l)&&r(l),k(B)}else r(l);p=n(l)}if(p!==null)var Se=!0;else{var ds=n(h);ds!==null&&O(b,ds.startTime-B),Se=!1}return Se}finally{p=null,g=H,v=!1}}var V=!1,W=null,G=-1,ie=5,re=-1;function Ne(){return!(t.unstable_now()-re<ie)}function I(){if(W!==null){var M=t.unstable_now();re=M;var B=!0;try{B=W(!0,M)}finally{B?_():(V=!1,W=null)}}else V=!1}var _;if(typeof T=="function")_=function(){T(I)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,N=w.port2;w.port1.onmessage=I,_=function(){N.postMessage(null)}}else _=function(){R(I,0)};function D(M){W=M,V||(V=!0,_())}function O(M,B){G=R(function(){M(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){E||v||(E=!0,D(F))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(g){case 1:case 2:case 3:var B=3;break;default:B=g}var H=g;g=B;try{return M()}finally{g=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,B){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var H=g;g=M;try{return B()}finally{g=H}},t.unstable_scheduleCallback=function(M,B,H){var ue=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ue+H:ue):H=ue,M){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=H+fe,M={id:f++,callback:B,priorityLevel:M,startTime:H,expirationTime:fe,sortIndex:-1},H>ue?(M.sortIndex=H,e(h,M),n(l)===null&&M===n(h)&&(C?(S(G),G=-1):C=!0,O(b,H-ue))):(M.sortIndex=fe,e(l,M),E||v||(E=!0,D(F))),M},t.unstable_shouldYield=Ne,t.unstable_wrapCallback=function(M){var B=g;return function(){var H=g;g=B;try{return M.apply(this,arguments)}finally{g=H}}}})(UL);(function(t){t.exports=UL})(Rq);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FL=X,Dr=s1;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $L=new Set,pf={};function yu(t,e){ql(t,e),ql(t+"Capture",e)}function ql(t,e){for(pf[t]=e,t=0;t<e.length;t++)$L.add(e[t])}var zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),o1=Object.prototype.hasOwnProperty,Aq=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wb={},Eb={};function Pq(t){return o1.call(Eb,t)?!0:o1.call(wb,t)?!1:Aq.test(t)?Eb[t]=!0:(wb[t]=!0,!1)}function kq(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function bq(t,e,n,r){if(e===null||typeof e>"u"||kq(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ur(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var In={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){In[t]=new ur(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];In[e]=new ur(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){In[t]=new ur(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){In[t]=new ur(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){In[t]=new ur(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){In[t]=new ur(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){In[t]=new ur(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){In[t]=new ur(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){In[t]=new ur(t,5,!1,t.toLowerCase(),null,!1,!1)});var MT=/[\-:]([a-z])/g;function UT(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(MT,UT);In[e]=new ur(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(MT,UT);In[e]=new ur(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(MT,UT);In[e]=new ur(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){In[t]=new ur(t,1,!1,t.toLowerCase(),null,!1,!1)});In.xlinkHref=new ur("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){In[t]=new ur(t,1,!1,t.toLowerCase(),null,!0,!0)});function FT(t,e,n,r){var i=In.hasOwnProperty(e)?In[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bq(e,n,i,r)&&(n=null),r||i===null?Pq(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var io=FL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kp=Symbol.for("react.element"),ul=Symbol.for("react.portal"),ll=Symbol.for("react.fragment"),$T=Symbol.for("react.strict_mode"),a1=Symbol.for("react.profiler"),VL=Symbol.for("react.provider"),WL=Symbol.for("react.context"),VT=Symbol.for("react.forward_ref"),u1=Symbol.for("react.suspense"),l1=Symbol.for("react.suspense_list"),WT=Symbol.for("react.memo"),yo=Symbol.for("react.lazy"),jL=Symbol.for("react.offscreen"),Sb=Symbol.iterator;function lh(t){return t===null||typeof t!="object"?null:(t=Sb&&t[Sb]||t["@@iterator"],typeof t=="function"?t:null)}var Ot=Object.assign,yw;function Ph(t){if(yw===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);yw=e&&e[1]||""}return`
`+yw+t}var ww=!1;function Ew(t,e){if(!t||ww)return"";ww=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,u=s.length-1;1<=o&&0<=u&&i[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==s[u]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=u);break}}}finally{ww=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ph(t):""}function Oq(t){switch(t.tag){case 5:return Ph(t.type);case 16:return Ph("Lazy");case 13:return Ph("Suspense");case 19:return Ph("SuspenseList");case 0:case 2:case 15:return t=Ew(t.type,!1),t;case 11:return t=Ew(t.type.render,!1),t;case 1:return t=Ew(t.type,!0),t;default:return""}}function c1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ll:return"Fragment";case ul:return"Portal";case a1:return"Profiler";case $T:return"StrictMode";case u1:return"Suspense";case l1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case WL:return(t.displayName||"Context")+".Consumer";case VL:return(t._context.displayName||"Context")+".Provider";case VT:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case WT:return e=t.displayName||null,e!==null?e:c1(t.type)||"Memo";case yo:e=t._payload,t=t._init;try{return c1(t(e))}catch{}}return null}function Nq(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return c1(e);case 8:return e===$T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function na(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function BL(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xq(t){var e=BL(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qp(t){t._valueTracker||(t._valueTracker=xq(t))}function zL(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=BL(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function vm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function h1(t,e){var n=e.checked;return Ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Tb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=na(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function HL(t,e){e=e.checked,e!=null&&FT(t,"checked",e,!1)}function f1(t,e){HL(t,e);var n=na(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?d1(t,e.type,n):e.hasOwnProperty("defaultValue")&&d1(t,e.type,na(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ib(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function d1(t,e,n){(e!=="number"||vm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var kh=Array.isArray;function Il(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+na(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function p1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return Ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Cb(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(kh(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:na(n)}}function qL(t,e){var n=na(e.value),r=na(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Rb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function GL(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function g1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?GL(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xp,YL=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xp=Xp||document.createElement("div"),Xp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function gf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Vh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dq=["Webkit","ms","Moz","O"];Object.keys(Vh).forEach(function(t){Dq.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Vh[e]=Vh[t]})});function KL(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Vh.hasOwnProperty(t)&&Vh[t]?(""+e).trim():e+"px"}function QL(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=KL(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Lq=Ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function m1(t,e){if(e){if(Lq[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function _1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var v1=null;function jT(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var y1=null,Cl=null,Rl=null;function Ab(t){if(t=vd(t)){if(typeof y1!="function")throw Error(J(280));var e=t.stateNode;e&&(e=ev(e),y1(t.stateNode,t.type,e))}}function XL(t){Cl?Rl?Rl.push(t):Rl=[t]:Cl=t}function JL(){if(Cl){var t=Cl,e=Rl;if(Rl=Cl=null,Ab(t),e)for(t=0;t<e.length;t++)Ab(e[t])}}function ZL(t,e){return t(e)}function e2(){}var Sw=!1;function t2(t,e,n){if(Sw)return t(e,n);Sw=!0;try{return ZL(t,e,n)}finally{Sw=!1,(Cl!==null||Rl!==null)&&(e2(),JL())}}function mf(t,e){var n=t.stateNode;if(n===null)return null;var r=ev(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var w1=!1;if(zs)try{var ch={};Object.defineProperty(ch,"passive",{get:function(){w1=!0}}),window.addEventListener("test",ch,ch),window.removeEventListener("test",ch,ch)}catch{w1=!1}function Mq(t,e,n,r,i,s,o,u,l){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(f){this.onError(f)}}var Wh=!1,ym=null,wm=!1,E1=null,Uq={onError:function(t){Wh=!0,ym=t}};function Fq(t,e,n,r,i,s,o,u,l){Wh=!1,ym=null,Mq.apply(Uq,arguments)}function $q(t,e,n,r,i,s,o,u,l){if(Fq.apply(this,arguments),Wh){if(Wh){var h=ym;Wh=!1,ym=null}else throw Error(J(198));wm||(wm=!0,E1=h)}}function wu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function n2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Pb(t){if(wu(t)!==t)throw Error(J(188))}function Vq(t){var e=t.alternate;if(!e){if(e=wu(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Pb(i),t;if(s===r)return Pb(i),e;s=s.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=s;break}if(u===r){o=!0,r=i,n=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===n){o=!0,n=s,r=i;break}if(u===r){o=!0,r=s,n=i;break}u=u.sibling}if(!o)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function r2(t){return t=Vq(t),t!==null?i2(t):null}function i2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=i2(t);if(e!==null)return e;t=t.sibling}return null}var s2=Dr.unstable_scheduleCallback,kb=Dr.unstable_cancelCallback,Wq=Dr.unstable_shouldYield,jq=Dr.unstable_requestPaint,Bt=Dr.unstable_now,Bq=Dr.unstable_getCurrentPriorityLevel,BT=Dr.unstable_ImmediatePriority,o2=Dr.unstable_UserBlockingPriority,Em=Dr.unstable_NormalPriority,zq=Dr.unstable_LowPriority,a2=Dr.unstable_IdlePriority,Q_=null,es=null;function Hq(t){if(es&&typeof es.onCommitFiberRoot=="function")try{es.onCommitFiberRoot(Q_,t,void 0,(t.current.flags&128)===128)}catch{}}var Ai=Math.clz32?Math.clz32:Yq,qq=Math.log,Gq=Math.LN2;function Yq(t){return t>>>=0,t===0?32:31-(qq(t)/Gq|0)|0}var Jp=64,Zp=4194304;function bh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var u=o&~i;u!==0?r=bh(u):(s&=o,s!==0&&(r=bh(s)))}else o=n&~i,o!==0?r=bh(o):s!==0&&(r=bh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ai(e),i=1<<n,r|=t[n],e&=~i;return r}function Kq(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qq(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ai(s),u=1<<o,l=i[o];l===-1?(!(u&n)||u&r)&&(i[o]=Kq(u,e)):l<=e&&(t.expiredLanes|=u),s&=~u}}function S1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function u2(){var t=Jp;return Jp<<=1,!(Jp&4194240)&&(Jp=64),t}function Tw(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function md(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ai(e),t[e]=n}function Xq(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ai(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function zT(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ai(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var rt=0;function l2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var c2,HT,h2,f2,d2,T1=!1,eg=[],Uo=null,Fo=null,$o=null,_f=new Map,vf=new Map,Eo=[],Jq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bb(t,e){switch(t){case"focusin":case"focusout":Uo=null;break;case"dragenter":case"dragleave":Fo=null;break;case"mouseover":case"mouseout":$o=null;break;case"pointerover":case"pointerout":_f.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vf.delete(e.pointerId)}}function hh(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=vd(e),e!==null&&HT(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Zq(t,e,n,r,i){switch(e){case"focusin":return Uo=hh(Uo,t,e,n,r,i),!0;case"dragenter":return Fo=hh(Fo,t,e,n,r,i),!0;case"mouseover":return $o=hh($o,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return _f.set(s,hh(_f.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,vf.set(s,hh(vf.get(s)||null,t,e,n,r,i)),!0}return!1}function p2(t){var e=$a(t.target);if(e!==null){var n=wu(e);if(n!==null){if(e=n.tag,e===13){if(e=n2(n),e!==null){t.blockedOn=e,d2(t.priority,function(){h2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ug(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=I1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);v1=r,n.target.dispatchEvent(r),v1=null}else return e=vd(n),e!==null&&HT(e),t.blockedOn=n,!1;e.shift()}return!0}function Ob(t,e,n){Ug(t)&&n.delete(e)}function eG(){T1=!1,Uo!==null&&Ug(Uo)&&(Uo=null),Fo!==null&&Ug(Fo)&&(Fo=null),$o!==null&&Ug($o)&&($o=null),_f.forEach(Ob),vf.forEach(Ob)}function fh(t,e){t.blockedOn===e&&(t.blockedOn=null,T1||(T1=!0,Dr.unstable_scheduleCallback(Dr.unstable_NormalPriority,eG)))}function yf(t){function e(i){return fh(i,t)}if(0<eg.length){fh(eg[0],t);for(var n=1;n<eg.length;n++){var r=eg[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Uo!==null&&fh(Uo,t),Fo!==null&&fh(Fo,t),$o!==null&&fh($o,t),_f.forEach(e),vf.forEach(e),n=0;n<Eo.length;n++)r=Eo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Eo.length&&(n=Eo[0],n.blockedOn===null);)p2(n),n.blockedOn===null&&Eo.shift()}var Al=io.ReactCurrentBatchConfig,Tm=!0;function tG(t,e,n,r){var i=rt,s=Al.transition;Al.transition=null;try{rt=1,qT(t,e,n,r)}finally{rt=i,Al.transition=s}}function nG(t,e,n,r){var i=rt,s=Al.transition;Al.transition=null;try{rt=4,qT(t,e,n,r)}finally{rt=i,Al.transition=s}}function qT(t,e,n,r){if(Tm){var i=I1(t,e,n,r);if(i===null)xw(t,e,r,Im,n),bb(t,r);else if(Zq(i,t,e,n,r))r.stopPropagation();else if(bb(t,r),e&4&&-1<Jq.indexOf(t)){for(;i!==null;){var s=vd(i);if(s!==null&&c2(s),s=I1(t,e,n,r),s===null&&xw(t,e,r,Im,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else xw(t,e,r,null,n)}}var Im=null;function I1(t,e,n,r){if(Im=null,t=jT(r),t=$a(t),t!==null)if(e=wu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=n2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Im=t,null}function g2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bq()){case BT:return 1;case o2:return 4;case Em:case zq:return 16;case a2:return 536870912;default:return 16}default:return 16}}var ko=null,GT=null,Fg=null;function m2(){if(Fg)return Fg;var t,e=GT,n=e.length,r,i="value"in ko?ko.value:ko.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Fg=i.slice(t,1<r?1-r:void 0)}function $g(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function tg(){return!0}function Nb(){return!1}function Fr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?tg:Nb,this.isPropagationStopped=Nb,this}return Ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=tg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=tg)},persist:function(){},isPersistent:tg}),e}var vc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},YT=Fr(vc),_d=Ot({},vc,{view:0,detail:0}),rG=Fr(_d),Iw,Cw,dh,X_=Ot({},_d,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:KT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==dh&&(dh&&t.type==="mousemove"?(Iw=t.screenX-dh.screenX,Cw=t.screenY-dh.screenY):Cw=Iw=0,dh=t),Iw)},movementY:function(t){return"movementY"in t?t.movementY:Cw}}),xb=Fr(X_),iG=Ot({},X_,{dataTransfer:0}),sG=Fr(iG),oG=Ot({},_d,{relatedTarget:0}),Rw=Fr(oG),aG=Ot({},vc,{animationName:0,elapsedTime:0,pseudoElement:0}),uG=Fr(aG),lG=Ot({},vc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cG=Fr(lG),hG=Ot({},vc,{data:0}),Db=Fr(hG),fG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pG={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gG(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pG[t])?!!e[t]:!1}function KT(){return gG}var mG=Ot({},_d,{key:function(t){if(t.key){var e=fG[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$g(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dG[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:KT,charCode:function(t){return t.type==="keypress"?$g(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$g(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_G=Fr(mG),vG=Ot({},X_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lb=Fr(vG),yG=Ot({},_d,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:KT}),wG=Fr(yG),EG=Ot({},vc,{propertyName:0,elapsedTime:0,pseudoElement:0}),SG=Fr(EG),TG=Ot({},X_,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),IG=Fr(TG),CG=[9,13,27,32],QT=zs&&"CompositionEvent"in window,jh=null;zs&&"documentMode"in document&&(jh=document.documentMode);var RG=zs&&"TextEvent"in window&&!jh,_2=zs&&(!QT||jh&&8<jh&&11>=jh),Mb=String.fromCharCode(32),Ub=!1;function v2(t,e){switch(t){case"keyup":return CG.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function y2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var cl=!1;function AG(t,e){switch(t){case"compositionend":return y2(e);case"keypress":return e.which!==32?null:(Ub=!0,Mb);case"textInput":return t=e.data,t===Mb&&Ub?null:t;default:return null}}function PG(t,e){if(cl)return t==="compositionend"||!QT&&v2(t,e)?(t=m2(),Fg=GT=ko=null,cl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _2&&e.locale!=="ko"?null:e.data;default:return null}}var kG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kG[t.type]:e==="textarea"}function w2(t,e,n,r){XL(r),e=Cm(e,"onChange"),0<e.length&&(n=new YT("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Bh=null,wf=null;function bG(t){O2(t,0)}function J_(t){var e=dl(t);if(zL(e))return t}function OG(t,e){if(t==="change")return e}var E2=!1;if(zs){var Aw;if(zs){var Pw="oninput"in document;if(!Pw){var $b=document.createElement("div");$b.setAttribute("oninput","return;"),Pw=typeof $b.oninput=="function"}Aw=Pw}else Aw=!1;E2=Aw&&(!document.documentMode||9<document.documentMode)}function Vb(){Bh&&(Bh.detachEvent("onpropertychange",S2),wf=Bh=null)}function S2(t){if(t.propertyName==="value"&&J_(wf)){var e=[];w2(e,wf,t,jT(t)),t2(bG,e)}}function NG(t,e,n){t==="focusin"?(Vb(),Bh=e,wf=n,Bh.attachEvent("onpropertychange",S2)):t==="focusout"&&Vb()}function xG(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return J_(wf)}function DG(t,e){if(t==="click")return J_(e)}function LG(t,e){if(t==="input"||t==="change")return J_(e)}function MG(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bi=typeof Object.is=="function"?Object.is:MG;function Ef(t,e){if(bi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!o1.call(e,i)||!bi(t[i],e[i]))return!1}return!0}function Wb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jb(t,e){var n=Wb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wb(n)}}function T2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?T2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function I2(){for(var t=window,e=vm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=vm(t.document)}return e}function XT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function UG(t){var e=I2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&T2(n.ownerDocument.documentElement,n)){if(r!==null&&XT(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=jb(n,s);var o=jb(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var FG=zs&&"documentMode"in document&&11>=document.documentMode,hl=null,C1=null,zh=null,R1=!1;function Bb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;R1||hl==null||hl!==vm(r)||(r=hl,"selectionStart"in r&&XT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zh&&Ef(zh,r)||(zh=r,r=Cm(C1,"onSelect"),0<r.length&&(e=new YT("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=hl)))}function ng(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var fl={animationend:ng("Animation","AnimationEnd"),animationiteration:ng("Animation","AnimationIteration"),animationstart:ng("Animation","AnimationStart"),transitionend:ng("Transition","TransitionEnd")},kw={},C2={};zs&&(C2=document.createElement("div").style,"AnimationEvent"in window||(delete fl.animationend.animation,delete fl.animationiteration.animation,delete fl.animationstart.animation),"TransitionEvent"in window||delete fl.transitionend.transition);function Z_(t){if(kw[t])return kw[t];if(!fl[t])return t;var e=fl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in C2)return kw[t]=e[n];return t}var R2=Z_("animationend"),A2=Z_("animationiteration"),P2=Z_("animationstart"),k2=Z_("transitionend"),b2=new Map,zb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pa(t,e){b2.set(t,e),yu(e,[t])}for(var bw=0;bw<zb.length;bw++){var Ow=zb[bw],$G=Ow.toLowerCase(),VG=Ow[0].toUpperCase()+Ow.slice(1);pa($G,"on"+VG)}pa(R2,"onAnimationEnd");pa(A2,"onAnimationIteration");pa(P2,"onAnimationStart");pa("dblclick","onDoubleClick");pa("focusin","onFocus");pa("focusout","onBlur");pa(k2,"onTransitionEnd");ql("onMouseEnter",["mouseout","mouseover"]);ql("onMouseLeave",["mouseout","mouseover"]);ql("onPointerEnter",["pointerout","pointerover"]);ql("onPointerLeave",["pointerout","pointerover"]);yu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yu("onBeforeInput",["compositionend","keypress","textInput","paste"]);yu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WG=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oh));function Hb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,$q(r,e,void 0,t),t.currentTarget=null}function O2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var u=r[o],l=u.instance,h=u.currentTarget;if(u=u.listener,l!==s&&i.isPropagationStopped())break e;Hb(i,u,h),s=l}else for(o=0;o<r.length;o++){if(u=r[o],l=u.instance,h=u.currentTarget,u=u.listener,l!==s&&i.isPropagationStopped())break e;Hb(i,u,h),s=l}}}if(wm)throw t=E1,wm=!1,E1=null,t}function mt(t,e){var n=e[O1];n===void 0&&(n=e[O1]=new Set);var r=t+"__bubble";n.has(r)||(N2(e,t,2,!1),n.add(r))}function Nw(t,e,n){var r=0;e&&(r|=4),N2(n,t,r,e)}var rg="_reactListening"+Math.random().toString(36).slice(2);function Sf(t){if(!t[rg]){t[rg]=!0,$L.forEach(function(n){n!=="selectionchange"&&(WG.has(n)||Nw(n,!1,t),Nw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rg]||(e[rg]=!0,Nw("selectionchange",!1,e))}}function N2(t,e,n,r){switch(g2(e)){case 1:var i=tG;break;case 4:i=nG;break;default:i=qT}n=i.bind(null,e,n,t),i=void 0,!w1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function xw(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;u!==null;){if(o=$a(u),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}u=u.parentNode}}r=r.return}t2(function(){var h=s,f=jT(n),p=[];e:{var g=b2.get(t);if(g!==void 0){var v=YT,E=t;switch(t){case"keypress":if($g(n)===0)break e;case"keydown":case"keyup":v=_G;break;case"focusin":E="focus",v=Rw;break;case"focusout":E="blur",v=Rw;break;case"beforeblur":case"afterblur":v=Rw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=xb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=sG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=wG;break;case R2:case A2:case P2:v=uG;break;case k2:v=SG;break;case"scroll":v=rG;break;case"wheel":v=IG;break;case"copy":case"cut":case"paste":v=cG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Lb}var C=(e&4)!==0,R=!C&&t==="scroll",S=C?g!==null?g+"Capture":null:g;C=[];for(var T=h,k;T!==null;){k=T;var b=k.stateNode;if(k.tag===5&&b!==null&&(k=b,S!==null&&(b=mf(T,S),b!=null&&C.push(Tf(T,b,k)))),R)break;T=T.return}0<C.length&&(g=new v(g,E,null,n,f),p.push({event:g,listeners:C}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",g&&n!==v1&&(E=n.relatedTarget||n.fromElement)&&($a(E)||E[Hs]))break e;if((v||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,v?(E=n.relatedTarget||n.toElement,v=h,E=E?$a(E):null,E!==null&&(R=wu(E),E!==R||E.tag!==5&&E.tag!==6)&&(E=null)):(v=null,E=h),v!==E)){if(C=xb,b="onMouseLeave",S="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(C=Lb,b="onPointerLeave",S="onPointerEnter",T="pointer"),R=v==null?g:dl(v),k=E==null?g:dl(E),g=new C(b,T+"leave",v,n,f),g.target=R,g.relatedTarget=k,b=null,$a(f)===h&&(C=new C(S,T+"enter",E,n,f),C.target=k,C.relatedTarget=R,b=C),R=b,v&&E)t:{for(C=v,S=E,T=0,k=C;k;k=Ku(k))T++;for(k=0,b=S;b;b=Ku(b))k++;for(;0<T-k;)C=Ku(C),T--;for(;0<k-T;)S=Ku(S),k--;for(;T--;){if(C===S||S!==null&&C===S.alternate)break t;C=Ku(C),S=Ku(S)}C=null}else C=null;v!==null&&qb(p,g,v,C,!1),E!==null&&R!==null&&qb(p,R,E,C,!0)}}e:{if(g=h?dl(h):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var F=OG;else if(Fb(g))if(E2)F=LG;else{F=xG;var V=NG}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(F=DG);if(F&&(F=F(t,h))){w2(p,F,n,f);break e}V&&V(t,g,h),t==="focusout"&&(V=g._wrapperState)&&V.controlled&&g.type==="number"&&d1(g,"number",g.value)}switch(V=h?dl(h):window,t){case"focusin":(Fb(V)||V.contentEditable==="true")&&(hl=V,C1=h,zh=null);break;case"focusout":zh=C1=hl=null;break;case"mousedown":R1=!0;break;case"contextmenu":case"mouseup":case"dragend":R1=!1,Bb(p,n,f);break;case"selectionchange":if(FG)break;case"keydown":case"keyup":Bb(p,n,f)}var W;if(QT)e:{switch(t){case"compositionstart":var G="onCompositionStart";break e;case"compositionend":G="onCompositionEnd";break e;case"compositionupdate":G="onCompositionUpdate";break e}G=void 0}else cl?v2(t,n)&&(G="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(G="onCompositionStart");G&&(_2&&n.locale!=="ko"&&(cl||G!=="onCompositionStart"?G==="onCompositionEnd"&&cl&&(W=m2()):(ko=f,GT="value"in ko?ko.value:ko.textContent,cl=!0)),V=Cm(h,G),0<V.length&&(G=new Db(G,t,null,n,f),p.push({event:G,listeners:V}),W?G.data=W:(W=y2(n),W!==null&&(G.data=W)))),(W=RG?AG(t,n):PG(t,n))&&(h=Cm(h,"onBeforeInput"),0<h.length&&(f=new Db("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:h}),f.data=W))}O2(p,e)})}function Tf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Cm(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=mf(t,n),s!=null&&r.unshift(Tf(t,s,i)),s=mf(t,e),s!=null&&r.push(Tf(t,s,i))),t=t.return}return r}function Ku(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qb(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var u=n,l=u.alternate,h=u.stateNode;if(l!==null&&l===r)break;u.tag===5&&h!==null&&(u=h,i?(l=mf(n,s),l!=null&&o.unshift(Tf(n,l,u))):i||(l=mf(n,s),l!=null&&o.push(Tf(n,l,u)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var jG=/\r\n?/g,BG=/\u0000|\uFFFD/g;function Gb(t){return(typeof t=="string"?t:""+t).replace(jG,`
`).replace(BG,"")}function ig(t,e,n){if(e=Gb(e),Gb(t)!==e&&n)throw Error(J(425))}function Rm(){}var A1=null,P1=null;function k1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var b1=typeof setTimeout=="function"?setTimeout:void 0,zG=typeof clearTimeout=="function"?clearTimeout:void 0,Yb=typeof Promise=="function"?Promise:void 0,HG=typeof queueMicrotask=="function"?queueMicrotask:typeof Yb<"u"?function(t){return Yb.resolve(null).then(t).catch(qG)}:b1;function qG(t){setTimeout(function(){throw t})}function Dw(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),yf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);yf(e)}function Vo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Kb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yc=Math.random().toString(36).slice(2),qi="__reactFiber$"+yc,If="__reactProps$"+yc,Hs="__reactContainer$"+yc,O1="__reactEvents$"+yc,GG="__reactListeners$"+yc,YG="__reactHandles$"+yc;function $a(t){var e=t[qi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Hs]||n[qi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Kb(t);t!==null;){if(n=t[qi])return n;t=Kb(t)}return e}t=n,n=t.parentNode}return null}function vd(t){return t=t[qi]||t[Hs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function dl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function ev(t){return t[If]||null}var N1=[],pl=-1;function ga(t){return{current:t}}function wt(t){0>pl||(t.current=N1[pl],N1[pl]=null,pl--)}function pt(t,e){pl++,N1[pl]=t.current,t.current=e}var ra={},Bn=ga(ra),mr=ga(!1),tu=ra;function Gl(t,e){var n=t.type.contextTypes;if(!n)return ra;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function _r(t){return t=t.childContextTypes,t!=null}function Am(){wt(mr),wt(Bn)}function Qb(t,e,n){if(Bn.current!==ra)throw Error(J(168));pt(Bn,e),pt(mr,n)}function x2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,Nq(t)||"Unknown",i));return Ot({},n,r)}function Pm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ra,tu=Bn.current,pt(Bn,t),pt(mr,mr.current),!0}function Xb(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=x2(t,e,tu),r.__reactInternalMemoizedMergedChildContext=t,wt(mr),wt(Bn),pt(Bn,t)):wt(mr),pt(mr,n)}var Ps=null,tv=!1,Lw=!1;function D2(t){Ps===null?Ps=[t]:Ps.push(t)}function KG(t){tv=!0,D2(t)}function ma(){if(!Lw&&Ps!==null){Lw=!0;var t=0,e=rt;try{var n=Ps;for(rt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ps=null,tv=!1}catch(i){throw Ps!==null&&(Ps=Ps.slice(t+1)),s2(BT,ma),i}finally{rt=e,Lw=!1}}return null}var gl=[],ml=0,km=null,bm=0,Xr=[],Jr=0,nu=null,Os=1,Ns="";function Oa(t,e){gl[ml++]=bm,gl[ml++]=km,km=t,bm=e}function L2(t,e,n){Xr[Jr++]=Os,Xr[Jr++]=Ns,Xr[Jr++]=nu,nu=t;var r=Os;t=Ns;var i=32-Ai(r)-1;r&=~(1<<i),n+=1;var s=32-Ai(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Os=1<<32-Ai(e)+i|n<<i|r,Ns=s+t}else Os=1<<s|n<<i|r,Ns=t}function JT(t){t.return!==null&&(Oa(t,1),L2(t,1,0))}function ZT(t){for(;t===km;)km=gl[--ml],gl[ml]=null,bm=gl[--ml],gl[ml]=null;for(;t===nu;)nu=Xr[--Jr],Xr[Jr]=null,Ns=Xr[--Jr],Xr[Jr]=null,Os=Xr[--Jr],Xr[Jr]=null}var Nr=null,Or=null,At=!1,Ei=null;function M2(t,e){var n=ni(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Jb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Nr=t,Or=Vo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Nr=t,Or=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=nu!==null?{id:Os,overflow:Ns}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ni(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Nr=t,Or=null,!0):!1;default:return!1}}function x1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function D1(t){if(At){var e=Or;if(e){var n=e;if(!Jb(t,e)){if(x1(t))throw Error(J(418));e=Vo(n.nextSibling);var r=Nr;e&&Jb(t,e)?M2(r,n):(t.flags=t.flags&-4097|2,At=!1,Nr=t)}}else{if(x1(t))throw Error(J(418));t.flags=t.flags&-4097|2,At=!1,Nr=t}}}function Zb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Nr=t}function sg(t){if(t!==Nr)return!1;if(!At)return Zb(t),At=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!k1(t.type,t.memoizedProps)),e&&(e=Or)){if(x1(t))throw U2(),Error(J(418));for(;e;)M2(t,e),e=Vo(e.nextSibling)}if(Zb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Or=Vo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Or=null}}else Or=Nr?Vo(t.stateNode.nextSibling):null;return!0}function U2(){for(var t=Or;t;)t=Vo(t.nextSibling)}function Yl(){Or=Nr=null,At=!1}function eI(t){Ei===null?Ei=[t]:Ei.push(t)}var QG=io.ReactCurrentBatchConfig;function yi(t,e){if(t&&t.defaultProps){e=Ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Om=ga(null),Nm=null,_l=null,tI=null;function nI(){tI=_l=Nm=null}function rI(t){var e=Om.current;wt(Om),t._currentValue=e}function L1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Pl(t,e){Nm=t,tI=_l=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gr=!0),t.firstContext=null)}function oi(t){var e=t._currentValue;if(tI!==t)if(t={context:t,memoizedValue:e,next:null},_l===null){if(Nm===null)throw Error(J(308));_l=t,Nm.dependencies={lanes:0,firstContext:t}}else _l=_l.next=t;return e}var Va=null;function iI(t){Va===null?Va=[t]:Va.push(t)}function F2(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,iI(e)):(n.next=i.next,i.next=n),e.interleaved=n,qs(t,r)}function qs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wo=!1;function sI(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $s(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ye&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,qs(t,n)}return i=r.interleaved,i===null?(e.next=e,iI(r)):(e.next=i.next,i.next=e),r.interleaved=e,qs(t,n)}function Vg(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zT(t,n)}}function eO(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function xm(t,e,n,r){var i=t.updateQueue;wo=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var l=u,h=l.next;l.next=null,o===null?s=h:o.next=h,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==o&&(u===null?f.firstBaseUpdate=h:u.next=h,f.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;o=0,f=h=l=null,u=s;do{var g=u.lane,v=u.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:v,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var E=t,C=u;switch(g=e,v=n,C.tag){case 1:if(E=C.payload,typeof E=="function"){p=E.call(v,p,g);break e}p=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=C.payload,g=typeof E=="function"?E.call(v,p,g):E,g==null)break e;p=Ot({},p,g);break e;case 2:wo=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[u]:g.push(u))}else v={eventTime:v,lane:g,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(h=f=v,l=p):f=f.next=v,o|=g;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;g=u,u=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(1);if(f===null&&(l=p),i.baseState=l,i.firstBaseUpdate=h,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);iu|=o,t.lanes=o,t.memoizedState=p}}function tO(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var V2=new FL.Component().refs;function M1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nv={isMounted:function(t){return(t=t._reactInternals)?wu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ir(),i=Bo(t),s=$s(r,i);s.payload=e,n!=null&&(s.callback=n),e=Wo(t,s,i),e!==null&&(Pi(e,t,i,r),Vg(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ir(),i=Bo(t),s=$s(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Wo(t,s,i),e!==null&&(Pi(e,t,i,r),Vg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ir(),r=Bo(t),i=$s(n,r);i.tag=2,e!=null&&(i.callback=e),e=Wo(t,i,r),e!==null&&(Pi(e,t,r,n),Vg(e,t,r))}};function nO(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ef(n,r)||!Ef(i,s):!0}function W2(t,e,n){var r=!1,i=ra,s=e.contextType;return typeof s=="object"&&s!==null?s=oi(s):(i=_r(e)?tu:Bn.current,r=e.contextTypes,s=(r=r!=null)?Gl(t,i):ra),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function rO(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&nv.enqueueReplaceState(e,e.state,null)}function U1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=V2,sI(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=oi(s):(s=_r(e)?tu:Bn.current,i.context=Gl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(M1(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&nv.enqueueReplaceState(i,i.state,null),xm(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ph(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var u=i.refs;u===V2&&(u=i.refs={}),o===null?delete u[s]:u[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function og(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function iO(t){var e=t._init;return e(t._payload)}function j2(t){function e(S,T){if(t){var k=S.deletions;k===null?(S.deletions=[T],S.flags|=16):k.push(T)}}function n(S,T){if(!t)return null;for(;T!==null;)e(S,T),T=T.sibling;return null}function r(S,T){for(S=new Map;T!==null;)T.key!==null?S.set(T.key,T):S.set(T.index,T),T=T.sibling;return S}function i(S,T){return S=zo(S,T),S.index=0,S.sibling=null,S}function s(S,T,k){return S.index=k,t?(k=S.alternate,k!==null?(k=k.index,k<T?(S.flags|=2,T):k):(S.flags|=2,T)):(S.flags|=1048576,T)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function u(S,T,k,b){return T===null||T.tag!==6?(T=jw(k,S.mode,b),T.return=S,T):(T=i(T,k),T.return=S,T)}function l(S,T,k,b){var F=k.type;return F===ll?f(S,T,k.props.children,b,k.key):T!==null&&(T.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===yo&&iO(F)===T.type)?(b=i(T,k.props),b.ref=ph(S,T,k),b.return=S,b):(b=qg(k.type,k.key,k.props,null,S.mode,b),b.ref=ph(S,T,k),b.return=S,b)}function h(S,T,k,b){return T===null||T.tag!==4||T.stateNode.containerInfo!==k.containerInfo||T.stateNode.implementation!==k.implementation?(T=Bw(k,S.mode,b),T.return=S,T):(T=i(T,k.children||[]),T.return=S,T)}function f(S,T,k,b,F){return T===null||T.tag!==7?(T=Ya(k,S.mode,b,F),T.return=S,T):(T=i(T,k),T.return=S,T)}function p(S,T,k){if(typeof T=="string"&&T!==""||typeof T=="number")return T=jw(""+T,S.mode,k),T.return=S,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Kp:return k=qg(T.type,T.key,T.props,null,S.mode,k),k.ref=ph(S,null,T),k.return=S,k;case ul:return T=Bw(T,S.mode,k),T.return=S,T;case yo:var b=T._init;return p(S,b(T._payload),k)}if(kh(T)||lh(T))return T=Ya(T,S.mode,k,null),T.return=S,T;og(S,T)}return null}function g(S,T,k,b){var F=T!==null?T.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return F!==null?null:u(S,T,""+k,b);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Kp:return k.key===F?l(S,T,k,b):null;case ul:return k.key===F?h(S,T,k,b):null;case yo:return F=k._init,g(S,T,F(k._payload),b)}if(kh(k)||lh(k))return F!==null?null:f(S,T,k,b,null);og(S,k)}return null}function v(S,T,k,b,F){if(typeof b=="string"&&b!==""||typeof b=="number")return S=S.get(k)||null,u(T,S,""+b,F);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Kp:return S=S.get(b.key===null?k:b.key)||null,l(T,S,b,F);case ul:return S=S.get(b.key===null?k:b.key)||null,h(T,S,b,F);case yo:var V=b._init;return v(S,T,k,V(b._payload),F)}if(kh(b)||lh(b))return S=S.get(k)||null,f(T,S,b,F,null);og(T,b)}return null}function E(S,T,k,b){for(var F=null,V=null,W=T,G=T=0,ie=null;W!==null&&G<k.length;G++){W.index>G?(ie=W,W=null):ie=W.sibling;var re=g(S,W,k[G],b);if(re===null){W===null&&(W=ie);break}t&&W&&re.alternate===null&&e(S,W),T=s(re,T,G),V===null?F=re:V.sibling=re,V=re,W=ie}if(G===k.length)return n(S,W),At&&Oa(S,G),F;if(W===null){for(;G<k.length;G++)W=p(S,k[G],b),W!==null&&(T=s(W,T,G),V===null?F=W:V.sibling=W,V=W);return At&&Oa(S,G),F}for(W=r(S,W);G<k.length;G++)ie=v(W,S,G,k[G],b),ie!==null&&(t&&ie.alternate!==null&&W.delete(ie.key===null?G:ie.key),T=s(ie,T,G),V===null?F=ie:V.sibling=ie,V=ie);return t&&W.forEach(function(Ne){return e(S,Ne)}),At&&Oa(S,G),F}function C(S,T,k,b){var F=lh(k);if(typeof F!="function")throw Error(J(150));if(k=F.call(k),k==null)throw Error(J(151));for(var V=F=null,W=T,G=T=0,ie=null,re=k.next();W!==null&&!re.done;G++,re=k.next()){W.index>G?(ie=W,W=null):ie=W.sibling;var Ne=g(S,W,re.value,b);if(Ne===null){W===null&&(W=ie);break}t&&W&&Ne.alternate===null&&e(S,W),T=s(Ne,T,G),V===null?F=Ne:V.sibling=Ne,V=Ne,W=ie}if(re.done)return n(S,W),At&&Oa(S,G),F;if(W===null){for(;!re.done;G++,re=k.next())re=p(S,re.value,b),re!==null&&(T=s(re,T,G),V===null?F=re:V.sibling=re,V=re);return At&&Oa(S,G),F}for(W=r(S,W);!re.done;G++,re=k.next())re=v(W,S,G,re.value,b),re!==null&&(t&&re.alternate!==null&&W.delete(re.key===null?G:re.key),T=s(re,T,G),V===null?F=re:V.sibling=re,V=re);return t&&W.forEach(function(I){return e(S,I)}),At&&Oa(S,G),F}function R(S,T,k,b){if(typeof k=="object"&&k!==null&&k.type===ll&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Kp:e:{for(var F=k.key,V=T;V!==null;){if(V.key===F){if(F=k.type,F===ll){if(V.tag===7){n(S,V.sibling),T=i(V,k.props.children),T.return=S,S=T;break e}}else if(V.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===yo&&iO(F)===V.type){n(S,V.sibling),T=i(V,k.props),T.ref=ph(S,V,k),T.return=S,S=T;break e}n(S,V);break}else e(S,V);V=V.sibling}k.type===ll?(T=Ya(k.props.children,S.mode,b,k.key),T.return=S,S=T):(b=qg(k.type,k.key,k.props,null,S.mode,b),b.ref=ph(S,T,k),b.return=S,S=b)}return o(S);case ul:e:{for(V=k.key;T!==null;){if(T.key===V)if(T.tag===4&&T.stateNode.containerInfo===k.containerInfo&&T.stateNode.implementation===k.implementation){n(S,T.sibling),T=i(T,k.children||[]),T.return=S,S=T;break e}else{n(S,T);break}else e(S,T);T=T.sibling}T=Bw(k,S.mode,b),T.return=S,S=T}return o(S);case yo:return V=k._init,R(S,T,V(k._payload),b)}if(kh(k))return E(S,T,k,b);if(lh(k))return C(S,T,k,b);og(S,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,T!==null&&T.tag===6?(n(S,T.sibling),T=i(T,k),T.return=S,S=T):(n(S,T),T=jw(k,S.mode,b),T.return=S,S=T),o(S)):n(S,T)}return R}var Kl=j2(!0),B2=j2(!1),yd={},ts=ga(yd),Cf=ga(yd),Rf=ga(yd);function Wa(t){if(t===yd)throw Error(J(174));return t}function oI(t,e){switch(pt(Rf,e),pt(Cf,t),pt(ts,yd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:g1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=g1(e,t)}wt(ts),pt(ts,e)}function Ql(){wt(ts),wt(Cf),wt(Rf)}function z2(t){Wa(Rf.current);var e=Wa(ts.current),n=g1(e,t.type);e!==n&&(pt(Cf,t),pt(ts,n))}function aI(t){Cf.current===t&&(wt(ts),wt(Cf))}var kt=ga(0);function Dm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mw=[];function uI(){for(var t=0;t<Mw.length;t++)Mw[t]._workInProgressVersionPrimary=null;Mw.length=0}var Wg=io.ReactCurrentDispatcher,Uw=io.ReactCurrentBatchConfig,ru=0,bt=null,Xt=null,an=null,Lm=!1,Hh=!1,Af=0,XG=0;function kn(){throw Error(J(321))}function lI(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bi(t[n],e[n]))return!1;return!0}function cI(t,e,n,r,i,s){if(ru=s,bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wg.current=t===null||t.memoizedState===null?t7:n7,t=n(r,i),Hh){s=0;do{if(Hh=!1,Af=0,25<=s)throw Error(J(301));s+=1,an=Xt=null,e.updateQueue=null,Wg.current=r7,t=n(r,i)}while(Hh)}if(Wg.current=Mm,e=Xt!==null&&Xt.next!==null,ru=0,an=Xt=bt=null,Lm=!1,e)throw Error(J(300));return t}function hI(){var t=Af!==0;return Af=0,t}function Hi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?bt.memoizedState=an=t:an=an.next=t,an}function ai(){if(Xt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var e=an===null?bt.memoizedState:an.next;if(e!==null)an=e,Xt=t;else{if(t===null)throw Error(J(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},an===null?bt.memoizedState=an=t:an=an.next=t}return an}function Pf(t,e){return typeof e=="function"?e(t):e}function Fw(t){var e=ai(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=Xt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var u=o=null,l=null,h=s;do{var f=h.lane;if((ru&f)===f)l!==null&&(l=l.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var p={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};l===null?(u=l=p,o=r):l=l.next=p,bt.lanes|=f,iu|=f}h=h.next}while(h!==null&&h!==s);l===null?o=r:l.next=u,bi(r,e.memoizedState)||(gr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,bt.lanes|=s,iu|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $w(t){var e=ai(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);bi(s,e.memoizedState)||(gr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function H2(){}function q2(t,e){var n=bt,r=ai(),i=e(),s=!bi(r.memoizedState,i);if(s&&(r.memoizedState=i,gr=!0),r=r.queue,fI(K2.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||an!==null&&an.memoizedState.tag&1){if(n.flags|=2048,kf(9,Y2.bind(null,n,r,i,e),void 0,null),un===null)throw Error(J(349));ru&30||G2(n,e,i)}return i}function G2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Y2(t,e,n,r){e.value=n,e.getSnapshot=r,Q2(e)&&X2(t)}function K2(t,e,n){return n(function(){Q2(e)&&X2(t)})}function Q2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bi(t,n)}catch{return!0}}function X2(t){var e=qs(t,1);e!==null&&Pi(e,t,1,-1)}function sO(t){var e=Hi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pf,lastRenderedState:t},e.queue=t,t=t.dispatch=e7.bind(null,bt,t),[e.memoizedState,t]}function kf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function J2(){return ai().memoizedState}function jg(t,e,n,r){var i=Hi();bt.flags|=t,i.memoizedState=kf(1|e,n,void 0,r===void 0?null:r)}function rv(t,e,n,r){var i=ai();r=r===void 0?null:r;var s=void 0;if(Xt!==null){var o=Xt.memoizedState;if(s=o.destroy,r!==null&&lI(r,o.deps)){i.memoizedState=kf(e,n,s,r);return}}bt.flags|=t,i.memoizedState=kf(1|e,n,s,r)}function oO(t,e){return jg(8390656,8,t,e)}function fI(t,e){return rv(2048,8,t,e)}function Z2(t,e){return rv(4,2,t,e)}function eM(t,e){return rv(4,4,t,e)}function tM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nM(t,e,n){return n=n!=null?n.concat([t]):null,rv(4,4,tM.bind(null,e,t),n)}function dI(){}function rM(t,e){var n=ai();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lI(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function iM(t,e){var n=ai();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lI(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function sM(t,e,n){return ru&21?(bi(n,e)||(n=u2(),bt.lanes|=n,iu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gr=!0),t.memoizedState=n)}function JG(t,e){var n=rt;rt=n!==0&&4>n?n:4,t(!0);var r=Uw.transition;Uw.transition={};try{t(!1),e()}finally{rt=n,Uw.transition=r}}function oM(){return ai().memoizedState}function ZG(t,e,n){var r=Bo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},aM(t))uM(e,n);else if(n=F2(t,e,n,r),n!==null){var i=ir();Pi(n,t,r,i),lM(n,e,r)}}function e7(t,e,n){var r=Bo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(aM(t))uM(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,u=s(o,n);if(i.hasEagerState=!0,i.eagerState=u,bi(u,o)){var l=e.interleaved;l===null?(i.next=i,iI(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=F2(t,e,i,r),n!==null&&(i=ir(),Pi(n,t,r,i),lM(n,e,r))}}function aM(t){var e=t.alternate;return t===bt||e!==null&&e===bt}function uM(t,e){Hh=Lm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function lM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zT(t,n)}}var Mm={readContext:oi,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useInsertionEffect:kn,useLayoutEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useMutableSource:kn,useSyncExternalStore:kn,useId:kn,unstable_isNewReconciler:!1},t7={readContext:oi,useCallback:function(t,e){return Hi().memoizedState=[t,e===void 0?null:e],t},useContext:oi,useEffect:oO,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,jg(4194308,4,tM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return jg(4194308,4,t,e)},useInsertionEffect:function(t,e){return jg(4,2,t,e)},useMemo:function(t,e){var n=Hi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Hi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ZG.bind(null,bt,t),[r.memoizedState,t]},useRef:function(t){var e=Hi();return t={current:t},e.memoizedState=t},useState:sO,useDebugValue:dI,useDeferredValue:function(t){return Hi().memoizedState=t},useTransition:function(){var t=sO(!1),e=t[0];return t=JG.bind(null,t[1]),Hi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=bt,i=Hi();if(At){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),un===null)throw Error(J(349));ru&30||G2(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,oO(K2.bind(null,r,s,t),[t]),r.flags|=2048,kf(9,Y2.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Hi(),e=un.identifierPrefix;if(At){var n=Ns,r=Os;n=(r&~(1<<32-Ai(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Af++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=XG++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},n7={readContext:oi,useCallback:rM,useContext:oi,useEffect:fI,useImperativeHandle:nM,useInsertionEffect:Z2,useLayoutEffect:eM,useMemo:iM,useReducer:Fw,useRef:J2,useState:function(){return Fw(Pf)},useDebugValue:dI,useDeferredValue:function(t){var e=ai();return sM(e,Xt.memoizedState,t)},useTransition:function(){var t=Fw(Pf)[0],e=ai().memoizedState;return[t,e]},useMutableSource:H2,useSyncExternalStore:q2,useId:oM,unstable_isNewReconciler:!1},r7={readContext:oi,useCallback:rM,useContext:oi,useEffect:fI,useImperativeHandle:nM,useInsertionEffect:Z2,useLayoutEffect:eM,useMemo:iM,useReducer:$w,useRef:J2,useState:function(){return $w(Pf)},useDebugValue:dI,useDeferredValue:function(t){var e=ai();return Xt===null?e.memoizedState=t:sM(e,Xt.memoizedState,t)},useTransition:function(){var t=$w(Pf)[0],e=ai().memoizedState;return[t,e]},useMutableSource:H2,useSyncExternalStore:q2,useId:oM,unstable_isNewReconciler:!1};function Xl(t,e){try{var n="",r=e;do n+=Oq(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Vw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function F1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var i7=typeof WeakMap=="function"?WeakMap:Map;function cM(t,e,n){n=$s(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Fm||(Fm=!0,Y1=r),F1(t,e)},n}function hM(t,e,n){n=$s(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){F1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){F1(t,e),typeof r!="function"&&(jo===null?jo=new Set([this]):jo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function aO(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new i7;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=v7.bind(null,t,e,n),e.then(t,t))}function uO(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lO(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$s(-1,1),e.tag=2,Wo(n,e,1))),n.lanes|=1),t)}var s7=io.ReactCurrentOwner,gr=!1;function Jn(t,e,n,r){e.child=t===null?B2(e,null,n,r):Kl(e,t.child,n,r)}function cO(t,e,n,r,i){n=n.render;var s=e.ref;return Pl(e,i),r=cI(t,e,n,r,s,i),n=hI(),t!==null&&!gr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gs(t,e,i)):(At&&n&&JT(e),e.flags|=1,Jn(t,e,r,i),e.child)}function hO(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!EI(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,fM(t,e,s,r,i)):(t=qg(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ef,n(o,r)&&t.ref===e.ref)return Gs(t,e,i)}return e.flags|=1,t=zo(s,r),t.ref=e.ref,t.return=e,e.child=t}function fM(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ef(s,r)&&t.ref===e.ref)if(gr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(gr=!0);else return e.lanes=t.lanes,Gs(t,e,i)}return $1(t,e,n,r,i)}function dM(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(yl,Ar),Ar|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pt(yl,Ar),Ar|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,pt(yl,Ar),Ar|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,pt(yl,Ar),Ar|=r;return Jn(t,e,i,n),e.child}function pM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function $1(t,e,n,r,i){var s=_r(n)?tu:Bn.current;return s=Gl(e,s),Pl(e,i),n=cI(t,e,n,r,s,i),r=hI(),t!==null&&!gr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gs(t,e,i)):(At&&r&&JT(e),e.flags|=1,Jn(t,e,n,i),e.child)}function fO(t,e,n,r,i){if(_r(n)){var s=!0;Pm(e)}else s=!1;if(Pl(e,i),e.stateNode===null)Bg(t,e),W2(e,n,r),U1(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var l=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=oi(h):(h=_r(n)?tu:Bn.current,h=Gl(e,h));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||l!==h)&&rO(e,o,r,h),wo=!1;var g=e.memoizedState;o.state=g,xm(e,r,o,i),l=e.memoizedState,u!==r||g!==l||mr.current||wo?(typeof f=="function"&&(M1(e,n,f,r),l=e.memoizedState),(u=wo||nO(e,n,u,r,g,l,h))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=h,r=u):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,$2(t,e),u=e.memoizedProps,h=e.type===e.elementType?u:yi(e.type,u),o.props=h,p=e.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=oi(l):(l=_r(n)?tu:Bn.current,l=Gl(e,l));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==p||g!==l)&&rO(e,o,r,l),wo=!1,g=e.memoizedState,o.state=g,xm(e,r,o,i);var E=e.memoizedState;u!==p||g!==E||mr.current||wo?(typeof v=="function"&&(M1(e,n,v,r),E=e.memoizedState),(h=wo||nO(e,n,h,r,g,E,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=h):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return V1(t,e,n,r,s,i)}function V1(t,e,n,r,i,s){pM(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Xb(e,n,!1),Gs(t,e,s);r=e.stateNode,s7.current=e;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Kl(e,t.child,null,s),e.child=Kl(e,null,u,s)):Jn(t,e,u,s),e.memoizedState=r.state,i&&Xb(e,n,!0),e.child}function gM(t){var e=t.stateNode;e.pendingContext?Qb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Qb(t,e.context,!1),oI(t,e.containerInfo)}function dO(t,e,n,r,i){return Yl(),eI(i),e.flags|=256,Jn(t,e,n,r),e.child}var W1={dehydrated:null,treeContext:null,retryLane:0};function j1(t){return{baseLanes:t,cachePool:null,transitions:null}}function mM(t,e,n){var r=e.pendingProps,i=kt.current,s=!1,o=(e.flags&128)!==0,u;if((u=o)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),pt(kt,i&1),t===null)return D1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ov(o,r,0,null),t=Ya(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=j1(n),e.memoizedState=W1,t):pI(e,o));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return o7(t,e,o,r,u,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,u=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=zo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=zo(u,s):(s=Ya(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?j1(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=W1,r}return s=t.child,t=s.sibling,r=zo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function pI(t,e){return e=ov({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ag(t,e,n,r){return r!==null&&eI(r),Kl(e,t.child,null,n),t=pI(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function o7(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Vw(Error(J(422))),ag(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ov({mode:"visible",children:r.children},i,0,null),s=Ya(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Kl(e,t.child,null,o),e.child.memoizedState=j1(o),e.memoizedState=W1,s);if(!(e.mode&1))return ag(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(J(419)),r=Vw(s,r,void 0),ag(t,e,o,r)}if(u=(o&t.childLanes)!==0,gr||u){if(r=un,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,qs(t,i),Pi(r,t,i,-1))}return wI(),r=Vw(Error(J(421))),ag(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=y7.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Or=Vo(i.nextSibling),Nr=e,At=!0,Ei=null,t!==null&&(Xr[Jr++]=Os,Xr[Jr++]=Ns,Xr[Jr++]=nu,Os=t.id,Ns=t.overflow,nu=e),e=pI(e,r.children),e.flags|=4096,e)}function pO(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),L1(t.return,e,n)}function Ww(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function _M(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Jn(t,e,r.children,n),r=kt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pO(t,n,e);else if(t.tag===19)pO(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(pt(kt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Dm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ww(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Dm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ww(e,!0,n,null,s);break;case"together":Ww(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Bg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Gs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),iu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=zo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function a7(t,e,n){switch(e.tag){case 3:gM(e),Yl();break;case 5:z2(e);break;case 1:_r(e.type)&&Pm(e);break;case 4:oI(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;pt(Om,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(pt(kt,kt.current&1),e.flags|=128,null):n&e.child.childLanes?mM(t,e,n):(pt(kt,kt.current&1),t=Gs(t,e,n),t!==null?t.sibling:null);pt(kt,kt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return _M(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pt(kt,kt.current),r)break;return null;case 22:case 23:return e.lanes=0,dM(t,e,n)}return Gs(t,e,n)}var vM,B1,yM,wM;vM=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};B1=function(){};yM=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Wa(ts.current);var s=null;switch(n){case"input":i=h1(t,i),r=h1(t,r),s=[];break;case"select":i=Ot({},i,{value:void 0}),r=Ot({},r,{value:void 0}),s=[];break;case"textarea":i=p1(t,i),r=p1(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Rm)}m1(n,r);var o;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var u=i[h];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(pf.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var l=r[h];if(u=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&l!==u&&(l!=null||u!=null))if(h==="style")if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(h,n)),n=l;else h==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,u=u?u.__html:void 0,l!=null&&u!==l&&(s=s||[]).push(h,l)):h==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(h,""+l):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(pf.hasOwnProperty(h)?(l!=null&&h==="onScroll"&&mt("scroll",t),s||u===l||(s=[])):(s=s||[]).push(h,l))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};wM=function(t,e,n,r){n!==r&&(e.flags|=4)};function gh(t,e){if(!At)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function bn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function u7(t,e,n){var r=e.pendingProps;switch(ZT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bn(e),null;case 1:return _r(e.type)&&Am(),bn(e),null;case 3:return r=e.stateNode,Ql(),wt(mr),wt(Bn),uI(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(sg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ei!==null&&(X1(Ei),Ei=null))),B1(t,e),bn(e),null;case 5:aI(e);var i=Wa(Rf.current);if(n=e.type,t!==null&&e.stateNode!=null)yM(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return bn(e),null}if(t=Wa(ts.current),sg(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[qi]=e,r[If]=s,t=(e.mode&1)!==0,n){case"dialog":mt("cancel",r),mt("close",r);break;case"iframe":case"object":case"embed":mt("load",r);break;case"video":case"audio":for(i=0;i<Oh.length;i++)mt(Oh[i],r);break;case"source":mt("error",r);break;case"img":case"image":case"link":mt("error",r),mt("load",r);break;case"details":mt("toggle",r);break;case"input":Tb(r,s),mt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},mt("invalid",r);break;case"textarea":Cb(r,s),mt("invalid",r)}m1(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&ig(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&ig(r.textContent,u,t),i=["children",""+u]):pf.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&mt("scroll",r)}switch(n){case"input":Qp(r),Ib(r,s,!0);break;case"textarea":Qp(r),Rb(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Rm)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=GL(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[qi]=e,t[If]=r,vM(t,e,!1,!1),e.stateNode=t;e:{switch(o=_1(n,r),n){case"dialog":mt("cancel",t),mt("close",t),i=r;break;case"iframe":case"object":case"embed":mt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Oh.length;i++)mt(Oh[i],t);i=r;break;case"source":mt("error",t),i=r;break;case"img":case"image":case"link":mt("error",t),mt("load",t),i=r;break;case"details":mt("toggle",t),i=r;break;case"input":Tb(t,r),i=h1(t,r),mt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ot({},r,{value:void 0}),mt("invalid",t);break;case"textarea":Cb(t,r),i=p1(t,r),mt("invalid",t);break;default:i=r}m1(n,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var l=u[s];s==="style"?QL(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&YL(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&gf(t,l):typeof l=="number"&&gf(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(pf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&mt("scroll",t):l!=null&&FT(t,s,l,o))}switch(n){case"input":Qp(t),Ib(t,r,!1);break;case"textarea":Qp(t),Rb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+na(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Il(t,!!r.multiple,s,!1):r.defaultValue!=null&&Il(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Rm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return bn(e),null;case 6:if(t&&e.stateNode!=null)wM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=Wa(Rf.current),Wa(ts.current),sg(e)){if(r=e.stateNode,n=e.memoizedProps,r[qi]=e,(s=r.nodeValue!==n)&&(t=Nr,t!==null))switch(t.tag){case 3:ig(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ig(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qi]=e,e.stateNode=r}return bn(e),null;case 13:if(wt(kt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(At&&Or!==null&&e.mode&1&&!(e.flags&128))U2(),Yl(),e.flags|=98560,s=!1;else if(s=sg(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(J(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(J(317));s[qi]=e}else Yl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bn(e),s=!1}else Ei!==null&&(X1(Ei),Ei=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||kt.current&1?en===0&&(en=3):wI())),e.updateQueue!==null&&(e.flags|=4),bn(e),null);case 4:return Ql(),B1(t,e),t===null&&Sf(e.stateNode.containerInfo),bn(e),null;case 10:return rI(e.type._context),bn(e),null;case 17:return _r(e.type)&&Am(),bn(e),null;case 19:if(wt(kt),s=e.memoizedState,s===null)return bn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)gh(s,!1);else{if(en!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Dm(t),o!==null){for(e.flags|=128,gh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return pt(kt,kt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Bt()>Jl&&(e.flags|=128,r=!0,gh(s,!1),e.lanes=4194304)}else{if(!r)if(t=Dm(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),gh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!At)return bn(e),null}else 2*Bt()-s.renderingStartTime>Jl&&n!==1073741824&&(e.flags|=128,r=!0,gh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Bt(),e.sibling=null,n=kt.current,pt(kt,r?n&1|2:n&1),e):(bn(e),null);case 22:case 23:return yI(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ar&1073741824&&(bn(e),e.subtreeFlags&6&&(e.flags|=8192)):bn(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function l7(t,e){switch(ZT(e),e.tag){case 1:return _r(e.type)&&Am(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ql(),wt(mr),wt(Bn),uI(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return aI(e),null;case 13:if(wt(kt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Yl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return wt(kt),null;case 4:return Ql(),null;case 10:return rI(e.type._context),null;case 22:case 23:return yI(),null;case 24:return null;default:return null}}var ug=!1,Mn=!1,c7=typeof WeakSet=="function"?WeakSet:Set,he=null;function vl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Dt(t,e,r)}else n.current=null}function z1(t,e,n){try{n()}catch(r){Dt(t,e,r)}}var gO=!1;function h7(t,e){if(A1=Tm,t=I2(),XT(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,u=-1,l=-1,h=0,f=0,p=t,g=null;t:for(;;){for(var v;p!==n||i!==0&&p.nodeType!==3||(u=o+i),p!==s||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(v=p.firstChild)!==null;)g=p,p=v;for(;;){if(p===t)break t;if(g===n&&++h===i&&(u=o),g===s&&++f===r&&(l=o),(v=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=v}n=u===-1||l===-1?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(P1={focusedElem:t,selectionRange:n},Tm=!1,he=e;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var C=E.memoizedProps,R=E.memoizedState,S=e.stateNode,T=S.getSnapshotBeforeUpdate(e.elementType===e.type?C:yi(e.type,C),R);S.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(b){Dt(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return E=gO,gO=!1,E}function qh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&z1(e,n,s)}i=i.next}while(i!==r)}}function iv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function H1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function EM(t){var e=t.alternate;e!==null&&(t.alternate=null,EM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qi],delete e[If],delete e[O1],delete e[GG],delete e[YG])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function SM(t){return t.tag===5||t.tag===3||t.tag===4}function mO(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||SM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function q1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Rm));else if(r!==4&&(t=t.child,t!==null))for(q1(t,e,n),t=t.sibling;t!==null;)q1(t,e,n),t=t.sibling}function G1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(G1(t,e,n),t=t.sibling;t!==null;)G1(t,e,n),t=t.sibling}var mn=null,wi=!1;function _o(t,e,n){for(n=n.child;n!==null;)TM(t,e,n),n=n.sibling}function TM(t,e,n){if(es&&typeof es.onCommitFiberUnmount=="function")try{es.onCommitFiberUnmount(Q_,n)}catch{}switch(n.tag){case 5:Mn||vl(n,e);case 6:var r=mn,i=wi;mn=null,_o(t,e,n),mn=r,wi=i,mn!==null&&(wi?(t=mn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):mn.removeChild(n.stateNode));break;case 18:mn!==null&&(wi?(t=mn,n=n.stateNode,t.nodeType===8?Dw(t.parentNode,n):t.nodeType===1&&Dw(t,n),yf(t)):Dw(mn,n.stateNode));break;case 4:r=mn,i=wi,mn=n.stateNode.containerInfo,wi=!0,_o(t,e,n),mn=r,wi=i;break;case 0:case 11:case 14:case 15:if(!Mn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&z1(n,e,o),i=i.next}while(i!==r)}_o(t,e,n);break;case 1:if(!Mn&&(vl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Dt(n,e,u)}_o(t,e,n);break;case 21:_o(t,e,n);break;case 22:n.mode&1?(Mn=(r=Mn)||n.memoizedState!==null,_o(t,e,n),Mn=r):_o(t,e,n);break;default:_o(t,e,n)}}function _O(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new c7),e.forEach(function(r){var i=w7.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function vi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,u=o;e:for(;u!==null;){switch(u.tag){case 5:mn=u.stateNode,wi=!1;break e;case 3:mn=u.stateNode.containerInfo,wi=!0;break e;case 4:mn=u.stateNode.containerInfo,wi=!0;break e}u=u.return}if(mn===null)throw Error(J(160));TM(s,o,i),mn=null,wi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(h){Dt(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)IM(e,t),e=e.sibling}function IM(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vi(e,t),zi(t),r&4){try{qh(3,t,t.return),iv(3,t)}catch(C){Dt(t,t.return,C)}try{qh(5,t,t.return)}catch(C){Dt(t,t.return,C)}}break;case 1:vi(e,t),zi(t),r&512&&n!==null&&vl(n,n.return);break;case 5:if(vi(e,t),zi(t),r&512&&n!==null&&vl(n,n.return),t.flags&32){var i=t.stateNode;try{gf(i,"")}catch(C){Dt(t,t.return,C)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,u=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&HL(i,s),_1(u,o);var h=_1(u,s);for(o=0;o<l.length;o+=2){var f=l[o],p=l[o+1];f==="style"?QL(i,p):f==="dangerouslySetInnerHTML"?YL(i,p):f==="children"?gf(i,p):FT(i,f,p,h)}switch(u){case"input":f1(i,s);break;case"textarea":qL(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Il(i,!!s.multiple,v,!1):g!==!!s.multiple&&(s.defaultValue!=null?Il(i,!!s.multiple,s.defaultValue,!0):Il(i,!!s.multiple,s.multiple?[]:"",!1))}i[If]=s}catch(C){Dt(t,t.return,C)}}break;case 6:if(vi(e,t),zi(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(C){Dt(t,t.return,C)}}break;case 3:if(vi(e,t),zi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yf(e.containerInfo)}catch(C){Dt(t,t.return,C)}break;case 4:vi(e,t),zi(t);break;case 13:vi(e,t),zi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(_I=Bt())),r&4&&_O(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Mn=(h=Mn)||f,vi(e,t),Mn=h):vi(e,t),zi(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(he=t,f=t.child;f!==null;){for(p=he=f;he!==null;){switch(g=he,v=g.child,g.tag){case 0:case 11:case 14:case 15:qh(4,g,g.return);break;case 1:vl(g,g.return);var E=g.stateNode;if(typeof E.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(C){Dt(r,n,C)}}break;case 5:vl(g,g.return);break;case 22:if(g.memoizedState!==null){yO(p);continue}}v!==null?(v.return=g,he=v):yO(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,u.style.display=KL("display",o))}catch(C){Dt(t,t.return,C)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(C){Dt(t,t.return,C)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:vi(e,t),zi(t),r&4&&_O(t);break;case 21:break;default:vi(e,t),zi(t)}}function zi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(SM(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(gf(i,""),r.flags&=-33);var s=mO(t);G1(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,u=mO(t);q1(t,u,o);break;default:throw Error(J(161))}}catch(l){Dt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function f7(t,e,n){he=t,CM(t)}function CM(t,e,n){for(var r=(t.mode&1)!==0;he!==null;){var i=he,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ug;if(!o){var u=i.alternate,l=u!==null&&u.memoizedState!==null||Mn;u=ug;var h=Mn;if(ug=o,(Mn=l)&&!h)for(he=i;he!==null;)o=he,l=o.child,o.tag===22&&o.memoizedState!==null?wO(i):l!==null?(l.return=o,he=l):wO(i);for(;s!==null;)he=s,CM(s),s=s.sibling;he=i,ug=u,Mn=h}vO(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,he=s):vO(t)}}function vO(t){for(;he!==null;){var e=he;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Mn||iv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Mn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:yi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&tO(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}tO(e,o,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&yf(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Mn||e.flags&512&&H1(e)}catch(g){Dt(e,e.return,g)}}if(e===t){he=null;break}if(n=e.sibling,n!==null){n.return=e.return,he=n;break}he=e.return}}function yO(t){for(;he!==null;){var e=he;if(e===t){he=null;break}var n=e.sibling;if(n!==null){n.return=e.return,he=n;break}he=e.return}}function wO(t){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{iv(4,e)}catch(l){Dt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Dt(e,i,l)}}var s=e.return;try{H1(e)}catch(l){Dt(e,s,l)}break;case 5:var o=e.return;try{H1(e)}catch(l){Dt(e,o,l)}}}catch(l){Dt(e,e.return,l)}if(e===t){he=null;break}var u=e.sibling;if(u!==null){u.return=e.return,he=u;break}he=e.return}}var d7=Math.ceil,Um=io.ReactCurrentDispatcher,gI=io.ReactCurrentOwner,ii=io.ReactCurrentBatchConfig,Ye=0,un=null,qt=null,Sn=0,Ar=0,yl=ga(0),en=0,bf=null,iu=0,sv=0,mI=0,Gh=null,pr=null,_I=0,Jl=1/0,Rs=null,Fm=!1,Y1=null,jo=null,lg=!1,bo=null,$m=0,Yh=0,K1=null,zg=-1,Hg=0;function ir(){return Ye&6?Bt():zg!==-1?zg:zg=Bt()}function Bo(t){return t.mode&1?Ye&2&&Sn!==0?Sn&-Sn:QG.transition!==null?(Hg===0&&(Hg=u2()),Hg):(t=rt,t!==0||(t=window.event,t=t===void 0?16:g2(t.type)),t):1}function Pi(t,e,n,r){if(50<Yh)throw Yh=0,K1=null,Error(J(185));md(t,n,r),(!(Ye&2)||t!==un)&&(t===un&&(!(Ye&2)&&(sv|=n),en===4&&So(t,Sn)),vr(t,r),n===1&&Ye===0&&!(e.mode&1)&&(Jl=Bt()+500,tv&&ma()))}function vr(t,e){var n=t.callbackNode;Qq(t,e);var r=Sm(t,t===un?Sn:0);if(r===0)n!==null&&kb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&kb(n),e===1)t.tag===0?KG(EO.bind(null,t)):D2(EO.bind(null,t)),HG(function(){!(Ye&6)&&ma()}),n=null;else{switch(l2(r)){case 1:n=BT;break;case 4:n=o2;break;case 16:n=Em;break;case 536870912:n=a2;break;default:n=Em}n=xM(n,RM.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function RM(t,e){if(zg=-1,Hg=0,Ye&6)throw Error(J(327));var n=t.callbackNode;if(kl()&&t.callbackNode!==n)return null;var r=Sm(t,t===un?Sn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Vm(t,r);else{e=r;var i=Ye;Ye|=2;var s=PM();(un!==t||Sn!==e)&&(Rs=null,Jl=Bt()+500,Ga(t,e));do try{m7();break}catch(u){AM(t,u)}while(1);nI(),Um.current=s,Ye=i,qt!==null?e=0:(un=null,Sn=0,e=en)}if(e!==0){if(e===2&&(i=S1(t),i!==0&&(r=i,e=Q1(t,i))),e===1)throw n=bf,Ga(t,0),So(t,r),vr(t,Bt()),n;if(e===6)So(t,r);else{if(i=t.current.alternate,!(r&30)&&!p7(i)&&(e=Vm(t,r),e===2&&(s=S1(t),s!==0&&(r=s,e=Q1(t,s))),e===1))throw n=bf,Ga(t,0),So(t,r),vr(t,Bt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:Na(t,pr,Rs);break;case 3:if(So(t,r),(r&130023424)===r&&(e=_I+500-Bt(),10<e)){if(Sm(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ir(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=b1(Na.bind(null,t,pr,Rs),e);break}Na(t,pr,Rs);break;case 4:if(So(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ai(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Bt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*d7(r/1960))-r,10<r){t.timeoutHandle=b1(Na.bind(null,t,pr,Rs),r);break}Na(t,pr,Rs);break;case 5:Na(t,pr,Rs);break;default:throw Error(J(329))}}}return vr(t,Bt()),t.callbackNode===n?RM.bind(null,t):null}function Q1(t,e){var n=Gh;return t.current.memoizedState.isDehydrated&&(Ga(t,e).flags|=256),t=Vm(t,e),t!==2&&(e=pr,pr=n,e!==null&&X1(e)),t}function X1(t){pr===null?pr=t:pr.push.apply(pr,t)}function p7(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!bi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function So(t,e){for(e&=~mI,e&=~sv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ai(e),r=1<<n;t[n]=-1,e&=~r}}function EO(t){if(Ye&6)throw Error(J(327));kl();var e=Sm(t,0);if(!(e&1))return vr(t,Bt()),null;var n=Vm(t,e);if(t.tag!==0&&n===2){var r=S1(t);r!==0&&(e=r,n=Q1(t,r))}if(n===1)throw n=bf,Ga(t,0),So(t,e),vr(t,Bt()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Na(t,pr,Rs),vr(t,Bt()),null}function vI(t,e){var n=Ye;Ye|=1;try{return t(e)}finally{Ye=n,Ye===0&&(Jl=Bt()+500,tv&&ma())}}function su(t){bo!==null&&bo.tag===0&&!(Ye&6)&&kl();var e=Ye;Ye|=1;var n=ii.transition,r=rt;try{if(ii.transition=null,rt=1,t)return t()}finally{rt=r,ii.transition=n,Ye=e,!(Ye&6)&&ma()}}function yI(){Ar=yl.current,wt(yl)}function Ga(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,zG(n)),qt!==null)for(n=qt.return;n!==null;){var r=n;switch(ZT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Am();break;case 3:Ql(),wt(mr),wt(Bn),uI();break;case 5:aI(r);break;case 4:Ql();break;case 13:wt(kt);break;case 19:wt(kt);break;case 10:rI(r.type._context);break;case 22:case 23:yI()}n=n.return}if(un=t,qt=t=zo(t.current,null),Sn=Ar=e,en=0,bf=null,mI=sv=iu=0,pr=Gh=null,Va!==null){for(e=0;e<Va.length;e++)if(n=Va[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Va=null}return t}function AM(t,e){do{var n=qt;try{if(nI(),Wg.current=Mm,Lm){for(var r=bt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Lm=!1}if(ru=0,an=Xt=bt=null,Hh=!1,Af=0,gI.current=null,n===null||n.return===null){en=1,bf=e,qt=null;break}e:{var s=t,o=n.return,u=n,l=e;if(e=Sn,u.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=l,f=u,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=uO(o);if(v!==null){v.flags&=-257,lO(v,o,u,s,e),v.mode&1&&aO(s,h,e),e=v,l=h;var E=e.updateQueue;if(E===null){var C=new Set;C.add(l),e.updateQueue=C}else E.add(l);break e}else{if(!(e&1)){aO(s,h,e),wI();break e}l=Error(J(426))}}else if(At&&u.mode&1){var R=uO(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),lO(R,o,u,s,e),eI(Xl(l,u));break e}}s=l=Xl(l,u),en!==4&&(en=2),Gh===null?Gh=[s]:Gh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=cM(s,l,e);eO(s,S);break e;case 1:u=l;var T=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof T.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(jo===null||!jo.has(k)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=hM(s,u,e);eO(s,b);break e}}s=s.return}while(s!==null)}bM(n)}catch(F){e=F,qt===n&&n!==null&&(qt=n=n.return);continue}break}while(1)}function PM(){var t=Um.current;return Um.current=Mm,t===null?Mm:t}function wI(){(en===0||en===3||en===2)&&(en=4),un===null||!(iu&268435455)&&!(sv&268435455)||So(un,Sn)}function Vm(t,e){var n=Ye;Ye|=2;var r=PM();(un!==t||Sn!==e)&&(Rs=null,Ga(t,e));do try{g7();break}catch(i){AM(t,i)}while(1);if(nI(),Ye=n,Um.current=r,qt!==null)throw Error(J(261));return un=null,Sn=0,en}function g7(){for(;qt!==null;)kM(qt)}function m7(){for(;qt!==null&&!Wq();)kM(qt)}function kM(t){var e=NM(t.alternate,t,Ar);t.memoizedProps=t.pendingProps,e===null?bM(t):qt=e,gI.current=null}function bM(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=l7(n,e),n!==null){n.flags&=32767,qt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{en=6,qt=null;return}}else if(n=u7(n,e,Ar),n!==null){qt=n;return}if(e=e.sibling,e!==null){qt=e;return}qt=e=t}while(e!==null);en===0&&(en=5)}function Na(t,e,n){var r=rt,i=ii.transition;try{ii.transition=null,rt=1,_7(t,e,n,r)}finally{ii.transition=i,rt=r}return null}function _7(t,e,n,r){do kl();while(bo!==null);if(Ye&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Xq(t,s),t===un&&(qt=un=null,Sn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||lg||(lg=!0,xM(Em,function(){return kl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ii.transition,ii.transition=null;var o=rt;rt=1;var u=Ye;Ye|=4,gI.current=null,h7(t,n),IM(n,t),UG(P1),Tm=!!A1,P1=A1=null,t.current=n,f7(n),jq(),Ye=u,rt=o,ii.transition=s}else t.current=n;if(lg&&(lg=!1,bo=t,$m=i),s=t.pendingLanes,s===0&&(jo=null),Hq(n.stateNode),vr(t,Bt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Fm)throw Fm=!1,t=Y1,Y1=null,t;return $m&1&&t.tag!==0&&kl(),s=t.pendingLanes,s&1?t===K1?Yh++:(Yh=0,K1=t):Yh=0,ma(),null}function kl(){if(bo!==null){var t=l2($m),e=ii.transition,n=rt;try{if(ii.transition=null,rt=16>t?16:t,bo===null)var r=!1;else{if(t=bo,bo=null,$m=0,Ye&6)throw Error(J(331));var i=Ye;for(Ye|=4,he=t.current;he!==null;){var s=he,o=s.child;if(he.flags&16){var u=s.deletions;if(u!==null){for(var l=0;l<u.length;l++){var h=u[l];for(he=h;he!==null;){var f=he;switch(f.tag){case 0:case 11:case 15:qh(8,f,s)}var p=f.child;if(p!==null)p.return=f,he=p;else for(;he!==null;){f=he;var g=f.sibling,v=f.return;if(EM(f),f===h){he=null;break}if(g!==null){g.return=v,he=g;break}he=v}}}var E=s.alternate;if(E!==null){var C=E.child;if(C!==null){E.child=null;do{var R=C.sibling;C.sibling=null,C=R}while(C!==null)}}he=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,he=o;else e:for(;he!==null;){if(s=he,s.flags&2048)switch(s.tag){case 0:case 11:case 15:qh(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,he=S;break e}he=s.return}}var T=t.current;for(he=T;he!==null;){o=he;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,he=k;else e:for(o=T;he!==null;){if(u=he,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:iv(9,u)}}catch(F){Dt(u,u.return,F)}if(u===o){he=null;break e}var b=u.sibling;if(b!==null){b.return=u.return,he=b;break e}he=u.return}}if(Ye=i,ma(),es&&typeof es.onPostCommitFiberRoot=="function")try{es.onPostCommitFiberRoot(Q_,t)}catch{}r=!0}return r}finally{rt=n,ii.transition=e}}return!1}function SO(t,e,n){e=Xl(n,e),e=cM(t,e,1),t=Wo(t,e,1),e=ir(),t!==null&&(md(t,1,e),vr(t,e))}function Dt(t,e,n){if(t.tag===3)SO(t,t,n);else for(;e!==null;){if(e.tag===3){SO(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jo===null||!jo.has(r))){t=Xl(n,t),t=hM(e,t,1),e=Wo(e,t,1),t=ir(),e!==null&&(md(e,1,t),vr(e,t));break}}e=e.return}}function v7(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ir(),t.pingedLanes|=t.suspendedLanes&n,un===t&&(Sn&n)===n&&(en===4||en===3&&(Sn&130023424)===Sn&&500>Bt()-_I?Ga(t,0):mI|=n),vr(t,e)}function OM(t,e){e===0&&(t.mode&1?(e=Zp,Zp<<=1,!(Zp&130023424)&&(Zp=4194304)):e=1);var n=ir();t=qs(t,e),t!==null&&(md(t,e,n),vr(t,n))}function y7(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),OM(t,n)}function w7(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),OM(t,n)}var NM;NM=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||mr.current)gr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return gr=!1,a7(t,e,n);gr=!!(t.flags&131072)}else gr=!1,At&&e.flags&1048576&&L2(e,bm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Bg(t,e),t=e.pendingProps;var i=Gl(e,Bn.current);Pl(e,n),i=cI(null,e,r,t,i,n);var s=hI();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_r(r)?(s=!0,Pm(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,sI(e),i.updater=nv,e.stateNode=i,i._reactInternals=e,U1(e,r,t,n),e=V1(null,e,r,!0,s,n)):(e.tag=0,At&&s&&JT(e),Jn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Bg(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=S7(r),t=yi(r,t),i){case 0:e=$1(null,e,r,t,n);break e;case 1:e=fO(null,e,r,t,n);break e;case 11:e=cO(null,e,r,t,n);break e;case 14:e=hO(null,e,r,yi(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yi(r,i),$1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yi(r,i),fO(t,e,r,i,n);case 3:e:{if(gM(e),t===null)throw Error(J(387));r=e.pendingProps,s=e.memoizedState,i=s.element,$2(t,e),xm(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Xl(Error(J(423)),e),e=dO(t,e,r,n,i);break e}else if(r!==i){i=Xl(Error(J(424)),e),e=dO(t,e,r,n,i);break e}else for(Or=Vo(e.stateNode.containerInfo.firstChild),Nr=e,At=!0,Ei=null,n=B2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yl(),r===i){e=Gs(t,e,n);break e}Jn(t,e,r,n)}e=e.child}return e;case 5:return z2(e),t===null&&D1(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,k1(r,i)?o=null:s!==null&&k1(r,s)&&(e.flags|=32),pM(t,e),Jn(t,e,o,n),e.child;case 6:return t===null&&D1(e),null;case 13:return mM(t,e,n);case 4:return oI(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Kl(e,null,r,n):Jn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yi(r,i),cO(t,e,r,i,n);case 7:return Jn(t,e,e.pendingProps,n),e.child;case 8:return Jn(t,e,e.pendingProps.children,n),e.child;case 12:return Jn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,pt(Om,r._currentValue),r._currentValue=o,s!==null)if(bi(s.value,o)){if(s.children===i.children&&!mr.current){e=Gs(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){o=s.child;for(var l=u.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=$s(-1,n&-n),l.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?l.next=l:(l.next=f.next,f.next=l),h.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),L1(s.return,n,e),u.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(J(341));o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),L1(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Jn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Pl(e,n),i=oi(i),r=r(i),e.flags|=1,Jn(t,e,r,n),e.child;case 14:return r=e.type,i=yi(r,e.pendingProps),i=yi(r.type,i),hO(t,e,r,i,n);case 15:return fM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yi(r,i),Bg(t,e),e.tag=1,_r(r)?(t=!0,Pm(e)):t=!1,Pl(e,n),W2(e,r,i),U1(e,r,i,n),V1(null,e,r,!0,t,n);case 19:return _M(t,e,n);case 22:return dM(t,e,n)}throw Error(J(156,e.tag))};function xM(t,e){return s2(t,e)}function E7(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(t,e,n,r){return new E7(t,e,n,r)}function EI(t){return t=t.prototype,!(!t||!t.isReactComponent)}function S7(t){if(typeof t=="function")return EI(t)?1:0;if(t!=null){if(t=t.$$typeof,t===VT)return 11;if(t===WT)return 14}return 2}function zo(t,e){var n=t.alternate;return n===null?(n=ni(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function qg(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")EI(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ll:return Ya(n.children,i,s,e);case $T:o=8,i|=8;break;case a1:return t=ni(12,n,e,i|2),t.elementType=a1,t.lanes=s,t;case u1:return t=ni(13,n,e,i),t.elementType=u1,t.lanes=s,t;case l1:return t=ni(19,n,e,i),t.elementType=l1,t.lanes=s,t;case jL:return ov(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case VL:o=10;break e;case WL:o=9;break e;case VT:o=11;break e;case WT:o=14;break e;case yo:o=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=ni(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ya(t,e,n,r){return t=ni(7,t,r,e),t.lanes=n,t}function ov(t,e,n,r){return t=ni(22,t,r,e),t.elementType=jL,t.lanes=n,t.stateNode={isHidden:!1},t}function jw(t,e,n){return t=ni(6,t,null,e),t.lanes=n,t}function Bw(t,e,n){return e=ni(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function T7(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tw(0),this.expirationTimes=Tw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function SI(t,e,n,r,i,s,o,u,l){return t=new T7(t,e,n,u,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ni(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},sI(s),t}function I7(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ul,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function DM(t){if(!t)return ra;t=t._reactInternals;e:{if(wu(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_r(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(_r(n))return x2(t,n,e)}return e}function LM(t,e,n,r,i,s,o,u,l){return t=SI(n,r,!0,t,i,s,o,u,l),t.context=DM(null),n=t.current,r=ir(),i=Bo(n),s=$s(r,i),s.callback=e??null,Wo(n,s,i),t.current.lanes=i,md(t,i,r),vr(t,r),t}function av(t,e,n,r){var i=e.current,s=ir(),o=Bo(i);return n=DM(n),e.context===null?e.context=n:e.pendingContext=n,e=$s(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Wo(i,e,o),t!==null&&(Pi(t,i,o,s),Vg(t,i,o)),o}function Wm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function TO(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function TI(t,e){TO(t,e),(t=t.alternate)&&TO(t,e)}function C7(){return null}var MM=typeof reportError=="function"?reportError:function(t){console.error(t)};function II(t){this._internalRoot=t}uv.prototype.render=II.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));av(t,e,null,null)};uv.prototype.unmount=II.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;su(function(){av(null,t,null,null)}),e[Hs]=null}};function uv(t){this._internalRoot=t}uv.prototype.unstable_scheduleHydration=function(t){if(t){var e=f2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Eo.length&&e!==0&&e<Eo[n].priority;n++);Eo.splice(n,0,t),n===0&&p2(t)}};function CI(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function IO(){}function R7(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=Wm(o);s.call(h)}}var o=LM(e,r,t,0,null,!1,!1,"",IO);return t._reactRootContainer=o,t[Hs]=o.current,Sf(t.nodeType===8?t.parentNode:t),su(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var h=Wm(l);u.call(h)}}var l=SI(t,0,!1,null,null,!1,!1,"",IO);return t._reactRootContainer=l,t[Hs]=l.current,Sf(t.nodeType===8?t.parentNode:t),su(function(){av(e,l,n,r)}),l}function cv(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var u=i;i=function(){var l=Wm(o);u.call(l)}}av(e,o,t,i)}else o=R7(n,e,t,i,r);return Wm(o)}c2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=bh(e.pendingLanes);n!==0&&(zT(e,n|1),vr(e,Bt()),!(Ye&6)&&(Jl=Bt()+500,ma()))}break;case 13:su(function(){var r=qs(t,1);if(r!==null){var i=ir();Pi(r,t,1,i)}}),TI(t,1)}};HT=function(t){if(t.tag===13){var e=qs(t,134217728);if(e!==null){var n=ir();Pi(e,t,134217728,n)}TI(t,134217728)}};h2=function(t){if(t.tag===13){var e=Bo(t),n=qs(t,e);if(n!==null){var r=ir();Pi(n,t,e,r)}TI(t,e)}};f2=function(){return rt};d2=function(t,e){var n=rt;try{return rt=t,e()}finally{rt=n}};y1=function(t,e,n){switch(e){case"input":if(f1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ev(r);if(!i)throw Error(J(90));zL(r),f1(r,i)}}}break;case"textarea":qL(t,n);break;case"select":e=n.value,e!=null&&Il(t,!!n.multiple,e,!1)}};ZL=vI;e2=su;var A7={usingClientEntryPoint:!1,Events:[vd,dl,ev,XL,JL,vI]},mh={findFiberByHostInstance:$a,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},P7={bundleType:mh.bundleType,version:mh.version,rendererPackageName:mh.rendererPackageName,rendererConfig:mh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:io.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=r2(t),t===null?null:t.stateNode},findFiberByHostInstance:mh.findFiberByHostInstance||C7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cg.isDisabled&&cg.supportsFiber)try{Q_=cg.inject(P7),es=cg}catch{}}Ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A7;Ur.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!CI(e))throw Error(J(200));return I7(t,e,null,n)};Ur.createRoot=function(t,e){if(!CI(t))throw Error(J(299));var n=!1,r="",i=MM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=SI(t,1,!1,null,null,n,!1,r,i),t[Hs]=e.current,Sf(t.nodeType===8?t.parentNode:t),new II(e)};Ur.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=r2(e),t=t===null?null:t.stateNode,t};Ur.flushSync=function(t){return su(t)};Ur.hydrate=function(t,e,n){if(!lv(e))throw Error(J(200));return cv(null,t,e,!0,n)};Ur.hydrateRoot=function(t,e,n){if(!CI(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=MM;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=LM(e,null,t,1,n??null,i,!1,s,o),t[Hs]=e.current,Sf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new uv(e)};Ur.render=function(t,e,n){if(!lv(e))throw Error(J(200));return cv(null,t,e,!1,n)};Ur.unmountComponentAtNode=function(t){if(!lv(t))throw Error(J(40));return t._reactRootContainer?(su(function(){cv(null,null,t,!1,function(){t._reactRootContainer=null,t[Hs]=null})}),!0):!1};Ur.unstable_batchedUpdates=vI;Ur.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!lv(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return cv(t,e,n,!1,r)};Ur.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Ur})(Cq);var CO=_m;i1.createRoot=CO.createRoot,i1.hydrateRoot=CO.hydrateRoot;function k7(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const RO={};function J1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&RO[e[0]]||(typeof e[0]=="string"&&(RO[e[0]]=new Date),k7(...e))}const UM=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}};function AO(t,e,n){t.loadNamespaces(e,UM(t,n))}function PO(t,e,n,r){typeof n=="string"&&(n=[n]),n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,UM(t,r))}function b7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=e.languages[0],i=e.options?e.options.fallbackLng:!1,s=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(u,l)=>{const h=e.services.backendConnector.state[`${u}|${l}`];return h===-1||h===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(r,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(r,t)&&(!i||o(s,t)))}function O7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(J1("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:n.lng,precheck:(i,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!s(i.isLanguageChangingTo,t))return!1}}):b7(t,e,n)}const N7=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,x7={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},D7=t=>x7[t],L7=t=>t.replace(N7,D7);let Z1={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:L7};function M7(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Z1={...Z1,...t}}function U7(){return Z1}let FM;function F7(t){FM=t}function $7(){return FM}const V7={type:"3rdParty",init(t){M7(t.options.react),F7(t)}},$M=X.createContext();class W7{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const j7=(t,e)=>{const n=X.useRef();return X.useEffect(()=>{n.current=e?n.current:t},[t,e]),n.current};function VM(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=e,{i18n:r,defaultNS:i}=X.useContext($M)||{},s=n||r||$7();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new W7),!s){J1("You will need to pass in an i18next instance by using initReactI18next");const k=(F,V)=>typeof V=="string"?V:V&&typeof V=="object"&&typeof V.defaultValue=="string"?V.defaultValue:Array.isArray(F)?F[F.length-1]:F,b=[k,{},!1];return b.t=k,b.i18n={},b.ready=!1,b}s.options.react&&s.options.react.wait!==void 0&&J1("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...U7(),...s.options.react,...e},{useSuspense:u,keyPrefix:l}=o;let h=t||i||s.options&&s.options.defaultNS;h=typeof h=="string"?[h]:h||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(h);const f=(s.isInitialized||s.initializedStoreOnce)&&h.every(k=>O7(k,s,o));function p(){return s.getFixedT(e.lng||null,o.nsMode==="fallback"?h:h[0],l)}const[g,v]=X.useState(p);let E=h.join();e.lng&&(E=`${e.lng}${E}`);const C=j7(E),R=X.useRef(!0);X.useEffect(()=>{const{bindI18n:k,bindI18nStore:b}=o;R.current=!0,!f&&!u&&(e.lng?PO(s,e.lng,h,()=>{R.current&&v(p)}):AO(s,h,()=>{R.current&&v(p)})),f&&C&&C!==E&&R.current&&v(p);function F(){R.current&&v(p)}return k&&s&&s.on(k,F),b&&s&&s.store.on(b,F),()=>{R.current=!1,k&&s&&k.split(" ").forEach(V=>s.off(V,F)),b&&s&&b.split(" ").forEach(V=>s.store.off(V,F))}},[s,E]);const S=X.useRef(!0);X.useEffect(()=>{R.current&&!S.current&&v(p),S.current=!1},[s,l]);const T=[g,s,f];if(T.t=g,T.i18n=s,T.ready=f,f||!f&&!u)return T;throw new Promise(k=>{e.lng?PO(s,e.lng,h,()=>k()):AO(s,h,()=>k())})}function B7(t){let{i18n:e,defaultNS:n,children:r}=t;const i=X.useMemo(()=>({i18n:e,defaultNS:n}),[e,n]);return X.createElement($M.Provider,{value:i},r)}var eS={},z7={get exports(){return eS},set exports(t){eS=t}},WM={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zl=X;function H7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var q7=typeof Object.is=="function"?Object.is:H7,G7=Zl.useState,Y7=Zl.useEffect,K7=Zl.useLayoutEffect,Q7=Zl.useDebugValue;function X7(t,e){var n=e(),r=G7({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return K7(function(){i.value=n,i.getSnapshot=e,zw(i)&&s({inst:i})},[t,n,e]),Y7(function(){return zw(i)&&s({inst:i}),t(function(){zw(i)&&s({inst:i})})},[t]),Q7(n),n}function zw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!q7(t,n)}catch{return!0}}function J7(t,e){return e()}var Z7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?J7:X7;WM.useSyncExternalStore=Zl.useSyncExternalStore!==void 0?Zl.useSyncExternalStore:Z7;(function(t){t.exports=WM})(z7);var tS={},eY={get exports(){return tS},set exports(t){tS=t}},jM={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv=X,tY=eS;function nY(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rY=typeof Object.is=="function"?Object.is:nY,iY=tY.useSyncExternalStore,sY=hv.useRef,oY=hv.useEffect,aY=hv.useMemo,uY=hv.useDebugValue;jM.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=sY(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=aY(function(){function l(v){if(!h){if(h=!0,f=v,v=r(v),i!==void 0&&o.hasValue){var E=o.value;if(i(E,v))return p=E}return p=v}if(E=p,rY(f,v))return E;var C=r(v);return i!==void 0&&i(E,C)?E:(f=v,p=C)}var h=!1,f,p,g=n===void 0?null:n;return[function(){return l(e())},g===null?void 0:function(){return l(g())}]},[e,n,r,i]);var u=iY(t,s[0],s[1]);return oY(function(){o.hasValue=!0,o.value=u},[u]),uY(u),u};(function(t){t.exports=jM})(eY);function lY(t){t()}let BM=lY;const cY=t=>BM=t,hY=()=>BM,ia=X.createContext(null);function zM(){return X.useContext(ia)}const fY=()=>{throw new Error("uSES not initialized!")};let HM=fY;const dY=t=>{HM=t},pY=(t,e)=>t===e;function gY(t=ia){const e=t===ia?zM:()=>X.useContext(t);return function(r,i=pY){const{store:s,subscription:o,getServerState:u}=e(),l=HM(o.addNestedSub,s.getState,u||s.getState,r,i);return X.useDebugValue(l),l}}const mY=gY();function jm(){return jm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jm.apply(this,arguments)}function _Y(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var nS={},vY={get exports(){return nS},set exports(t){nS=t}},st={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cn=typeof Symbol=="function"&&Symbol.for,RI=cn?Symbol.for("react.element"):60103,AI=cn?Symbol.for("react.portal"):60106,fv=cn?Symbol.for("react.fragment"):60107,dv=cn?Symbol.for("react.strict_mode"):60108,pv=cn?Symbol.for("react.profiler"):60114,gv=cn?Symbol.for("react.provider"):60109,mv=cn?Symbol.for("react.context"):60110,PI=cn?Symbol.for("react.async_mode"):60111,_v=cn?Symbol.for("react.concurrent_mode"):60111,vv=cn?Symbol.for("react.forward_ref"):60112,yv=cn?Symbol.for("react.suspense"):60113,yY=cn?Symbol.for("react.suspense_list"):60120,wv=cn?Symbol.for("react.memo"):60115,Ev=cn?Symbol.for("react.lazy"):60116,wY=cn?Symbol.for("react.block"):60121,EY=cn?Symbol.for("react.fundamental"):60117,SY=cn?Symbol.for("react.responder"):60118,TY=cn?Symbol.for("react.scope"):60119;function $r(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case RI:switch(t=t.type,t){case PI:case _v:case fv:case pv:case dv:case yv:return t;default:switch(t=t&&t.$$typeof,t){case mv:case vv:case Ev:case wv:case gv:return t;default:return e}}case AI:return e}}}function qM(t){return $r(t)===_v}st.AsyncMode=PI;st.ConcurrentMode=_v;st.ContextConsumer=mv;st.ContextProvider=gv;st.Element=RI;st.ForwardRef=vv;st.Fragment=fv;st.Lazy=Ev;st.Memo=wv;st.Portal=AI;st.Profiler=pv;st.StrictMode=dv;st.Suspense=yv;st.isAsyncMode=function(t){return qM(t)||$r(t)===PI};st.isConcurrentMode=qM;st.isContextConsumer=function(t){return $r(t)===mv};st.isContextProvider=function(t){return $r(t)===gv};st.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===RI};st.isForwardRef=function(t){return $r(t)===vv};st.isFragment=function(t){return $r(t)===fv};st.isLazy=function(t){return $r(t)===Ev};st.isMemo=function(t){return $r(t)===wv};st.isPortal=function(t){return $r(t)===AI};st.isProfiler=function(t){return $r(t)===pv};st.isStrictMode=function(t){return $r(t)===dv};st.isSuspense=function(t){return $r(t)===yv};st.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===fv||t===_v||t===pv||t===dv||t===yv||t===yY||typeof t=="object"&&t!==null&&(t.$$typeof===Ev||t.$$typeof===wv||t.$$typeof===gv||t.$$typeof===mv||t.$$typeof===vv||t.$$typeof===EY||t.$$typeof===SY||t.$$typeof===TY||t.$$typeof===wY)};st.typeOf=$r;(function(t){t.exports=st})(vY);var GM=nS,IY={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},CY={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},YM={};YM[GM.ForwardRef]=IY;YM[GM.Memo]=CY;var kO={},RY={get exports(){return kO},set exports(t){kO=t}},ot={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kI=Symbol.for("react.element"),bI=Symbol.for("react.portal"),Sv=Symbol.for("react.fragment"),Tv=Symbol.for("react.strict_mode"),Iv=Symbol.for("react.profiler"),Cv=Symbol.for("react.provider"),Rv=Symbol.for("react.context"),AY=Symbol.for("react.server_context"),Av=Symbol.for("react.forward_ref"),Pv=Symbol.for("react.suspense"),kv=Symbol.for("react.suspense_list"),bv=Symbol.for("react.memo"),Ov=Symbol.for("react.lazy"),PY=Symbol.for("react.offscreen"),KM;KM=Symbol.for("react.module.reference");function li(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case kI:switch(t=t.type,t){case Sv:case Iv:case Tv:case Pv:case kv:return t;default:switch(t=t&&t.$$typeof,t){case AY:case Rv:case Av:case Ov:case bv:case Cv:return t;default:return e}}case bI:return e}}}ot.ContextConsumer=Rv;ot.ContextProvider=Cv;ot.Element=kI;ot.ForwardRef=Av;ot.Fragment=Sv;ot.Lazy=Ov;ot.Memo=bv;ot.Portal=bI;ot.Profiler=Iv;ot.StrictMode=Tv;ot.Suspense=Pv;ot.SuspenseList=kv;ot.isAsyncMode=function(){return!1};ot.isConcurrentMode=function(){return!1};ot.isContextConsumer=function(t){return li(t)===Rv};ot.isContextProvider=function(t){return li(t)===Cv};ot.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===kI};ot.isForwardRef=function(t){return li(t)===Av};ot.isFragment=function(t){return li(t)===Sv};ot.isLazy=function(t){return li(t)===Ov};ot.isMemo=function(t){return li(t)===bv};ot.isPortal=function(t){return li(t)===bI};ot.isProfiler=function(t){return li(t)===Iv};ot.isStrictMode=function(t){return li(t)===Tv};ot.isSuspense=function(t){return li(t)===Pv};ot.isSuspenseList=function(t){return li(t)===kv};ot.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Sv||t===Iv||t===Tv||t===Pv||t===kv||t===PY||typeof t=="object"&&t!==null&&(t.$$typeof===Ov||t.$$typeof===bv||t.$$typeof===Cv||t.$$typeof===Rv||t.$$typeof===Av||t.$$typeof===KM||t.getModuleId!==void 0)};ot.typeOf=li;(function(t){t.exports=ot})(RY);function kY(){const t=hY();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const bO={notify(){},get:()=>[]};function bY(t,e){let n,r=bO;function i(p){return l(),r.subscribe(p)}function s(){r.notify()}function o(){f.onStateChange&&f.onStateChange()}function u(){return Boolean(n)}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=kY())}function h(){n&&(n(),n=void 0,r.clear(),r=bO)}const f={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:u,trySubscribe:l,tryUnsubscribe:h,getListeners:()=>r};return f}const OY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",NY=OY?X.useLayoutEffect:X.useEffect;function xY({store:t,context:e,children:n,serverState:r}){const i=X.useMemo(()=>{const u=bY(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0}},[t,r]),s=X.useMemo(()=>t.getState(),[t]);NY(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,s]);const o=e||ia;return LT.createElement(o.Provider,{value:i},n)}function QM(t=ia){const e=t===ia?zM:()=>X.useContext(t);return function(){const{store:r}=e();return r}}const DY=QM();function LY(t=ia){const e=t===ia?DY:QM(t);return function(){return e().dispatch}}const MY=LY();dY(tS.useSyncExternalStoreWithSelector);cY(_m.unstable_batchedUpdates);function Gg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gg=function(n){return typeof n}:Gg=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Gg(t)}function UY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function FY(t,e,n){return e&&OO(t.prototype,e),n&&OO(t,n),t}function $Y(t,e){return e&&(Gg(e)==="object"||typeof e=="function")?e:Yg(t)}function rS(t){return rS=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},rS(t)}function Yg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&iS(t,e)}function iS(t,e){return iS=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},iS(t,e)}function Kg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var XM=function(t){VY(e,t);function e(){var n,r;UY(this,e);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=$Y(this,(n=rS(e)).call.apply(n,[this].concat(s))),Kg(Yg(r),"state",{bootstrapped:!1}),Kg(Yg(r),"_unsubscribe",void 0),Kg(Yg(r),"handlePersistorState",function(){var u=r.props.persistor,l=u.getState(),h=l.bootstrapped;h&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return FY(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(X.PureComponent);Kg(XM,"defaultProps",{children:null,loading:null});/**
 * @remix-run/router v1.3.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Of(){return Of=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Of.apply(this,arguments)}var Oo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Oo||(Oo={}));const NO="popstate";function WY(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:u="",hash:l=""}=Eu(i.location.hash.substr(1));return sS("",{pathname:o,search:u,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),u="";if(o&&o.getAttribute("href")){let l=i.location.href,h=l.indexOf("#");u=h===-1?l:l.slice(0,h)}return u+"#"+(typeof s=="string"?s:Bm(s))}function r(i,s){jY(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return zY(e,n,r,t)}function Yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jY(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BY(){return Math.random().toString(36).substr(2,8)}function xO(t,e){return{usr:t.state,key:t.key,idx:e}}function sS(t,e,n,r){return n===void 0&&(n=null),Of({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Eu(e):e,{state:n,key:e&&e.key||r||BY()})}function Bm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Eu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function zY(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,u=Oo.Pop,l=null,h=f();h==null&&(h=0,o.replaceState(Of({},o.state,{idx:h}),""));function f(){return(o.state||{idx:null}).idx}function p(){u=Oo.Pop;let R=f(),S=R==null?null:R-h;h=R,l&&l({action:u,location:C.location,delta:S})}function g(R,S){u=Oo.Push;let T=sS(C.location,R,S);n&&n(T,R),h=f()+1;let k=xO(T,h),b=C.createHref(T);try{o.pushState(k,"",b)}catch{i.location.assign(b)}s&&l&&l({action:u,location:C.location,delta:1})}function v(R,S){u=Oo.Replace;let T=sS(C.location,R,S);n&&n(T,R),h=f();let k=xO(T,h),b=C.createHref(T);o.replaceState(k,"",b),s&&l&&l({action:u,location:C.location,delta:0})}function E(R){let S=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof R=="string"?R:Bm(R);return Yt(S,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,S)}let C={get action(){return u},get location(){return t(i,o)},listen(R){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(NO,p),l=R,()=>{i.removeEventListener(NO,p),l=null}},createHref(R){return e(i,R)},createURL:E,encodeLocation(R){let S=E(R);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:v,go(R){return o.go(R)}};return C}var DO;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(DO||(DO={}));function HY(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Eu(e):e,i=eU(r.pathname||"/",n);if(i==null)return null;let s=JM(t);qY(s);let o=null;for(let u=0;o==null&&u<s.length;++u)o=tK(s[u],iK(i));return o}function JM(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,u)=>{let l={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Yt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let h=Ho([r,l.relativePath]),f=n.concat(l);s.children&&s.children.length>0&&(Yt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),JM(s.children,e,f,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:ZY(h,s.index),routesMeta:f})};return t.forEach((s,o)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,o);else for(let l of ZM(s.path))i(s,o,l)}),e}function ZM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=ZM(r.join("/")),u=[];return u.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&u.push(...o),u.map(l=>t.startsWith("/")&&l===""?"/":l)}function qY(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:eK(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const GY=/^:\w+$/,YY=3,KY=2,QY=1,XY=10,JY=-2,LO=t=>t==="*";function ZY(t,e){let n=t.split("/"),r=n.length;return n.some(LO)&&(r+=JY),e&&(r+=KY),n.filter(i=>!LO(i)).reduce((i,s)=>i+(GY.test(s)?YY:s===""?QY:XY),r)}function eK(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function tK(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let u=n[o],l=o===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=nK({path:u.relativePath,caseSensitive:u.caseSensitive,end:l},h);if(!f)return null;Object.assign(r,f.params);let p=u.route;s.push({params:r,pathname:Ho([i,f.pathname]),pathnameBase:uK(Ho([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Ho([i,f.pathnameBase]))}return s}function nK(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=rK(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,f,p)=>{if(f==="*"){let g=u[p]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}return h[f]=sK(u[p]||"",f),h},{}),pathname:s,pathnameBase:o,pattern:t}}function rK(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),OI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,u)=>(r.push(u),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function iK(t){try{return decodeURI(t)}catch(e){return OI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function sK(t,e){try{return decodeURIComponent(t)}catch(n){return OI(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function eU(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function OI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oK(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Eu(t):t;return{pathname:n?n.startsWith("/")?n:aK(n,e):e,search:lK(r),hash:cK(i)}}function aK(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Hw(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tU(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function nU(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Eu(t):(i=Of({},t),Yt(!i.pathname||!i.pathname.includes("?"),Hw("?","pathname","search",i)),Yt(!i.pathname||!i.pathname.includes("#"),Hw("#","pathname","hash",i)),Yt(!i.search||!i.search.includes("#"),Hw("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,u;if(r||o==null)u=n;else{let p=e.length-1;if(o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}u=p>=0?e[p]:"/"}let l=oK(i,u),h=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(h||f)&&(l.pathname+="/"),l}const Ho=t=>t.join("/").replace(/\/\/+/g,"/"),uK=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lK=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cK=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hK(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const fK=["post","put","patch","delete"];[...fK];/**
 * React Router v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oS(){return oS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oS.apply(this,arguments)}function dK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const pK=typeof Object.is=="function"?Object.is:dK,{useState:gK,useEffect:mK,useLayoutEffect:_K,useDebugValue:vK}=r1;function yK(t,e,n){const r=e(),[{inst:i},s]=gK({inst:{value:r,getSnapshot:e}});return _K(()=>{i.value=r,i.getSnapshot=e,qw(i)&&s({inst:i})},[t,r,e]),mK(()=>(qw(i)&&s({inst:i}),t(()=>{qw(i)&&s({inst:i})})),[t]),vK(r),r}function qw(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!pK(n,r)}catch{return!0}}function wK(t,e,n){return e()}const EK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SK=!EK,TK=SK?wK:yK;"useSyncExternalStore"in r1&&(t=>t.useSyncExternalStore)(r1);const rU=X.createContext(null),NI=X.createContext(null),Nv=X.createContext(null),xv=X.createContext(null),Su=X.createContext({outlet:null,matches:[]}),iU=X.createContext(null);function IK(t,e){let{relative:n}=e===void 0?{}:e;wc()||Yt(!1);let{basename:r,navigator:i}=X.useContext(Nv),{hash:s,pathname:o,search:u}=sU(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ho([r,o])),i.createHref({pathname:l,search:u,hash:s})}function wc(){return X.useContext(xv)!=null}function wd(){return wc()||Yt(!1),X.useContext(xv).location}function xI(){wc()||Yt(!1);let{basename:t,navigator:e}=X.useContext(Nv),{matches:n}=X.useContext(Su),{pathname:r}=wd(),i=JSON.stringify(tU(n).map(u=>u.pathnameBase)),s=X.useRef(!1);return X.useEffect(()=>{s.current=!0}),X.useCallback(function(u,l){if(l===void 0&&(l={}),!s.current)return;if(typeof u=="number"){e.go(u);return}let h=nU(u,JSON.parse(i),r,l.relative==="path");t!=="/"&&(h.pathname=h.pathname==="/"?t:Ho([t,h.pathname])),(l.replace?e.replace:e.push)(h,l.state,l)},[t,e,i,r])}const CK=X.createContext(null);function RK(t){let e=X.useContext(Su).outlet;return e&&X.createElement(CK.Provider,{value:t},e)}function sU(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=X.useContext(Su),{pathname:i}=wd(),s=JSON.stringify(tU(r).map(o=>o.pathnameBase));return X.useMemo(()=>nU(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function AK(t,e){wc()||Yt(!1);let{navigator:n}=X.useContext(Nv),r=X.useContext(NI),{matches:i}=X.useContext(Su),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let l=wd(),h;if(e){var f;let C=typeof e=="string"?Eu(e):e;u==="/"||(f=C.pathname)!=null&&f.startsWith(u)||Yt(!1),h=C}else h=l;let p=h.pathname||"/",g=u==="/"?p:p.slice(u.length)||"/",v=HY(t,{pathname:g}),E=OK(v&&v.map(C=>Object.assign({},C,{params:Object.assign({},o,C.params),pathname:Ho([u,n.encodeLocation?n.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?u:Ho([u,n.encodeLocation?n.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),i,r||void 0);return e&&E?X.createElement(xv.Provider,{value:{location:oS({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Oo.Pop}},E):E}function PK(){let t=LK(),e=hK(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),n?X.createElement("pre",{style:i},n):null,s)}class kK extends X.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?X.createElement(Su.Provider,{value:this.props.routeContext},X.createElement(iU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bK(t){let{routeContext:e,match:n,children:r}=t,i=X.useContext(rU);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),X.createElement(Su.Provider,{value:e},r)}function OK(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Yt(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,u)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,h=n?o.route.errorElement||X.createElement(PK,null):null,f=e.concat(r.slice(0,u+1)),p=()=>X.createElement(bK,{match:o,routeContext:{outlet:s,matches:f}},l?h:o.route.element!==void 0?o.route.element:s);return n&&(o.route.errorElement||u===0)?X.createElement(kK,{location:n.location,component:h,error:l,children:p(),routeContext:{outlet:null,matches:f}}):p()},null)}var MO;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(MO||(MO={}));var zm;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(zm||(zm={}));function NK(t){let e=X.useContext(NI);return e||Yt(!1),e}function xK(t){let e=X.useContext(Su);return e||Yt(!1),e}function DK(t){let e=xK(),n=e.matches[e.matches.length-1];return n.route.id||Yt(!1),n.route.id}function LK(){var t;let e=X.useContext(iU),n=NK(zm.UseRouteError),r=DK(zm.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function MK(t){let{to:e,replace:n,state:r,relative:i}=t;wc()||Yt(!1);let s=X.useContext(NI),o=xI();return X.useEffect(()=>{s&&s.navigation.state!=="idle"||o(e,{replace:n,state:r,relative:i})}),null}function oU(t){return RK(t.context)}function xa(t){Yt(!1)}function UK(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Oo.Pop,navigator:s,static:o=!1}=t;wc()&&Yt(!1);let u=e.replace(/^\/*/,"/"),l=X.useMemo(()=>({basename:u,navigator:s,static:o}),[u,s,o]);typeof r=="string"&&(r=Eu(r));let{pathname:h="/",search:f="",hash:p="",state:g=null,key:v="default"}=r,E=X.useMemo(()=>{let C=eU(h,u);return C==null?null:{pathname:C,search:f,hash:p,state:g,key:v}},[u,h,f,p,g,v]);return E==null?null:X.createElement(Nv.Provider,{value:l},X.createElement(xv.Provider,{children:n,value:{location:E,navigationType:i}}))}function FK(t){let{children:e,location:n}=t,r=X.useContext(rU),i=r&&!e?r.router.routes:aS(e);return AK(i,n)}var UO;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(UO||(UO={}));new Promise(()=>{});function aS(t,e){e===void 0&&(e=[]);let n=[];return X.Children.forEach(t,(r,i)=>{if(!X.isValidElement(r))return;if(r.type===X.Fragment){n.push.apply(n,aS(r.props.children,e));return}r.type!==xa&&Yt(!1),!r.props.index||!r.props.children||Yt(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=aS(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uS(){return uS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uS.apply(this,arguments)}function $K(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function VK(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function WK(t,e){return t.button===0&&(!e||e==="_self")&&!VK(t)}const jK=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function BK(t){let{basename:e,children:n,window:r}=t,i=X.useRef();i.current==null&&(i.current=WY({window:r,v5Compat:!0}));let s=i.current,[o,u]=X.useState({action:s.action,location:s.location});return X.useLayoutEffect(()=>s.listen(u),[s]),X.createElement(UK,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}const zK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Dv=X.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:u,target:l,to:h,preventScrollReset:f}=e,p=$K(e,jK),g,v=!1;if(zK&&typeof h=="string"&&/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(h)){g=h;let S=new URL(window.location.href),T=h.startsWith("//")?new URL(S.protocol+h):new URL(h);T.origin===S.origin?h=T.pathname+T.search+T.hash:v=!0}let E=IK(h,{relative:i}),C=HK(h,{replace:o,state:u,target:l,preventScrollReset:f,relative:i});function R(S){r&&r(S),S.defaultPrevented||C(S)}return X.createElement("a",uS({},p,{href:g||E,onClick:v||s?r:R,ref:n,target:l}))});var FO;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(FO||(FO={}));var $O;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})($O||($O={}));function HK(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,u=xI(),l=wd(),h=sU(t,{relative:o});return X.useCallback(f=>{if(WK(f,n)){f.preventDefault();let p=r!==void 0?r:Bm(l)===Bm(h);u(t,{replace:p,state:i,preventScrollReset:s,relative:o})}},[l,u,h,r,i,n,t,s,o])}var qK=function(e){var n=e.width,r=n===void 0?36:n,i=e.height,s=i===void 0?36:i;return Z("svg",{height:s,viewBox:"0 0 24 24",width:r,children:Z("g",{children:Z("path",{d:"M23 4v2h-3v3h-2V6h-3V4h3V1h2v3h3zm-8.5 7c.828 0 1.5-.672 1.5-1.5S15.328 8 14.5 8 13 8.672 13 9.5s.672 1.5 1.5 1.5zm3.5 3.234l-.513-.57c-.794-.885-2.18-.885-2.976 0l-.655.73L9 9l-3 3.333V6h7V4H6c-1.105 0-2 .895-2 2v12c0 1.105.895 2 2 2h12c1.105 0 2-.895 2-2v-7h-2v3.234z",fill:"#8da4f1"})})})},GK=function(e){var n=e.width,r=n===void 0?24:n,i=e.height,s=i===void 0?24:i,o=e.color,u=o===void 0?"#ddddf7":o;return Z("svg",{fill:u,height:s,viewBox:"0 0 26.676 26.676",width:r,children:Z("path",{d:"M26.105,21.891c-0.229,0-0.439-0.131-0.529-0.346l0,0c-0.066-0.156-1.716-3.857-7.885-4.59 c-1.285-0.156-2.824-0.236-4.693-0.25v4.613c0,0.213-0.115,0.406-0.304,0.508c-0.188,0.098-0.413,0.084-0.588-0.033L0.254,13.815 C0.094,13.708,0,13.528,0,13.339c0-0.191,0.094-0.365,0.254-0.477l11.857-7.979c0.175-0.121,0.398-0.129,0.588-0.029 c0.19,0.102,0.303,0.295,0.303,0.502v4.293c2.578,0.336,13.674,2.33,13.674,11.674c0,0.271-0.191,0.508-0.459,0.562 C26.18,21.891,26.141,21.891,26.105,21.891z"})})},YK=function(e){var n=e.width,r=n===void 0?24:n,i=e.height,s=i===void 0?24:i,o=e.color,u=o===void 0?"#ddddf7":o;return Z("svg",{fill:u,height:s,viewBox:"0 0 32 32",width:r,children:Z("path",{d:"M12.15 28.012v-0.85c0.019-0.069 0.050-0.131 0.063-0.2 0.275-1.788 1.762-3.2 3.506-3.319 1.95-0.137 3.6 0.975 4.137 2.787 0.069 0.238 0.119 0.488 0.181 0.731v0.85c-0.019 0.056-0.050 0.106-0.056 0.169-0.269 1.65-1.456 2.906-3.081 3.262-0.125 0.025-0.25 0.063-0.375 0.094h-0.85c-0.056-0.019-0.113-0.050-0.169-0.056-1.625-0.262-2.862-1.419-3.237-3.025-0.037-0.156-0.081-0.3-0.119-0.444zM20.038 3.988l-0 0.85c-0.019 0.069-0.050 0.131-0.056 0.2-0.281 1.8-1.775 3.206-3.538 3.319-1.944 0.125-3.588-1-4.119-2.819-0.069-0.231-0.119-0.469-0.175-0.7v-0.85c0.019-0.056 0.050-0.106 0.063-0.162 0.3-1.625 1.244-2.688 2.819-3.194 0.206-0.069 0.425-0.106 0.637-0.162h0.85c0.056 0.019 0.113 0.050 0.169 0.056 1.631 0.269 2.863 1.419 3.238 3.025 0.038 0.15 0.075 0.294 0.113 0.437zM20.037 15.575v0.85c-0.019 0.069-0.050 0.131-0.063 0.2-0.281 1.794-1.831 3.238-3.581 3.313-1.969 0.087-3.637-1.1-4.106-2.931-0.050-0.194-0.094-0.387-0.137-0.581v-0.85c0.019-0.069 0.050-0.131 0.063-0.2 0.275-1.794 1.831-3.238 3.581-3.319 1.969-0.094 3.637 1.1 4.106 2.931 0.050 0.2 0.094 0.394 0.137 0.588z"})})},Lv={AddAvatar:qK,BackArrow:GK,Options:YK},Tu=function(){return MY()},yr=mY,DI=function(e){return X.useEffect(e,[])},En;(function(t){t.Root="/",t.Chat="chat",t.Login="login",t.Register="register"})(En||(En={}));var lS;(function(t){t.ChatId="chatId"})(lS||(lS={}));const KK="IBm",QK="IxK",VO={container:KK,info:QK};var XK=function(){var e=yr(function(r){return r.user}),n=e.chat;return Qe("div",{className:VO.container,children:[Qe("div",{className:VO.info,children:[Z(Dv,{to:En.Root,children:Z(Lv.BackArrow,{})}),Z("span",{children:(n==null?void 0:n.interlocutorInfo.alias)||(n==null?void 0:n.interlocutorInfo.nickname)}),Z(rhe,{})]}),Z(Lge,{}),Z(vhe,{})]})};function Si(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function sa(t){return!!t&&!!t[Rt]}function Ys(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===oQ}(t)||Array.isArray(t)||!!t[GO]||!!(!((e=t.constructor)===null||e===void 0)&&e[GO])||LI(t)||MI(t))}function ou(t,e,n){n===void 0&&(n=!1),Ec(t)===0?(n?Object.keys:Ol)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function Ec(t){var e=t[Rt];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:LI(t)?2:MI(t)?3:0}function bl(t,e){return Ec(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function JK(t,e){return Ec(t)===2?t.get(e):t[e]}function aU(t,e,n){var r=Ec(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function uU(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function LI(t){return iQ&&t instanceof Map}function MI(t){return sQ&&t instanceof Set}function Da(t){return t.o||t.t}function UI(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=cU(t);delete e[Rt];for(var n=Ol(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function FI(t,e){return e===void 0&&(e=!1),$I(t)||sa(t)||!Ys(t)||(Ec(t)>1&&(t.set=t.add=t.clear=t.delete=ZK),Object.freeze(t),e&&ou(t,function(n,r){return FI(r,!0)},!0)),t}function ZK(){Si(2)}function $I(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function ns(t){var e=dS[t];return e||Si(18,t),e}function eQ(t,e){dS[t]||(dS[t]=e)}function cS(){return Nf}function Gw(t,e){e&&(ns("Patches"),t.u=[],t.s=[],t.v=e)}function Hm(t){hS(t),t.p.forEach(tQ),t.p=null}function hS(t){t===Nf&&(Nf=t.l)}function WO(t){return Nf={p:[],l:Nf,h:t,m:!0,_:0}}function tQ(t){var e=t[Rt];e.i===0||e.i===1?e.j():e.O=!0}function Yw(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.g||ns("ES5").S(e,t,r),r?(n[Rt].P&&(Hm(e),Si(4)),Ys(t)&&(t=qm(e,t),e.l||Gm(e,t)),e.u&&ns("Patches").M(n[Rt].t,t,e.u,e.s)):t=qm(e,n,[]),Hm(e),e.u&&e.v(e.u,e.s),t!==lU?t:void 0}function qm(t,e,n){if($I(e))return e;var r=e[Rt];if(!r)return ou(e,function(u,l){return jO(t,r,e,u,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Gm(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=UI(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),ou(s,function(u,l){return jO(t,r,i,u,l,n,o)}),Gm(t,i,!1),n&&t.u&&ns("Patches").N(r,n,t.u,t.s)}return r.o}function jO(t,e,n,r,i,s,o){if(sa(i)){var u=qm(t,i,s&&e&&e.i!==3&&!bl(e.R,r)?s.concat(r):void 0);if(aU(n,r,u),!sa(u))return;t.m=!1}else o&&n.add(i);if(Ys(i)&&!$I(i)){if(!t.h.D&&t._<1)return;qm(t,i),e&&e.A.l||Gm(t,i)}}function Gm(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&FI(e,n)}function Kw(t,e){var n=t[Rt];return(n?Da(n):t)[e]}function BO(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function To(t){t.P||(t.P=!0,t.l&&To(t.l))}function Qw(t){t.o||(t.o=UI(t.t))}function fS(t,e,n){var r=LI(e)?ns("MapSet").F(e,n):MI(e)?ns("MapSet").T(e,n):t.g?function(i,s){var o=Array.isArray(i),u={i:o?1:0,A:s?s.A:cS(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=u,h=xf;o&&(l=[u],h=Nh);var f=Proxy.revocable(l,h),p=f.revoke,g=f.proxy;return u.k=g,u.j=p,g}(e,n):ns("ES5").J(e,n);return(n?n.A:cS()).p.push(r),r}function nQ(t){return sa(t)||Si(22,t),function e(n){if(!Ys(n))return n;var r,i=n[Rt],s=Ec(n);if(i){if(!i.P&&(i.i<4||!ns("ES5").K(i)))return i.t;i.I=!0,r=zO(n,s),i.I=!1}else r=zO(n,s);return ou(r,function(o,u){i&&JK(i.t,o)===u||aU(r,o,e(u))}),s===3?new Set(r):r}(t)}function zO(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return UI(t)}function rQ(){function t(s,o){var u=i[s];return u?u.enumerable=o:i[s]=u={configurable:!0,enumerable:o,get:function(){var l=this[Rt];return xf.get(l,s)},set:function(l){var h=this[Rt];xf.set(h,s,l)}},u}function e(s){for(var o=s.length-1;o>=0;o--){var u=s[o][Rt];if(!u.P)switch(u.i){case 5:r(u)&&To(u);break;case 4:n(u)&&To(u)}}}function n(s){for(var o=s.t,u=s.k,l=Ol(u),h=l.length-1;h>=0;h--){var f=l[h];if(f!==Rt){var p=o[f];if(p===void 0&&!bl(o,f))return!0;var g=u[f],v=g&&g[Rt];if(v?v.t!==p:!uU(g,p))return!0}}var E=!!o[Rt];return l.length!==Ol(o).length+(E?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var u=Object.getOwnPropertyDescriptor(o,o.length-1);if(u&&!u.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};eQ("ES5",{J:function(s,o){var u=Array.isArray(s),l=function(f,p){if(f){for(var g=Array(p.length),v=0;v<p.length;v++)Object.defineProperty(g,""+v,t(v,!0));return g}var E=cU(p);delete E[Rt];for(var C=Ol(E),R=0;R<C.length;R++){var S=C[R];E[S]=t(S,f||!!E[S].enumerable)}return Object.create(Object.getPrototypeOf(p),E)}(u,s),h={i:u?5:4,A:o?o.A:cS(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,O:!1,C:!1};return Object.defineProperty(l,Rt,{value:h,writable:!0}),l},S:function(s,o,u){u?sa(o)&&o[Rt].A===s&&e(s.p):(s.u&&function l(h){if(h&&typeof h=="object"){var f=h[Rt];if(f){var p=f.t,g=f.k,v=f.R,E=f.i;if(E===4)ou(g,function(k){k!==Rt&&(p[k]!==void 0||bl(p,k)?v[k]||l(g[k]):(v[k]=!0,To(f)))}),ou(p,function(k){g[k]!==void 0||bl(g,k)||(v[k]=!1,To(f))});else if(E===5){if(r(f)&&(To(f),v.length=!0),g.length<p.length)for(var C=g.length;C<p.length;C++)v[C]=!1;else for(var R=p.length;R<g.length;R++)v[R]=!0;for(var S=Math.min(g.length,p.length),T=0;T<S;T++)g.hasOwnProperty(T)||(v[T]=!0),v[T]===void 0&&l(g[T])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var HO,Nf,VI=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",iQ=typeof Map<"u",sQ=typeof Set<"u",qO=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",lU=VI?Symbol.for("immer-nothing"):((HO={})["immer-nothing"]=!0,HO),GO=VI?Symbol.for("immer-draftable"):"__$immer_draftable",Rt=VI?Symbol.for("immer-state"):"__$immer_state",oQ=""+Object.prototype.constructor,Ol=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,cU=Object.getOwnPropertyDescriptors||function(t){var e={};return Ol(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},dS={},xf={get:function(t,e){if(e===Rt)return t;var n=Da(t);if(!bl(n,e))return function(i,s,o){var u,l=BO(s,o);return l?"value"in l?l.value:(u=l.get)===null||u===void 0?void 0:u.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!Ys(r)?r:r===Kw(t.t,e)?(Qw(t),t.o[e]=fS(t.A.h,r,t)):r},has:function(t,e){return e in Da(t)},ownKeys:function(t){return Reflect.ownKeys(Da(t))},set:function(t,e,n){var r=BO(Da(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=Kw(Da(t),e),s=i==null?void 0:i[Rt];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(uU(n,i)&&(n!==void 0||bl(t.t,e)))return!0;Qw(t),To(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Kw(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Qw(t),To(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Da(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){Si(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Si(12)}},Nh={};ou(xf,function(t,e){Nh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Nh.deleteProperty=function(t,e){return Nh.set.call(this,t,e,void 0)},Nh.set=function(t,e,n){return xf.set.call(this,t[0],e,n,t[0])};var aQ=function(){function t(n){var r=this;this.g=qO,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var u=s;s=i;var l=r;return function(C){var R=this;C===void 0&&(C=u);for(var S=arguments.length,T=Array(S>1?S-1:0),k=1;k<S;k++)T[k-1]=arguments[k];return l.produce(C,function(b){var F;return(F=s).call.apply(F,[R,b].concat(T))})}}var h;if(typeof s!="function"&&Si(6),o!==void 0&&typeof o!="function"&&Si(7),Ys(i)){var f=WO(r),p=fS(r,i,void 0),g=!0;try{h=s(p),g=!1}finally{g?Hm(f):hS(f)}return typeof Promise<"u"&&h instanceof Promise?h.then(function(C){return Gw(f,o),Yw(C,f)},function(C){throw Hm(f),C}):(Gw(f,o),Yw(h,f))}if(!i||typeof i!="object"){if((h=s(i))===void 0&&(h=i),h===lU&&(h=void 0),r.D&&FI(h,!0),o){var v=[],E=[];ns("Patches").M(i,h,v,E),o(v,E)}return h}Si(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(h){for(var f=arguments.length,p=Array(f>1?f-1:0),g=1;g<f;g++)p[g-1]=arguments[g];return r.produceWithPatches(h,function(v){return i.apply(void 0,[v].concat(p))})};var o,u,l=r.produce(i,s,function(h,f){o=h,u=f});return typeof Promise<"u"&&l instanceof Promise?l.then(function(h){return[h,o,u]}):[l,o,u]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Ys(n)||Si(8),sa(n)&&(n=nQ(n));var r=WO(this),i=fS(this,n,void 0);return i[Rt].C=!0,hS(r),i},e.finishDraft=function(n,r){var i=n&&n[Rt],s=i.A;return Gw(s,r),Yw(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!qO&&Si(20),this.g=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=ns("Patches").$;return sa(n)?o(n,r):this.produce(n,function(u){return o(u,r)})},t}(),Lr=new aQ,hU=Lr.produce;Lr.produceWithPatches.bind(Lr);Lr.setAutoFreeze.bind(Lr);Lr.setUseProxies.bind(Lr);Lr.applyPatches.bind(Lr);Lr.createDraft.bind(Lr);Lr.finishDraft.bind(Lr);function Df(t){return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function uQ(t,e){if(Df(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Df(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lQ(t){var e=uQ(t,"string");return Df(e)==="symbol"?e:String(e)}function cQ(t,e,n){return e=lQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(n),!0).forEach(function(r){cQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dn(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var QO=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Xw=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ym={INIT:"@@redux/INIT"+Xw(),REPLACE:"@@redux/REPLACE"+Xw(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Xw()}};function hQ(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function WI(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Dn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Dn(1));return n(WI)(t,e)}if(typeof t!="function")throw new Error(Dn(2));var i=t,s=e,o=[],u=o,l=!1;function h(){u===o&&(u=o.slice())}function f(){if(l)throw new Error(Dn(3));return s}function p(C){if(typeof C!="function")throw new Error(Dn(4));if(l)throw new Error(Dn(5));var R=!0;return h(),u.push(C),function(){if(R){if(l)throw new Error(Dn(6));R=!1,h();var T=u.indexOf(C);u.splice(T,1),o=null}}}function g(C){if(!hQ(C))throw new Error(Dn(7));if(typeof C.type>"u")throw new Error(Dn(8));if(l)throw new Error(Dn(9));try{l=!0,s=i(s,C)}finally{l=!1}for(var R=o=u,S=0;S<R.length;S++){var T=R[S];T()}return C}function v(C){if(typeof C!="function")throw new Error(Dn(10));i=C,g({type:Ym.REPLACE})}function E(){var C,R=p;return C={subscribe:function(T){if(typeof T!="object"||T===null)throw new Error(Dn(11));function k(){T.next&&T.next(f())}k();var b=R(k);return{unsubscribe:b}}},C[QO]=function(){return this},C}return g({type:Ym.INIT}),r={dispatch:g,subscribe:p,getState:f,replaceReducer:v},r[QO]=E,r}function fQ(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Ym.INIT});if(typeof r>"u")throw new Error(Dn(12));if(typeof n(void 0,{type:Ym.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Dn(13))})}function fU(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{fQ(n)}catch(u){o=u}return function(l,h){if(l===void 0&&(l={}),o)throw o;for(var f=!1,p={},g=0;g<s.length;g++){var v=s[g],E=n[v],C=l[v],R=E(C,h);if(typeof R>"u")throw h&&h.type,new Error(Dn(14));p[v]=R,f=f||R!==C}return f=f||s.length!==Object.keys(l).length,f?p:l}}function Lf(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function dU(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Dn(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},u=e.map(function(l){return l(o)});return s=Lf.apply(void 0,u)(i.dispatch),KO(KO({},i),{},{dispatch:s})}}}function pU(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(u){return typeof u=="function"?u(i,s,t):o(u)}}};return e}var gU=pU();gU.withExtraArgument=pU;const XO=gU;var dQ=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),pQ=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(h){return function(f){return l([h,f])}}function l(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(f){h=[6,f],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Km=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},gQ=Object.defineProperty,mQ=Object.defineProperties,_Q=Object.getOwnPropertyDescriptors,JO=Object.getOwnPropertySymbols,vQ=Object.prototype.hasOwnProperty,yQ=Object.prototype.propertyIsEnumerable,ZO=function(t,e,n){return e in t?gQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},qo=function(t,e){for(var n in e||(e={}))vQ.call(e,n)&&ZO(t,n,e[n]);if(JO)for(var r=0,i=JO(e);r<i.length;r++){var n=i[r];yQ.call(e,n)&&ZO(t,n,e[n])}return t},Jw=function(t,e){return mQ(t,_Q(e))},wQ=function(t,e,n){return new Promise(function(r,i){var s=function(l){try{u(n.next(l))}catch(h){i(h)}},o=function(l){try{u(n.throw(l))}catch(h){i(h)}},u=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};u((n=n.apply(t,e)).next())})},EQ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Lf:Lf.apply(null,arguments)};function SQ(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var TQ=function(t){dQ(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Km([void 0],n[0].concat(this)))):new(e.bind.apply(e,Km([void 0],n.concat(this))))},e}(Array);function pS(t){return Ys(t)?hU(t,function(){}):t}function IQ(t){return typeof t=="boolean"}function CQ(){return function(e){return RQ(e)}}function RQ(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new TQ;return n&&(IQ(n)?r.push(XO):r.push(XO.withExtraArgument(n.extraArgument))),r}var AQ=!0;function PQ(t){var e=CQ(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,u=n.devTools,l=u===void 0?!0:u,h=n.preloadedState,f=h===void 0?void 0:h,p=n.enhancers,g=p===void 0?void 0:p,v;if(typeof i=="function")v=i;else if(SQ(i))v=fU(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var E=o;typeof E=="function"&&(E=E(e));var C=dU.apply(void 0,E),R=Lf;l&&(R=EQ(qo({trace:!AQ},typeof l=="object"&&l)));var S=[C];Array.isArray(g)?S=Km([C],g):typeof g=="function"&&(S=g(S));var T=R.apply(void 0,S);return WI(v,f,T)}function Go(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return qo(qo({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function mU(t){var e={},n=[],r,i={addCase:function(s,o){var u=typeof s=="string"?s:s.type;if(u in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[u]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function kQ(t){return typeof t=="function"}function bQ(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?mU(e):[e,n,r],s=i[0],o=i[1],u=i[2],l;if(kQ(t))l=function(){return pS(t())};else{var h=pS(t);l=function(){return h}}function f(p,g){p===void 0&&(p=l());var v=Km([s[g.type]],o.filter(function(E){var C=E.matcher;return C(g)}).map(function(E){var C=E.reducer;return C}));return v.filter(function(E){return!!E}).length===0&&(v=[u]),v.reduce(function(E,C){if(C)if(sa(E)){var R=E,S=C(R,g);return S===void 0?E:S}else{if(Ys(E))return hU(E,function(T){return C(T,g)});var S=C(E,g);if(S===void 0){if(E===null)return E;throw Error("A case reducer on a non-draftable value must not return undefined")}return S}return E},p)}return f.getInitialState=l,f}function OQ(t,e){return t+"/"+e}function jI(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:pS(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},u={};i.forEach(function(f){var p=r[f],g=OQ(e,f),v,E;"reducer"in p?(v=p.reducer,E=p.prepare):v=p,s[f]=v,o[g]=v,u[f]=E?Go(g,E):Go(g)});function l(){var f=typeof t.extraReducers=="function"?mU(t.extraReducers):[t.extraReducers],p=f[0],g=p===void 0?{}:p,v=f[1],E=v===void 0?[]:v,C=f[2],R=C===void 0?void 0:C,S=qo(qo({},g),o);return bQ(n,function(T){for(var k in S)T.addCase(k,S[k]);for(var b=0,F=E;b<F.length;b++){var V=F[b];T.addMatcher(V.matcher,V.reducer)}R&&T.addDefaultCase(R)})}var h;return{name:e,reducer:function(f,p){return h||(h=l()),h(f,p)},actions:u,caseReducers:s,getInitialState:function(){return h||(h=l()),h.getInitialState()}}}var NQ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",xQ=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=NQ[Math.random()*64|0];return e},DQ=["name","message","stack","code"],Zw=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),eN=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),LQ=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=DQ;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,n,r){var i=Go(e+"/fulfilled",function(h,f,p,g){return{payload:h,meta:Jw(qo({},g||{}),{arg:p,requestId:f,requestStatus:"fulfilled"})}}),s=Go(e+"/pending",function(h,f,p){return{payload:void 0,meta:Jw(qo({},p||{}),{arg:f,requestId:h,requestStatus:"pending"})}}),o=Go(e+"/rejected",function(h,f,p,g,v){return{payload:g,error:(r&&r.serializeError||LQ)(h||"Rejected"),meta:Jw(qo({},v||{}),{arg:p,requestId:f,rejectedWithValue:!!g,requestStatus:"rejected",aborted:(h==null?void 0:h.name)==="AbortError",condition:(h==null?void 0:h.name)==="ConditionError"})}}),u=typeof AbortController<"u"?AbortController:function(){function h(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return h.prototype.abort=function(){},h}();function l(h){return function(f,p,g){var v=r!=null&&r.idGenerator?r.idGenerator(h):xQ(),E=new u,C;function R(T){C=T,E.abort()}var S=function(){return wQ(this,null,function(){var T,k,b,F,V,W,G;return pQ(this,function(ie){switch(ie.label){case 0:return ie.trys.push([0,4,,5]),F=(T=r==null?void 0:r.condition)==null?void 0:T.call(r,h,{getState:p,extra:g}),UQ(F)?[4,F]:[3,2];case 1:F=ie.sent(),ie.label=2;case 2:if(F===!1||E.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return V=new Promise(function(re,Ne){return E.signal.addEventListener("abort",function(){return Ne({name:"AbortError",message:C||"Aborted"})})}),f(s(v,h,(k=r==null?void 0:r.getPendingMeta)==null?void 0:k.call(r,{requestId:v,arg:h},{getState:p,extra:g}))),[4,Promise.race([V,Promise.resolve(n(h,{dispatch:f,getState:p,extra:g,requestId:v,signal:E.signal,abort:R,rejectWithValue:function(re,Ne){return new Zw(re,Ne)},fulfillWithValue:function(re,Ne){return new eN(re,Ne)}})).then(function(re){if(re instanceof Zw)throw re;return re instanceof eN?i(re.payload,v,h,re.meta):i(re,v,h)})])];case 3:return b=ie.sent(),[3,5];case 4:return W=ie.sent(),b=W instanceof Zw?o(null,v,h,W.payload,W.meta):o(W,v,h),[3,5];case 5:return G=r&&!r.dispatchConditionRejection&&o.match(b)&&b.meta.condition,G||f(b),[2,b]}})})}();return Object.assign(S,{abort:R,requestId:v,arg:h,unwrap:function(){return S.then(MQ)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function MQ(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function UQ(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var BI="listenerMiddleware";Go(BI+"/add");Go(BI+"/removeAll");Go(BI+"/remove");var tN;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);rQ();var Qm={},FQ={get exports(){return Qm},set exports(t){Qm=t}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",u="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",h=500,f="__lodash_placeholder__",p=1,g=2,v=4,E=1,C=2,R=1,S=2,T=4,k=8,b=16,F=32,V=64,W=128,G=256,ie=512,re=30,Ne="...",I=800,_=16,w=1,N=2,D=3,O=1/0,M=9007199254740991,B=17976931348623157e292,H=0/0,ue=4294967295,fe=ue-1,Se=ue>>>1,ds=[["ary",W],["bind",R],["bindKey",S],["curry",k],["curryRight",b],["flip",ie],["partial",F],["partialRight",V],["rearg",G]],Vi="[object Arguments]",jr="[object Array]",xu="[object AsyncFunction]",Vc="[object Boolean]",Wc="[object Date]",gW="[object DOMException]",rp="[object Error]",ip="[object Function]",VA="[object GeneratorFunction]",fi="[object Map]",jc="[object Number]",mW="[object Null]",ps="[object Object]",WA="[object Promise]",_W="[object Proxy]",Bc="[object RegExp]",di="[object Set]",zc="[object String]",sp="[object Symbol]",vW="[object Undefined]",Hc="[object WeakMap]",yW="[object WeakSet]",qc="[object ArrayBuffer]",Du="[object DataView]",Xy="[object Float32Array]",Jy="[object Float64Array]",Zy="[object Int8Array]",e0="[object Int16Array]",t0="[object Int32Array]",n0="[object Uint8Array]",r0="[object Uint8ClampedArray]",i0="[object Uint16Array]",s0="[object Uint32Array]",wW=/\b__p \+= '';/g,EW=/\b(__p \+=) '' \+/g,SW=/(__e\(.*?\)|\b__t\)) \+\n'';/g,jA=/&(?:amp|lt|gt|quot|#39);/g,BA=/[&<>"']/g,TW=RegExp(jA.source),IW=RegExp(BA.source),CW=/<%-([\s\S]+?)%>/g,RW=/<%([\s\S]+?)%>/g,zA=/<%=([\s\S]+?)%>/g,AW=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,PW=/^\w*$/,kW=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o0=/[\\^$.*+?()[\]{}|]/g,bW=RegExp(o0.source),a0=/^\s+/,OW=/\s/,NW=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,xW=/\{\n\/\* \[wrapped with (.+)\] \*/,DW=/,? & /,LW=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,MW=/[()=,{}\[\]\/\s]/,UW=/\\(\\)?/g,FW=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,HA=/\w*$/,$W=/^[-+]0x[0-9a-f]+$/i,VW=/^0b[01]+$/i,WW=/^\[object .+?Constructor\]$/,jW=/^0o[0-7]+$/i,BW=/^(?:0|[1-9]\d*)$/,zW=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,op=/($^)/,HW=/['\n\r\u2028\u2029\\]/g,ap="\\ud800-\\udfff",qW="\\u0300-\\u036f",GW="\\ufe20-\\ufe2f",YW="\\u20d0-\\u20ff",qA=qW+GW+YW,GA="\\u2700-\\u27bf",YA="a-z\\xdf-\\xf6\\xf8-\\xff",KW="\\xac\\xb1\\xd7\\xf7",QW="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",XW="\\u2000-\\u206f",JW=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",KA="A-Z\\xc0-\\xd6\\xd8-\\xde",QA="\\ufe0e\\ufe0f",XA=KW+QW+XW+JW,u0="['’]",ZW="["+ap+"]",JA="["+XA+"]",up="["+qA+"]",ZA="\\d+",e9="["+GA+"]",eP="["+YA+"]",tP="[^"+ap+XA+ZA+GA+YA+KA+"]",l0="\\ud83c[\\udffb-\\udfff]",t9="(?:"+up+"|"+l0+")",nP="[^"+ap+"]",c0="(?:\\ud83c[\\udde6-\\uddff]){2}",h0="[\\ud800-\\udbff][\\udc00-\\udfff]",Lu="["+KA+"]",rP="\\u200d",iP="(?:"+eP+"|"+tP+")",n9="(?:"+Lu+"|"+tP+")",sP="(?:"+u0+"(?:d|ll|m|re|s|t|ve))?",oP="(?:"+u0+"(?:D|LL|M|RE|S|T|VE))?",aP=t9+"?",uP="["+QA+"]?",r9="(?:"+rP+"(?:"+[nP,c0,h0].join("|")+")"+uP+aP+")*",i9="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",s9="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",lP=uP+aP+r9,o9="(?:"+[e9,c0,h0].join("|")+")"+lP,a9="(?:"+[nP+up+"?",up,c0,h0,ZW].join("|")+")",u9=RegExp(u0,"g"),l9=RegExp(up,"g"),f0=RegExp(l0+"(?="+l0+")|"+a9+lP,"g"),c9=RegExp([Lu+"?"+eP+"+"+sP+"(?="+[JA,Lu,"$"].join("|")+")",n9+"+"+oP+"(?="+[JA,Lu+iP,"$"].join("|")+")",Lu+"?"+iP+"+"+sP,Lu+"+"+oP,s9,i9,ZA,o9].join("|"),"g"),h9=RegExp("["+rP+ap+qA+QA+"]"),f9=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,d9=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],p9=-1,gt={};gt[Xy]=gt[Jy]=gt[Zy]=gt[e0]=gt[t0]=gt[n0]=gt[r0]=gt[i0]=gt[s0]=!0,gt[Vi]=gt[jr]=gt[qc]=gt[Vc]=gt[Du]=gt[Wc]=gt[rp]=gt[ip]=gt[fi]=gt[jc]=gt[ps]=gt[Bc]=gt[di]=gt[zc]=gt[Hc]=!1;var ht={};ht[Vi]=ht[jr]=ht[qc]=ht[Du]=ht[Vc]=ht[Wc]=ht[Xy]=ht[Jy]=ht[Zy]=ht[e0]=ht[t0]=ht[fi]=ht[jc]=ht[ps]=ht[Bc]=ht[di]=ht[zc]=ht[sp]=ht[n0]=ht[r0]=ht[i0]=ht[s0]=!0,ht[rp]=ht[ip]=ht[Hc]=!1;var g9={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},m9={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_9={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},v9={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},y9=parseFloat,w9=parseInt,cP=typeof uh=="object"&&uh&&uh.Object===Object&&uh,E9=typeof self=="object"&&self&&self.Object===Object&&self,fn=cP||E9||Function("return this")(),d0=e&&!e.nodeType&&e,Ea=d0&&!0&&t&&!t.nodeType&&t,hP=Ea&&Ea.exports===d0,p0=hP&&cP.process,Br=function(){try{var U=Ea&&Ea.require&&Ea.require("util").types;return U||p0&&p0.binding&&p0.binding("util")}catch{}}(),fP=Br&&Br.isArrayBuffer,dP=Br&&Br.isDate,pP=Br&&Br.isMap,gP=Br&&Br.isRegExp,mP=Br&&Br.isSet,_P=Br&&Br.isTypedArray;function Er(U,z,j){switch(j.length){case 0:return U.call(z);case 1:return U.call(z,j[0]);case 2:return U.call(z,j[0],j[1]);case 3:return U.call(z,j[0],j[1],j[2])}return U.apply(z,j)}function S9(U,z,j,le){for(var Re=-1,Ze=U==null?0:U.length;++Re<Ze;){var Kt=U[Re];z(le,Kt,j(Kt),U)}return le}function zr(U,z){for(var j=-1,le=U==null?0:U.length;++j<le&&z(U[j],j,U)!==!1;);return U}function T9(U,z){for(var j=U==null?0:U.length;j--&&z(U[j],j,U)!==!1;);return U}function vP(U,z){for(var j=-1,le=U==null?0:U.length;++j<le;)if(!z(U[j],j,U))return!1;return!0}function ao(U,z){for(var j=-1,le=U==null?0:U.length,Re=0,Ze=[];++j<le;){var Kt=U[j];z(Kt,j,U)&&(Ze[Re++]=Kt)}return Ze}function lp(U,z){var j=U==null?0:U.length;return!!j&&Mu(U,z,0)>-1}function g0(U,z,j){for(var le=-1,Re=U==null?0:U.length;++le<Re;)if(j(z,U[le]))return!0;return!1}function It(U,z){for(var j=-1,le=U==null?0:U.length,Re=Array(le);++j<le;)Re[j]=z(U[j],j,U);return Re}function uo(U,z){for(var j=-1,le=z.length,Re=U.length;++j<le;)U[Re+j]=z[j];return U}function m0(U,z,j,le){var Re=-1,Ze=U==null?0:U.length;for(le&&Ze&&(j=U[++Re]);++Re<Ze;)j=z(j,U[Re],Re,U);return j}function I9(U,z,j,le){var Re=U==null?0:U.length;for(le&&Re&&(j=U[--Re]);Re--;)j=z(j,U[Re],Re,U);return j}function _0(U,z){for(var j=-1,le=U==null?0:U.length;++j<le;)if(z(U[j],j,U))return!0;return!1}var C9=v0("length");function R9(U){return U.split("")}function A9(U){return U.match(LW)||[]}function yP(U,z,j){var le;return j(U,function(Re,Ze,Kt){if(z(Re,Ze,Kt))return le=Ze,!1}),le}function cp(U,z,j,le){for(var Re=U.length,Ze=j+(le?1:-1);le?Ze--:++Ze<Re;)if(z(U[Ze],Ze,U))return Ze;return-1}function Mu(U,z,j){return z===z?$9(U,z,j):cp(U,wP,j)}function P9(U,z,j,le){for(var Re=j-1,Ze=U.length;++Re<Ze;)if(le(U[Re],z))return Re;return-1}function wP(U){return U!==U}function EP(U,z){var j=U==null?0:U.length;return j?w0(U,z)/j:H}function v0(U){return function(z){return z==null?n:z[U]}}function y0(U){return function(z){return U==null?n:U[z]}}function SP(U,z,j,le,Re){return Re(U,function(Ze,Kt,lt){j=le?(le=!1,Ze):z(j,Ze,Kt,lt)}),j}function k9(U,z){var j=U.length;for(U.sort(z);j--;)U[j]=U[j].value;return U}function w0(U,z){for(var j,le=-1,Re=U.length;++le<Re;){var Ze=z(U[le]);Ze!==n&&(j=j===n?Ze:j+Ze)}return j}function E0(U,z){for(var j=-1,le=Array(U);++j<U;)le[j]=z(j);return le}function b9(U,z){return It(z,function(j){return[j,U[j]]})}function TP(U){return U&&U.slice(0,AP(U)+1).replace(a0,"")}function Sr(U){return function(z){return U(z)}}function S0(U,z){return It(z,function(j){return U[j]})}function Gc(U,z){return U.has(z)}function IP(U,z){for(var j=-1,le=U.length;++j<le&&Mu(z,U[j],0)>-1;);return j}function CP(U,z){for(var j=U.length;j--&&Mu(z,U[j],0)>-1;);return j}function O9(U,z){for(var j=U.length,le=0;j--;)U[j]===z&&++le;return le}var N9=y0(g9),x9=y0(m9);function D9(U){return"\\"+v9[U]}function L9(U,z){return U==null?n:U[z]}function Uu(U){return h9.test(U)}function M9(U){return f9.test(U)}function U9(U){for(var z,j=[];!(z=U.next()).done;)j.push(z.value);return j}function T0(U){var z=-1,j=Array(U.size);return U.forEach(function(le,Re){j[++z]=[Re,le]}),j}function RP(U,z){return function(j){return U(z(j))}}function lo(U,z){for(var j=-1,le=U.length,Re=0,Ze=[];++j<le;){var Kt=U[j];(Kt===z||Kt===f)&&(U[j]=f,Ze[Re++]=j)}return Ze}function hp(U){var z=-1,j=Array(U.size);return U.forEach(function(le){j[++z]=le}),j}function F9(U){var z=-1,j=Array(U.size);return U.forEach(function(le){j[++z]=[le,le]}),j}function $9(U,z,j){for(var le=j-1,Re=U.length;++le<Re;)if(U[le]===z)return le;return-1}function V9(U,z,j){for(var le=j+1;le--;)if(U[le]===z)return le;return le}function Fu(U){return Uu(U)?j9(U):C9(U)}function pi(U){return Uu(U)?B9(U):R9(U)}function AP(U){for(var z=U.length;z--&&OW.test(U.charAt(z)););return z}var W9=y0(_9);function j9(U){for(var z=f0.lastIndex=0;f0.test(U);)++z;return z}function B9(U){return U.match(f0)||[]}function z9(U){return U.match(c9)||[]}var H9=function U(z){z=z==null?fn:$u.defaults(fn.Object(),z,$u.pick(fn,d9));var j=z.Array,le=z.Date,Re=z.Error,Ze=z.Function,Kt=z.Math,lt=z.Object,I0=z.RegExp,q9=z.String,Hr=z.TypeError,fp=j.prototype,G9=Ze.prototype,Vu=lt.prototype,dp=z["__core-js_shared__"],pp=G9.toString,nt=Vu.hasOwnProperty,Y9=0,PP=function(){var a=/[^.]+$/.exec(dp&&dp.keys&&dp.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),gp=Vu.toString,K9=pp.call(lt),Q9=fn._,X9=I0("^"+pp.call(nt).replace(o0,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mp=hP?z.Buffer:n,co=z.Symbol,_p=z.Uint8Array,kP=mp?mp.allocUnsafe:n,vp=RP(lt.getPrototypeOf,lt),bP=lt.create,OP=Vu.propertyIsEnumerable,yp=fp.splice,NP=co?co.isConcatSpreadable:n,Yc=co?co.iterator:n,Sa=co?co.toStringTag:n,wp=function(){try{var a=Aa(lt,"defineProperty");return a({},"",{}),a}catch{}}(),J9=z.clearTimeout!==fn.clearTimeout&&z.clearTimeout,Z9=le&&le.now!==fn.Date.now&&le.now,ej=z.setTimeout!==fn.setTimeout&&z.setTimeout,Ep=Kt.ceil,Sp=Kt.floor,C0=lt.getOwnPropertySymbols,tj=mp?mp.isBuffer:n,xP=z.isFinite,nj=fp.join,rj=RP(lt.keys,lt),Qt=Kt.max,An=Kt.min,ij=le.now,sj=z.parseInt,DP=Kt.random,oj=fp.reverse,R0=Aa(z,"DataView"),Kc=Aa(z,"Map"),A0=Aa(z,"Promise"),Wu=Aa(z,"Set"),Qc=Aa(z,"WeakMap"),Xc=Aa(lt,"create"),Tp=Qc&&new Qc,ju={},aj=Pa(R0),uj=Pa(Kc),lj=Pa(A0),cj=Pa(Wu),hj=Pa(Qc),Ip=co?co.prototype:n,Jc=Ip?Ip.valueOf:n,LP=Ip?Ip.toString:n;function A(a){if(xt(a)&&!Pe(a)&&!(a instanceof Ve)){if(a instanceof qr)return a;if(nt.call(a,"__wrapped__"))return Mk(a)}return new qr(a)}var Bu=function(){function a(){}return function(c){if(!Pt(c))return{};if(bP)return bP(c);a.prototype=c;var d=new a;return a.prototype=n,d}}();function Cp(){}function qr(a,c){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=n}A.templateSettings={escape:CW,evaluate:RW,interpolate:zA,variable:"",imports:{_:A}},A.prototype=Cp.prototype,A.prototype.constructor=A,qr.prototype=Bu(Cp.prototype),qr.prototype.constructor=qr;function Ve(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ue,this.__views__=[]}function fj(){var a=new Ve(this.__wrapped__);return a.__actions__=lr(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=lr(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=lr(this.__views__),a}function dj(){if(this.__filtered__){var a=new Ve(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function pj(){var a=this.__wrapped__.value(),c=this.__dir__,d=Pe(a),m=c<0,y=d?a.length:0,P=RB(0,y,this.__views__),x=P.start,L=P.end,$=L-x,q=m?L:x-1,Y=this.__iteratees__,Q=Y.length,se=0,pe=An($,this.__takeCount__);if(!d||!m&&y==$&&pe==$)return sk(a,this.__actions__);var ye=[];e:for(;$--&&se<pe;){q+=c;for(var xe=-1,we=a[q];++xe<Q;){var Fe=Y[xe],Be=Fe.iteratee,Cr=Fe.type,Qn=Be(we);if(Cr==N)we=Qn;else if(!Qn){if(Cr==w)continue e;break e}}ye[se++]=we}return ye}Ve.prototype=Bu(Cp.prototype),Ve.prototype.constructor=Ve;function Ta(a){var c=-1,d=a==null?0:a.length;for(this.clear();++c<d;){var m=a[c];this.set(m[0],m[1])}}function gj(){this.__data__=Xc?Xc(null):{},this.size=0}function mj(a){var c=this.has(a)&&delete this.__data__[a];return this.size-=c?1:0,c}function _j(a){var c=this.__data__;if(Xc){var d=c[a];return d===l?n:d}return nt.call(c,a)?c[a]:n}function vj(a){var c=this.__data__;return Xc?c[a]!==n:nt.call(c,a)}function yj(a,c){var d=this.__data__;return this.size+=this.has(a)?0:1,d[a]=Xc&&c===n?l:c,this}Ta.prototype.clear=gj,Ta.prototype.delete=mj,Ta.prototype.get=_j,Ta.prototype.has=vj,Ta.prototype.set=yj;function gs(a){var c=-1,d=a==null?0:a.length;for(this.clear();++c<d;){var m=a[c];this.set(m[0],m[1])}}function wj(){this.__data__=[],this.size=0}function Ej(a){var c=this.__data__,d=Rp(c,a);if(d<0)return!1;var m=c.length-1;return d==m?c.pop():yp.call(c,d,1),--this.size,!0}function Sj(a){var c=this.__data__,d=Rp(c,a);return d<0?n:c[d][1]}function Tj(a){return Rp(this.__data__,a)>-1}function Ij(a,c){var d=this.__data__,m=Rp(d,a);return m<0?(++this.size,d.push([a,c])):d[m][1]=c,this}gs.prototype.clear=wj,gs.prototype.delete=Ej,gs.prototype.get=Sj,gs.prototype.has=Tj,gs.prototype.set=Ij;function ms(a){var c=-1,d=a==null?0:a.length;for(this.clear();++c<d;){var m=a[c];this.set(m[0],m[1])}}function Cj(){this.size=0,this.__data__={hash:new Ta,map:new(Kc||gs),string:new Ta}}function Rj(a){var c=Fp(this,a).delete(a);return this.size-=c?1:0,c}function Aj(a){return Fp(this,a).get(a)}function Pj(a){return Fp(this,a).has(a)}function kj(a,c){var d=Fp(this,a),m=d.size;return d.set(a,c),this.size+=d.size==m?0:1,this}ms.prototype.clear=Cj,ms.prototype.delete=Rj,ms.prototype.get=Aj,ms.prototype.has=Pj,ms.prototype.set=kj;function Ia(a){var c=-1,d=a==null?0:a.length;for(this.__data__=new ms;++c<d;)this.add(a[c])}function bj(a){return this.__data__.set(a,l),this}function Oj(a){return this.__data__.has(a)}Ia.prototype.add=Ia.prototype.push=bj,Ia.prototype.has=Oj;function gi(a){var c=this.__data__=new gs(a);this.size=c.size}function Nj(){this.__data__=new gs,this.size=0}function xj(a){var c=this.__data__,d=c.delete(a);return this.size=c.size,d}function Dj(a){return this.__data__.get(a)}function Lj(a){return this.__data__.has(a)}function Mj(a,c){var d=this.__data__;if(d instanceof gs){var m=d.__data__;if(!Kc||m.length<i-1)return m.push([a,c]),this.size=++d.size,this;d=this.__data__=new ms(m)}return d.set(a,c),this.size=d.size,this}gi.prototype.clear=Nj,gi.prototype.delete=xj,gi.prototype.get=Dj,gi.prototype.has=Lj,gi.prototype.set=Mj;function MP(a,c){var d=Pe(a),m=!d&&ka(a),y=!d&&!m&&mo(a),P=!d&&!m&&!y&&Gu(a),x=d||m||y||P,L=x?E0(a.length,q9):[],$=L.length;for(var q in a)(c||nt.call(a,q))&&!(x&&(q=="length"||y&&(q=="offset"||q=="parent")||P&&(q=="buffer"||q=="byteLength"||q=="byteOffset")||ws(q,$)))&&L.push(q);return L}function UP(a){var c=a.length;return c?a[F0(0,c-1)]:n}function Uj(a,c){return $p(lr(a),Ca(c,0,a.length))}function Fj(a){return $p(lr(a))}function P0(a,c,d){(d!==n&&!mi(a[c],d)||d===n&&!(c in a))&&_s(a,c,d)}function Zc(a,c,d){var m=a[c];(!(nt.call(a,c)&&mi(m,d))||d===n&&!(c in a))&&_s(a,c,d)}function Rp(a,c){for(var d=a.length;d--;)if(mi(a[d][0],c))return d;return-1}function $j(a,c,d,m){return ho(a,function(y,P,x){c(m,y,d(y),x)}),m}function FP(a,c){return a&&ji(c,rn(c),a)}function Vj(a,c){return a&&ji(c,hr(c),a)}function _s(a,c,d){c=="__proto__"&&wp?wp(a,c,{configurable:!0,enumerable:!0,value:d,writable:!0}):a[c]=d}function k0(a,c){for(var d=-1,m=c.length,y=j(m),P=a==null;++d<m;)y[d]=P?n:lw(a,c[d]);return y}function Ca(a,c,d){return a===a&&(d!==n&&(a=a<=d?a:d),c!==n&&(a=a>=c?a:c)),a}function Gr(a,c,d,m,y,P){var x,L=c&p,$=c&g,q=c&v;if(d&&(x=y?d(a,m,y,P):d(a)),x!==n)return x;if(!Pt(a))return a;var Y=Pe(a);if(Y){if(x=PB(a),!L)return lr(a,x)}else{var Q=Pn(a),se=Q==ip||Q==VA;if(mo(a))return uk(a,L);if(Q==ps||Q==Vi||se&&!y){if(x=$||se?{}:Ak(a),!L)return $?_B(a,Vj(x,a)):mB(a,FP(x,a))}else{if(!ht[Q])return y?a:{};x=kB(a,Q,L)}}P||(P=new gi);var pe=P.get(a);if(pe)return pe;P.set(a,x),nb(a)?a.forEach(function(we){x.add(Gr(we,c,d,we,a,P))}):eb(a)&&a.forEach(function(we,Fe){x.set(Fe,Gr(we,c,d,Fe,a,P))});var ye=q?$?K0:Y0:$?hr:rn,xe=Y?n:ye(a);return zr(xe||a,function(we,Fe){xe&&(Fe=we,we=a[Fe]),Zc(x,Fe,Gr(we,c,d,Fe,a,P))}),x}function Wj(a){var c=rn(a);return function(d){return $P(d,a,c)}}function $P(a,c,d){var m=d.length;if(a==null)return!m;for(a=lt(a);m--;){var y=d[m],P=c[y],x=a[y];if(x===n&&!(y in a)||!P(x))return!1}return!0}function VP(a,c,d){if(typeof a!="function")throw new Hr(o);return oh(function(){a.apply(n,d)},c)}function eh(a,c,d,m){var y=-1,P=lp,x=!0,L=a.length,$=[],q=c.length;if(!L)return $;d&&(c=It(c,Sr(d))),m?(P=g0,x=!1):c.length>=i&&(P=Gc,x=!1,c=new Ia(c));e:for(;++y<L;){var Y=a[y],Q=d==null?Y:d(Y);if(Y=m||Y!==0?Y:0,x&&Q===Q){for(var se=q;se--;)if(c[se]===Q)continue e;$.push(Y)}else P(c,Q,m)||$.push(Y)}return $}var ho=dk(Wi),WP=dk(O0,!0);function jj(a,c){var d=!0;return ho(a,function(m,y,P){return d=!!c(m,y,P),d}),d}function Ap(a,c,d){for(var m=-1,y=a.length;++m<y;){var P=a[m],x=c(P);if(x!=null&&(L===n?x===x&&!Ir(x):d(x,L)))var L=x,$=P}return $}function Bj(a,c,d,m){var y=a.length;for(d=be(d),d<0&&(d=-d>y?0:y+d),m=m===n||m>y?y:be(m),m<0&&(m+=y),m=d>m?0:ib(m);d<m;)a[d++]=c;return a}function jP(a,c){var d=[];return ho(a,function(m,y,P){c(m,y,P)&&d.push(m)}),d}function dn(a,c,d,m,y){var P=-1,x=a.length;for(d||(d=OB),y||(y=[]);++P<x;){var L=a[P];c>0&&d(L)?c>1?dn(L,c-1,d,m,y):uo(y,L):m||(y[y.length]=L)}return y}var b0=pk(),BP=pk(!0);function Wi(a,c){return a&&b0(a,c,rn)}function O0(a,c){return a&&BP(a,c,rn)}function Pp(a,c){return ao(c,function(d){return Es(a[d])})}function Ra(a,c){c=po(c,a);for(var d=0,m=c.length;a!=null&&d<m;)a=a[Bi(c[d++])];return d&&d==m?a:n}function zP(a,c,d){var m=c(a);return Pe(a)?m:uo(m,d(a))}function Yn(a){return a==null?a===n?vW:mW:Sa&&Sa in lt(a)?CB(a):FB(a)}function N0(a,c){return a>c}function zj(a,c){return a!=null&&nt.call(a,c)}function Hj(a,c){return a!=null&&c in lt(a)}function qj(a,c,d){return a>=An(c,d)&&a<Qt(c,d)}function x0(a,c,d){for(var m=d?g0:lp,y=a[0].length,P=a.length,x=P,L=j(P),$=1/0,q=[];x--;){var Y=a[x];x&&c&&(Y=It(Y,Sr(c))),$=An(Y.length,$),L[x]=!d&&(c||y>=120&&Y.length>=120)?new Ia(x&&Y):n}Y=a[0];var Q=-1,se=L[0];e:for(;++Q<y&&q.length<$;){var pe=Y[Q],ye=c?c(pe):pe;if(pe=d||pe!==0?pe:0,!(se?Gc(se,ye):m(q,ye,d))){for(x=P;--x;){var xe=L[x];if(!(xe?Gc(xe,ye):m(a[x],ye,d)))continue e}se&&se.push(ye),q.push(pe)}}return q}function Gj(a,c,d,m){return Wi(a,function(y,P,x){c(m,d(y),P,x)}),m}function th(a,c,d){c=po(c,a),a=Ok(a,c);var m=a==null?a:a[Bi(Kr(c))];return m==null?n:Er(m,a,d)}function HP(a){return xt(a)&&Yn(a)==Vi}function Yj(a){return xt(a)&&Yn(a)==qc}function Kj(a){return xt(a)&&Yn(a)==Wc}function nh(a,c,d,m,y){return a===c?!0:a==null||c==null||!xt(a)&&!xt(c)?a!==a&&c!==c:Qj(a,c,d,m,nh,y)}function Qj(a,c,d,m,y,P){var x=Pe(a),L=Pe(c),$=x?jr:Pn(a),q=L?jr:Pn(c);$=$==Vi?ps:$,q=q==Vi?ps:q;var Y=$==ps,Q=q==ps,se=$==q;if(se&&mo(a)){if(!mo(c))return!1;x=!0,Y=!1}if(se&&!Y)return P||(P=new gi),x||Gu(a)?Ik(a,c,d,m,y,P):TB(a,c,$,d,m,y,P);if(!(d&E)){var pe=Y&&nt.call(a,"__wrapped__"),ye=Q&&nt.call(c,"__wrapped__");if(pe||ye){var xe=pe?a.value():a,we=ye?c.value():c;return P||(P=new gi),y(xe,we,d,m,P)}}return se?(P||(P=new gi),IB(a,c,d,m,y,P)):!1}function Xj(a){return xt(a)&&Pn(a)==fi}function D0(a,c,d,m){var y=d.length,P=y,x=!m;if(a==null)return!P;for(a=lt(a);y--;){var L=d[y];if(x&&L[2]?L[1]!==a[L[0]]:!(L[0]in a))return!1}for(;++y<P;){L=d[y];var $=L[0],q=a[$],Y=L[1];if(x&&L[2]){if(q===n&&!($ in a))return!1}else{var Q=new gi;if(m)var se=m(q,Y,$,a,c,Q);if(!(se===n?nh(Y,q,E|C,m,Q):se))return!1}}return!0}function qP(a){if(!Pt(a)||xB(a))return!1;var c=Es(a)?X9:WW;return c.test(Pa(a))}function Jj(a){return xt(a)&&Yn(a)==Bc}function Zj(a){return xt(a)&&Pn(a)==di}function eB(a){return xt(a)&&Hp(a.length)&&!!gt[Yn(a)]}function GP(a){return typeof a=="function"?a:a==null?fr:typeof a=="object"?Pe(a)?QP(a[0],a[1]):KP(a):gb(a)}function L0(a){if(!sh(a))return rj(a);var c=[];for(var d in lt(a))nt.call(a,d)&&d!="constructor"&&c.push(d);return c}function tB(a){if(!Pt(a))return UB(a);var c=sh(a),d=[];for(var m in a)m=="constructor"&&(c||!nt.call(a,m))||d.push(m);return d}function M0(a,c){return a<c}function YP(a,c){var d=-1,m=cr(a)?j(a.length):[];return ho(a,function(y,P,x){m[++d]=c(y,P,x)}),m}function KP(a){var c=X0(a);return c.length==1&&c[0][2]?kk(c[0][0],c[0][1]):function(d){return d===a||D0(d,a,c)}}function QP(a,c){return Z0(a)&&Pk(c)?kk(Bi(a),c):function(d){var m=lw(d,a);return m===n&&m===c?cw(d,a):nh(c,m,E|C)}}function kp(a,c,d,m,y){a!==c&&b0(c,function(P,x){if(y||(y=new gi),Pt(P))nB(a,c,x,d,kp,m,y);else{var L=m?m(tw(a,x),P,x+"",a,c,y):n;L===n&&(L=P),P0(a,x,L)}},hr)}function nB(a,c,d,m,y,P,x){var L=tw(a,d),$=tw(c,d),q=x.get($);if(q){P0(a,d,q);return}var Y=P?P(L,$,d+"",a,c,x):n,Q=Y===n;if(Q){var se=Pe($),pe=!se&&mo($),ye=!se&&!pe&&Gu($);Y=$,se||pe||ye?Pe(L)?Y=L:Vt(L)?Y=lr(L):pe?(Q=!1,Y=uk($,!0)):ye?(Q=!1,Y=lk($,!0)):Y=[]:ah($)||ka($)?(Y=L,ka(L)?Y=sb(L):(!Pt(L)||Es(L))&&(Y=Ak($))):Q=!1}Q&&(x.set($,Y),y(Y,$,m,P,x),x.delete($)),P0(a,d,Y)}function XP(a,c){var d=a.length;if(d)return c+=c<0?d:0,ws(c,d)?a[c]:n}function JP(a,c,d){c.length?c=It(c,function(P){return Pe(P)?function(x){return Ra(x,P.length===1?P[0]:P)}:P}):c=[fr];var m=-1;c=It(c,Sr(ve()));var y=YP(a,function(P,x,L){var $=It(c,function(q){return q(P)});return{criteria:$,index:++m,value:P}});return k9(y,function(P,x){return gB(P,x,d)})}function rB(a,c){return ZP(a,c,function(d,m){return cw(a,m)})}function ZP(a,c,d){for(var m=-1,y=c.length,P={};++m<y;){var x=c[m],L=Ra(a,x);d(L,x)&&rh(P,po(x,a),L)}return P}function iB(a){return function(c){return Ra(c,a)}}function U0(a,c,d,m){var y=m?P9:Mu,P=-1,x=c.length,L=a;for(a===c&&(c=lr(c)),d&&(L=It(a,Sr(d)));++P<x;)for(var $=0,q=c[P],Y=d?d(q):q;($=y(L,Y,$,m))>-1;)L!==a&&yp.call(L,$,1),yp.call(a,$,1);return a}function ek(a,c){for(var d=a?c.length:0,m=d-1;d--;){var y=c[d];if(d==m||y!==P){var P=y;ws(y)?yp.call(a,y,1):W0(a,y)}}return a}function F0(a,c){return a+Sp(DP()*(c-a+1))}function sB(a,c,d,m){for(var y=-1,P=Qt(Ep((c-a)/(d||1)),0),x=j(P);P--;)x[m?P:++y]=a,a+=d;return x}function $0(a,c){var d="";if(!a||c<1||c>M)return d;do c%2&&(d+=a),c=Sp(c/2),c&&(a+=a);while(c);return d}function De(a,c){return nw(bk(a,c,fr),a+"")}function oB(a){return UP(Yu(a))}function aB(a,c){var d=Yu(a);return $p(d,Ca(c,0,d.length))}function rh(a,c,d,m){if(!Pt(a))return a;c=po(c,a);for(var y=-1,P=c.length,x=P-1,L=a;L!=null&&++y<P;){var $=Bi(c[y]),q=d;if($==="__proto__"||$==="constructor"||$==="prototype")return a;if(y!=x){var Y=L[$];q=m?m(Y,$,L):n,q===n&&(q=Pt(Y)?Y:ws(c[y+1])?[]:{})}Zc(L,$,q),L=L[$]}return a}var tk=Tp?function(a,c){return Tp.set(a,c),a}:fr,uB=wp?function(a,c){return wp(a,"toString",{configurable:!0,enumerable:!1,value:fw(c),writable:!0})}:fr;function lB(a){return $p(Yu(a))}function Yr(a,c,d){var m=-1,y=a.length;c<0&&(c=-c>y?0:y+c),d=d>y?y:d,d<0&&(d+=y),y=c>d?0:d-c>>>0,c>>>=0;for(var P=j(y);++m<y;)P[m]=a[m+c];return P}function cB(a,c){var d;return ho(a,function(m,y,P){return d=c(m,y,P),!d}),!!d}function bp(a,c,d){var m=0,y=a==null?m:a.length;if(typeof c=="number"&&c===c&&y<=Se){for(;m<y;){var P=m+y>>>1,x=a[P];x!==null&&!Ir(x)&&(d?x<=c:x<c)?m=P+1:y=P}return y}return V0(a,c,fr,d)}function V0(a,c,d,m){var y=0,P=a==null?0:a.length;if(P===0)return 0;c=d(c);for(var x=c!==c,L=c===null,$=Ir(c),q=c===n;y<P;){var Y=Sp((y+P)/2),Q=d(a[Y]),se=Q!==n,pe=Q===null,ye=Q===Q,xe=Ir(Q);if(x)var we=m||ye;else q?we=ye&&(m||se):L?we=ye&&se&&(m||!pe):$?we=ye&&se&&!pe&&(m||!xe):pe||xe?we=!1:we=m?Q<=c:Q<c;we?y=Y+1:P=Y}return An(P,fe)}function nk(a,c){for(var d=-1,m=a.length,y=0,P=[];++d<m;){var x=a[d],L=c?c(x):x;if(!d||!mi(L,$)){var $=L;P[y++]=x===0?0:x}}return P}function rk(a){return typeof a=="number"?a:Ir(a)?H:+a}function Tr(a){if(typeof a=="string")return a;if(Pe(a))return It(a,Tr)+"";if(Ir(a))return LP?LP.call(a):"";var c=a+"";return c=="0"&&1/a==-O?"-0":c}function fo(a,c,d){var m=-1,y=lp,P=a.length,x=!0,L=[],$=L;if(d)x=!1,y=g0;else if(P>=i){var q=c?null:EB(a);if(q)return hp(q);x=!1,y=Gc,$=new Ia}else $=c?[]:L;e:for(;++m<P;){var Y=a[m],Q=c?c(Y):Y;if(Y=d||Y!==0?Y:0,x&&Q===Q){for(var se=$.length;se--;)if($[se]===Q)continue e;c&&$.push(Q),L.push(Y)}else y($,Q,d)||($!==L&&$.push(Q),L.push(Y))}return L}function W0(a,c){return c=po(c,a),a=Ok(a,c),a==null||delete a[Bi(Kr(c))]}function ik(a,c,d,m){return rh(a,c,d(Ra(a,c)),m)}function Op(a,c,d,m){for(var y=a.length,P=m?y:-1;(m?P--:++P<y)&&c(a[P],P,a););return d?Yr(a,m?0:P,m?P+1:y):Yr(a,m?P+1:0,m?y:P)}function sk(a,c){var d=a;return d instanceof Ve&&(d=d.value()),m0(c,function(m,y){return y.func.apply(y.thisArg,uo([m],y.args))},d)}function j0(a,c,d){var m=a.length;if(m<2)return m?fo(a[0]):[];for(var y=-1,P=j(m);++y<m;)for(var x=a[y],L=-1;++L<m;)L!=y&&(P[y]=eh(P[y]||x,a[L],c,d));return fo(dn(P,1),c,d)}function ok(a,c,d){for(var m=-1,y=a.length,P=c.length,x={};++m<y;){var L=m<P?c[m]:n;d(x,a[m],L)}return x}function B0(a){return Vt(a)?a:[]}function z0(a){return typeof a=="function"?a:fr}function po(a,c){return Pe(a)?a:Z0(a,c)?[a]:Lk(tt(a))}var hB=De;function go(a,c,d){var m=a.length;return d=d===n?m:d,!c&&d>=m?a:Yr(a,c,d)}var ak=J9||function(a){return fn.clearTimeout(a)};function uk(a,c){if(c)return a.slice();var d=a.length,m=kP?kP(d):new a.constructor(d);return a.copy(m),m}function H0(a){var c=new a.constructor(a.byteLength);return new _p(c).set(new _p(a)),c}function fB(a,c){var d=c?H0(a.buffer):a.buffer;return new a.constructor(d,a.byteOffset,a.byteLength)}function dB(a){var c=new a.constructor(a.source,HA.exec(a));return c.lastIndex=a.lastIndex,c}function pB(a){return Jc?lt(Jc.call(a)):{}}function lk(a,c){var d=c?H0(a.buffer):a.buffer;return new a.constructor(d,a.byteOffset,a.length)}function ck(a,c){if(a!==c){var d=a!==n,m=a===null,y=a===a,P=Ir(a),x=c!==n,L=c===null,$=c===c,q=Ir(c);if(!L&&!q&&!P&&a>c||P&&x&&$&&!L&&!q||m&&x&&$||!d&&$||!y)return 1;if(!m&&!P&&!q&&a<c||q&&d&&y&&!m&&!P||L&&d&&y||!x&&y||!$)return-1}return 0}function gB(a,c,d){for(var m=-1,y=a.criteria,P=c.criteria,x=y.length,L=d.length;++m<x;){var $=ck(y[m],P[m]);if($){if(m>=L)return $;var q=d[m];return $*(q=="desc"?-1:1)}}return a.index-c.index}function hk(a,c,d,m){for(var y=-1,P=a.length,x=d.length,L=-1,$=c.length,q=Qt(P-x,0),Y=j($+q),Q=!m;++L<$;)Y[L]=c[L];for(;++y<x;)(Q||y<P)&&(Y[d[y]]=a[y]);for(;q--;)Y[L++]=a[y++];return Y}function fk(a,c,d,m){for(var y=-1,P=a.length,x=-1,L=d.length,$=-1,q=c.length,Y=Qt(P-L,0),Q=j(Y+q),se=!m;++y<Y;)Q[y]=a[y];for(var pe=y;++$<q;)Q[pe+$]=c[$];for(;++x<L;)(se||y<P)&&(Q[pe+d[x]]=a[y++]);return Q}function lr(a,c){var d=-1,m=a.length;for(c||(c=j(m));++d<m;)c[d]=a[d];return c}function ji(a,c,d,m){var y=!d;d||(d={});for(var P=-1,x=c.length;++P<x;){var L=c[P],$=m?m(d[L],a[L],L,d,a):n;$===n&&($=a[L]),y?_s(d,L,$):Zc(d,L,$)}return d}function mB(a,c){return ji(a,J0(a),c)}function _B(a,c){return ji(a,Ck(a),c)}function Np(a,c){return function(d,m){var y=Pe(d)?S9:$j,P=c?c():{};return y(d,a,ve(m,2),P)}}function zu(a){return De(function(c,d){var m=-1,y=d.length,P=y>1?d[y-1]:n,x=y>2?d[2]:n;for(P=a.length>3&&typeof P=="function"?(y--,P):n,x&&Kn(d[0],d[1],x)&&(P=y<3?n:P,y=1),c=lt(c);++m<y;){var L=d[m];L&&a(c,L,m,P)}return c})}function dk(a,c){return function(d,m){if(d==null)return d;if(!cr(d))return a(d,m);for(var y=d.length,P=c?y:-1,x=lt(d);(c?P--:++P<y)&&m(x[P],P,x)!==!1;);return d}}function pk(a){return function(c,d,m){for(var y=-1,P=lt(c),x=m(c),L=x.length;L--;){var $=x[a?L:++y];if(d(P[$],$,P)===!1)break}return c}}function vB(a,c,d){var m=c&R,y=ih(a);function P(){var x=this&&this!==fn&&this instanceof P?y:a;return x.apply(m?d:this,arguments)}return P}function gk(a){return function(c){c=tt(c);var d=Uu(c)?pi(c):n,m=d?d[0]:c.charAt(0),y=d?go(d,1).join(""):c.slice(1);return m[a]()+y}}function Hu(a){return function(c){return m0(db(fb(c).replace(u9,"")),a,"")}}function ih(a){return function(){var c=arguments;switch(c.length){case 0:return new a;case 1:return new a(c[0]);case 2:return new a(c[0],c[1]);case 3:return new a(c[0],c[1],c[2]);case 4:return new a(c[0],c[1],c[2],c[3]);case 5:return new a(c[0],c[1],c[2],c[3],c[4]);case 6:return new a(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new a(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var d=Bu(a.prototype),m=a.apply(d,c);return Pt(m)?m:d}}function yB(a,c,d){var m=ih(a);function y(){for(var P=arguments.length,x=j(P),L=P,$=qu(y);L--;)x[L]=arguments[L];var q=P<3&&x[0]!==$&&x[P-1]!==$?[]:lo(x,$);if(P-=q.length,P<d)return wk(a,c,xp,y.placeholder,n,x,q,n,n,d-P);var Y=this&&this!==fn&&this instanceof y?m:a;return Er(Y,this,x)}return y}function mk(a){return function(c,d,m){var y=lt(c);if(!cr(c)){var P=ve(d,3);c=rn(c),d=function(L){return P(y[L],L,y)}}var x=a(c,d,m);return x>-1?y[P?c[x]:x]:n}}function _k(a){return ys(function(c){var d=c.length,m=d,y=qr.prototype.thru;for(a&&c.reverse();m--;){var P=c[m];if(typeof P!="function")throw new Hr(o);if(y&&!x&&Up(P)=="wrapper")var x=new qr([],!0)}for(m=x?m:d;++m<d;){P=c[m];var L=Up(P),$=L=="wrapper"?Q0(P):n;$&&ew($[0])&&$[1]==(W|k|F|G)&&!$[4].length&&$[9]==1?x=x[Up($[0])].apply(x,$[3]):x=P.length==1&&ew(P)?x[L]():x.thru(P)}return function(){var q=arguments,Y=q[0];if(x&&q.length==1&&Pe(Y))return x.plant(Y).value();for(var Q=0,se=d?c[Q].apply(this,q):Y;++Q<d;)se=c[Q].call(this,se);return se}})}function xp(a,c,d,m,y,P,x,L,$,q){var Y=c&W,Q=c&R,se=c&S,pe=c&(k|b),ye=c&ie,xe=se?n:ih(a);function we(){for(var Fe=arguments.length,Be=j(Fe),Cr=Fe;Cr--;)Be[Cr]=arguments[Cr];if(pe)var Qn=qu(we),Rr=O9(Be,Qn);if(m&&(Be=hk(Be,m,y,pe)),P&&(Be=fk(Be,P,x,pe)),Fe-=Rr,pe&&Fe<q){var Wt=lo(Be,Qn);return wk(a,c,xp,we.placeholder,d,Be,Wt,L,$,q-Fe)}var _i=Q?d:this,Ts=se?_i[a]:a;return Fe=Be.length,L?Be=$B(Be,L):ye&&Fe>1&&Be.reverse(),Y&&$<Fe&&(Be.length=$),this&&this!==fn&&this instanceof we&&(Ts=xe||ih(Ts)),Ts.apply(_i,Be)}return we}function vk(a,c){return function(d,m){return Gj(d,a,c(m),{})}}function Dp(a,c){return function(d,m){var y;if(d===n&&m===n)return c;if(d!==n&&(y=d),m!==n){if(y===n)return m;typeof d=="string"||typeof m=="string"?(d=Tr(d),m=Tr(m)):(d=rk(d),m=rk(m)),y=a(d,m)}return y}}function q0(a){return ys(function(c){return c=It(c,Sr(ve())),De(function(d){var m=this;return a(c,function(y){return Er(y,m,d)})})})}function Lp(a,c){c=c===n?" ":Tr(c);var d=c.length;if(d<2)return d?$0(c,a):c;var m=$0(c,Ep(a/Fu(c)));return Uu(c)?go(pi(m),0,a).join(""):m.slice(0,a)}function wB(a,c,d,m){var y=c&R,P=ih(a);function x(){for(var L=-1,$=arguments.length,q=-1,Y=m.length,Q=j(Y+$),se=this&&this!==fn&&this instanceof x?P:a;++q<Y;)Q[q]=m[q];for(;$--;)Q[q++]=arguments[++L];return Er(se,y?d:this,Q)}return x}function yk(a){return function(c,d,m){return m&&typeof m!="number"&&Kn(c,d,m)&&(d=m=n),c=Ss(c),d===n?(d=c,c=0):d=Ss(d),m=m===n?c<d?1:-1:Ss(m),sB(c,d,m,a)}}function Mp(a){return function(c,d){return typeof c=="string"&&typeof d=="string"||(c=Qr(c),d=Qr(d)),a(c,d)}}function wk(a,c,d,m,y,P,x,L,$,q){var Y=c&k,Q=Y?x:n,se=Y?n:x,pe=Y?P:n,ye=Y?n:P;c|=Y?F:V,c&=~(Y?V:F),c&T||(c&=~(R|S));var xe=[a,c,y,pe,Q,ye,se,L,$,q],we=d.apply(n,xe);return ew(a)&&Nk(we,xe),we.placeholder=m,xk(we,a,c)}function G0(a){var c=Kt[a];return function(d,m){if(d=Qr(d),m=m==null?0:An(be(m),292),m&&xP(d)){var y=(tt(d)+"e").split("e"),P=c(y[0]+"e"+(+y[1]+m));return y=(tt(P)+"e").split("e"),+(y[0]+"e"+(+y[1]-m))}return c(d)}}var EB=Wu&&1/hp(new Wu([,-0]))[1]==O?function(a){return new Wu(a)}:gw;function Ek(a){return function(c){var d=Pn(c);return d==fi?T0(c):d==di?F9(c):b9(c,a(c))}}function vs(a,c,d,m,y,P,x,L){var $=c&S;if(!$&&typeof a!="function")throw new Hr(o);var q=m?m.length:0;if(q||(c&=~(F|V),m=y=n),x=x===n?x:Qt(be(x),0),L=L===n?L:be(L),q-=y?y.length:0,c&V){var Y=m,Q=y;m=y=n}var se=$?n:Q0(a),pe=[a,c,d,m,y,Y,Q,P,x,L];if(se&&MB(pe,se),a=pe[0],c=pe[1],d=pe[2],m=pe[3],y=pe[4],L=pe[9]=pe[9]===n?$?0:a.length:Qt(pe[9]-q,0),!L&&c&(k|b)&&(c&=~(k|b)),!c||c==R)var ye=vB(a,c,d);else c==k||c==b?ye=yB(a,c,L):(c==F||c==(R|F))&&!y.length?ye=wB(a,c,d,m):ye=xp.apply(n,pe);var xe=se?tk:Nk;return xk(xe(ye,pe),a,c)}function Sk(a,c,d,m){return a===n||mi(a,Vu[d])&&!nt.call(m,d)?c:a}function Tk(a,c,d,m,y,P){return Pt(a)&&Pt(c)&&(P.set(c,a),kp(a,c,n,Tk,P),P.delete(c)),a}function SB(a){return ah(a)?n:a}function Ik(a,c,d,m,y,P){var x=d&E,L=a.length,$=c.length;if(L!=$&&!(x&&$>L))return!1;var q=P.get(a),Y=P.get(c);if(q&&Y)return q==c&&Y==a;var Q=-1,se=!0,pe=d&C?new Ia:n;for(P.set(a,c),P.set(c,a);++Q<L;){var ye=a[Q],xe=c[Q];if(m)var we=x?m(xe,ye,Q,c,a,P):m(ye,xe,Q,a,c,P);if(we!==n){if(we)continue;se=!1;break}if(pe){if(!_0(c,function(Fe,Be){if(!Gc(pe,Be)&&(ye===Fe||y(ye,Fe,d,m,P)))return pe.push(Be)})){se=!1;break}}else if(!(ye===xe||y(ye,xe,d,m,P))){se=!1;break}}return P.delete(a),P.delete(c),se}function TB(a,c,d,m,y,P,x){switch(d){case Du:if(a.byteLength!=c.byteLength||a.byteOffset!=c.byteOffset)return!1;a=a.buffer,c=c.buffer;case qc:return!(a.byteLength!=c.byteLength||!P(new _p(a),new _p(c)));case Vc:case Wc:case jc:return mi(+a,+c);case rp:return a.name==c.name&&a.message==c.message;case Bc:case zc:return a==c+"";case fi:var L=T0;case di:var $=m&E;if(L||(L=hp),a.size!=c.size&&!$)return!1;var q=x.get(a);if(q)return q==c;m|=C,x.set(a,c);var Y=Ik(L(a),L(c),m,y,P,x);return x.delete(a),Y;case sp:if(Jc)return Jc.call(a)==Jc.call(c)}return!1}function IB(a,c,d,m,y,P){var x=d&E,L=Y0(a),$=L.length,q=Y0(c),Y=q.length;if($!=Y&&!x)return!1;for(var Q=$;Q--;){var se=L[Q];if(!(x?se in c:nt.call(c,se)))return!1}var pe=P.get(a),ye=P.get(c);if(pe&&ye)return pe==c&&ye==a;var xe=!0;P.set(a,c),P.set(c,a);for(var we=x;++Q<$;){se=L[Q];var Fe=a[se],Be=c[se];if(m)var Cr=x?m(Be,Fe,se,c,a,P):m(Fe,Be,se,a,c,P);if(!(Cr===n?Fe===Be||y(Fe,Be,d,m,P):Cr)){xe=!1;break}we||(we=se=="constructor")}if(xe&&!we){var Qn=a.constructor,Rr=c.constructor;Qn!=Rr&&"constructor"in a&&"constructor"in c&&!(typeof Qn=="function"&&Qn instanceof Qn&&typeof Rr=="function"&&Rr instanceof Rr)&&(xe=!1)}return P.delete(a),P.delete(c),xe}function ys(a){return nw(bk(a,n,$k),a+"")}function Y0(a){return zP(a,rn,J0)}function K0(a){return zP(a,hr,Ck)}var Q0=Tp?function(a){return Tp.get(a)}:gw;function Up(a){for(var c=a.name+"",d=ju[c],m=nt.call(ju,c)?d.length:0;m--;){var y=d[m],P=y.func;if(P==null||P==a)return y.name}return c}function qu(a){var c=nt.call(A,"placeholder")?A:a;return c.placeholder}function ve(){var a=A.iteratee||dw;return a=a===dw?GP:a,arguments.length?a(arguments[0],arguments[1]):a}function Fp(a,c){var d=a.__data__;return NB(c)?d[typeof c=="string"?"string":"hash"]:d.map}function X0(a){for(var c=rn(a),d=c.length;d--;){var m=c[d],y=a[m];c[d]=[m,y,Pk(y)]}return c}function Aa(a,c){var d=L9(a,c);return qP(d)?d:n}function CB(a){var c=nt.call(a,Sa),d=a[Sa];try{a[Sa]=n;var m=!0}catch{}var y=gp.call(a);return m&&(c?a[Sa]=d:delete a[Sa]),y}var J0=C0?function(a){return a==null?[]:(a=lt(a),ao(C0(a),function(c){return OP.call(a,c)}))}:mw,Ck=C0?function(a){for(var c=[];a;)uo(c,J0(a)),a=vp(a);return c}:mw,Pn=Yn;(R0&&Pn(new R0(new ArrayBuffer(1)))!=Du||Kc&&Pn(new Kc)!=fi||A0&&Pn(A0.resolve())!=WA||Wu&&Pn(new Wu)!=di||Qc&&Pn(new Qc)!=Hc)&&(Pn=function(a){var c=Yn(a),d=c==ps?a.constructor:n,m=d?Pa(d):"";if(m)switch(m){case aj:return Du;case uj:return fi;case lj:return WA;case cj:return di;case hj:return Hc}return c});function RB(a,c,d){for(var m=-1,y=d.length;++m<y;){var P=d[m],x=P.size;switch(P.type){case"drop":a+=x;break;case"dropRight":c-=x;break;case"take":c=An(c,a+x);break;case"takeRight":a=Qt(a,c-x);break}}return{start:a,end:c}}function AB(a){var c=a.match(xW);return c?c[1].split(DW):[]}function Rk(a,c,d){c=po(c,a);for(var m=-1,y=c.length,P=!1;++m<y;){var x=Bi(c[m]);if(!(P=a!=null&&d(a,x)))break;a=a[x]}return P||++m!=y?P:(y=a==null?0:a.length,!!y&&Hp(y)&&ws(x,y)&&(Pe(a)||ka(a)))}function PB(a){var c=a.length,d=new a.constructor(c);return c&&typeof a[0]=="string"&&nt.call(a,"index")&&(d.index=a.index,d.input=a.input),d}function Ak(a){return typeof a.constructor=="function"&&!sh(a)?Bu(vp(a)):{}}function kB(a,c,d){var m=a.constructor;switch(c){case qc:return H0(a);case Vc:case Wc:return new m(+a);case Du:return fB(a,d);case Xy:case Jy:case Zy:case e0:case t0:case n0:case r0:case i0:case s0:return lk(a,d);case fi:return new m;case jc:case zc:return new m(a);case Bc:return dB(a);case di:return new m;case sp:return pB(a)}}function bB(a,c){var d=c.length;if(!d)return a;var m=d-1;return c[m]=(d>1?"& ":"")+c[m],c=c.join(d>2?", ":" "),a.replace(NW,`{
/* [wrapped with `+c+`] */
`)}function OB(a){return Pe(a)||ka(a)||!!(NP&&a&&a[NP])}function ws(a,c){var d=typeof a;return c=c??M,!!c&&(d=="number"||d!="symbol"&&BW.test(a))&&a>-1&&a%1==0&&a<c}function Kn(a,c,d){if(!Pt(d))return!1;var m=typeof c;return(m=="number"?cr(d)&&ws(c,d.length):m=="string"&&c in d)?mi(d[c],a):!1}function Z0(a,c){if(Pe(a))return!1;var d=typeof a;return d=="number"||d=="symbol"||d=="boolean"||a==null||Ir(a)?!0:PW.test(a)||!AW.test(a)||c!=null&&a in lt(c)}function NB(a){var c=typeof a;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?a!=="__proto__":a===null}function ew(a){var c=Up(a),d=A[c];if(typeof d!="function"||!(c in Ve.prototype))return!1;if(a===d)return!0;var m=Q0(d);return!!m&&a===m[0]}function xB(a){return!!PP&&PP in a}var DB=dp?Es:_w;function sh(a){var c=a&&a.constructor,d=typeof c=="function"&&c.prototype||Vu;return a===d}function Pk(a){return a===a&&!Pt(a)}function kk(a,c){return function(d){return d==null?!1:d[a]===c&&(c!==n||a in lt(d))}}function LB(a){var c=Bp(a,function(m){return d.size===h&&d.clear(),m}),d=c.cache;return c}function MB(a,c){var d=a[1],m=c[1],y=d|m,P=y<(R|S|W),x=m==W&&d==k||m==W&&d==G&&a[7].length<=c[8]||m==(W|G)&&c[7].length<=c[8]&&d==k;if(!(P||x))return a;m&R&&(a[2]=c[2],y|=d&R?0:T);var L=c[3];if(L){var $=a[3];a[3]=$?hk($,L,c[4]):L,a[4]=$?lo(a[3],f):c[4]}return L=c[5],L&&($=a[5],a[5]=$?fk($,L,c[6]):L,a[6]=$?lo(a[5],f):c[6]),L=c[7],L&&(a[7]=L),m&W&&(a[8]=a[8]==null?c[8]:An(a[8],c[8])),a[9]==null&&(a[9]=c[9]),a[0]=c[0],a[1]=y,a}function UB(a){var c=[];if(a!=null)for(var d in lt(a))c.push(d);return c}function FB(a){return gp.call(a)}function bk(a,c,d){return c=Qt(c===n?a.length-1:c,0),function(){for(var m=arguments,y=-1,P=Qt(m.length-c,0),x=j(P);++y<P;)x[y]=m[c+y];y=-1;for(var L=j(c+1);++y<c;)L[y]=m[y];return L[c]=d(x),Er(a,this,L)}}function Ok(a,c){return c.length<2?a:Ra(a,Yr(c,0,-1))}function $B(a,c){for(var d=a.length,m=An(c.length,d),y=lr(a);m--;){var P=c[m];a[m]=ws(P,d)?y[P]:n}return a}function tw(a,c){if(!(c==="constructor"&&typeof a[c]=="function")&&c!="__proto__")return a[c]}var Nk=Dk(tk),oh=ej||function(a,c){return fn.setTimeout(a,c)},nw=Dk(uB);function xk(a,c,d){var m=c+"";return nw(a,bB(m,VB(AB(m),d)))}function Dk(a){var c=0,d=0;return function(){var m=ij(),y=_-(m-d);if(d=m,y>0){if(++c>=I)return arguments[0]}else c=0;return a.apply(n,arguments)}}function $p(a,c){var d=-1,m=a.length,y=m-1;for(c=c===n?m:c;++d<c;){var P=F0(d,y),x=a[P];a[P]=a[d],a[d]=x}return a.length=c,a}var Lk=LB(function(a){var c=[];return a.charCodeAt(0)===46&&c.push(""),a.replace(kW,function(d,m,y,P){c.push(y?P.replace(UW,"$1"):m||d)}),c});function Bi(a){if(typeof a=="string"||Ir(a))return a;var c=a+"";return c=="0"&&1/a==-O?"-0":c}function Pa(a){if(a!=null){try{return pp.call(a)}catch{}try{return a+""}catch{}}return""}function VB(a,c){return zr(ds,function(d){var m="_."+d[0];c&d[1]&&!lp(a,m)&&a.push(m)}),a.sort()}function Mk(a){if(a instanceof Ve)return a.clone();var c=new qr(a.__wrapped__,a.__chain__);return c.__actions__=lr(a.__actions__),c.__index__=a.__index__,c.__values__=a.__values__,c}function WB(a,c,d){(d?Kn(a,c,d):c===n)?c=1:c=Qt(be(c),0);var m=a==null?0:a.length;if(!m||c<1)return[];for(var y=0,P=0,x=j(Ep(m/c));y<m;)x[P++]=Yr(a,y,y+=c);return x}function jB(a){for(var c=-1,d=a==null?0:a.length,m=0,y=[];++c<d;){var P=a[c];P&&(y[m++]=P)}return y}function BB(){var a=arguments.length;if(!a)return[];for(var c=j(a-1),d=arguments[0],m=a;m--;)c[m-1]=arguments[m];return uo(Pe(d)?lr(d):[d],dn(c,1))}var zB=De(function(a,c){return Vt(a)?eh(a,dn(c,1,Vt,!0)):[]}),HB=De(function(a,c){var d=Kr(c);return Vt(d)&&(d=n),Vt(a)?eh(a,dn(c,1,Vt,!0),ve(d,2)):[]}),qB=De(function(a,c){var d=Kr(c);return Vt(d)&&(d=n),Vt(a)?eh(a,dn(c,1,Vt,!0),n,d):[]});function GB(a,c,d){var m=a==null?0:a.length;return m?(c=d||c===n?1:be(c),Yr(a,c<0?0:c,m)):[]}function YB(a,c,d){var m=a==null?0:a.length;return m?(c=d||c===n?1:be(c),c=m-c,Yr(a,0,c<0?0:c)):[]}function KB(a,c){return a&&a.length?Op(a,ve(c,3),!0,!0):[]}function QB(a,c){return a&&a.length?Op(a,ve(c,3),!0):[]}function XB(a,c,d,m){var y=a==null?0:a.length;return y?(d&&typeof d!="number"&&Kn(a,c,d)&&(d=0,m=y),Bj(a,c,d,m)):[]}function Uk(a,c,d){var m=a==null?0:a.length;if(!m)return-1;var y=d==null?0:be(d);return y<0&&(y=Qt(m+y,0)),cp(a,ve(c,3),y)}function Fk(a,c,d){var m=a==null?0:a.length;if(!m)return-1;var y=m-1;return d!==n&&(y=be(d),y=d<0?Qt(m+y,0):An(y,m-1)),cp(a,ve(c,3),y,!0)}function $k(a){var c=a==null?0:a.length;return c?dn(a,1):[]}function JB(a){var c=a==null?0:a.length;return c?dn(a,O):[]}function ZB(a,c){var d=a==null?0:a.length;return d?(c=c===n?1:be(c),dn(a,c)):[]}function e5(a){for(var c=-1,d=a==null?0:a.length,m={};++c<d;){var y=a[c];m[y[0]]=y[1]}return m}function Vk(a){return a&&a.length?a[0]:n}function t5(a,c,d){var m=a==null?0:a.length;if(!m)return-1;var y=d==null?0:be(d);return y<0&&(y=Qt(m+y,0)),Mu(a,c,y)}function n5(a){var c=a==null?0:a.length;return c?Yr(a,0,-1):[]}var r5=De(function(a){var c=It(a,B0);return c.length&&c[0]===a[0]?x0(c):[]}),i5=De(function(a){var c=Kr(a),d=It(a,B0);return c===Kr(d)?c=n:d.pop(),d.length&&d[0]===a[0]?x0(d,ve(c,2)):[]}),s5=De(function(a){var c=Kr(a),d=It(a,B0);return c=typeof c=="function"?c:n,c&&d.pop(),d.length&&d[0]===a[0]?x0(d,n,c):[]});function o5(a,c){return a==null?"":nj.call(a,c)}function Kr(a){var c=a==null?0:a.length;return c?a[c-1]:n}function a5(a,c,d){var m=a==null?0:a.length;if(!m)return-1;var y=m;return d!==n&&(y=be(d),y=y<0?Qt(m+y,0):An(y,m-1)),c===c?V9(a,c,y):cp(a,wP,y,!0)}function u5(a,c){return a&&a.length?XP(a,be(c)):n}var l5=De(Wk);function Wk(a,c){return a&&a.length&&c&&c.length?U0(a,c):a}function c5(a,c,d){return a&&a.length&&c&&c.length?U0(a,c,ve(d,2)):a}function h5(a,c,d){return a&&a.length&&c&&c.length?U0(a,c,n,d):a}var f5=ys(function(a,c){var d=a==null?0:a.length,m=k0(a,c);return ek(a,It(c,function(y){return ws(y,d)?+y:y}).sort(ck)),m});function d5(a,c){var d=[];if(!(a&&a.length))return d;var m=-1,y=[],P=a.length;for(c=ve(c,3);++m<P;){var x=a[m];c(x,m,a)&&(d.push(x),y.push(m))}return ek(a,y),d}function rw(a){return a==null?a:oj.call(a)}function p5(a,c,d){var m=a==null?0:a.length;return m?(d&&typeof d!="number"&&Kn(a,c,d)?(c=0,d=m):(c=c==null?0:be(c),d=d===n?m:be(d)),Yr(a,c,d)):[]}function g5(a,c){return bp(a,c)}function m5(a,c,d){return V0(a,c,ve(d,2))}function _5(a,c){var d=a==null?0:a.length;if(d){var m=bp(a,c);if(m<d&&mi(a[m],c))return m}return-1}function v5(a,c){return bp(a,c,!0)}function y5(a,c,d){return V0(a,c,ve(d,2),!0)}function w5(a,c){var d=a==null?0:a.length;if(d){var m=bp(a,c,!0)-1;if(mi(a[m],c))return m}return-1}function E5(a){return a&&a.length?nk(a):[]}function S5(a,c){return a&&a.length?nk(a,ve(c,2)):[]}function T5(a){var c=a==null?0:a.length;return c?Yr(a,1,c):[]}function I5(a,c,d){return a&&a.length?(c=d||c===n?1:be(c),Yr(a,0,c<0?0:c)):[]}function C5(a,c,d){var m=a==null?0:a.length;return m?(c=d||c===n?1:be(c),c=m-c,Yr(a,c<0?0:c,m)):[]}function R5(a,c){return a&&a.length?Op(a,ve(c,3),!1,!0):[]}function A5(a,c){return a&&a.length?Op(a,ve(c,3)):[]}var P5=De(function(a){return fo(dn(a,1,Vt,!0))}),k5=De(function(a){var c=Kr(a);return Vt(c)&&(c=n),fo(dn(a,1,Vt,!0),ve(c,2))}),b5=De(function(a){var c=Kr(a);return c=typeof c=="function"?c:n,fo(dn(a,1,Vt,!0),n,c)});function O5(a){return a&&a.length?fo(a):[]}function N5(a,c){return a&&a.length?fo(a,ve(c,2)):[]}function x5(a,c){return c=typeof c=="function"?c:n,a&&a.length?fo(a,n,c):[]}function iw(a){if(!(a&&a.length))return[];var c=0;return a=ao(a,function(d){if(Vt(d))return c=Qt(d.length,c),!0}),E0(c,function(d){return It(a,v0(d))})}function jk(a,c){if(!(a&&a.length))return[];var d=iw(a);return c==null?d:It(d,function(m){return Er(c,n,m)})}var D5=De(function(a,c){return Vt(a)?eh(a,c):[]}),L5=De(function(a){return j0(ao(a,Vt))}),M5=De(function(a){var c=Kr(a);return Vt(c)&&(c=n),j0(ao(a,Vt),ve(c,2))}),U5=De(function(a){var c=Kr(a);return c=typeof c=="function"?c:n,j0(ao(a,Vt),n,c)}),F5=De(iw);function $5(a,c){return ok(a||[],c||[],Zc)}function V5(a,c){return ok(a||[],c||[],rh)}var W5=De(function(a){var c=a.length,d=c>1?a[c-1]:n;return d=typeof d=="function"?(a.pop(),d):n,jk(a,d)});function Bk(a){var c=A(a);return c.__chain__=!0,c}function j5(a,c){return c(a),a}function Vp(a,c){return c(a)}var B5=ys(function(a){var c=a.length,d=c?a[0]:0,m=this.__wrapped__,y=function(P){return k0(P,a)};return c>1||this.__actions__.length||!(m instanceof Ve)||!ws(d)?this.thru(y):(m=m.slice(d,+d+(c?1:0)),m.__actions__.push({func:Vp,args:[y],thisArg:n}),new qr(m,this.__chain__).thru(function(P){return c&&!P.length&&P.push(n),P}))});function z5(){return Bk(this)}function H5(){return new qr(this.value(),this.__chain__)}function q5(){this.__values__===n&&(this.__values__=rb(this.value()));var a=this.__index__>=this.__values__.length,c=a?n:this.__values__[this.__index__++];return{done:a,value:c}}function G5(){return this}function Y5(a){for(var c,d=this;d instanceof Cp;){var m=Mk(d);m.__index__=0,m.__values__=n,c?y.__wrapped__=m:c=m;var y=m;d=d.__wrapped__}return y.__wrapped__=a,c}function K5(){var a=this.__wrapped__;if(a instanceof Ve){var c=a;return this.__actions__.length&&(c=new Ve(this)),c=c.reverse(),c.__actions__.push({func:Vp,args:[rw],thisArg:n}),new qr(c,this.__chain__)}return this.thru(rw)}function Q5(){return sk(this.__wrapped__,this.__actions__)}var X5=Np(function(a,c,d){nt.call(a,d)?++a[d]:_s(a,d,1)});function J5(a,c,d){var m=Pe(a)?vP:jj;return d&&Kn(a,c,d)&&(c=n),m(a,ve(c,3))}function Z5(a,c){var d=Pe(a)?ao:jP;return d(a,ve(c,3))}var ez=mk(Uk),tz=mk(Fk);function nz(a,c){return dn(Wp(a,c),1)}function rz(a,c){return dn(Wp(a,c),O)}function iz(a,c,d){return d=d===n?1:be(d),dn(Wp(a,c),d)}function zk(a,c){var d=Pe(a)?zr:ho;return d(a,ve(c,3))}function Hk(a,c){var d=Pe(a)?T9:WP;return d(a,ve(c,3))}var sz=Np(function(a,c,d){nt.call(a,d)?a[d].push(c):_s(a,d,[c])});function oz(a,c,d,m){a=cr(a)?a:Yu(a),d=d&&!m?be(d):0;var y=a.length;return d<0&&(d=Qt(y+d,0)),qp(a)?d<=y&&a.indexOf(c,d)>-1:!!y&&Mu(a,c,d)>-1}var az=De(function(a,c,d){var m=-1,y=typeof c=="function",P=cr(a)?j(a.length):[];return ho(a,function(x){P[++m]=y?Er(c,x,d):th(x,c,d)}),P}),uz=Np(function(a,c,d){_s(a,d,c)});function Wp(a,c){var d=Pe(a)?It:YP;return d(a,ve(c,3))}function lz(a,c,d,m){return a==null?[]:(Pe(c)||(c=c==null?[]:[c]),d=m?n:d,Pe(d)||(d=d==null?[]:[d]),JP(a,c,d))}var cz=Np(function(a,c,d){a[d?0:1].push(c)},function(){return[[],[]]});function hz(a,c,d){var m=Pe(a)?m0:SP,y=arguments.length<3;return m(a,ve(c,4),d,y,ho)}function fz(a,c,d){var m=Pe(a)?I9:SP,y=arguments.length<3;return m(a,ve(c,4),d,y,WP)}function dz(a,c){var d=Pe(a)?ao:jP;return d(a,zp(ve(c,3)))}function pz(a){var c=Pe(a)?UP:oB;return c(a)}function gz(a,c,d){(d?Kn(a,c,d):c===n)?c=1:c=be(c);var m=Pe(a)?Uj:aB;return m(a,c)}function mz(a){var c=Pe(a)?Fj:lB;return c(a)}function _z(a){if(a==null)return 0;if(cr(a))return qp(a)?Fu(a):a.length;var c=Pn(a);return c==fi||c==di?a.size:L0(a).length}function vz(a,c,d){var m=Pe(a)?_0:cB;return d&&Kn(a,c,d)&&(c=n),m(a,ve(c,3))}var yz=De(function(a,c){if(a==null)return[];var d=c.length;return d>1&&Kn(a,c[0],c[1])?c=[]:d>2&&Kn(c[0],c[1],c[2])&&(c=[c[0]]),JP(a,dn(c,1),[])}),jp=Z9||function(){return fn.Date.now()};function wz(a,c){if(typeof c!="function")throw new Hr(o);return a=be(a),function(){if(--a<1)return c.apply(this,arguments)}}function qk(a,c,d){return c=d?n:c,c=a&&c==null?a.length:c,vs(a,W,n,n,n,n,c)}function Gk(a,c){var d;if(typeof c!="function")throw new Hr(o);return a=be(a),function(){return--a>0&&(d=c.apply(this,arguments)),a<=1&&(c=n),d}}var sw=De(function(a,c,d){var m=R;if(d.length){var y=lo(d,qu(sw));m|=F}return vs(a,m,c,d,y)}),Yk=De(function(a,c,d){var m=R|S;if(d.length){var y=lo(d,qu(Yk));m|=F}return vs(c,m,a,d,y)});function Kk(a,c,d){c=d?n:c;var m=vs(a,k,n,n,n,n,n,c);return m.placeholder=Kk.placeholder,m}function Qk(a,c,d){c=d?n:c;var m=vs(a,b,n,n,n,n,n,c);return m.placeholder=Qk.placeholder,m}function Xk(a,c,d){var m,y,P,x,L,$,q=0,Y=!1,Q=!1,se=!0;if(typeof a!="function")throw new Hr(o);c=Qr(c)||0,Pt(d)&&(Y=!!d.leading,Q="maxWait"in d,P=Q?Qt(Qr(d.maxWait)||0,c):P,se="trailing"in d?!!d.trailing:se);function pe(Wt){var _i=m,Ts=y;return m=y=n,q=Wt,x=a.apply(Ts,_i),x}function ye(Wt){return q=Wt,L=oh(Fe,c),Y?pe(Wt):x}function xe(Wt){var _i=Wt-$,Ts=Wt-q,mb=c-_i;return Q?An(mb,P-Ts):mb}function we(Wt){var _i=Wt-$,Ts=Wt-q;return $===n||_i>=c||_i<0||Q&&Ts>=P}function Fe(){var Wt=jp();if(we(Wt))return Be(Wt);L=oh(Fe,xe(Wt))}function Be(Wt){return L=n,se&&m?pe(Wt):(m=y=n,x)}function Cr(){L!==n&&ak(L),q=0,m=$=y=L=n}function Qn(){return L===n?x:Be(jp())}function Rr(){var Wt=jp(),_i=we(Wt);if(m=arguments,y=this,$=Wt,_i){if(L===n)return ye($);if(Q)return ak(L),L=oh(Fe,c),pe($)}return L===n&&(L=oh(Fe,c)),x}return Rr.cancel=Cr,Rr.flush=Qn,Rr}var Ez=De(function(a,c){return VP(a,1,c)}),Sz=De(function(a,c,d){return VP(a,Qr(c)||0,d)});function Tz(a){return vs(a,ie)}function Bp(a,c){if(typeof a!="function"||c!=null&&typeof c!="function")throw new Hr(o);var d=function(){var m=arguments,y=c?c.apply(this,m):m[0],P=d.cache;if(P.has(y))return P.get(y);var x=a.apply(this,m);return d.cache=P.set(y,x)||P,x};return d.cache=new(Bp.Cache||ms),d}Bp.Cache=ms;function zp(a){if(typeof a!="function")throw new Hr(o);return function(){var c=arguments;switch(c.length){case 0:return!a.call(this);case 1:return!a.call(this,c[0]);case 2:return!a.call(this,c[0],c[1]);case 3:return!a.call(this,c[0],c[1],c[2])}return!a.apply(this,c)}}function Iz(a){return Gk(2,a)}var Cz=hB(function(a,c){c=c.length==1&&Pe(c[0])?It(c[0],Sr(ve())):It(dn(c,1),Sr(ve()));var d=c.length;return De(function(m){for(var y=-1,P=An(m.length,d);++y<P;)m[y]=c[y].call(this,m[y]);return Er(a,this,m)})}),ow=De(function(a,c){var d=lo(c,qu(ow));return vs(a,F,n,c,d)}),Jk=De(function(a,c){var d=lo(c,qu(Jk));return vs(a,V,n,c,d)}),Rz=ys(function(a,c){return vs(a,G,n,n,n,c)});function Az(a,c){if(typeof a!="function")throw new Hr(o);return c=c===n?c:be(c),De(a,c)}function Pz(a,c){if(typeof a!="function")throw new Hr(o);return c=c==null?0:Qt(be(c),0),De(function(d){var m=d[c],y=go(d,0,c);return m&&uo(y,m),Er(a,this,y)})}function kz(a,c,d){var m=!0,y=!0;if(typeof a!="function")throw new Hr(o);return Pt(d)&&(m="leading"in d?!!d.leading:m,y="trailing"in d?!!d.trailing:y),Xk(a,c,{leading:m,maxWait:c,trailing:y})}function bz(a){return qk(a,1)}function Oz(a,c){return ow(z0(c),a)}function Nz(){if(!arguments.length)return[];var a=arguments[0];return Pe(a)?a:[a]}function xz(a){return Gr(a,v)}function Dz(a,c){return c=typeof c=="function"?c:n,Gr(a,v,c)}function Lz(a){return Gr(a,p|v)}function Mz(a,c){return c=typeof c=="function"?c:n,Gr(a,p|v,c)}function Uz(a,c){return c==null||$P(a,c,rn(c))}function mi(a,c){return a===c||a!==a&&c!==c}var Fz=Mp(N0),$z=Mp(function(a,c){return a>=c}),ka=HP(function(){return arguments}())?HP:function(a){return xt(a)&&nt.call(a,"callee")&&!OP.call(a,"callee")},Pe=j.isArray,Vz=fP?Sr(fP):Yj;function cr(a){return a!=null&&Hp(a.length)&&!Es(a)}function Vt(a){return xt(a)&&cr(a)}function Wz(a){return a===!0||a===!1||xt(a)&&Yn(a)==Vc}var mo=tj||_w,jz=dP?Sr(dP):Kj;function Bz(a){return xt(a)&&a.nodeType===1&&!ah(a)}function zz(a){if(a==null)return!0;if(cr(a)&&(Pe(a)||typeof a=="string"||typeof a.splice=="function"||mo(a)||Gu(a)||ka(a)))return!a.length;var c=Pn(a);if(c==fi||c==di)return!a.size;if(sh(a))return!L0(a).length;for(var d in a)if(nt.call(a,d))return!1;return!0}function Hz(a,c){return nh(a,c)}function qz(a,c,d){d=typeof d=="function"?d:n;var m=d?d(a,c):n;return m===n?nh(a,c,n,d):!!m}function aw(a){if(!xt(a))return!1;var c=Yn(a);return c==rp||c==gW||typeof a.message=="string"&&typeof a.name=="string"&&!ah(a)}function Gz(a){return typeof a=="number"&&xP(a)}function Es(a){if(!Pt(a))return!1;var c=Yn(a);return c==ip||c==VA||c==xu||c==_W}function Zk(a){return typeof a=="number"&&a==be(a)}function Hp(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=M}function Pt(a){var c=typeof a;return a!=null&&(c=="object"||c=="function")}function xt(a){return a!=null&&typeof a=="object"}var eb=pP?Sr(pP):Xj;function Yz(a,c){return a===c||D0(a,c,X0(c))}function Kz(a,c,d){return d=typeof d=="function"?d:n,D0(a,c,X0(c),d)}function Qz(a){return tb(a)&&a!=+a}function Xz(a){if(DB(a))throw new Re(s);return qP(a)}function Jz(a){return a===null}function Zz(a){return a==null}function tb(a){return typeof a=="number"||xt(a)&&Yn(a)==jc}function ah(a){if(!xt(a)||Yn(a)!=ps)return!1;var c=vp(a);if(c===null)return!0;var d=nt.call(c,"constructor")&&c.constructor;return typeof d=="function"&&d instanceof d&&pp.call(d)==K9}var uw=gP?Sr(gP):Jj;function eH(a){return Zk(a)&&a>=-M&&a<=M}var nb=mP?Sr(mP):Zj;function qp(a){return typeof a=="string"||!Pe(a)&&xt(a)&&Yn(a)==zc}function Ir(a){return typeof a=="symbol"||xt(a)&&Yn(a)==sp}var Gu=_P?Sr(_P):eB;function tH(a){return a===n}function nH(a){return xt(a)&&Pn(a)==Hc}function rH(a){return xt(a)&&Yn(a)==yW}var iH=Mp(M0),sH=Mp(function(a,c){return a<=c});function rb(a){if(!a)return[];if(cr(a))return qp(a)?pi(a):lr(a);if(Yc&&a[Yc])return U9(a[Yc]());var c=Pn(a),d=c==fi?T0:c==di?hp:Yu;return d(a)}function Ss(a){if(!a)return a===0?a:0;if(a=Qr(a),a===O||a===-O){var c=a<0?-1:1;return c*B}return a===a?a:0}function be(a){var c=Ss(a),d=c%1;return c===c?d?c-d:c:0}function ib(a){return a?Ca(be(a),0,ue):0}function Qr(a){if(typeof a=="number")return a;if(Ir(a))return H;if(Pt(a)){var c=typeof a.valueOf=="function"?a.valueOf():a;a=Pt(c)?c+"":c}if(typeof a!="string")return a===0?a:+a;a=TP(a);var d=VW.test(a);return d||jW.test(a)?w9(a.slice(2),d?2:8):$W.test(a)?H:+a}function sb(a){return ji(a,hr(a))}function oH(a){return a?Ca(be(a),-M,M):a===0?a:0}function tt(a){return a==null?"":Tr(a)}var aH=zu(function(a,c){if(sh(c)||cr(c)){ji(c,rn(c),a);return}for(var d in c)nt.call(c,d)&&Zc(a,d,c[d])}),ob=zu(function(a,c){ji(c,hr(c),a)}),Gp=zu(function(a,c,d,m){ji(c,hr(c),a,m)}),uH=zu(function(a,c,d,m){ji(c,rn(c),a,m)}),lH=ys(k0);function cH(a,c){var d=Bu(a);return c==null?d:FP(d,c)}var hH=De(function(a,c){a=lt(a);var d=-1,m=c.length,y=m>2?c[2]:n;for(y&&Kn(c[0],c[1],y)&&(m=1);++d<m;)for(var P=c[d],x=hr(P),L=-1,$=x.length;++L<$;){var q=x[L],Y=a[q];(Y===n||mi(Y,Vu[q])&&!nt.call(a,q))&&(a[q]=P[q])}return a}),fH=De(function(a){return a.push(n,Tk),Er(ab,n,a)});function dH(a,c){return yP(a,ve(c,3),Wi)}function pH(a,c){return yP(a,ve(c,3),O0)}function gH(a,c){return a==null?a:b0(a,ve(c,3),hr)}function mH(a,c){return a==null?a:BP(a,ve(c,3),hr)}function _H(a,c){return a&&Wi(a,ve(c,3))}function vH(a,c){return a&&O0(a,ve(c,3))}function yH(a){return a==null?[]:Pp(a,rn(a))}function wH(a){return a==null?[]:Pp(a,hr(a))}function lw(a,c,d){var m=a==null?n:Ra(a,c);return m===n?d:m}function EH(a,c){return a!=null&&Rk(a,c,zj)}function cw(a,c){return a!=null&&Rk(a,c,Hj)}var SH=vk(function(a,c,d){c!=null&&typeof c.toString!="function"&&(c=gp.call(c)),a[c]=d},fw(fr)),TH=vk(function(a,c,d){c!=null&&typeof c.toString!="function"&&(c=gp.call(c)),nt.call(a,c)?a[c].push(d):a[c]=[d]},ve),IH=De(th);function rn(a){return cr(a)?MP(a):L0(a)}function hr(a){return cr(a)?MP(a,!0):tB(a)}function CH(a,c){var d={};return c=ve(c,3),Wi(a,function(m,y,P){_s(d,c(m,y,P),m)}),d}function RH(a,c){var d={};return c=ve(c,3),Wi(a,function(m,y,P){_s(d,y,c(m,y,P))}),d}var AH=zu(function(a,c,d){kp(a,c,d)}),ab=zu(function(a,c,d,m){kp(a,c,d,m)}),PH=ys(function(a,c){var d={};if(a==null)return d;var m=!1;c=It(c,function(P){return P=po(P,a),m||(m=P.length>1),P}),ji(a,K0(a),d),m&&(d=Gr(d,p|g|v,SB));for(var y=c.length;y--;)W0(d,c[y]);return d});function kH(a,c){return ub(a,zp(ve(c)))}var bH=ys(function(a,c){return a==null?{}:rB(a,c)});function ub(a,c){if(a==null)return{};var d=It(K0(a),function(m){return[m]});return c=ve(c),ZP(a,d,function(m,y){return c(m,y[0])})}function OH(a,c,d){c=po(c,a);var m=-1,y=c.length;for(y||(y=1,a=n);++m<y;){var P=a==null?n:a[Bi(c[m])];P===n&&(m=y,P=d),a=Es(P)?P.call(a):P}return a}function NH(a,c,d){return a==null?a:rh(a,c,d)}function xH(a,c,d,m){return m=typeof m=="function"?m:n,a==null?a:rh(a,c,d,m)}var lb=Ek(rn),cb=Ek(hr);function DH(a,c,d){var m=Pe(a),y=m||mo(a)||Gu(a);if(c=ve(c,4),d==null){var P=a&&a.constructor;y?d=m?new P:[]:Pt(a)?d=Es(P)?Bu(vp(a)):{}:d={}}return(y?zr:Wi)(a,function(x,L,$){return c(d,x,L,$)}),d}function LH(a,c){return a==null?!0:W0(a,c)}function MH(a,c,d){return a==null?a:ik(a,c,z0(d))}function UH(a,c,d,m){return m=typeof m=="function"?m:n,a==null?a:ik(a,c,z0(d),m)}function Yu(a){return a==null?[]:S0(a,rn(a))}function FH(a){return a==null?[]:S0(a,hr(a))}function $H(a,c,d){return d===n&&(d=c,c=n),d!==n&&(d=Qr(d),d=d===d?d:0),c!==n&&(c=Qr(c),c=c===c?c:0),Ca(Qr(a),c,d)}function VH(a,c,d){return c=Ss(c),d===n?(d=c,c=0):d=Ss(d),a=Qr(a),qj(a,c,d)}function WH(a,c,d){if(d&&typeof d!="boolean"&&Kn(a,c,d)&&(c=d=n),d===n&&(typeof c=="boolean"?(d=c,c=n):typeof a=="boolean"&&(d=a,a=n)),a===n&&c===n?(a=0,c=1):(a=Ss(a),c===n?(c=a,a=0):c=Ss(c)),a>c){var m=a;a=c,c=m}if(d||a%1||c%1){var y=DP();return An(a+y*(c-a+y9("1e-"+((y+"").length-1))),c)}return F0(a,c)}var jH=Hu(function(a,c,d){return c=c.toLowerCase(),a+(d?hb(c):c)});function hb(a){return hw(tt(a).toLowerCase())}function fb(a){return a=tt(a),a&&a.replace(zW,N9).replace(l9,"")}function BH(a,c,d){a=tt(a),c=Tr(c);var m=a.length;d=d===n?m:Ca(be(d),0,m);var y=d;return d-=c.length,d>=0&&a.slice(d,y)==c}function zH(a){return a=tt(a),a&&IW.test(a)?a.replace(BA,x9):a}function HH(a){return a=tt(a),a&&bW.test(a)?a.replace(o0,"\\$&"):a}var qH=Hu(function(a,c,d){return a+(d?"-":"")+c.toLowerCase()}),GH=Hu(function(a,c,d){return a+(d?" ":"")+c.toLowerCase()}),YH=gk("toLowerCase");function KH(a,c,d){a=tt(a),c=be(c);var m=c?Fu(a):0;if(!c||m>=c)return a;var y=(c-m)/2;return Lp(Sp(y),d)+a+Lp(Ep(y),d)}function QH(a,c,d){a=tt(a),c=be(c);var m=c?Fu(a):0;return c&&m<c?a+Lp(c-m,d):a}function XH(a,c,d){a=tt(a),c=be(c);var m=c?Fu(a):0;return c&&m<c?Lp(c-m,d)+a:a}function JH(a,c,d){return d||c==null?c=0:c&&(c=+c),sj(tt(a).replace(a0,""),c||0)}function ZH(a,c,d){return(d?Kn(a,c,d):c===n)?c=1:c=be(c),$0(tt(a),c)}function e8(){var a=arguments,c=tt(a[0]);return a.length<3?c:c.replace(a[1],a[2])}var t8=Hu(function(a,c,d){return a+(d?"_":"")+c.toLowerCase()});function n8(a,c,d){return d&&typeof d!="number"&&Kn(a,c,d)&&(c=d=n),d=d===n?ue:d>>>0,d?(a=tt(a),a&&(typeof c=="string"||c!=null&&!uw(c))&&(c=Tr(c),!c&&Uu(a))?go(pi(a),0,d):a.split(c,d)):[]}var r8=Hu(function(a,c,d){return a+(d?" ":"")+hw(c)});function i8(a,c,d){return a=tt(a),d=d==null?0:Ca(be(d),0,a.length),c=Tr(c),a.slice(d,d+c.length)==c}function s8(a,c,d){var m=A.templateSettings;d&&Kn(a,c,d)&&(c=n),a=tt(a),c=Gp({},c,m,Sk);var y=Gp({},c.imports,m.imports,Sk),P=rn(y),x=S0(y,P),L,$,q=0,Y=c.interpolate||op,Q="__p += '",se=I0((c.escape||op).source+"|"+Y.source+"|"+(Y===zA?FW:op).source+"|"+(c.evaluate||op).source+"|$","g"),pe="//# sourceURL="+(nt.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++p9+"]")+`
`;a.replace(se,function(we,Fe,Be,Cr,Qn,Rr){return Be||(Be=Cr),Q+=a.slice(q,Rr).replace(HW,D9),Fe&&(L=!0,Q+=`' +
__e(`+Fe+`) +
'`),Qn&&($=!0,Q+=`';
`+Qn+`;
__p += '`),Be&&(Q+=`' +
((__t = (`+Be+`)) == null ? '' : __t) +
'`),q=Rr+we.length,we}),Q+=`';
`;var ye=nt.call(c,"variable")&&c.variable;if(!ye)Q=`with (obj) {
`+Q+`
}
`;else if(MW.test(ye))throw new Re(u);Q=($?Q.replace(wW,""):Q).replace(EW,"$1").replace(SW,"$1;"),Q="function("+(ye||"obj")+`) {
`+(ye?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(L?", __e = _.escape":"")+($?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Q+`return __p
}`;var xe=pb(function(){return Ze(P,pe+"return "+Q).apply(n,x)});if(xe.source=Q,aw(xe))throw xe;return xe}function o8(a){return tt(a).toLowerCase()}function a8(a){return tt(a).toUpperCase()}function u8(a,c,d){if(a=tt(a),a&&(d||c===n))return TP(a);if(!a||!(c=Tr(c)))return a;var m=pi(a),y=pi(c),P=IP(m,y),x=CP(m,y)+1;return go(m,P,x).join("")}function l8(a,c,d){if(a=tt(a),a&&(d||c===n))return a.slice(0,AP(a)+1);if(!a||!(c=Tr(c)))return a;var m=pi(a),y=CP(m,pi(c))+1;return go(m,0,y).join("")}function c8(a,c,d){if(a=tt(a),a&&(d||c===n))return a.replace(a0,"");if(!a||!(c=Tr(c)))return a;var m=pi(a),y=IP(m,pi(c));return go(m,y).join("")}function h8(a,c){var d=re,m=Ne;if(Pt(c)){var y="separator"in c?c.separator:y;d="length"in c?be(c.length):d,m="omission"in c?Tr(c.omission):m}a=tt(a);var P=a.length;if(Uu(a)){var x=pi(a);P=x.length}if(d>=P)return a;var L=d-Fu(m);if(L<1)return m;var $=x?go(x,0,L).join(""):a.slice(0,L);if(y===n)return $+m;if(x&&(L+=$.length-L),uw(y)){if(a.slice(L).search(y)){var q,Y=$;for(y.global||(y=I0(y.source,tt(HA.exec(y))+"g")),y.lastIndex=0;q=y.exec(Y);)var Q=q.index;$=$.slice(0,Q===n?L:Q)}}else if(a.indexOf(Tr(y),L)!=L){var se=$.lastIndexOf(y);se>-1&&($=$.slice(0,se))}return $+m}function f8(a){return a=tt(a),a&&TW.test(a)?a.replace(jA,W9):a}var d8=Hu(function(a,c,d){return a+(d?" ":"")+c.toUpperCase()}),hw=gk("toUpperCase");function db(a,c,d){return a=tt(a),c=d?n:c,c===n?M9(a)?z9(a):A9(a):a.match(c)||[]}var pb=De(function(a,c){try{return Er(a,n,c)}catch(d){return aw(d)?d:new Re(d)}}),p8=ys(function(a,c){return zr(c,function(d){d=Bi(d),_s(a,d,sw(a[d],a))}),a});function g8(a){var c=a==null?0:a.length,d=ve();return a=c?It(a,function(m){if(typeof m[1]!="function")throw new Hr(o);return[d(m[0]),m[1]]}):[],De(function(m){for(var y=-1;++y<c;){var P=a[y];if(Er(P[0],this,m))return Er(P[1],this,m)}})}function m8(a){return Wj(Gr(a,p))}function fw(a){return function(){return a}}function _8(a,c){return a==null||a!==a?c:a}var v8=_k(),y8=_k(!0);function fr(a){return a}function dw(a){return GP(typeof a=="function"?a:Gr(a,p))}function w8(a){return KP(Gr(a,p))}function E8(a,c){return QP(a,Gr(c,p))}var S8=De(function(a,c){return function(d){return th(d,a,c)}}),T8=De(function(a,c){return function(d){return th(a,d,c)}});function pw(a,c,d){var m=rn(c),y=Pp(c,m);d==null&&!(Pt(c)&&(y.length||!m.length))&&(d=c,c=a,a=this,y=Pp(c,rn(c)));var P=!(Pt(d)&&"chain"in d)||!!d.chain,x=Es(a);return zr(y,function(L){var $=c[L];a[L]=$,x&&(a.prototype[L]=function(){var q=this.__chain__;if(P||q){var Y=a(this.__wrapped__),Q=Y.__actions__=lr(this.__actions__);return Q.push({func:$,args:arguments,thisArg:a}),Y.__chain__=q,Y}return $.apply(a,uo([this.value()],arguments))})}),a}function I8(){return fn._===this&&(fn._=Q9),this}function gw(){}function C8(a){return a=be(a),De(function(c){return XP(c,a)})}var R8=q0(It),A8=q0(vP),P8=q0(_0);function gb(a){return Z0(a)?v0(Bi(a)):iB(a)}function k8(a){return function(c){return a==null?n:Ra(a,c)}}var b8=yk(),O8=yk(!0);function mw(){return[]}function _w(){return!1}function N8(){return{}}function x8(){return""}function D8(){return!0}function L8(a,c){if(a=be(a),a<1||a>M)return[];var d=ue,m=An(a,ue);c=ve(c),a-=ue;for(var y=E0(m,c);++d<a;)c(d);return y}function M8(a){return Pe(a)?It(a,Bi):Ir(a)?[a]:lr(Lk(tt(a)))}function U8(a){var c=++Y9;return tt(a)+c}var F8=Dp(function(a,c){return a+c},0),$8=G0("ceil"),V8=Dp(function(a,c){return a/c},1),W8=G0("floor");function j8(a){return a&&a.length?Ap(a,fr,N0):n}function B8(a,c){return a&&a.length?Ap(a,ve(c,2),N0):n}function z8(a){return EP(a,fr)}function H8(a,c){return EP(a,ve(c,2))}function q8(a){return a&&a.length?Ap(a,fr,M0):n}function G8(a,c){return a&&a.length?Ap(a,ve(c,2),M0):n}var Y8=Dp(function(a,c){return a*c},1),K8=G0("round"),Q8=Dp(function(a,c){return a-c},0);function X8(a){return a&&a.length?w0(a,fr):0}function J8(a,c){return a&&a.length?w0(a,ve(c,2)):0}return A.after=wz,A.ary=qk,A.assign=aH,A.assignIn=ob,A.assignInWith=Gp,A.assignWith=uH,A.at=lH,A.before=Gk,A.bind=sw,A.bindAll=p8,A.bindKey=Yk,A.castArray=Nz,A.chain=Bk,A.chunk=WB,A.compact=jB,A.concat=BB,A.cond=g8,A.conforms=m8,A.constant=fw,A.countBy=X5,A.create=cH,A.curry=Kk,A.curryRight=Qk,A.debounce=Xk,A.defaults=hH,A.defaultsDeep=fH,A.defer=Ez,A.delay=Sz,A.difference=zB,A.differenceBy=HB,A.differenceWith=qB,A.drop=GB,A.dropRight=YB,A.dropRightWhile=KB,A.dropWhile=QB,A.fill=XB,A.filter=Z5,A.flatMap=nz,A.flatMapDeep=rz,A.flatMapDepth=iz,A.flatten=$k,A.flattenDeep=JB,A.flattenDepth=ZB,A.flip=Tz,A.flow=v8,A.flowRight=y8,A.fromPairs=e5,A.functions=yH,A.functionsIn=wH,A.groupBy=sz,A.initial=n5,A.intersection=r5,A.intersectionBy=i5,A.intersectionWith=s5,A.invert=SH,A.invertBy=TH,A.invokeMap=az,A.iteratee=dw,A.keyBy=uz,A.keys=rn,A.keysIn=hr,A.map=Wp,A.mapKeys=CH,A.mapValues=RH,A.matches=w8,A.matchesProperty=E8,A.memoize=Bp,A.merge=AH,A.mergeWith=ab,A.method=S8,A.methodOf=T8,A.mixin=pw,A.negate=zp,A.nthArg=C8,A.omit=PH,A.omitBy=kH,A.once=Iz,A.orderBy=lz,A.over=R8,A.overArgs=Cz,A.overEvery=A8,A.overSome=P8,A.partial=ow,A.partialRight=Jk,A.partition=cz,A.pick=bH,A.pickBy=ub,A.property=gb,A.propertyOf=k8,A.pull=l5,A.pullAll=Wk,A.pullAllBy=c5,A.pullAllWith=h5,A.pullAt=f5,A.range=b8,A.rangeRight=O8,A.rearg=Rz,A.reject=dz,A.remove=d5,A.rest=Az,A.reverse=rw,A.sampleSize=gz,A.set=NH,A.setWith=xH,A.shuffle=mz,A.slice=p5,A.sortBy=yz,A.sortedUniq=E5,A.sortedUniqBy=S5,A.split=n8,A.spread=Pz,A.tail=T5,A.take=I5,A.takeRight=C5,A.takeRightWhile=R5,A.takeWhile=A5,A.tap=j5,A.throttle=kz,A.thru=Vp,A.toArray=rb,A.toPairs=lb,A.toPairsIn=cb,A.toPath=M8,A.toPlainObject=sb,A.transform=DH,A.unary=bz,A.union=P5,A.unionBy=k5,A.unionWith=b5,A.uniq=O5,A.uniqBy=N5,A.uniqWith=x5,A.unset=LH,A.unzip=iw,A.unzipWith=jk,A.update=MH,A.updateWith=UH,A.values=Yu,A.valuesIn=FH,A.without=D5,A.words=db,A.wrap=Oz,A.xor=L5,A.xorBy=M5,A.xorWith=U5,A.zip=F5,A.zipObject=$5,A.zipObjectDeep=V5,A.zipWith=W5,A.entries=lb,A.entriesIn=cb,A.extend=ob,A.extendWith=Gp,pw(A,A),A.add=F8,A.attempt=pb,A.camelCase=jH,A.capitalize=hb,A.ceil=$8,A.clamp=$H,A.clone=xz,A.cloneDeep=Lz,A.cloneDeepWith=Mz,A.cloneWith=Dz,A.conformsTo=Uz,A.deburr=fb,A.defaultTo=_8,A.divide=V8,A.endsWith=BH,A.eq=mi,A.escape=zH,A.escapeRegExp=HH,A.every=J5,A.find=ez,A.findIndex=Uk,A.findKey=dH,A.findLast=tz,A.findLastIndex=Fk,A.findLastKey=pH,A.floor=W8,A.forEach=zk,A.forEachRight=Hk,A.forIn=gH,A.forInRight=mH,A.forOwn=_H,A.forOwnRight=vH,A.get=lw,A.gt=Fz,A.gte=$z,A.has=EH,A.hasIn=cw,A.head=Vk,A.identity=fr,A.includes=oz,A.indexOf=t5,A.inRange=VH,A.invoke=IH,A.isArguments=ka,A.isArray=Pe,A.isArrayBuffer=Vz,A.isArrayLike=cr,A.isArrayLikeObject=Vt,A.isBoolean=Wz,A.isBuffer=mo,A.isDate=jz,A.isElement=Bz,A.isEmpty=zz,A.isEqual=Hz,A.isEqualWith=qz,A.isError=aw,A.isFinite=Gz,A.isFunction=Es,A.isInteger=Zk,A.isLength=Hp,A.isMap=eb,A.isMatch=Yz,A.isMatchWith=Kz,A.isNaN=Qz,A.isNative=Xz,A.isNil=Zz,A.isNull=Jz,A.isNumber=tb,A.isObject=Pt,A.isObjectLike=xt,A.isPlainObject=ah,A.isRegExp=uw,A.isSafeInteger=eH,A.isSet=nb,A.isString=qp,A.isSymbol=Ir,A.isTypedArray=Gu,A.isUndefined=tH,A.isWeakMap=nH,A.isWeakSet=rH,A.join=o5,A.kebabCase=qH,A.last=Kr,A.lastIndexOf=a5,A.lowerCase=GH,A.lowerFirst=YH,A.lt=iH,A.lte=sH,A.max=j8,A.maxBy=B8,A.mean=z8,A.meanBy=H8,A.min=q8,A.minBy=G8,A.stubArray=mw,A.stubFalse=_w,A.stubObject=N8,A.stubString=x8,A.stubTrue=D8,A.multiply=Y8,A.nth=u5,A.noConflict=I8,A.noop=gw,A.now=jp,A.pad=KH,A.padEnd=QH,A.padStart=XH,A.parseInt=JH,A.random=WH,A.reduce=hz,A.reduceRight=fz,A.repeat=ZH,A.replace=e8,A.result=OH,A.round=K8,A.runInContext=U,A.sample=pz,A.size=_z,A.snakeCase=t8,A.some=vz,A.sortedIndex=g5,A.sortedIndexBy=m5,A.sortedIndexOf=_5,A.sortedLastIndex=v5,A.sortedLastIndexBy=y5,A.sortedLastIndexOf=w5,A.startCase=r8,A.startsWith=i8,A.subtract=Q8,A.sum=X8,A.sumBy=J8,A.template=s8,A.times=L8,A.toFinite=Ss,A.toInteger=be,A.toLength=ib,A.toLower=o8,A.toNumber=Qr,A.toSafeInteger=oH,A.toString=tt,A.toUpper=a8,A.trim=u8,A.trimEnd=l8,A.trimStart=c8,A.truncate=h8,A.unescape=f8,A.uniqueId=U8,A.upperCase=d8,A.upperFirst=hw,A.each=zk,A.eachRight=Hk,A.first=Vk,pw(A,function(){var a={};return Wi(A,function(c,d){nt.call(A.prototype,d)||(a[d]=c)}),a}(),{chain:!1}),A.VERSION=r,zr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){A[a].placeholder=A}),zr(["drop","take"],function(a,c){Ve.prototype[a]=function(d){d=d===n?1:Qt(be(d),0);var m=this.__filtered__&&!c?new Ve(this):this.clone();return m.__filtered__?m.__takeCount__=An(d,m.__takeCount__):m.__views__.push({size:An(d,ue),type:a+(m.__dir__<0?"Right":"")}),m},Ve.prototype[a+"Right"]=function(d){return this.reverse()[a](d).reverse()}}),zr(["filter","map","takeWhile"],function(a,c){var d=c+1,m=d==w||d==D;Ve.prototype[a]=function(y){var P=this.clone();return P.__iteratees__.push({iteratee:ve(y,3),type:d}),P.__filtered__=P.__filtered__||m,P}}),zr(["head","last"],function(a,c){var d="take"+(c?"Right":"");Ve.prototype[a]=function(){return this[d](1).value()[0]}}),zr(["initial","tail"],function(a,c){var d="drop"+(c?"":"Right");Ve.prototype[a]=function(){return this.__filtered__?new Ve(this):this[d](1)}}),Ve.prototype.compact=function(){return this.filter(fr)},Ve.prototype.find=function(a){return this.filter(a).head()},Ve.prototype.findLast=function(a){return this.reverse().find(a)},Ve.prototype.invokeMap=De(function(a,c){return typeof a=="function"?new Ve(this):this.map(function(d){return th(d,a,c)})}),Ve.prototype.reject=function(a){return this.filter(zp(ve(a)))},Ve.prototype.slice=function(a,c){a=be(a);var d=this;return d.__filtered__&&(a>0||c<0)?new Ve(d):(a<0?d=d.takeRight(-a):a&&(d=d.drop(a)),c!==n&&(c=be(c),d=c<0?d.dropRight(-c):d.take(c-a)),d)},Ve.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Ve.prototype.toArray=function(){return this.take(ue)},Wi(Ve.prototype,function(a,c){var d=/^(?:filter|find|map|reject)|While$/.test(c),m=/^(?:head|last)$/.test(c),y=A[m?"take"+(c=="last"?"Right":""):c],P=m||/^find/.test(c);y&&(A.prototype[c]=function(){var x=this.__wrapped__,L=m?[1]:arguments,$=x instanceof Ve,q=L[0],Y=$||Pe(x),Q=function(Fe){var Be=y.apply(A,uo([Fe],L));return m&&se?Be[0]:Be};Y&&d&&typeof q=="function"&&q.length!=1&&($=Y=!1);var se=this.__chain__,pe=!!this.__actions__.length,ye=P&&!se,xe=$&&!pe;if(!P&&Y){x=xe?x:new Ve(this);var we=a.apply(x,L);return we.__actions__.push({func:Vp,args:[Q],thisArg:n}),new qr(we,se)}return ye&&xe?a.apply(this,L):(we=this.thru(Q),ye?m?we.value()[0]:we.value():we)})}),zr(["pop","push","shift","sort","splice","unshift"],function(a){var c=fp[a],d=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",m=/^(?:pop|shift)$/.test(a);A.prototype[a]=function(){var y=arguments;if(m&&!this.__chain__){var P=this.value();return c.apply(Pe(P)?P:[],y)}return this[d](function(x){return c.apply(Pe(x)?x:[],y)})}}),Wi(Ve.prototype,function(a,c){var d=A[c];if(d){var m=d.name+"";nt.call(ju,m)||(ju[m]=[]),ju[m].push({name:c,func:d})}}),ju[xp(n,S).name]=[{name:"wrapper",func:n}],Ve.prototype.clone=fj,Ve.prototype.reverse=dj,Ve.prototype.value=pj,A.prototype.at=B5,A.prototype.chain=z5,A.prototype.commit=H5,A.prototype.next=q5,A.prototype.plant=Y5,A.prototype.reverse=K5,A.prototype.toJSON=A.prototype.valueOf=A.prototype.value=Q5,A.prototype.first=A.prototype.head,Yc&&(A.prototype[Yc]=G5),A},$u=H9();Ea?((Ea.exports=$u)._=$u,d0._=$u):fn._=$u}).call(uh)})(FQ,Qm);const Vs=Qm;var Kh;(function(t){t.loginUser="loginUser",t.registerUser="registerUser",t.searchUser="searchUser"})(Kh||(Kh={}));var Qh;(function(t){t.isLoginUser="isLoginUser",t.isRegisterUser="isRegisterUser",t.isSearchUser="isSearchUser"})(Qh||(Qh={}));var nN={user:null,searchedUsers:[],chat:null},He=jI({name:"user",initialState:nN,reducers:{loginUser:function(e,n){},loginUserSuccess:function(e,n){var r=n.payload;e.user=r},loginUserError:function(e,n){},registerUser:function(e,n){},registerUserSuccess:function(e,n){var r=n.payload;e.user=r},registerUserError:function(e,n){},searchUser:function(e,n){},searchUserSuccess:function(e,n){var r=n.payload;e.searchedUsers=r},searchUserError:function(e,n){},clearSearchedUser:function(e){e.searchedUsers=[]},getInterlocutor:function(e,n){},getInterlocutorSuccess:function(e,n){var r=n.payload;e.chat=r},getInterlocutorError:function(e,n){},logout:function(){return nN}}});function $Q(t,e){return BQ(t)||jQ(t,e)||WQ(t,e)||VQ()}function VQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WQ(t,e){if(t){if(typeof t=="string")return rN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rN(t,e)}}function rN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,u=[],l=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(f){h=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function BQ(t){if(Array.isArray(t))return t}var iN={loading:{isLoginUser:!1,isRegisterUser:!1,isSearchUser:!1},errors:{loginUser:null,registerUser:null,searchUser:null}},zI=jI({name:"app",initialState:iN,reducers:{setError:function(e,n){var r=n.payload,i=r.error,s=r.errorType;e.errors[s]=i},resetErrors:function(e){e.errors=Vs.cloneDeep(iN.errors)}},extraReducers:function(e){var n=function(i,s,o){var u=$Q(i,3),l=u[0],h=u[1],f=u[2];e.addCase(l,function(p){p.loading[s]=!0,p.errors[o]=null}),e.addCase(h,function(p){p.loading[s]=!1}),e.addCase(f,function(p,g){p.loading[s]=!1,p.errors[o]=g.payload})};n([He.actions.loginUser,He.actions.loginUserSuccess,He.actions.loginUserError],Qh.isLoginUser,Kh.loginUser),n([He.actions.registerUser,He.actions.registerUserSuccess,He.actions.registerUserError],Qh.isRegisterUser,Kh.registerUser),n([He.actions.searchUser,He.actions.searchUserSuccess,He.actions.searchUserError],Qh.isSearchUser,Kh.searchUser)}}),zQ={isChatOpened:!1},_U=jI({name:"user",initialState:zQ,reducers:{setIsChatOpened:function(e,n){var r=n.payload;e.isChatOpened=r}}}),xn={},gS={},HQ={get exports(){return gS},set exports(t){gS=t}},Xm={},qQ={get exports(){return Xm},set exports(t){Xm=t}},vU=function(e,n){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return e.apply(n,i)}},GQ=vU,Iu=Object.prototype.toString;function HI(t){return Iu.call(t)==="[object Array]"}function mS(t){return typeof t>"u"}function YQ(t){return t!==null&&!mS(t)&&t.constructor!==null&&!mS(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function KQ(t){return Iu.call(t)==="[object ArrayBuffer]"}function QQ(t){return typeof FormData<"u"&&t instanceof FormData}function XQ(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function JQ(t){return typeof t=="string"}function ZQ(t){return typeof t=="number"}function yU(t){return t!==null&&typeof t=="object"}function Qg(t){if(Iu.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function eX(t){return Iu.call(t)==="[object Date]"}function tX(t){return Iu.call(t)==="[object File]"}function nX(t){return Iu.call(t)==="[object Blob]"}function wU(t){return Iu.call(t)==="[object Function]"}function rX(t){return yU(t)&&wU(t.pipe)}function iX(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}function sX(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function oX(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function qI(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),HI(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function _S(){var t={};function e(i,s){Qg(t[s])&&Qg(i)?t[s]=_S(t[s],i):Qg(i)?t[s]=_S({},i):HI(i)?t[s]=i.slice():t[s]=i}for(var n=0,r=arguments.length;n<r;n++)qI(arguments[n],e);return t}function aX(t,e,n){return qI(e,function(i,s){n&&typeof i=="function"?t[s]=GQ(i,n):t[s]=i}),t}function uX(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var Vr={isArray:HI,isArrayBuffer:KQ,isBuffer:YQ,isFormData:QQ,isArrayBufferView:XQ,isString:JQ,isNumber:ZQ,isObject:yU,isPlainObject:Qg,isUndefined:mS,isDate:eX,isFile:tX,isBlob:nX,isFunction:wU,isStream:rX,isURLSearchParams:iX,isStandardBrowserEnv:oX,forEach:qI,merge:_S,extend:aX,trim:sX,stripBOM:uX},Qu=Vr;function sN(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var EU=function(e,n,r){if(!n)return e;var i;if(r)i=r(n);else if(Qu.isURLSearchParams(n))i=n.toString();else{var s=[];Qu.forEach(n,function(l,h){l===null||typeof l>"u"||(Qu.isArray(l)?h=h+"[]":l=[l],Qu.forEach(l,function(p){Qu.isDate(p)?p=p.toISOString():Qu.isObject(p)&&(p=JSON.stringify(p)),s.push(sN(h)+"="+sN(p))}))}),i=s.join("&")}if(i){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},lX=Vr;function Mv(){this.handlers=[]}Mv.prototype.use=function(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};Mv.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Mv.prototype.forEach=function(e){lX.forEach(this.handlers,function(r){r!==null&&e(r)})};var cX=Mv,hX=Vr,fX=function(e,n){hX.forEach(e,function(i,s){s!==n&&s.toUpperCase()===n.toUpperCase()&&(e[n]=i,delete e[s])})},SU=function(e,n,r,i,s){return e.config=n,r&&(e.code=r),e.request=i,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e},eE,oN;function TU(){if(oN)return eE;oN=1;var t=SU;return eE=function(n,r,i,s,o){var u=new Error(n);return t(u,r,i,s,o)},eE}var tE,aN;function dX(){if(aN)return tE;aN=1;var t=TU();return tE=function(n,r,i){var s=i.config.validateStatus;!i.status||!s||s(i.status)?n(i):r(t("Request failed with status code "+i.status,i.config,null,i.request,i))},tE}var nE,uN;function pX(){if(uN)return nE;uN=1;var t=Vr;return nE=t.isStandardBrowserEnv()?function(){return{write:function(r,i,s,o,u,l){var h=[];h.push(r+"="+encodeURIComponent(i)),t.isNumber(s)&&h.push("expires="+new Date(s).toGMTString()),t.isString(o)&&h.push("path="+o),t.isString(u)&&h.push("domain="+u),l===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(r){var i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),nE}var rE,lN;function gX(){return lN||(lN=1,rE=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}),rE}var iE,cN;function mX(){return cN||(cN=1,iE=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}),iE}var sE,hN;function _X(){if(hN)return sE;hN=1;var t=gX(),e=mX();return sE=function(r,i){return r&&!t(i)?e(r,i):i},sE}var oE,fN;function vX(){if(fN)return oE;fN=1;var t=Vr,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return oE=function(r){var i={},s,o,u;return r&&t.forEach(r.split(`
`),function(h){if(u=h.indexOf(":"),s=t.trim(h.substr(0,u)).toLowerCase(),o=t.trim(h.substr(u+1)),s){if(i[s]&&e.indexOf(s)>=0)return;s==="set-cookie"?i[s]=(i[s]?i[s]:[]).concat([o]):i[s]=i[s]?i[s]+", "+o:o}}),i},oE}var aE,dN;function yX(){if(dN)return aE;dN=1;var t=Vr;return aE=t.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i;function s(o){var u=o;return n&&(r.setAttribute("href",u),u=r.href),r.setAttribute("href",u),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=s(window.location.href),function(u){var l=t.isString(u)?s(u):u;return l.protocol===i.protocol&&l.host===i.host}}():function(){return function(){return!0}}(),aE}var uE,pN;function gN(){if(pN)return uE;pN=1;var t=Vr,e=dX(),n=pX(),r=EU,i=_X(),s=vX(),o=yX(),u=TU();return uE=function(h){return new Promise(function(p,g){var v=h.data,E=h.headers,C=h.responseType;t.isFormData(v)&&delete E["Content-Type"];var R=new XMLHttpRequest;if(h.auth){var S=h.auth.username||"",T=h.auth.password?unescape(encodeURIComponent(h.auth.password)):"";E.Authorization="Basic "+btoa(S+":"+T)}var k=i(h.baseURL,h.url);R.open(h.method.toUpperCase(),r(k,h.params,h.paramsSerializer),!0),R.timeout=h.timeout;function b(){if(R){var V="getAllResponseHeaders"in R?s(R.getAllResponseHeaders()):null,W=!C||C==="text"||C==="json"?R.responseText:R.response,G={data:W,status:R.status,statusText:R.statusText,headers:V,config:h,request:R};e(p,g,G),R=null}}if("onloadend"in R?R.onloadend=b:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(b)},R.onabort=function(){R&&(g(u("Request aborted",h,"ECONNABORTED",R)),R=null)},R.onerror=function(){g(u("Network Error",h,null,R)),R=null},R.ontimeout=function(){var W="timeout of "+h.timeout+"ms exceeded";h.timeoutErrorMessage&&(W=h.timeoutErrorMessage),g(u(W,h,h.transitional&&h.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",R)),R=null},t.isStandardBrowserEnv()){var F=(h.withCredentials||o(k))&&h.xsrfCookieName?n.read(h.xsrfCookieName):void 0;F&&(E[h.xsrfHeaderName]=F)}"setRequestHeader"in R&&t.forEach(E,function(W,G){typeof v>"u"&&G.toLowerCase()==="content-type"?delete E[G]:R.setRequestHeader(G,W)}),t.isUndefined(h.withCredentials)||(R.withCredentials=!!h.withCredentials),C&&C!=="json"&&(R.responseType=h.responseType),typeof h.onDownloadProgress=="function"&&R.addEventListener("progress",h.onDownloadProgress),typeof h.onUploadProgress=="function"&&R.upload&&R.upload.addEventListener("progress",h.onUploadProgress),h.cancelToken&&h.cancelToken.promise.then(function(W){R&&(R.abort(),g(W),R=null)}),v||(v=null),R.send(v)})},uE}var _n=Vr,mN=fX,wX=SU,EX={"Content-Type":"application/x-www-form-urlencoded"};function _N(t,e){!_n.isUndefined(t)&&_n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function SX(){var t;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(t=gN()),t}function TX(t,e,n){if(_n.isString(t))try{return(e||JSON.parse)(t),_n.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}var Uv={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:SX(),transformRequest:[function(e,n){return mN(n,"Accept"),mN(n,"Content-Type"),_n.isFormData(e)||_n.isArrayBuffer(e)||_n.isBuffer(e)||_n.isStream(e)||_n.isFile(e)||_n.isBlob(e)?e:_n.isArrayBufferView(e)?e.buffer:_n.isURLSearchParams(e)?(_N(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):_n.isObject(e)||n&&n["Content-Type"]==="application/json"?(_N(n,"application/json"),TX(e)):e}],transformResponse:[function(e){var n=this.transitional,r=n&&n.silentJSONParsing,i=n&&n.forcedJSONParsing,s=!r&&this.responseType==="json";if(s||i&&_n.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(s)throw o.name==="SyntaxError"?wX(o,this,"E_JSON_PARSE"):o}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};Uv.headers={common:{Accept:"application/json, text/plain, */*"}};_n.forEach(["delete","get","head"],function(e){Uv.headers[e]={}});_n.forEach(["post","put","patch"],function(e){Uv.headers[e]=_n.merge(EX)});var GI=Uv,IX=Vr,CX=GI,RX=function(e,n,r){var i=this||CX;return IX.forEach(r,function(o){e=o.call(i,e,n)}),e},lE,vN;function IU(){return vN||(vN=1,lE=function(e){return!!(e&&e.__CANCEL__)}),lE}var yN=Vr,cE=RX,AX=IU(),PX=GI;function hE(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var kX=function(e){hE(e),e.headers=e.headers||{},e.data=cE.call(e,e.data,e.headers,e.transformRequest),e.headers=yN.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),yN.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var n=e.adapter||PX.adapter;return n(e).then(function(i){return hE(e),i.data=cE.call(e,i.data,i.headers,e.transformResponse),i},function(i){return AX(i)||(hE(e),i&&i.response&&(i.response.data=cE.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},On=Vr,CU=function(e,n){n=n||{};var r={},i=["url","method","data"],s=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],u=["validateStatus"];function l(g,v){return On.isPlainObject(g)&&On.isPlainObject(v)?On.merge(g,v):On.isPlainObject(v)?On.merge({},v):On.isArray(v)?v.slice():v}function h(g){On.isUndefined(n[g])?On.isUndefined(e[g])||(r[g]=l(void 0,e[g])):r[g]=l(e[g],n[g])}On.forEach(i,function(v){On.isUndefined(n[v])||(r[v]=l(void 0,n[v]))}),On.forEach(s,h),On.forEach(o,function(v){On.isUndefined(n[v])?On.isUndefined(e[v])||(r[v]=l(void 0,e[v])):r[v]=l(void 0,n[v])}),On.forEach(u,function(v){v in n?r[v]=l(e[v],n[v]):v in e&&(r[v]=l(void 0,e[v]))});var f=i.concat(s).concat(o).concat(u),p=Object.keys(e).concat(Object.keys(n)).filter(function(v){return f.indexOf(v)===-1});return On.forEach(p,h),r};const bX="axios",OX="0.21.4",NX="Promise based HTTP client for the browser and node.js",xX="index.js",DX={test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},LX={type:"git",url:"https://github.com/axios/axios.git"},MX=["xhr","http","ajax","promise","node"],UX="Matt Zabriskie",FX="MIT",$X={url:"https://github.com/axios/axios/issues"},VX="https://axios-http.com",WX={coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},jX={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},BX="dist/axios.min.js",zX="dist/axios.min.js",HX="./index.d.ts",qX={"follow-redirects":"^1.14.0"},GX=[{path:"./dist/axios.min.js",threshold:"5kB"}],YX={name:bX,version:OX,description:NX,main:xX,scripts:DX,repository:LX,keywords:MX,author:UX,license:FX,bugs:$X,homepage:VX,devDependencies:WX,browser:jX,jsdelivr:BX,unpkg:zX,typings:HX,dependencies:qX,bundlesize:GX};var RU=YX,YI={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){YI[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});var wN={},KX=RU.version.split(".");function AU(t,e){for(var n=e?e.split("."):KX,r=t.split("."),i=0;i<3;i++){if(n[i]>r[i])return!0;if(n[i]<r[i])return!1}return!1}YI.transitional=function(e,n,r){var i=n&&AU(n);function s(o,u){return"[Axios v"+RU.version+"] Transitional option '"+o+"'"+u+(r?". "+r:"")}return function(o,u,l){if(e===!1)throw new Error(s(u," has been removed in "+n));return i&&!wN[u]&&(wN[u]=!0,console.warn(s(u," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,u,l):!0}};function QX(t,e,n){if(typeof t!="object")throw new TypeError("options must be an object");for(var r=Object.keys(t),i=r.length;i-- >0;){var s=r[i],o=e[s];if(o){var u=t[s],l=u===void 0||o(u,s,t);if(l!==!0)throw new TypeError("option "+s+" must be "+l);continue}if(n!==!0)throw Error("Unknown option "+s)}}var XX={isOlderVersion:AU,assertOptions:QX,validators:YI},PU=Vr,JX=EU,EN=cX,SN=kX,Fv=CU,kU=XX,Xu=kU.validators;function Ed(t){this.defaults=t,this.interceptors={request:new EN,response:new EN}}Ed.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=Fv(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var n=e.transitional;n!==void 0&&kU.assertOptions(n,{silentJSONParsing:Xu.transitional(Xu.boolean,"1.0.0"),forcedJSONParsing:Xu.transitional(Xu.boolean,"1.0.0"),clarifyTimeoutError:Xu.transitional(Xu.boolean,"1.0.0")},!1);var r=[],i=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(e)===!1||(i=i&&g.synchronous,r.unshift(g.fulfilled,g.rejected))});var s=[];this.interceptors.response.forEach(function(g){s.push(g.fulfilled,g.rejected)});var o;if(!i){var u=[SN,void 0];for(Array.prototype.unshift.apply(u,r),u=u.concat(s),o=Promise.resolve(e);u.length;)o=o.then(u.shift(),u.shift());return o}for(var l=e;r.length;){var h=r.shift(),f=r.shift();try{l=h(l)}catch(p){f(p);break}}try{o=SN(l)}catch(p){return Promise.reject(p)}for(;s.length;)o=o.then(s.shift(),s.shift());return o};Ed.prototype.getUri=function(e){return e=Fv(this.defaults,e),JX(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};PU.forEach(["delete","get","head","options"],function(e){Ed.prototype[e]=function(n,r){return this.request(Fv(r||{},{method:e,url:n,data:(r||{}).data}))}});PU.forEach(["post","put","patch"],function(e){Ed.prototype[e]=function(n,r,i){return this.request(Fv(i||{},{method:e,url:n,data:r}))}});var ZX=Ed,fE,TN;function bU(){if(TN)return fE;TN=1;function t(e){this.message=e}return t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,fE=t,fE}var dE,IN;function eJ(){if(IN)return dE;IN=1;var t=bU();function e(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(o){r=o});var i=this;n(function(o){i.reason||(i.reason=new t(o),r(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.source=function(){var r,i=new e(function(o){r=o});return{token:i,cancel:r}},dE=e,dE}var pE,CN;function tJ(){return CN||(CN=1,pE=function(e){return function(r){return e.apply(null,r)}}),pE}var gE,RN;function nJ(){return RN||(RN=1,gE=function(e){return typeof e=="object"&&e.isAxiosError===!0}),gE}var AN=Vr,rJ=vU,Xg=ZX,iJ=CU,sJ=GI;function OU(t){var e=new Xg(t),n=rJ(Xg.prototype.request,e);return AN.extend(n,Xg.prototype,e),AN.extend(n,e),n}var Oi=OU(sJ);Oi.Axios=Xg;Oi.create=function(e){return OU(iJ(Oi.defaults,e))};Oi.Cancel=bU();Oi.CancelToken=eJ();Oi.isCancel=IU();Oi.all=function(e){return Promise.all(e)};Oi.spread=tJ();Oi.isAxiosError=nJ();qQ.exports=Oi;Xm.default=Oi;(function(t){t.exports=Xm})(HQ);var NU;function oJ(t){return t&&typeof t=="object"&&"default"in t?t.default:t}Object.defineProperty(xn,"__esModule",{value:!0});var Mf=oJ(gS),La=function(){return(La=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},mE=function(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(h){try{l(r.next(h))}catch(f){s(f)}}function u(h){try{l(r.throw(h))}catch(f){s(f)}}function l(h){h.done?i(h.value):new n(function(f){f(h.value)}).then(o,u)}l((r=r.apply(t,e||[])).next())})},_E=function(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(l){return function(h){return function(f){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&f[0]?r.return:f[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,f[1])).done)return i;switch(r=0,i&&(f=[2&f[0],i.value]),f[0]){case 0:case 1:i=f;break;case 4:return o.label++,{value:f[1],done:!1};case 5:o.label++,r=f[1],f=[0];continue;case 7:f=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){o=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){o.label=f[1];break}if(f[0]===6&&o.label<i[1]){o.label=i[1],i=f;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(f);break}i[2]&&o.ops.pop(),o.trys.pop();continue}f=e.call(t,o)}catch(p){f=[6,p],r=0}finally{n=i=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}([l,h])}}},PN=void 0,kN=function(t){return t instanceof Date?t.getTime():typeof t=="number"||t===null||t===void 0?t:Number(t)},KI=function(t,e,n){return n>=t&&n<=e},bN=function(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"},QI={Accept:"application/json","Content-Type":"application/json"},aJ={timeout:0},XI=null,JI="CLIENT_ERROR",ZI="SERVER_ERROR",eC="TIMEOUT_ERROR",tC="CONNECTION_ERROR",nC="NETWORK_ERROR",Uf="UNKNOWN_ERROR",xU="CANCEL_ERROR",uJ=["ECONNABORTED"],lJ=["ENOTFOUND","ECONNREFUSED","ECONNRESET"],DU=function(t){return KI(200,299,t)},cJ=function(t){return KI(400,499,t)},hJ=function(t){return KI(500,599,t)},LU=function(t){return t.message==="Network Error"?nC:Mf.isCancel(t)?xU:t.code?uJ.includes(t.code)?eC:lJ.includes(t.code)?tC:Uf:rC(t.response?t.response.status:null)},rC=function(t){return t?DU(t)?XI:cJ(t)?JI:hJ(t)?ZI:Uf:Uf},MU=function(t){var e,n=La({},QI,t.headers||{});if(t.axiosInstance)e=t.axiosInstance;else{var r=La({},t,{headers:void 0}),i=La({},aJ,r);e=Mf.create(i)}var s=[],o=[],u=[],l=[],h=[],f=function(R,S){return n[R]=S,e},p=function(R){return function(S,T,k){return T===void 0&&(T={}),k===void 0&&(k={}),v(La({},k,{url:S,params:T,method:R}))}},g=function(R){return function(S,T,k){return k===void 0&&(k={}),v(La({},k,{url:S,method:R,data:T}))}},v=function(R){return mE(PN,void 0,void 0,function(){var S,T,k,b,F=this;return _E(this,function(V){switch(V.label){case 0:if(R.headers=La({},n,R.headers),o.length>0&&o.forEach(function(W){return W(R)}),!(u.length>0))return[3,6];S=0,V.label=1;case 1:return S<u.length?(T=u[S](R),bN(T)?[4,T]:[3,3]):[3,6];case 2:return V.sent(),[3,5];case 3:return[4,T(R)];case 4:V.sent(),V.label=5;case 5:return S++,[3,1];case 6:return k=kN(new Date),b=function(W){return mE(F,void 0,void 0,function(){var G;return _E(this,function(ie){switch(ie.label){case 0:return[4,C(k,W)];case 1:return G=ie.sent(),[2,E(G)]}})})},[2,e.request(R).then(b).catch(b)]}})})},E=function(R){return s.forEach(function(S){try{S(R)}catch{}}),R},C=function(R,S){return mE(PN,void 0,void 0,function(){var T,k,b,F,V,W,G,ie,re,Ne,I,_,w,N,D,O;return _E(this,function(M){switch(M.label){case 0:if(T=kN(new Date),k=T-R,b=S instanceof Error||Mf.isCancel(S),F=S,V=S,W=b?V.response:F,G=W&&W.status||null,ie=b?LU(S):rC(G),re=b?V:null,Ne=DU(G),I=S.config||null,_=W&&W.headers||null,w=W&&W.data||null,N={duration:k,problem:ie,originalError:re,ok:Ne,status:G,headers:_,config:I,data:w},l.length>0&&l.forEach(function(B){return B(N)}),!(h.length>0))return[3,6];D=0,M.label=1;case 1:return D<h.length?(O=h[D](N),bN(O)?[4,O]:[3,3]):[3,6];case 2:return M.sent(),[3,5];case 3:return[4,O(N)];case 4:M.sent(),M.label=5;case 5:return D++,[3,1];case 6:return[2,N]}})})};return{axiosInstance:e,monitors:s,addMonitor:function(R){s.push(R)},requestTransforms:o,asyncRequestTransforms:u,responseTransforms:l,asyncResponseTransforms:h,addRequestTransform:function(R){return o.push(R)},addAsyncRequestTransform:function(R){return u.push(R)},addResponseTransform:function(R){return l.push(R)},addAsyncResponseTransform:function(R){return h.push(R)},setHeader:f,setHeaders:function(R){return Object.keys(R).forEach(function(S){return f(S,R[S])}),e},deleteHeader:function(R){return delete n[R],e},headers:n,setBaseURL:function(R){return e.defaults.baseURL=R,e},getBaseURL:function(){return e.defaults.baseURL},any:v,get:p("get"),delete:p("delete"),head:p("head"),post:g("post"),put:g("put"),patch:g("patch"),link:p("link"),unlink:p("unlink")}},UU=Mf.isCancel,FU=Mf.CancelToken,fJ={DEFAULT_HEADERS:QI,NONE:XI,CLIENT_ERROR:JI,SERVER_ERROR:ZI,TIMEOUT_ERROR:eC,CONNECTION_ERROR:tC,NETWORK_ERROR:nC,UNKNOWN_ERROR:Uf,create:MU,isCancel:UU,CancelToken:FU};xn.DEFAULT_HEADERS=QI,xn.NONE=XI,xn.CLIENT_ERROR=JI,xn.SERVER_ERROR=ZI,xn.TIMEOUT_ERROR=eC,xn.CONNECTION_ERROR=tC,xn.NETWORK_ERROR=nC,xn.UNKNOWN_ERROR=Uf,xn.CANCEL_ERROR=xU,xn.getProblemFromError=LU,xn.getProblemFromStatus=rC,xn.create=MU,xn.isCancel=UU,xn.CancelToken=FU,NU=xn.default=fJ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne=function(t,e){if(!t)throw Sc(e)},Sc=function(t){return new Error("Firebase Database ("+$U.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},dJ=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],u=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},iC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,u=o?t[i+1]:0,l=i+2<t.length,h=l?t[i+2]:0,f=s>>2,p=(s&3)<<4|u>>4;let g=(u&15)<<2|h>>6,v=h&63;l||(v=64,o||(g=64)),r.push(n[f],n[p],n[g],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VU(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dJ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||h==null||p==null)throw new pJ;const g=s<<2|u>>4;if(r.push(g),h!==64){const v=u<<4&240|h>>2;if(r.push(v),p!==64){const E=h<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pJ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WU=function(t){const e=VU(t);return iC.encodeByteArray(e,!0)},Jm=function(t){return WU(t).replace(/\./g,"")},Zm=function(t){try{return iC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gJ(t){return jU(void 0,t)}function jU(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!mJ(n)||(t[n]=jU(t[n],e[n]));return t}function mJ(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _J(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vJ=()=>_J().__FIREBASE_DEFAULTS__,yJ=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wJ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Zm(t[1]);return e&&JSON.parse(e)},$v=()=>{try{return vJ()||yJ()||wJ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BU=t=>{var e,n;return(n=(e=$v())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},sC=t=>{const e=BU(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},zU=()=>{var t;return(t=$v())===null||t===void 0?void 0:t.config},HU=t=>{var e;return(e=$v())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),u="";return[Jm(JSON.stringify(n)),Jm(JSON.stringify(o)),u].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zn())}function EJ(){var t;const e=(t=$v())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SJ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TJ(){const t=zn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function GU(){return $U.NODE_ADMIN===!0}function IJ(){try{return typeof indexedDB=="object"}catch{return!1}}function CJ(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RJ="FirebaseError";class us extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=RJ,Object.setPrototypeOf(this,us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Td.prototype.create)}}class Td{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?AJ(s,r):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new us(i,u,r)}}function AJ(t,e){return t.replace(PJ,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const PJ=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(t){return JSON.parse(t)}function Zt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Ff(Zm(s[0])||""),n=Ff(Zm(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},kJ=function(t){const e=YU(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},bJ=function(t){const e=YU(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ec(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function vS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function e_(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function t_(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ON(s)&&ON(o)){if(!t_(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ON(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Dh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OJ{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)r[p]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)r[p]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let p=16;p<80;p++){const g=r[p-3]^r[p-8]^r[p-14]^r[p-16];r[p]=(g<<1|g>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],u=this.chain_[3],l=this.chain_[4],h,f;for(let p=0;p<80;p++){p<40?p<20?(h=u^s&(o^u),f=1518500249):(h=s^o^u,f=1859775393):p<60?(h=s&o|u&(s|o),f=2400959708):(h=s^o^u,f=3395469782);const g=(i<<5|i>>>27)+h+l+f+r[p]&4294967295;l=u,u=o,o=(s<<30|s>>>2)&4294967295,s=i,i=g}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function NJ(t,e){const n=new xJ(t,e);return n.subscribe.bind(n)}class xJ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");DJ(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=vE),i.error===void 0&&(i.error=vE),i.complete===void 0&&(i.complete=vE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DJ(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vE(){}function Vv(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LJ=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,ne(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Wv=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t){return t&&t._delegate?t._delegate:t}class Ks{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MJ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Sd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FJ(e))try{this.getOrInitializeService({instanceIdentifier:Ma})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ma){return this.instances.has(e)}getOptions(e=Ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UJ(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ma){return this.component?this.component.multipleInstances?e:Ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UJ(t){return t===Ma?void 0:t}function FJ(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $J{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new MJ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const VJ={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},WJ=Ge.INFO,jJ={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},BJ=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=jJ[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let jv=class{constructor(e){this.name=e,this._logLevel=WJ,this._logHandler=BJ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VJ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}};const zJ=(t,e)=>e.some(n=>t instanceof n);let NN,xN;function HJ(){return NN||(NN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qJ(){return xN||(xN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KU=new WeakMap,yS=new WeakMap,QU=new WeakMap,yE=new WeakMap,uC=new WeakMap;function GJ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Yo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&KU.set(n,t)}).catch(()=>{}),uC.set(e,t),e}function YJ(t){if(yS.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});yS.set(t,e)}let wS={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yS.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QU.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KJ(t){wS=t(wS)}function QJ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(wE(this),e,...n);return QU.set(r,e.sort?e.sort():[e]),Yo(r)}:qJ().includes(t)?function(...e){return t.apply(wE(this),e),Yo(KU.get(this))}:function(...e){return Yo(t.apply(wE(this),e))}}function XJ(t){return typeof t=="function"?QJ(t):(t instanceof IDBTransaction&&YJ(t),zJ(t,HJ())?new Proxy(t,wS):t)}function Yo(t){if(t instanceof IDBRequest)return GJ(t);if(yE.has(t))return yE.get(t);const e=XJ(t);return e!==t&&(yE.set(t,e),uC.set(e,t)),e}const wE=t=>uC.get(t);function JJ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),u=Yo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Yo(o.result),l.oldVersion,l.newVersion,Yo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),u.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const ZJ=["get","getKey","getAll","getAllKeys","count"],eZ=["put","add","delete","clear"],EE=new Map;function DN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(EE.get(e))return EE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=eZ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ZJ.includes(n)))return;const s=async function(o,...u){const l=this.transaction(o,i?"readwrite":"readonly");let h=l.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&l.done]))[0]};return EE.set(e,s),s}KJ(t=>({...t,get:(e,n,r)=>DN(e,n)||t.get(e,n,r),has:(e,n)=>!!DN(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tZ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nZ(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function nZ(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ES="@firebase/app",LN="0.9.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=new jv("@firebase/app"),rZ="@firebase/app-compat",iZ="@firebase/analytics-compat",sZ="@firebase/analytics",oZ="@firebase/app-check-compat",aZ="@firebase/app-check",uZ="@firebase/auth",lZ="@firebase/auth-compat",cZ="@firebase/database",hZ="@firebase/database-compat",fZ="@firebase/functions",dZ="@firebase/functions-compat",pZ="@firebase/installations",gZ="@firebase/installations-compat",mZ="@firebase/messaging",_Z="@firebase/messaging-compat",vZ="@firebase/performance",yZ="@firebase/performance-compat",wZ="@firebase/remote-config",EZ="@firebase/remote-config-compat",SZ="@firebase/storage",TZ="@firebase/storage-compat",IZ="@firebase/firestore",CZ="@firebase/firestore-compat",RZ="firebase",AZ="10.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="[DEFAULT]",PZ={[ES]:"fire-core",[rZ]:"fire-core-compat",[sZ]:"fire-analytics",[iZ]:"fire-analytics-compat",[aZ]:"fire-app-check",[oZ]:"fire-app-check-compat",[uZ]:"fire-auth",[lZ]:"fire-auth-compat",[cZ]:"fire-rtdb",[hZ]:"fire-rtdb-compat",[fZ]:"fire-fn",[dZ]:"fire-fn-compat",[pZ]:"fire-iid",[gZ]:"fire-iid-compat",[mZ]:"fire-fcm",[_Z]:"fire-fcm-compat",[vZ]:"fire-perf",[yZ]:"fire-perf-compat",[wZ]:"fire-rc",[EZ]:"fire-rc-compat",[SZ]:"fire-gcs",[TZ]:"fire-gcs-compat",[IZ]:"fire-fst",[CZ]:"fire-fst-compat","fire-js":"fire-js",[RZ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=new Map,TS=new Map;function kZ(t,e){try{t.container.addComponent(e)}catch(n){au.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function oa(t){const e=t.name;if(TS.has(e))return au.debug(`There were multiple attempts to register component ${e}.`),!1;TS.set(e,t);for(const n of n_.values())kZ(n,t);return!0}function Id(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bZ={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ko=new Td("app","Firebase",bZ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OZ{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ko.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=AZ;function XU(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:SS,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ko.create("bad-app-name",{appName:String(i)});if(n||(n=zU()),!n)throw Ko.create("no-options");const s=n_.get(i);if(s){if(t_(n,s.options)&&t_(r,s.config))return s;throw Ko.create("duplicate-app",{appName:i})}const o=new $J(i);for(const l of TS.values())o.addComponent(l);const u=new OZ(n,r,o);return n_.set(i,u),u}function Bv(t=SS){const e=n_.get(t);if(!e&&t===SS&&zU())return XU();if(!e)throw Ko.create("no-app",{appName:t});return e}function si(t,e,n){var r;let i=(r=PZ[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),au.warn(u.join(" "));return}oa(new Ks(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NZ="firebase-heartbeat-database",xZ=1,$f="firebase-heartbeat-store";let SE=null;function JU(){return SE||(SE=JJ(NZ,xZ,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore($f)}}}).catch(t=>{throw Ko.create("idb-open",{originalErrorMessage:t.message})})),SE}async function DZ(t){try{return await(await JU()).transaction($f).objectStore($f).get(ZU(t))}catch(e){if(e instanceof us)au.warn(e.message);else{const n=Ko.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});au.warn(n.message)}}}async function MN(t,e){try{const r=(await JU()).transaction($f,"readwrite");await r.objectStore($f).put(e,ZU(t)),await r.done}catch(n){if(n instanceof us)au.warn(n.message);else{const r=Ko.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});au.warn(r.message)}}}function ZU(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LZ=1024,MZ=30*24*60*60*1e3;class UZ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $Z(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=UN();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=MZ}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=UN(),{heartbeatsToSend:n,unsentEntries:r}=FZ(this._heartbeatsCache.heartbeats),i=Jm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function UN(){return new Date().toISOString().substring(0,10)}function FZ(t,e=LZ){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),FN(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),FN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $Z{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IJ()?CJ().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await DZ(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return MN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return MN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function FN(t){return Jm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VZ(t){oa(new Ks("platform-logger",e=>new tZ(e),"PRIVATE")),oa(new Ks("heartbeat",e=>new UZ(e),"PRIVATE")),si(ES,LN,t),si(ES,LN,"esm2017"),si("fire-js","")}VZ("");var WZ="firebase",jZ="10.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */si(WZ,jZ,"app");function lC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function eF(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BZ=eF,tF=new Td("auth","Firebase",eF());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=new jv("@firebase/auth");function zZ(t,...e){r_.logLevel<=Ge.WARN&&r_.warn(`Auth (${_a}): ${t}`,...e)}function Jg(t,...e){r_.logLevel<=Ge.ERROR&&r_.error(`Auth (${_a}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(t,...e){throw cC(t,...e)}function rs(t,...e){return cC(t,...e)}function HZ(t,e,n){const r=Object.assign(Object.assign({},BZ()),{[e]:n});return new Td("auth","Firebase",r).create(e,{appName:t.name})}function cC(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tF.create(t,...e)}function Te(t,e,...n){if(!t)throw cC(e,...n)}function xs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jg(e),new Error(e)}function Qs(t,e){t||xs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function qZ(){return $N()==="http:"||$N()==="https:"}function $N(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GZ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qZ()||SJ()||"connection"in navigator)?navigator.onLine:!0}function YZ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qs(n>e,"Short delay should be less than long delay!"),this.isMobile=aC()||qU()}get(){return GZ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(t,e){Qs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;xs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;xs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;xs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QZ=new Cd(3e4,6e4);function Ic(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Cu(t,e,n,r,i={}){return rF(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const u=Tc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),nF.fetch()(iF(t,t.config.apiHost,n,u),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function rF(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},KZ),e);try{const i=new XZ(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw hg(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const u=s.ok?o.errorMessage:o.error.message,[l,h]=u.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw hg(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw hg(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw hg(t,"user-disabled",o);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw HZ(t,f,h);Ni(t,f)}}catch(i){if(i instanceof us)throw i;Ni(t,"network-request-failed",{message:String(i)})}}async function Rd(t,e,n,r,i={}){const s=await Cu(t,e,n,r,i);return"mfaPendingCredential"in s&&Ni(t,"multi-factor-auth-required",{_serverResponse:s}),s}function iF(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?hC(t.config,i):`${t.config.apiScheme}://${i}`}class XZ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(rs(this.auth,"network-request-failed")),QZ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=rs(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JZ(t,e){return Cu(t,"POST","/v1/accounts:delete",e)}async function ZZ(t,e){return Cu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eee(t,e=!1){const n=ct(t),r=await n.getIdToken(e),i=fC(r);Te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Xh(TE(i.auth_time)),issuedAtTime:Xh(TE(i.iat)),expirationTime:Xh(TE(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function TE(t){return Number(t)*1e3}function fC(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Jg("JWT malformed, contained fewer than 3 sections"),null;try{const i=Zm(n);return i?JSON.parse(i):(Jg("Failed to decode base64 JWT payload"),null)}catch(i){return Jg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function tee(t){const e=fC(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof us&&nee(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function nee({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ree{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xh(this.lastLoginAt),this.creationTime=Xh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i_(t){var e;const n=t.auth,r=await t.getIdToken(),i=await tc(t,ZZ(n,{idToken:r}));Te(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?oee(s.providerUserInfo):[],u=see(t.providerData,o),l=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(u!=null&&u.length),f=l?h:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new sF(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,p)}async function iee(t){const e=ct(t);await i_(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function see(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function oee(t){return t.map(e=>{var{providerId:n}=e,r=lC(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aee(t,e){const n=await rF(t,{},async()=>{const r=Tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=iF(t,i,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",nF.fetch()(o,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tee(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Te(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await aee(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Vf;return r&&(Te(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Te(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Te(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vf,this.toJSON())}_performRefresh(){return xs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ka{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=lC(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ree(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new sF(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await tc(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return eee(this,e)}reload(){return iee(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ka(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await i_(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await tc(this,JZ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,u,l,h,f;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,C=(u=n.tenantId)!==null&&u!==void 0?u:void 0,R=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,S=(h=n.createdAt)!==null&&h!==void 0?h:void 0,T=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:k,emailVerified:b,isAnonymous:F,providerData:V,stsTokenManager:W}=n;Te(k&&W,e,"internal-error");const G=Vf.fromJSON(this.name,W);Te(typeof k=="string",e,"internal-error"),vo(p,e.name),vo(g,e.name),Te(typeof b=="boolean",e,"internal-error"),Te(typeof F=="boolean",e,"internal-error"),vo(v,e.name),vo(E,e.name),vo(C,e.name),vo(R,e.name),vo(S,e.name),vo(T,e.name);const ie=new Ka({uid:k,auth:e,email:g,emailVerified:b,displayName:p,isAnonymous:F,photoURL:E,phoneNumber:v,tenantId:C,stsTokenManager:G,createdAt:S,lastLoginAt:T});return V&&Array.isArray(V)&&(ie.providerData=V.map(re=>Object.assign({},re))),R&&(ie._redirectEventId=R),ie}static async _fromIdTokenResponse(e,n,r=!1){const i=new Vf;i.updateFromServerResponse(n);const s=new Ka({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await i_(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=new Map;function Ds(t){Qs(t instanceof Function,"Expected a class definition");let e=VN.get(t);return e?(Qs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,VN.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}oF.type="NONE";const WN=oF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(t,e,n){return`firebase:${t}:${e}:${n}`}class Nl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Zg(this.userKey,i.apiKey,s),this.fullPersistenceKey=Zg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ka._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Nl(Ds(WN),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Ds(WN);const o=Zg(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const f=await h._get(o);if(f){const p=Ka._fromJSON(e,f);h!==s&&(u=p),s=h;break}}catch{}const l=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Nl(s,e,r):(s=l[0],u&&await s._set(o,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new Nl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hF(e))return"Blackberry";if(fF(e))return"Webos";if(dC(e))return"Safari";if((e.includes("chrome/")||uF(e))&&!e.includes("edge/"))return"Chrome";if(cF(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function aF(t=zn()){return/firefox\//i.test(t)}function dC(t=zn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uF(t=zn()){return/crios\//i.test(t)}function lF(t=zn()){return/iemobile/i.test(t)}function cF(t=zn()){return/android/i.test(t)}function hF(t=zn()){return/blackberry/i.test(t)}function fF(t=zn()){return/webos/i.test(t)}function zv(t=zn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function uee(t=zn()){var e;return zv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function lee(){return TJ()&&document.documentMode===10}function dF(t=zn()){return zv(t)||cF(t)||fF(t)||hF(t)||/windows phone/i.test(t)||lF(t)}function cee(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(t,e=[]){let n;switch(t){case"Browser":n=jN(zn());break;case"Worker":n=`${jN(zn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_a}/${r}`}async function gF(t,e){return Cu(t,"GET","/v2/recaptchaConfig",Ic(t,e))}function BN(t){return t!==void 0&&t.enterprise!==void 0}class mF{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hee(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function _F(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=rs("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",hee().appendChild(r)})}function fee(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const dee="https://www.google.com/recaptcha/enterprise.js?render=",pee="recaptcha-enterprise",gee="NO_RECAPTCHA";class vF{constructor(e){this.type=pee,this.auth=Cc(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,u)=>{gF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new mF(l);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,o(h.siteKey)}}).catch(l=>{u(l)})})}function i(s,o,u){const l=window.grecaptcha;BN(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(h=>{o(h)}).catch(()=>{o(gee)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(u=>{if(!n&&BN(window.grecaptcha))i(u,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}_F(dee+u).then(()=>{i(u,s,o)}).catch(l=>{o(l)})}}).catch(u=>{o(u)})})}}async function s_(t,e,n,r=!1){const i=new vF(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mee{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,u)=>{try{const l=e(s);o(l)}catch(l){u(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ee{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zN(this),this.idTokenSubscription=new zN(this),this.beforeStateQueue=new mee(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ds(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Nl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===u)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await i_(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YZ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ct(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ds(e))})}async initializeRecaptchaConfig(){const e=await gF(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new mF(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new vF(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Td("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ds(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await Nl.create(this,[Ds(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Te(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&zZ(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Cc(t){return ct(t)}class zN{constructor(e){this.auth=e,this.observer=null,this.addObserver=NJ(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vee(t,e){const n=Id(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(t_(s,e??{}))return i;Ni(i,"already-initialized")}return n.initialize({options:e})}function yee(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ds);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function wee(t,e,n){const r=Cc(t);Te(r._canInitEmulator,r,"emulator-config-failed"),Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=yF(e),{host:o,port:u}=Eee(e),l=u===null?"":`:${u}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||See()}function yF(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Eee(t){const e=yF(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:HN(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:HN(o)}}}function HN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function See(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xs("not implemented")}_getIdTokenResponse(e){return xs("not implemented")}_linkToIdToken(e,n){return xs("not implemented")}_getReauthenticationResolver(e){return xs("not implemented")}}async function Tee(t,e){return Cu(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IE(t,e){return Rd(t,"POST","/v1/accounts:signInWithPassword",Ic(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iee(t,e){return Rd(t,"POST","/v1/accounts:signInWithEmailLink",Ic(t,e))}async function Cee(t,e){return Rd(t,"POST","/v1/accounts:signInWithEmailLink",Ic(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf extends pC{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Wf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Wf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await s_(e,r,"signInWithPassword");return IE(e,i)}else return IE(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await s_(e,r,"signInWithPassword");return IE(e,s)}else return Promise.reject(i)});case"emailLink":return Iee(e,{email:this._email,oobCode:this._password});default:Ni(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return Tee(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Cee(e,{idToken:n,email:this._email,oobCode:this._password});default:Ni(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(t,e){return Rd(t,"POST","/v1/accounts:signInWithIdp",Ic(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ree="http://localhost";class uu extends pC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new uu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=lC(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new uu(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return xl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xl(e,n)}buildRequest(){const e={requestUri:Ree,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aee(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Pee(t){const e=xh(Dh(t)).link,n=e?xh(Dh(e)).deep_link_id:null,r=xh(Dh(t)).deep_link_id;return(r?xh(Dh(r)).link:null)||r||n||e||t}class gC{constructor(e){var n,r,i,s,o,u;const l=xh(Dh(e)),h=(n=l.apiKey)!==null&&n!==void 0?n:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,p=Aee((i=l.mode)!==null&&i!==void 0?i:null);Te(h&&f&&p,"argument-error"),this.apiKey=h,this.operation=p,this.code=f,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(u=l.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=Pee(e);try{return new gC(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(){this.providerId=Rc.PROVIDER_ID}static credential(e,n){return Wf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=gC.parseLink(n);return Te(r,"argument-error"),Wf._fromEmailAndCode(e,r.code,r.tenantId)}}Rc.PROVIDER_ID="password";Rc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Rc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad extends wF{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends Ad{constructor(){super("facebook.com")}static credential(e){return uu._fromParams({providerId:Io.PROVIDER_ID,signInMethod:Io.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Io.credentialFromTaggedObject(e)}static credentialFromError(e){return Io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Io.credential(e.oauthAccessToken)}catch{return null}}}Io.FACEBOOK_SIGN_IN_METHOD="facebook.com";Io.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co extends Ad{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return uu._fromParams({providerId:Co.PROVIDER_ID,signInMethod:Co.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Co.credentialFromTaggedObject(e)}static credentialFromError(e){return Co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Co.credential(n,r)}catch{return null}}}Co.GOOGLE_SIGN_IN_METHOD="google.com";Co.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends Ad{constructor(){super("github.com")}static credential(e){return uu._fromParams({providerId:Ro.PROVIDER_ID,signInMethod:Ro.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ro.credentialFromTaggedObject(e)}static credentialFromError(e){return Ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ro.credential(e.oauthAccessToken)}catch{return null}}}Ro.GITHUB_SIGN_IN_METHOD="github.com";Ro.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends Ad{constructor(){super("twitter.com")}static credential(e,n){return uu._fromParams({providerId:Ao.PROVIDER_ID,signInMethod:Ao.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ao.credentialFromTaggedObject(e)}static credentialFromError(e){return Ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ao.credential(n,r)}catch{return null}}}Ao.TWITTER_SIGN_IN_METHOD="twitter.com";Ao.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CE(t,e){return Rd(t,"POST","/v1/accounts:signUp",Ic(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ka._fromIdTokenResponse(e,r,i),o=qN(r);return new lu({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=qN(r);return new lu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function qN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_ extends us{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,o_.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new o_(e,n,r,i)}}function EF(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?o_._fromErrorAndOperation(t,s,e,r):s})}async function kee(t,e,n=!1){const r=await tc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return lu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bee(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await tc(t,EF(r,i,e,t),n);Te(s.idToken,r,"internal-error");const o=fC(s.idToken);Te(o,r,"internal-error");const{sub:u}=o;return Te(t.uid===u,r,"user-mismatch"),lu._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ni(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SF(t,e,n=!1){const r="signIn",i=await EF(t,r,e),s=await lu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Oee(t,e){return SF(Cc(t),e)}async function Nee(t,e,n){var r;const i=Cc(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const h=await s_(i,s,"signUpPassword");o=CE(i,h)}else o=CE(i,s).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const f=await s_(i,s,"signUpPassword");return CE(i,f)}else return Promise.reject(h)});const u=await o.catch(h=>Promise.reject(h)),l=await lu._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(l.user),l}function xee(t,e,n){return Oee(ct(t),Rc.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dee(t,e){return Cu(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ct(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await tc(r,Dee(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const u=r.providerData.find(({providerId:l})=>l==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function Lee(t,e,n,r){return ct(t).onIdTokenChanged(e,n,r)}function Mee(t,e,n){return ct(t).beforeAuthStateChanged(e,n)}const a_="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(a_,"1"),this.storage.removeItem(a_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uee(){const t=zn();return dC(t)||zv(t)}const Fee=1e3,$ee=10;class IF extends TF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Uee()&&cee(),this.fallbackToPolling=dF(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,u,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);lee()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,$ee):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Fee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}IF.type="LOCAL";const Vee=IF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF extends TF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}CF.type="SESSION";const RF=CF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wee(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Hv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(o).map(async h=>h(n.origin,s)),l=await Wee(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jee{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((u,l)=>{const h=mC("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===h)switch(g.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(g.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(){return window}function Bee(t){is().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AF(){return typeof is().WorkerGlobalScope<"u"&&typeof is().importScripts=="function"}async function zee(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Hee(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function qee(){return AF()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF="firebaseLocalStorageDb",Gee=1,u_="firebaseLocalStorage",kF="fbase_key";class Pd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qv(t,e){return t.transaction([u_],e?"readwrite":"readonly").objectStore(u_)}function Yee(){const t=indexedDB.deleteDatabase(PF);return new Pd(t).toPromise()}function CS(){const t=indexedDB.open(PF,Gee);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(u_,{keyPath:kF})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(u_)?e(r):(r.close(),await Yee(),e(await CS()))})})}async function YN(t,e,n){const r=qv(t,!0).put({[kF]:e,value:n});return new Pd(r).toPromise()}async function Kee(t,e){const n=qv(t,!1).get(e),r=await new Pd(n).toPromise();return r===void 0?null:r.value}function KN(t,e){const n=qv(t,!0).delete(e);return new Pd(n).toPromise()}const Qee=800,Xee=3;class bF{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await CS(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Xee)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AF()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hv._getInstance(qee()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await zee(),!this.activeServiceWorker)return;this.sender=new jee(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Hee()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await CS();return await YN(e,a_,"1"),await KN(e,a_),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>YN(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Kee(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>KN(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=qv(i,!1).getAll();return new Pd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Qee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bF.type="LOCAL";const Jee=bF;new Cd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zee(t,e){return e?Ds(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C extends pC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ete(t){return SF(t.auth,new _C(t),t.bypassAuthState)}function tte(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),bee(n,new _C(t),t.bypassAuthState)}async function nte(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),kee(n,new _C(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:u}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(l))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ete;case"linkViaPopup":case"linkViaRedirect":return nte;case"reauthViaPopup":case"reauthViaRedirect":return tte;default:Ni(this.auth,"internal-error")}}resolve(e){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rte=new Cd(2e3,1e4);class wl extends OF{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,wl.currentPopupAction&&wl.currentPopupAction.cancel(),wl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Qs(this.filter.length===1,"Popup operations only handle one event");const e=mC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(rs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(rs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rte.get())};e()}}wl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ite="pendingRedirect",em=new Map;class ste extends OF{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=em.get(this.auth._key());if(!e){try{const r=await ote(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}em.set(this.auth._key(),e)}return this.bypassAuthState||em.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ote(t,e){const n=lte(e),r=ute(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function ate(t,e){em.set(t._key(),e)}function ute(t){return Ds(t._redirectPersistence)}function lte(t){return Zg(ite,t.config.apiKey,t.name)}async function cte(t,e,n=!1){const r=Cc(t),i=Zee(r,e),o=await new ste(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hte=10*60*1e3;class fte{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dte(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!NF(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(rs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hte&&this.cachedEventUids.clear(),this.cachedEventUids.has(QN(e))}saveEventToCache(e){this.cachedEventUids.add(QN(e)),this.lastProcessedEventTime=Date.now()}}function QN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function NF({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dte(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NF(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pte(t,e={}){return Cu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gte=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mte=/^https?/;async function _te(t){if(t.config.emulator)return;const{authorizedDomains:e}=await pte(t);for(const n of e)try{if(vte(n))return}catch{}Ni(t,"unauthorized-domain")}function vte(t){const e=IS(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!mte.test(n))return!1;if(gte.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yte=new Cd(3e4,6e4);function XN(){const t=is().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function wte(t){return new Promise((e,n)=>{var r,i,s;function o(){XN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{XN(),n(rs(t,"network-request-failed"))},timeout:yte.get()})}if(!((i=(r=is().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=is().gapi)===null||s===void 0)&&s.load)o();else{const u=fee("iframefcb");return is()[u]=()=>{gapi.load?o():n(rs(t,"network-request-failed"))},_F(`https://apis.google.com/js/api.js?onload=${u}`).catch(l=>n(l))}}).catch(e=>{throw tm=null,e})}let tm=null;function Ete(t){return tm=tm||wte(t),tm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ste=new Cd(5e3,15e3),Tte="__/auth/iframe",Ite="emulator/auth/iframe",Cte={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rte=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ate(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?hC(e,Ite):`https://${t.config.authDomain}/${Tte}`,r={apiKey:e.apiKey,appName:t.name,v:_a},i=Rte.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Tc(r).slice(1)}`}async function Pte(t){const e=await Ete(t),n=is().gapi;return Te(n,t,"internal-error"),e.open({where:document.body,url:Ate(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cte,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=rs(t,"network-request-failed"),u=is().setTimeout(()=>{s(o)},Ste.get());function l(){is().clearTimeout(u),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kte={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bte=500,Ote=600,Nte="_blank",xte="http://localhost";class JN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Dte(t,e,n,r=bte,i=Ote){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const l=Object.assign(Object.assign({},kte),{width:r.toString(),height:i.toString(),top:s,left:o}),h=zn().toLowerCase();n&&(u=uF(h)?Nte:n),aF(h)&&(e=e||xte,l.scrollbars="yes");const f=Object.entries(l).reduce((g,[v,E])=>`${g}${v}=${E},`,"");if(uee(h)&&u!=="_self")return Lte(e||"",u),new JN(null);const p=window.open(e||"",u,f);Te(p,t,"popup-blocked");try{p.focus()}catch{}return new JN(p)}function Lte(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mte="__/auth/handler",Ute="emulator/auth/handler",Fte=encodeURIComponent("fac");async function ZN(t,e,n,r,i,s){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:_a,eventId:i};if(e instanceof wF){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",vS(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries(s||{}))o[f]=p}if(e instanceof Ad){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const u=o;for(const f of Object.keys(u))u[f]===void 0&&delete u[f];const l=await t._getAppCheckToken(),h=l?`#${Fte}=${encodeURIComponent(l)}`:"";return`${$te(t)}?${Tc(u).slice(1)}${h}`}function $te({config:t}){return t.emulator?hC(t,Ute):`https://${t.authDomain}/${Mte}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="webStorageSupport";class Vte{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RF,this._completeRedirectFn=cte,this._overrideRedirectResult=ate}async _openPopup(e,n,r,i){var s;Qs((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await ZN(e,n,r,IS(),i);return Dte(e,o,mC())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await ZN(e,n,r,IS(),i);return Bee(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Qs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Pte(e),r=new fte(e);return n.register("authEvent",i=>(Te(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(RE,{type:RE},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[RE];o!==void 0&&n(!!o),Ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_te(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return dF()||dC()||zv()}}const Wte=Vte;var ex="@firebase/auth",tx="1.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jte{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bte(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function zte(t){oa(new Ks("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=r.options;Te(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pF(t)},h=new _ee(r,i,s,l);return yee(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),oa(new Ks("auth-internal",e=>{const n=Cc(e.getProvider("auth").getImmediate());return(r=>new jte(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),si(ex,tx,Bte(t)),si(ex,tx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hte=5*60,qte=HU("authIdTokenMaxAge")||Hte;let nx=null;const Gte=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>qte)return;const i=n==null?void 0:n.token;nx!==i&&(nx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Yte(t=Bv()){const e=Id(t,"auth");if(e.isInitialized())return e.getImmediate();const n=vee(t,{popupRedirectResolver:Wte,persistence:[Jee,Vee,RF]}),r=HU("authTokenSyncURL");if(r){const s=Gte(r);Mee(n,s,()=>s(n.currentUser)),Lee(n,o=>s(o))}const i=BU("auth");return i&&wee(n,`http://${i}`),n}zte("Browser");const rx="@firebase/database",ix="1.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xF="";function Kte(t){xF=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qte{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Zt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ff(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xte{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return ls(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Qte(e)}}catch{}return new Xte},ja=DF("localStorage"),RS=DF("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=new jv("@firebase/database"),Jte=function(){let t=1;return function(){return t++}}(),LF=function(t){const e=LJ(t),n=new OJ;n.update(e);const r=n.digest();return iC.encodeByteArray(r)},kd=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=kd.apply(null,r):typeof r=="object"?e+=Zt(r):e+=r,e+=" "}return e};let Qa=null,sx=!0;const Zte=function(t,e){ne(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Dl.logLevel=Ge.VERBOSE,Qa=Dl.log.bind(Dl),e&&RS.set("logging_enabled",!0)):typeof t=="function"?Qa=t:(Qa=null,RS.remove("logging_enabled"))},yn=function(...t){if(sx===!0&&(sx=!1,Qa===null&&RS.get("logging_enabled")===!0&&Zte(!0)),Qa){const e=kd.apply(null,t);Qa(e)}},bd=function(t){return function(...e){yn(t,...e)}},AS=function(...t){const e="FIREBASE INTERNAL ERROR: "+kd(...t);Dl.error(e)},Xs=function(...t){const e=`FIREBASE FATAL ERROR: ${kd(...t)}`;throw Dl.error(e),new Error(e)},sr=function(...t){const e="FIREBASE WARNING: "+kd(...t);Dl.warn(e)},ene=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&sr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},vC=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},tne=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},nc="[MIN_NAME]",cu="[MAX_NAME]",Ru=function(t,e){if(t===e)return 0;if(t===nc||e===cu)return-1;if(e===nc||t===cu)return 1;{const n=ox(t),r=ox(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},nne=function(t,e){return t===e?0:t<e?-1:1},_h=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Zt(e))},yC=function(t){if(typeof t!="object"||t===null)return Zt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Zt(e[r]),n+=":",n+=yC(t[e[r]]);return n+="}",n},MF=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Cn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const UF=function(t){ne(!vC(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,u,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(u=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=u+r,o=Math.round(t*Math.pow(2,n-u)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const h=[];for(l=n;l;l-=1)h.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();const f=h.join("");let p="";for(l=0;l<64;l+=8){let g=parseInt(f.substr(l,8),2).toString(16);g.length===1&&(g="0"+g),p=p+g}return p.toLowerCase()},rne=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},ine=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function sne(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const one=new RegExp("^-?(0*)\\d{1,10}$"),ane=-2147483648,une=2147483647,ox=function(t){if(one.test(t)){const e=Number(t);if(e>=ane&&e<=une)return e}return null},Ac=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw sr("Exception was thrown by user callback.",n),e},Math.floor(0))}},lne=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Jh=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cne{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){sr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hne{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(yn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',sr(e)}}class Ll{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ll.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="5",FF="v",$F="s",VF="r",WF="f",jF=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,BF="ls",zF="p",PS="ac",HF="websocket",qF="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e,n,r,i,s=!1,o="",u=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ja.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ja.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function fne(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function YF(t,e,n){ne(typeof e=="string","typeof type must == string"),ne(typeof n=="object","typeof params must == object");let r;if(e===HF)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===qF)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);fne(t)&&(n.ns=t.namespace);const i=[];return Cn(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dne{constructor(){this.counters_={}}incrementCounter(e,n=1){ls(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return gJ(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE={},PE={};function EC(t){const e=t.toString();return AE[e]||(AE[e]=new dne),AE[e]}function pne(t,e){const n=t.toString();return PE[n]||(PE[n]=e()),PE[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gne{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ac(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="start",mne="close",_ne="pLPCommand",vne="pRTLPCB",KF="id",QF="pw",XF="ser",yne="cb",wne="seg",Ene="ts",Sne="d",Tne="dframe",JF=1870,ZF=30,Ine=JF-ZF,Cne=25e3,Rne=3e4;class El{constructor(e,n,r,i,s,o,u){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=bd(e),this.stats_=EC(n),this.urlFn=l=>(this.appCheckToken&&(l[PS]=this.appCheckToken),YF(n,qF,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new gne(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Rne)),tne(()=>{if(this.isClosed_)return;this.scriptTagHolder=new SC((...s)=>{const[o,u,l,h,f]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===ax)this.id=u,this.password=l;else if(o===mne)u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,u]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,u)},()=>{this.onClosed_()},this.urlFn);const r={};r[ax]="t",r[XF]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[yne]=this.scriptTagHolder.uniqueCallbackIdentifier),r[FF]=wC,this.transportSessionId&&(r[$F]=this.transportSessionId),this.lastSessionId&&(r[BF]=this.lastSessionId),this.applicationId&&(r[zF]=this.applicationId),this.appCheckToken&&(r[PS]=this.appCheckToken),typeof location<"u"&&location.hostname&&jF.test(location.hostname)&&(r[VF]=WF);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){El.forceAllow_=!0}static forceDisallow(){El.forceDisallow_=!0}static isAvailable(){return El.forceAllow_?!0:!El.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!rne()&&!ine()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Zt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=WU(n),i=MF(r,Ine);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Tne]="t",r[KF]=e,r[QF]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Zt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class SC{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Jte(),window[_ne+this.uniqueCallbackIdentifier]=e,window[vne+this.uniqueCallbackIdentifier]=n,this.myIFrame=SC.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(u){yn("frame writing exception"),u.stack&&yn(u.stack),yn(u)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||yn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[KF]=this.myID,e[QF]=this.myPW,e[XF]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ZF+r.length<=JF;){const o=this.pendingSegs.shift();r=r+"&"+wne+i+"="+o.seg+"&"+Ene+i+"="+o.ts+"&"+Sne+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Cne)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{yn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ane=16384,Pne=45e3;let l_=null;typeof MozWebSocket<"u"?l_=MozWebSocket:typeof WebSocket<"u"&&(l_=WebSocket);class Ti{constructor(e,n,r,i,s,o,u){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=bd(this.connId),this.stats_=EC(n),this.connURL=Ti.connectionURL_(n,o,u,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[FF]=wC,typeof location<"u"&&location.hostname&&jF.test(location.hostname)&&(o[VF]=WF),n&&(o[$F]=n),r&&(o[BF]=r),i&&(o[PS]=i),s&&(o[zF]=s),YF(e,HF,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ja.set("previous_websocket_failure",!0);try{let r;GU(),this.mySock=new l_(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Ti.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&l_!==null&&!Ti.forceDisallow_}static previouslyFailed(){return ja.isInMemoryStorage||ja.get("previous_websocket_failure")===!0}markConnectionHealthy(){ja.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ff(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ne(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Zt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=MF(n,Ane);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Pne))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ti.responsesRequiredToBeHealthy=2;Ti.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[El,Ti]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Ti&&Ti.isAvailable();let r=n&&!Ti.previouslyFailed();if(e.webSocketOnly&&(n||sr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ti];else{const i=this.transports_=[];for(const s of jf.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);jf.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}jf.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kne=6e4,bne=5e3,One=10*1024,Nne=100*1024,kE="t",ux="d",xne="s",lx="r",Dne="e",cx="o",hx="a",fx="n",dx="p",Lne="h";class Mne{constructor(e,n,r,i,s,o,u,l,h,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=u,this.onDisconnect_=l,this.onKill_=h,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=bd("c:"+this.id+":"),this.transportManager_=new jf(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Jh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Nne?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>One?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(kE in e){const n=e[kE];n===hx?this.upgradeIfSecondaryHealthy_():n===lx?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===cx&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=_h("t",e),r=_h("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:dx,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:hx,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:fx,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=_h("t",e),r=_h("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=_h(kE,e);if(ux in e){const r=e[ux];if(n===Lne){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===fx){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===xne?this.onConnectionShutdown_(r):n===lx?this.onReset_(r):n===Dne?AS("Server Error: "+r):n===cx?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):AS("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),wC!==r&&sr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Jh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(kne))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Jh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(bne))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:dx,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ja.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t$=class{constructor(e){this.allowedEvents_=e,this.listeners_={},ne(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){ne(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_ extends t${constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!aC()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new c_}getInitialEvent(e){return ne(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=32,gx=768;class at{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ke(){return new at("")}function Le(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function aa(t){return t.pieces_.length-t.pieceNum_}function dt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new at(t.pieces_,e)}function TC(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Une(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Bf(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function n$(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new at(e,0)}function Lt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof at)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new at(n,0)}function $e(t){return t.pieceNum_>=t.pieces_.length}function tr(t,e){const n=Le(t),r=Le(e);if(n===null)return e;if(n===r)return tr(dt(t),dt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Fne(t,e){const n=Bf(t,0),r=Bf(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Ru(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function IC(t,e){if(aa(t)!==aa(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function ri(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(aa(t)>aa(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class $ne{constructor(e,n){this.errorPrefix_=n,this.parts_=Bf(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Wv(this.parts_[r]);r$(this)}}function Vne(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Wv(e),r$(t)}function Wne(t){const e=t.parts_.pop();t.byteLength_-=Wv(e),t.parts_.length>0&&(t.byteLength_-=1)}function r$(t){if(t.byteLength_>gx)throw new Error(t.errorPrefix_+"has a key path longer than "+gx+" bytes ("+t.byteLength_+").");if(t.parts_.length>px)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+px+") or object contains a cycle "+Ua(t))}function Ua(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC extends t${constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new CC}getInitialEvent(e){return ne(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=1e3,jne=60*5*1e3,mx=30*1e3,Bne=1.3,zne=3e4,Hne="server_kill",_x=3;class Ws extends e${constructor(e,n,r,i,s,o,u,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=u,this.authOverride_=l,this.id=Ws.nextPersistentConnectionId_++,this.log_=bd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=vh,this.maxReconnectDelay_=jne,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!GU())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");CC.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&c_.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Zt(s)),ne(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Sd,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const u=o.d;o.s==="ok"?n.resolve(u):n.reject(u)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ne(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const u={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,u),this.connected_&&this.sendListen_(u)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,u=>{const l=u.d,h=u.s;Ws.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",u),h!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(h,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&ls(e,"w")){const r=ec(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();sr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||bJ(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=mx)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=kJ(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Zt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):AS("Unrecognized action received from server: "+Zt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ne(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=vh,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=vh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>zne&&(this.reconnectDelay_=vh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Bne)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Ws.nextConnectionId_++,s=this.lastSessionId;let o=!1,u=null;const l=function(){u?u.close():(o=!0,r())},h=function(p){ne(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(p)};this.realtime_={close:l,sendRequest:h};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[p,g]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);o?yn("getToken() completed but was canceled"):(yn("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=g&&g.token,u=new Mne(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,v=>{sr(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(Hne)},s))}catch(p){this.log_("Failed to get token: "+p),o||(this.repoInfo_.nodeAdmin&&sr(p),l())}}}interrupt(e){yn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){yn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],vS(this.interruptReasons_)&&(this.reconnectDelay_=vh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>yC(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new at(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){yn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=_x&&(this.reconnectDelay_=mx,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){yn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=_x&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+xF.replace(/\./g,"-")]=1,aC()?e["framework.cordova"]=1:qU()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=c_.getInstance().currentlyOnline();return vS(this.interruptReasons_)&&e}}Ws.nextPersistentConnectionId_=0;Ws.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Me(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Me(nc,e),i=new Me(nc,n);return this.compare(r,i)!==0}minPost(){return Me.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fg;class i$ extends Gv{static get __EMPTY_NODE(){return fg}static set __EMPTY_NODE(e){fg=e}compare(e,n){return Ru(e.name,n.name)}isDefinedOn(e){throw Sc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Me.MIN}maxPost(){return new Me(cu,fg)}makePost(e,n){return ne(typeof e=="string","KeyIndex indexValue must always be a string."),new Me(e,fg)}toString(){return".key"}}const Ml=new i$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dg=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Pr=class Lh{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Lh.RED,this.left=i??Ki.EMPTY_NODE,this.right=s??Ki.EMPTY_NODE}copy(e,n,r,i,s){return new Lh(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ki.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Ki.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Lh.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Lh.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};Pr.RED=!0;Pr.BLACK=!1;class qne{copy(e,n,r,i,s){return this}insert(e,n,r){return new Pr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let Ki=class nm{constructor(e,n=nm.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new nm(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Pr.BLACK,null,null))}remove(e){return new nm(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Pr.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new dg(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new dg(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new dg(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new dg(this.root_,null,this.comparator_,!0,e)}};Ki.EMPTY_NODE=new qne;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gne(t,e){return Ru(t.name,e.name)}function RC(t,e){return Ru(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kS;function Yne(t){kS=t}const s$=function(t){return typeof t=="number"?"number:"+UF(t):"string:"+t},o$=function(t){if(t.isLeafNode()){const e=t.val();ne(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ls(e,".sv"),"Priority must be a string or number.")}else ne(t===kS||t.isEmpty(),"priority of unexpected type.");ne(t===kS||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vx;class sn{constructor(e,n=sn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ne(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),o$(this.priorityNode_)}static set __childrenNodeConstructor(e){vx=e}static get __childrenNodeConstructor(){return vx}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new sn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:sn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return $e(e)?this:Le(e)===".priority"?this.priorityNode_:sn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:sn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Le(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ne(r!==".priority"||aa(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,sn.__childrenNodeConstructor.EMPTY_NODE.updateChild(dt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+s$(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=UF(this.value_):e+=this.value_,this.lazyHash_=LF(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===sn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof sn.__childrenNodeConstructor?-1:(ne(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=sn.VALUE_TYPE_ORDER.indexOf(n),s=sn.VALUE_TYPE_ORDER.indexOf(r);return ne(i>=0,"Unknown leaf type: "+n),ne(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}sn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a$,u$;function Kne(t){a$=t}function Qne(t){u$=t}class Xne extends Gv{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Ru(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Me.MIN}maxPost(){return new Me(cu,new sn("[PRIORITY-POST]",u$))}makePost(e,n){const r=a$(e);return new Me(n,new sn("[PRIORITY-POST]",r))}toString(){return".priority"}}const Mt=new Xne;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jne=Math.log(2);class Zne{constructor(e){const n=s=>parseInt(Math.log(s)/Jne,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const h_=function(t,e,n,r){t.sort(e);const i=function(l,h){const f=h-l;let p,g;if(f===0)return null;if(f===1)return p=t[l],g=n?n(p):p,new Pr(g,p.node,Pr.BLACK,null,null);{const v=parseInt(f/2,10)+l,E=i(l,v),C=i(v+1,h);return p=t[v],g=n?n(p):p,new Pr(g,p.node,Pr.BLACK,E,C)}},s=function(l){let h=null,f=null,p=t.length;const g=function(E,C){const R=p-E,S=p;p-=E;const T=i(R+1,S),k=t[R],b=n?n(k):k;v(new Pr(b,k.node,C,null,T))},v=function(E){h?(h.left=E,h=E):(f=E,h=E)};for(let E=0;E<l.count;++E){const C=l.nextBitIsOne(),R=Math.pow(2,l.count-(E+1));C?g(R,Pr.BLACK):(g(R,Pr.BLACK),g(R,Pr.RED))}return f},o=new Zne(t.length),u=s(o);return new Ki(r||e,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bE;const Ju={};class Ls{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return ne(Ju&&Mt,"ChildrenNode.ts has not been loaded"),bE=bE||new Ls({".priority":Ju},{".priority":Mt}),bE}get(e){const n=ec(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ki?n:null}hasIndex(e){return ls(this.indexSet_,e.toString())}addIndex(e,n){ne(e!==Ml,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Me.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let u;i?u=h_(r,e.getCompare()):u=Ju;const l=e.toString(),h=Object.assign({},this.indexSet_);h[l]=e;const f=Object.assign({},this.indexes_);return f[l]=u,new Ls(f,h)}addToIndexes(e,n){const r=e_(this.indexes_,(i,s)=>{const o=ec(this.indexSet_,s);if(ne(o,"Missing index implementation for "+s),i===Ju)if(o.isDefinedOn(e.node)){const u=[],l=n.getIterator(Me.Wrap);let h=l.getNext();for(;h;)h.name!==e.name&&u.push(h),h=l.getNext();return u.push(e),h_(u,o.getCompare())}else return Ju;else{const u=n.get(e.name);let l=i;return u&&(l=l.remove(new Me(e.name,u))),l.insert(e,e.node)}});return new Ls(r,this.indexSet_)}removeFromIndexes(e,n){const r=e_(this.indexes_,i=>{if(i===Ju)return i;{const s=n.get(e.name);return s?i.remove(new Me(e.name,s)):i}});return new Ls(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yh;class Ee{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&o$(this.priorityNode_),this.children_.isEmpty()&&ne(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return yh||(yh=new Ee(new Ki(RC),null,Ls.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||yh}updatePriority(e){return this.children_.isEmpty()?this:new Ee(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?yh:n}}getChild(e){const n=Le(e);return n===null?this:this.getImmediateChild(n).getChild(dt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ne(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Me(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?yh:this.priorityNode_;return new Ee(i,o,s)}}updateChild(e,n){const r=Le(e);if(r===null)return n;{ne(Le(e)!==".priority"||aa(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(dt(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Mt,(o,u)=>{n[o]=u.val(e),r++,s&&Ee.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const u in n)o[u]=n[u];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+s$(this.getPriority().val())+":"),this.forEachChild(Mt,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":LF(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Me(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Me(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Me(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Me.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Me.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Od?-1:0}withIndex(e){if(e===Ml||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ee(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ml||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Mt),i=n.getIterator(Mt);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ml?null:this.indexMap_.get(e.toString())}}Ee.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class ere extends Ee{constructor(){super(new Ki(RC),Ee.EMPTY_NODE,Ls.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ee.EMPTY_NODE}isEmpty(){return!1}}const Od=new ere;Object.defineProperties(Me,{MIN:{value:new Me(nc,Ee.EMPTY_NODE)},MAX:{value:new Me(cu,Od)}});i$.__EMPTY_NODE=Ee.EMPTY_NODE;sn.__childrenNodeConstructor=Ee;Yne(Od);Qne(Od);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tre=!0;function Jt(t,e=null){if(t===null)return Ee.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ne(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new sn(n,Jt(e))}if(!(t instanceof Array)&&tre){const n=[];let r=!1;if(Cn(t,(o,u)=>{if(o.substring(0,1)!=="."){const l=Jt(u);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Me(o,l)))}}),n.length===0)return Ee.EMPTY_NODE;const s=h_(n,Gne,o=>o.name,RC);if(r){const o=h_(n,Mt.getCompare());return new Ee(s,Jt(e),new Ls({".priority":o},{".priority":Mt}))}else return new Ee(s,Jt(e),Ls.Default)}else{let n=Ee.EMPTY_NODE;return Cn(t,(r,i)=>{if(ls(t,r)&&r.substring(0,1)!=="."){const s=Jt(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Jt(e))}}Kne(Jt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nre extends Gv{constructor(e){super(),this.indexPath_=e,ne(!$e(e)&&Le(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Ru(e.name,n.name):s}makePost(e,n){const r=Jt(e),i=Ee.EMPTY_NODE.updateChild(this.indexPath_,r);return new Me(n,i)}maxPost(){const e=Ee.EMPTY_NODE.updateChild(this.indexPath_,Od);return new Me(cu,e)}toString(){return Bf(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rre extends Gv{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Ru(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Me.MIN}maxPost(){return Me.MAX}makePost(e,n){const r=Jt(e);return new Me(n,r)}toString(){return".value"}}const ire=new rre;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l$(t){return{type:"value",snapshotNode:t}}function rc(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function zf(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Hf(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function sre(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){ne(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=e.getImmediateChild(n);return u.getChild(i).equals(r.getChild(i))&&u.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(zf(n,u)):ne(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?o.trackChildChange(rc(n,r)):o.trackChildChange(Hf(n,r,u))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Mt,(i,s)=>{n.hasChild(i)||r.trackChildChange(zf(i,s))}),n.isLeafNode()||n.forEachChild(Mt,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Hf(i,s,o))}else r.trackChildChange(rc(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Ee.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e){this.indexedFilter_=new AC(e.getIndex()),this.index_=e.getIndex(),this.startPost_=qf.getStartPost_(e),this.endPost_=qf.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new Me(n,r))||(r=Ee.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Ee.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Ee.EMPTY_NODE);const s=this;return n.forEachChild(Mt,(o,u)=>{s.matches(new Me(o,u))||(i=i.updateImmediateChild(o,Ee.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ore{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new qf(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new Me(n,r))||(r=Ee.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Ee.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Ee.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const u=s.getNext();if(this.withinDirectionalStart(u))if(this.withinDirectionalEnd(u))i=i.updateImmediateChild(u.name,u.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Ee.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const u=s.getNext();o<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?o++:i=i.updateImmediateChild(u.name,Ee.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const p=this.index_.getCompare();o=(g,v)=>p(v,g)}else o=this.index_.getCompare();const u=e;ne(u.numChildren()===this.limit_,"");const l=new Me(n,r),h=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),f=this.rangedFilter_.matches(l);if(u.hasChild(n)){const p=u.getImmediateChild(n);let g=i.getChildAfterChild(this.index_,h,this.reverse_);for(;g!=null&&(g.name===n||u.hasChild(g.name));)g=i.getChildAfterChild(this.index_,g,this.reverse_);const v=g==null?1:o(g,l);if(f&&!r.isEmpty()&&v>=0)return s!=null&&s.trackChildChange(Hf(n,r,p)),u.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(zf(n,p));const C=u.updateImmediateChild(n,Ee.EMPTY_NODE);return g!=null&&this.rangedFilter_.matches(g)?(s!=null&&s.trackChildChange(rc(g.name,g.node)),C.updateImmediateChild(g.name,g.node)):C}}else return r.isEmpty()?e:f&&o(h,l)>=0?(s!=null&&(s.trackChildChange(zf(h.name,h.node)),s.trackChildChange(rc(n,r))),u.updateImmediateChild(n,r).updateImmediateChild(h.name,Ee.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Mt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ne(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ne(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:nc}hasEnd(){return this.endSet_}getIndexEndValue(){return ne(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ne(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:cu}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ne(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Mt}copy(){const e=new PC;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function are(t){return t.loadsAllData()?new AC(t.getIndex()):t.hasLimit()?new ore(t):new qf(t)}function yx(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Mt?n="$priority":t.index_===ire?n="$value":t.index_===Ml?n="$key":(ne(t.index_ instanceof nre,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Zt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Zt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Zt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Zt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Zt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function wx(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Mt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_ extends e${constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=bd("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ne(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=f_.getListenId_(e,r),u={};this.listens_[o]=u;const l=yx(e._queryParams);this.restRequest_(s+".json",l,(h,f)=>{let p=f;if(h===404&&(p=null,h=null),h===null&&this.onDataUpdate_(s,p,!1,r),ec(this.listens_,o)===u){let g;h?h===401?g="permission_denied":g="rest_error:"+h:g="ok",i(g,null)}})}unlisten(e,n){const r=f_.getListenId_(e,n);delete this.listens_[r]}get(e){const n=yx(e._queryParams),r=e._path.toString(),i=new Sd;return this.restRequest_(r+".json",n,(s,o)=>{let u=o;s===404&&(u=null,s=null),s===null?(this.onDataUpdate_(r,u,!1,null),i.resolve(u)):i.reject(new Error(u))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Tc(n);this.log_("Sending REST request for "+o);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(r&&u.readyState===4){this.log_("REST Response for "+o+" received. status:",u.status,"response:",u.responseText);let l=null;if(u.status>=200&&u.status<300){try{l=Ff(u.responseText)}catch{sr("Failed to parse JSON response for "+o+": "+u.responseText)}r(null,l)}else u.status!==401&&u.status!==404&&sr("Got unsuccessful REST response for "+o+" Status: "+u.status),r(u.status);r=null}},u.open("GET",o,!0),u.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ure{constructor(){this.rootNode_=Ee.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(){return{value:null,children:new Map}}function c$(t,e,n){if($e(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Le(e);t.children.has(r)||t.children.set(r,d_());const i=t.children.get(r);e=dt(e),c$(i,e,n)}}function bS(t,e,n){t.value!==null?n(e,t.value):lre(t,(r,i)=>{const s=new at(e.toString()+"/"+r);bS(i,s,n)})}function lre(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cre{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Cn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=10*1e3,hre=30*1e3,fre=5*60*1e3;class dre{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new cre(e);const r=Ex+(hre-Ex)*Math.random();Jh(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Cn(e,(i,s)=>{s>0&&ls(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Jh(this.reportStats_.bind(this),Math.floor(Math.random()*2*fre))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ii;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ii||(Ii={}));function kC(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function bC(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function OC(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ii.ACK_USER_WRITE,this.source=kC()}operationForChild(e){if($e(this.path)){if(this.affectedTree.value!=null)return ne(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new at(e));return new p_(Ke(),n,this.revert)}}else return ne(Le(this.path)===e,"operationForChild called for unrelated child."),new p_(dt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n){this.source=e,this.path=n,this.type=Ii.LISTEN_COMPLETE}operationForChild(e){return $e(this.path)?new Gf(this.source,Ke()):new Gf(this.source,dt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ii.OVERWRITE}operationForChild(e){return $e(this.path)?new hu(this.source,Ke(),this.snap.getImmediateChild(e)):new hu(this.source,dt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ii.MERGE}operationForChild(e){if($e(this.path)){const n=this.children.subtree(new at(e));return n.isEmpty()?null:n.value?new hu(this.source,Ke(),n.value):new ic(this.source,Ke(),n)}else return ne(Le(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ic(this.source,dt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if($e(e))return this.isFullyInitialized()&&!this.filtered_;const n=Le(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pre{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function gre(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(sre(o.childName,o.snapshotNode))}),wh(t,i,"child_removed",e,r,n),wh(t,i,"child_added",e,r,n),wh(t,i,"child_moved",s,r,n),wh(t,i,"child_changed",e,r,n),wh(t,i,"value",e,r,n),i}function wh(t,e,n,r,i,s){const o=r.filter(u=>u.type===n);o.sort((u,l)=>_re(t,u,l)),o.forEach(u=>{const l=mre(t,u,s);i.forEach(h=>{h.respondsTo(u.type)&&e.push(h.createEvent(l,t.query_))})})}function mre(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function _re(t,e,n){if(e.childName==null||n.childName==null)throw Sc("Should only compare child_ events.");const r=new Me(e.childName,e.snapshotNode),i=new Me(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(t,e){return{eventCache:t,serverCache:e}}function Zh(t,e,n,r){return Yv(new ua(e,n,r),t.serverCache)}function h$(t,e,n,r){return Yv(t.eventCache,new ua(e,n,r))}function g_(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function fu(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OE;const vre=()=>(OE||(OE=new Ki(nne)),OE);class ft{constructor(e,n=vre()){this.value=e,this.children=n}static fromObject(e){let n=new ft(null);return Cn(e,(r,i)=>{n=n.set(new at(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ke(),value:this.value};if($e(e))return null;{const r=Le(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(dt(e),n);return s!=null?{path:Lt(new at(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if($e(e))return this;{const n=Le(e),r=this.children.get(n);return r!==null?r.subtree(dt(e)):new ft(null)}}set(e,n){if($e(e))return new ft(n,this.children);{const r=Le(e),s=(this.children.get(r)||new ft(null)).set(dt(e),n),o=this.children.insert(r,s);return new ft(this.value,o)}}remove(e){if($e(e))return this.children.isEmpty()?new ft(null):new ft(null,this.children);{const n=Le(e),r=this.children.get(n);if(r){const i=r.remove(dt(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ft(null):new ft(this.value,s)}else return this}}get(e){if($e(e))return this.value;{const n=Le(e),r=this.children.get(n);return r?r.get(dt(e)):null}}setTree(e,n){if($e(e))return n;{const r=Le(e),s=(this.children.get(r)||new ft(null)).setTree(dt(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ft(this.value,o)}}fold(e){return this.fold_(Ke(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Lt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ke(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if($e(e))return null;{const s=Le(e),o=this.children.get(s);return o?o.findOnPath_(dt(e),Lt(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ke(),n)}foreachOnPath_(e,n,r){if($e(e))return this;{this.value&&r(n,this.value);const i=Le(e),s=this.children.get(i);return s?s.foreachOnPath_(dt(e),Lt(n,i),r):new ft(null)}}foreach(e){this.foreach_(Ke(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Lt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this.writeTree_=e}static empty(){return new ki(new ft(null))}}function ef(t,e,n){if($e(e))return new ki(new ft(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=tr(i,e);return s=s.updateChild(o,n),new ki(t.writeTree_.set(i,s))}else{const i=new ft(n),s=t.writeTree_.setTree(e,i);return new ki(s)}}}function OS(t,e,n){let r=t;return Cn(n,(i,s)=>{r=ef(r,Lt(e,i),s)}),r}function Sx(t,e){if($e(e))return ki.empty();{const n=t.writeTree_.setTree(e,new ft(null));return new ki(n)}}function NS(t,e){return Au(t,e)!=null}function Au(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(tr(n.path,e)):null}function Tx(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Mt,(r,i)=>{e.push(new Me(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Me(r,i.value))}),e}function Qo(t,e){if($e(e))return t;{const n=Au(t,e);return n!=null?new ki(new ft(n)):new ki(t.writeTree_.subtree(e))}}function xS(t){return t.writeTree_.isEmpty()}function sc(t,e){return f$(Ke(),t.writeTree_,e)}function f$(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(ne(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=f$(Lt(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Lt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(t,e){return m$(e,t)}function yre(t,e,n,r,i){ne(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ef(t.visibleWrites,e,n)),t.lastWriteId=r}function wre(t,e,n,r){ne(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=OS(t.visibleWrites,e,n),t.lastWriteId=r}function Ere(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Sre(t,e){const n=t.allWrites.findIndex(u=>u.writeId===e);ne(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const u=t.allWrites[o];u.visible&&(o>=n&&Tre(u,r.path)?i=!1:ri(r.path,u.path)&&(s=!0)),o--}if(i){if(s)return Ire(t),!0;if(r.snap)t.visibleWrites=Sx(t.visibleWrites,r.path);else{const u=r.children;Cn(u,l=>{t.visibleWrites=Sx(t.visibleWrites,Lt(r.path,l))})}return!0}else return!1}function Tre(t,e){if(t.snap)return ri(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&ri(Lt(t.path,n),e))return!0;return!1}function Ire(t){t.visibleWrites=d$(t.allWrites,Cre,Ke()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Cre(t){return t.visible}function d$(t,e,n){let r=ki.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let u;if(s.snap)ri(n,o)?(u=tr(n,o),r=ef(r,u,s.snap)):ri(o,n)&&(u=tr(o,n),r=ef(r,Ke(),s.snap.getChild(u)));else if(s.children){if(ri(n,o))u=tr(n,o),r=OS(r,u,s.children);else if(ri(o,n))if(u=tr(o,n),$e(u))r=OS(r,Ke(),s.children);else{const l=ec(s.children,Le(u));if(l){const h=l.getChild(dt(u));r=ef(r,Ke(),h)}}}else throw Sc("WriteRecord should have .snap or .children")}}return r}function p$(t,e,n,r,i){if(!r&&!i){const s=Au(t.visibleWrites,e);if(s!=null)return s;{const o=Qo(t.visibleWrites,e);if(xS(o))return n;if(n==null&&!NS(o,Ke()))return null;{const u=n||Ee.EMPTY_NODE;return sc(o,u)}}}else{const s=Qo(t.visibleWrites,e);if(!i&&xS(s))return n;if(!i&&n==null&&!NS(s,Ke()))return null;{const o=function(h){return(h.visible||i)&&(!r||!~r.indexOf(h.writeId))&&(ri(h.path,e)||ri(e,h.path))},u=d$(t.allWrites,o,e),l=n||Ee.EMPTY_NODE;return sc(u,l)}}}function Rre(t,e,n){let r=Ee.EMPTY_NODE;const i=Au(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Mt,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Qo(t.visibleWrites,e);return n.forEachChild(Mt,(o,u)=>{const l=sc(Qo(s,new at(o)),u);r=r.updateImmediateChild(o,l)}),Tx(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Qo(t.visibleWrites,e);return Tx(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Are(t,e,n,r,i){ne(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Lt(e,n);if(NS(t.visibleWrites,s))return null;{const o=Qo(t.visibleWrites,s);return xS(o)?i.getChild(n):sc(o,i.getChild(n))}}function Pre(t,e,n,r){const i=Lt(e,n),s=Au(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Qo(t.visibleWrites,i);return sc(o,r.getNode().getImmediateChild(n))}else return null}function kre(t,e){return Au(t.visibleWrites,e)}function bre(t,e,n,r,i,s,o){let u;const l=Qo(t.visibleWrites,e),h=Au(l,Ke());if(h!=null)u=h;else if(n!=null)u=sc(l,n);else return[];if(u=u.withIndex(o),!u.isEmpty()&&!u.isLeafNode()){const f=[],p=o.getCompare(),g=s?u.getReverseIteratorFrom(r,o):u.getIteratorFrom(r,o);let v=g.getNext();for(;v&&f.length<i;)p(v,r)!==0&&f.push(v),v=g.getNext();return f}else return[]}function Ore(){return{visibleWrites:ki.empty(),allWrites:[],lastWriteId:-1}}function m_(t,e,n,r){return p$(t.writeTree,t.treePath,e,n,r)}function NC(t,e){return Rre(t.writeTree,t.treePath,e)}function Ix(t,e,n,r){return Are(t.writeTree,t.treePath,e,n,r)}function __(t,e){return kre(t.writeTree,Lt(t.treePath,e))}function Nre(t,e,n,r,i,s){return bre(t.writeTree,t.treePath,e,n,r,i,s)}function xC(t,e,n){return Pre(t.writeTree,t.treePath,e,n)}function g$(t,e){return m$(Lt(t.treePath,e),t.writeTree)}function m$(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xre{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ne(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ne(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Hf(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,zf(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,rc(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Hf(r,e.snapshotNode,i.oldSnap));else throw Sc("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dre{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const _$=new Dre;class DC{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ua(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return xC(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:fu(this.viewCache_),s=Nre(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lre(t){return{filter:t}}function Mre(t,e){ne(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ne(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Ure(t,e,n,r,i){const s=new xre;let o,u;if(n.type===Ii.OVERWRITE){const h=n;h.source.fromUser?o=DS(t,e,h.path,h.snap,r,i,s):(ne(h.source.fromServer,"Unknown source."),u=h.source.tagged||e.serverCache.isFiltered()&&!$e(h.path),o=v_(t,e,h.path,h.snap,r,i,u,s))}else if(n.type===Ii.MERGE){const h=n;h.source.fromUser?o=$re(t,e,h.path,h.children,r,i,s):(ne(h.source.fromServer,"Unknown source."),u=h.source.tagged||e.serverCache.isFiltered(),o=LS(t,e,h.path,h.children,r,i,u,s))}else if(n.type===Ii.ACK_USER_WRITE){const h=n;h.revert?o=jre(t,e,h.path,r,i,s):o=Vre(t,e,h.path,h.affectedTree,r,i,s)}else if(n.type===Ii.LISTEN_COMPLETE)o=Wre(t,e,n.path,r,s);else throw Sc("Unknown operation type: "+n.type);const l=s.getChanges();return Fre(e,o,l),{viewCache:o,changes:l}}function Fre(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=g_(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(l$(g_(e)))}}function v$(t,e,n,r,i,s){const o=e.eventCache;if(__(r,n)!=null)return e;{let u,l;if($e(n))if(ne(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=fu(e),f=h instanceof Ee?h:Ee.EMPTY_NODE,p=NC(r,f);u=t.filter.updateFullNode(e.eventCache.getNode(),p,s)}else{const h=m_(r,fu(e));u=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const h=Le(n);if(h===".priority"){ne(aa(n)===1,"Can't have a priority with additional path components");const f=o.getNode();l=e.serverCache.getNode();const p=Ix(r,n,f,l);p!=null?u=t.filter.updatePriority(f,p):u=o.getNode()}else{const f=dt(n);let p;if(o.isCompleteForChild(h)){l=e.serverCache.getNode();const g=Ix(r,n,o.getNode(),l);g!=null?p=o.getNode().getImmediateChild(h).updateChild(f,g):p=o.getNode().getImmediateChild(h)}else p=xC(r,h,e.serverCache);p!=null?u=t.filter.updateChild(o.getNode(),h,p,f,i,s):u=o.getNode()}}return Zh(e,u,o.isFullyInitialized()||$e(n),t.filter.filtersNodes())}}function v_(t,e,n,r,i,s,o,u){const l=e.serverCache;let h;const f=o?t.filter:t.filter.getIndexedFilter();if($e(n))h=f.updateFullNode(l.getNode(),r,null);else if(f.filtersNodes()&&!l.isFiltered()){const v=l.getNode().updateChild(n,r);h=f.updateFullNode(l.getNode(),v,null)}else{const v=Le(n);if(!l.isCompleteForPath(n)&&aa(n)>1)return e;const E=dt(n),R=l.getNode().getImmediateChild(v).updateChild(E,r);v===".priority"?h=f.updatePriority(l.getNode(),R):h=f.updateChild(l.getNode(),v,R,E,_$,null)}const p=h$(e,h,l.isFullyInitialized()||$e(n),f.filtersNodes()),g=new DC(i,p,s);return v$(t,p,n,i,g,u)}function DS(t,e,n,r,i,s,o){const u=e.eventCache;let l,h;const f=new DC(i,e,s);if($e(n))h=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Zh(e,h,!0,t.filter.filtersNodes());else{const p=Le(n);if(p===".priority")h=t.filter.updatePriority(e.eventCache.getNode(),r),l=Zh(e,h,u.isFullyInitialized(),u.isFiltered());else{const g=dt(n),v=u.getNode().getImmediateChild(p);let E;if($e(g))E=r;else{const C=f.getCompleteChild(p);C!=null?TC(g)===".priority"&&C.getChild(n$(g)).isEmpty()?E=C:E=C.updateChild(g,r):E=Ee.EMPTY_NODE}if(v.equals(E))l=e;else{const C=t.filter.updateChild(u.getNode(),p,E,g,f,o);l=Zh(e,C,u.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Cx(t,e){return t.eventCache.isCompleteForChild(e)}function $re(t,e,n,r,i,s,o){let u=e;return r.foreach((l,h)=>{const f=Lt(n,l);Cx(e,Le(f))&&(u=DS(t,u,f,h,i,s,o))}),r.foreach((l,h)=>{const f=Lt(n,l);Cx(e,Le(f))||(u=DS(t,u,f,h,i,s,o))}),u}function Rx(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function LS(t,e,n,r,i,s,o,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,h;$e(n)?h=r:h=new ft(null).setTree(n,r);const f=e.serverCache.getNode();return h.children.inorderTraversal((p,g)=>{if(f.hasChild(p)){const v=e.serverCache.getNode().getImmediateChild(p),E=Rx(t,v,g);l=v_(t,l,new at(p),E,i,s,o,u)}}),h.children.inorderTraversal((p,g)=>{const v=!e.serverCache.isCompleteForChild(p)&&g.value===null;if(!f.hasChild(p)&&!v){const E=e.serverCache.getNode().getImmediateChild(p),C=Rx(t,E,g);l=v_(t,l,new at(p),C,i,s,o,u)}}),l}function Vre(t,e,n,r,i,s,o){if(__(i,n)!=null)return e;const u=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if($e(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return v_(t,e,n,l.getNode().getChild(n),i,s,u,o);if($e(n)){let h=new ft(null);return l.getNode().forEachChild(Ml,(f,p)=>{h=h.set(new at(f),p)}),LS(t,e,n,h,i,s,u,o)}else return e}else{let h=new ft(null);return r.foreach((f,p)=>{const g=Lt(n,f);l.isCompleteForPath(g)&&(h=h.set(f,l.getNode().getChild(g)))}),LS(t,e,n,h,i,s,u,o)}}function Wre(t,e,n,r,i){const s=e.serverCache,o=h$(e,s.getNode(),s.isFullyInitialized()||$e(n),s.isFiltered());return v$(t,o,n,r,_$,i)}function jre(t,e,n,r,i,s){let o;if(__(r,n)!=null)return e;{const u=new DC(r,e,i),l=e.eventCache.getNode();let h;if($e(n)||Le(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=m_(r,fu(e));else{const p=e.serverCache.getNode();ne(p instanceof Ee,"serverChildren would be complete if leaf node"),f=NC(r,p)}f=f,h=t.filter.updateFullNode(l,f,s)}else{const f=Le(n);let p=xC(r,f,e.serverCache);p==null&&e.serverCache.isCompleteForChild(f)&&(p=l.getImmediateChild(f)),p!=null?h=t.filter.updateChild(l,f,p,dt(n),u,s):e.eventCache.getNode().hasChild(f)?h=t.filter.updateChild(l,f,Ee.EMPTY_NODE,dt(n),u,s):h=l,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=m_(r,fu(e)),o.isLeafNode()&&(h=t.filter.updateFullNode(h,o,s)))}return o=e.serverCache.isFullyInitialized()||__(r,Ke())!=null,Zh(e,h,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bre{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new AC(r.getIndex()),s=are(r);this.processor_=Lre(s);const o=n.serverCache,u=n.eventCache,l=i.updateFullNode(Ee.EMPTY_NODE,o.getNode(),null),h=s.updateFullNode(Ee.EMPTY_NODE,u.getNode(),null),f=new ua(l,o.isFullyInitialized(),i.filtersNodes()),p=new ua(h,u.isFullyInitialized(),s.filtersNodes());this.viewCache_=Yv(p,f),this.eventGenerator_=new pre(this.query_)}get query(){return this.query_}}function zre(t){return t.viewCache_.serverCache.getNode()}function Hre(t){return g_(t.viewCache_)}function qre(t,e){const n=fu(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!$e(e)&&!n.getImmediateChild(Le(e)).isEmpty())?n.getChild(e):null}function Ax(t){return t.eventRegistrations_.length===0}function Gre(t,e){t.eventRegistrations_.push(e)}function Px(t,e,n){const r=[];if(n){ne(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function kx(t,e,n,r){e.type===Ii.MERGE&&e.source.queryId!==null&&(ne(fu(t.viewCache_),"We should always have a full cache before handling merges"),ne(g_(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=Ure(t.processor_,i,e,n,r);return Mre(t.processor_,s.viewCache),ne(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,y$(t,s.changes,s.viewCache.eventCache.getNode(),null)}function Yre(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Mt,(s,o)=>{r.push(rc(s,o))}),n.isFullyInitialized()&&r.push(l$(n.getNode())),y$(t,r,n.getNode(),e)}function y$(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return gre(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y_;class w${constructor(){this.views=new Map}}function Kre(t){ne(!y_,"__referenceConstructor has already been defined"),y_=t}function Qre(){return ne(y_,"Reference.ts has not been loaded"),y_}function Xre(t){return t.views.size===0}function LC(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return ne(s!=null,"SyncTree gave us an op for an invalid query."),kx(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(kx(o,e,n,r));return s}}function E$(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let u=m_(n,i?r:null),l=!1;u?l=!0:r instanceof Ee?(u=NC(n,r),l=!1):(u=Ee.EMPTY_NODE,l=!1);const h=Yv(new ua(u,l,!1),new ua(r,i,!1));return new Bre(e,h)}return o}function Jre(t,e,n,r,i,s){const o=E$(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),Gre(o,n),Yre(o,n)}function Zre(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const u=la(t);if(i==="default")for(const[l,h]of t.views.entries())o=o.concat(Px(h,n,r)),Ax(h)&&(t.views.delete(l),h.query._queryParams.loadsAllData()||s.push(h.query));else{const l=t.views.get(i);l&&(o=o.concat(Px(l,n,r)),Ax(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return u&&!la(t)&&s.push(new(Qre())(e._repo,e._path)),{removed:s,events:o}}function S$(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Xo(t,e){let n=null;for(const r of t.views.values())n=n||qre(r,e);return n}function T$(t,e){if(e._queryParams.loadsAllData())return Qv(t);{const r=e._queryIdentifier;return t.views.get(r)}}function I$(t,e){return T$(t,e)!=null}function la(t){return Qv(t)!=null}function Qv(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w_;function eie(t){ne(!w_,"__referenceConstructor has already been defined"),w_=t}function tie(){return ne(w_,"Reference.ts has not been loaded"),w_}let nie=1;class bx{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ft(null),this.pendingWriteTree_=Ore(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function C$(t,e,n,r,i){return yre(t.pendingWriteTree_,e,n,r,i),i?Pc(t,new hu(kC(),e,n)):[]}function rie(t,e,n,r){wre(t.pendingWriteTree_,e,n,r);const i=ft.fromObject(n);return Pc(t,new ic(kC(),e,i))}function No(t,e,n=!1){const r=Ere(t.pendingWriteTree_,e);if(Sre(t.pendingWriteTree_,e)){let s=new ft(null);return r.snap!=null?s=s.set(Ke(),!0):Cn(r.children,o=>{s=s.set(new at(o),!0)}),Pc(t,new p_(r.path,s,n))}else return[]}function Nd(t,e,n){return Pc(t,new hu(bC(),e,n))}function iie(t,e,n){const r=ft.fromObject(n);return Pc(t,new ic(bC(),e,r))}function sie(t,e){return Pc(t,new Gf(bC(),e))}function oie(t,e,n){const r=UC(t,n);if(r){const i=FC(r),s=i.path,o=i.queryId,u=tr(s,e),l=new Gf(OC(o),u);return $C(t,s,l)}else return[]}function E_(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let u=[];if(o&&(e._queryIdentifier==="default"||I$(o,e))){const l=Zre(o,e,n,r);Xre(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const h=l.removed;if(u=l.events,!i){const f=h.findIndex(g=>g._queryParams.loadsAllData())!==-1,p=t.syncPointTree_.findOnPath(s,(g,v)=>la(v));if(f&&!p){const g=t.syncPointTree_.subtree(s);if(!g.isEmpty()){const v=lie(g);for(let E=0;E<v.length;++E){const C=v[E],R=C.query,S=k$(t,C);t.listenProvider_.startListening(tf(R),Yf(t,R),S.hashFn,S.onComplete)}}}!p&&h.length>0&&!r&&(f?t.listenProvider_.stopListening(tf(e),null):h.forEach(g=>{const v=t.queryToTagMap.get(Xv(g));t.listenProvider_.stopListening(tf(g),v)}))}cie(t,h)}return u}function R$(t,e,n,r){const i=UC(t,r);if(i!=null){const s=FC(i),o=s.path,u=s.queryId,l=tr(o,e),h=new hu(OC(u),l,n);return $C(t,o,h)}else return[]}function aie(t,e,n,r){const i=UC(t,r);if(i){const s=FC(i),o=s.path,u=s.queryId,l=tr(o,e),h=ft.fromObject(n),f=new ic(OC(u),l,h);return $C(t,o,f)}else return[]}function MS(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(g,v)=>{const E=tr(g,i);s=s||Xo(v,E),o=o||la(v)});let u=t.syncPointTree_.get(i);u?(o=o||la(u),s=s||Xo(u,Ke())):(u=new w$,t.syncPointTree_=t.syncPointTree_.set(i,u));let l;s!=null?l=!0:(l=!1,s=Ee.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((v,E)=>{const C=Xo(E,Ke());C&&(s=s.updateImmediateChild(v,C))}));const h=I$(u,e);if(!h&&!e._queryParams.loadsAllData()){const g=Xv(e);ne(!t.queryToTagMap.has(g),"View does not exist, but we have a tag");const v=hie();t.queryToTagMap.set(g,v),t.tagToQueryMap.set(v,g)}const f=Kv(t.pendingWriteTree_,i);let p=Jre(u,e,n,f,s,l);if(!h&&!o&&!r){const g=T$(u,e);p=p.concat(fie(t,e,g))}return p}function MC(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,u)=>{const l=tr(o,e),h=Xo(u,l);if(h)return h});return p$(i,e,s,n,!0)}function uie(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(h,f)=>{const p=tr(h,n);r=r||Xo(f,p)});let i=t.syncPointTree_.get(n);i?r=r||Xo(i,Ke()):(i=new w$,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new ua(r,!0,!1):null,u=Kv(t.pendingWriteTree_,e._path),l=E$(i,e,u,s?o.getNode():Ee.EMPTY_NODE,s);return Hre(l)}function Pc(t,e){return A$(e,t.syncPointTree_,null,Kv(t.pendingWriteTree_,Ke()))}function A$(t,e,n,r){if($e(t.path))return P$(t,e,n,r);{const i=e.get(Ke());n==null&&i!=null&&(n=Xo(i,Ke()));let s=[];const o=Le(t.path),u=t.operationForChild(o),l=e.children.get(o);if(l&&u){const h=n?n.getImmediateChild(o):null,f=g$(r,o);s=s.concat(A$(u,l,h,f))}return i&&(s=s.concat(LC(i,t,r,n))),s}}function P$(t,e,n,r){const i=e.get(Ke());n==null&&i!=null&&(n=Xo(i,Ke()));let s=[];return e.children.inorderTraversal((o,u)=>{const l=n?n.getImmediateChild(o):null,h=g$(r,o),f=t.operationForChild(o);f&&(s=s.concat(P$(f,u,l,h)))}),i&&(s=s.concat(LC(i,t,r,n))),s}function k$(t,e){const n=e.query,r=Yf(t,n);return{hashFn:()=>(zre(e)||Ee.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?oie(t,n._path,r):sie(t,n._path);{const s=sne(i,n);return E_(t,n,null,s)}}}}function Yf(t,e){const n=Xv(e);return t.queryToTagMap.get(n)}function Xv(t){return t._path.toString()+"$"+t._queryIdentifier}function UC(t,e){return t.tagToQueryMap.get(e)}function FC(t){const e=t.indexOf("$");return ne(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new at(t.substr(0,e))}}function $C(t,e,n){const r=t.syncPointTree_.get(e);ne(r,"Missing sync point for query tag that we're tracking");const i=Kv(t.pendingWriteTree_,e);return LC(r,n,i,null)}function lie(t){return t.fold((e,n,r)=>{if(n&&la(n))return[Qv(n)];{let i=[];return n&&(i=S$(n)),Cn(r,(s,o)=>{i=i.concat(o)}),i}})}function tf(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(tie())(t._repo,t._path):t}function cie(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Xv(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function hie(){return nie++}function fie(t,e,n){const r=e._path,i=Yf(t,e),s=k$(t,n),o=t.listenProvider_.startListening(tf(e),i,s.hashFn,s.onComplete),u=t.syncPointTree_.subtree(r);if(i)ne(!la(u.value),"If we're adding a query, it shouldn't be shadowed");else{const l=u.fold((h,f,p)=>{if(!$e(h)&&f&&la(f))return[Qv(f).query];{let g=[];return f&&(g=g.concat(S$(f).map(v=>v.query))),Cn(p,(v,E)=>{g=g.concat(E)}),g}});for(let h=0;h<l.length;++h){const f=l[h];t.listenProvider_.stopListening(tf(f),Yf(t,f))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new VC(n)}node(){return this.node_}}class WC{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Lt(this.path_,e);return new WC(this.syncTree_,n)}node(){return MC(this.syncTree_,this.path_)}}const die=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Ox=function(t,e,n){if(!t||typeof t!="object")return t;if(ne(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return pie(t[".sv"],e,n);if(typeof t[".sv"]=="object")return gie(t[".sv"],e);ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},pie=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ne(!1,"Unexpected server value: "+t)}},gie=function(t,e,n){t.hasOwnProperty("increment")||ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ne(!1,"Unexpected increment value: "+r);const i=e.node();if(ne(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},b$=function(t,e,n,r){return jC(e,new WC(n,t),r)},O$=function(t,e,n){return jC(t,new VC(e),n)};function jC(t,e,n){const r=t.getPriority().val(),i=Ox(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,u=Ox(o.getValue(),e,n);return u!==o.getValue()||i!==o.getPriority().val()?new sn(u,Jt(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new sn(i))),o.forEachChild(Mt,(u,l)=>{const h=jC(l,e.getImmediateChild(u),n);h!==l&&(s=s.updateImmediateChild(u,h))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function zC(t,e){let n=e instanceof at?e:new at(e),r=t,i=Le(n);for(;i!==null;){const s=ec(r.node.children,i)||{children:{},childCount:0};r=new BC(i,r,s),n=dt(n),i=Le(n)}return r}function kc(t){return t.node.value}function N$(t,e){t.node.value=e,US(t)}function x$(t){return t.node.childCount>0}function mie(t){return kc(t)===void 0&&!x$(t)}function Jv(t,e){Cn(t.node.children,(n,r)=>{e(new BC(n,t,r))})}function D$(t,e,n,r){n&&!r&&e(t),Jv(t,i=>{D$(i,e,!0,r)}),n&&r&&e(t)}function _ie(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function xd(t){return new at(t.parent===null?t.name:xd(t.parent)+"/"+t.name)}function US(t){t.parent!==null&&vie(t.parent,t.name,t)}function vie(t,e,n){const r=mie(n),i=ls(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,US(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,US(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yie=/[\[\].#$\/\u0000-\u001F\u007F]/,wie=/[\[\].#$\u0000-\u001F\u007F]/,NE=10*1024*1024,HC=function(t){return typeof t=="string"&&t.length!==0&&!yie.test(t)},L$=function(t){return typeof t=="string"&&t.length!==0&&!wie.test(t)},Eie=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),L$(t)},Sie=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!vC(t)||t&&typeof t=="object"&&ls(t,".sv")},M$=function(t,e,n,r){r&&e===void 0||Zv(Vv(t,"value"),e,n)},Zv=function(t,e,n){const r=n instanceof at?new $ne(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ua(r));if(typeof e=="function")throw new Error(t+"contains a function "+Ua(r)+" with contents = "+e.toString());if(vC(e))throw new Error(t+"contains "+e.toString()+" "+Ua(r));if(typeof e=="string"&&e.length>NE/3&&Wv(e)>NE)throw new Error(t+"contains a string greater than "+NE+" utf8 bytes "+Ua(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Cn(e,(o,u)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!HC(o)))throw new Error(t+" contains an invalid key ("+o+") "+Ua(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Vne(r,o),Zv(t,u,r),Wne(r)}),i&&s)throw new Error(t+' contains ".value" child '+Ua(r)+" in addition to actual children.")}},Tie=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Bf(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!HC(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Fne);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&ri(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},Iie=function(t,e,n,r){if(r&&e===void 0)return;const i=Vv(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Cn(e,(o,u)=>{const l=new at(o);if(Zv(i,u,Lt(n,l)),TC(l)===".priority"&&!Sie(u))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),Tie(i,s)},U$=function(t,e,n,r){if(!(r&&n===void 0)&&!L$(n))throw new Error(Vv(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Cie=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),U$(t,e,n,r)},F$=function(t,e){if(Le(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Rie=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!HC(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Eie(n))throw new Error(Vv(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aie{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ey(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!IC(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function $$(t,e,n){ey(t,n),V$(t,r=>IC(r,e))}function ui(t,e,n){ey(t,n),V$(t,r=>ri(r,e)||ri(e,r))}function V$(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(Pie(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Pie(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Qa&&yn("event: "+n.toString()),Ac(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kie="repo_interrupt",bie=25;class Oie{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Aie,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=d_(),this.transactionQueueTree_=new BC,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Nie(t,e,n){if(t.stats_=EC(t.repoInfo_),t.forceRestClient_||lne())t.server_=new f_(t.repoInfo_,(r,i,s,o)=>{Nx(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>xx(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Zt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Ws(t.repoInfo_,e,(r,i,s,o)=>{Nx(t,r,i,s,o)},r=>{xx(t,r)},r=>{xie(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=pne(t.repoInfo_,()=>new dre(t.stats_,t.server_)),t.infoData_=new ure,t.infoSyncTree_=new bx({startListening:(r,i,s,o)=>{let u=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(u=Nd(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),u},stopListening:()=>{}}),qC(t,"connected",!1),t.serverSyncTree_=new bx({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(u,l)=>{const h=o(u,l);ui(t.eventQueue_,r._path,h)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function W$(t){const n=t.infoData_.getNode(new at(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ty(t){return die({timestamp:W$(t)})}function Nx(t,e,n,r,i){t.dataUpdateCount++;const s=new at(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=e_(n,h=>Jt(h));o=aie(t.serverSyncTree_,s,l,i)}else{const l=Jt(n);o=R$(t.serverSyncTree_,s,l,i)}else if(r){const l=e_(n,h=>Jt(h));o=iie(t.serverSyncTree_,s,l)}else{const l=Jt(n);o=Nd(t.serverSyncTree_,s,l)}let u=s;o.length>0&&(u=oc(t,s)),ui(t.eventQueue_,u,o)}function xx(t,e){qC(t,"connected",e),e===!1&&Uie(t)}function xie(t,e){Cn(e,(n,r)=>{qC(t,n,r)})}function qC(t,e,n){const r=new at("/.info/"+e),i=Jt(n);t.infoData_.updateSnapshot(r,i);const s=Nd(t.infoSyncTree_,r,i);ui(t.eventQueue_,r,s)}function GC(t){return t.nextWriteId_++}function Die(t,e,n){const r=uie(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Jt(i).withIndex(e._queryParams.getIndex());MS(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Nd(t.serverSyncTree_,e._path,s);else{const u=Yf(t.serverSyncTree_,e);o=R$(t.serverSyncTree_,e._path,s,u)}return ui(t.eventQueue_,e._path,o),E_(t.serverSyncTree_,e,n,null,!0),s},i=>(Dd(t,"get for query "+Zt(e)+" failed: "+i),Promise.reject(new Error(i))))}function Lie(t,e,n,r,i){Dd(t,"set",{path:e.toString(),value:n,priority:r});const s=ty(t),o=Jt(n,r),u=MC(t.serverSyncTree_,e),l=O$(o,u,s),h=GC(t),f=C$(t.serverSyncTree_,e,l,h,!0);ey(t.eventQueue_,f),t.server_.put(e.toString(),o.val(!0),(g,v)=>{const E=g==="ok";E||sr("set at "+e+" failed: "+g);const C=No(t.serverSyncTree_,h,!E);ui(t.eventQueue_,e,C),FS(t,i,g,v)});const p=KC(t,e);oc(t,p),ui(t.eventQueue_,p,[])}function Mie(t,e,n,r){Dd(t,"update",{path:e.toString(),value:n});let i=!0;const s=ty(t),o={};if(Cn(n,(u,l)=>{i=!1,o[u]=b$(Lt(e,u),Jt(l),t.serverSyncTree_,s)}),i)yn("update() called with empty data.  Don't do anything."),FS(t,r,"ok",void 0);else{const u=GC(t),l=rie(t.serverSyncTree_,e,o,u);ey(t.eventQueue_,l),t.server_.merge(e.toString(),n,(h,f)=>{const p=h==="ok";p||sr("update at "+e+" failed: "+h);const g=No(t.serverSyncTree_,u,!p),v=g.length>0?oc(t,e):e;ui(t.eventQueue_,v,g),FS(t,r,h,f)}),Cn(n,h=>{const f=KC(t,Lt(e,h));oc(t,f)}),ui(t.eventQueue_,e,[])}}function Uie(t){Dd(t,"onDisconnectEvents");const e=ty(t),n=d_();bS(t.onDisconnect_,Ke(),(i,s)=>{const o=b$(i,s,t.serverSyncTree_,e);c$(n,i,o)});let r=[];bS(n,Ke(),(i,s)=>{r=r.concat(Nd(t.serverSyncTree_,i,s));const o=KC(t,i);oc(t,o)}),t.onDisconnect_=d_(),ui(t.eventQueue_,Ke(),r)}function Fie(t,e,n){let r;Le(e._path)===".info"?r=MS(t.infoSyncTree_,e,n):r=MS(t.serverSyncTree_,e,n),$$(t.eventQueue_,e._path,r)}function Dx(t,e,n){let r;Le(e._path)===".info"?r=E_(t.infoSyncTree_,e,n):r=E_(t.serverSyncTree_,e,n),$$(t.eventQueue_,e._path,r)}function $ie(t){t.persistentConnection_&&t.persistentConnection_.interrupt(kie)}function Dd(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),yn(n,...e)}function FS(t,e,n,r){e&&Ac(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function j$(t,e,n){return MC(t.serverSyncTree_,e,n)||Ee.EMPTY_NODE}function YC(t,e=t.transactionQueueTree_){if(e||ny(t,e),kc(e)){const n=z$(t,e);ne(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Vie(t,xd(e),n)}else x$(e)&&Jv(e,n=>{YC(t,n)})}function Vie(t,e,n){const r=n.map(h=>h.currentWriteId),i=j$(t,e,r);let s=i;const o=i.hash();for(let h=0;h<n.length;h++){const f=n[h];ne(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const p=tr(e,f.path);s=s.updateChild(p,f.currentOutputSnapshotRaw)}const u=s.val(!0),l=e;t.server_.put(l.toString(),u,h=>{Dd(t,"transaction put response",{path:l.toString(),status:h});let f=[];if(h==="ok"){const p=[];for(let g=0;g<n.length;g++)n[g].status=2,f=f.concat(No(t.serverSyncTree_,n[g].currentWriteId)),n[g].onComplete&&p.push(()=>n[g].onComplete(null,!0,n[g].currentOutputSnapshotResolved)),n[g].unwatcher();ny(t,zC(t.transactionQueueTree_,e)),YC(t,t.transactionQueueTree_),ui(t.eventQueue_,e,f);for(let g=0;g<p.length;g++)Ac(p[g])}else{if(h==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{sr("transaction at "+l.toString()+" failed: "+h);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=h}oc(t,e)}},o)}function oc(t,e){const n=B$(t,e),r=xd(n),i=z$(t,n);return Wie(t,i,r),r}function Wie(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(u=>u.status===0).map(u=>u.currentWriteId);for(let u=0;u<e.length;u++){const l=e[u],h=tr(n,l.path);let f=!1,p;if(ne(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)f=!0,p=l.abortReason,i=i.concat(No(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=bie)f=!0,p="maxretry",i=i.concat(No(t.serverSyncTree_,l.currentWriteId,!0));else{const g=j$(t,l.path,o);l.currentInputSnapshot=g;const v=e[u].update(g.val());if(v!==void 0){Zv("transaction failed: Data returned ",v,l.path);let E=Jt(v);typeof v=="object"&&v!=null&&ls(v,".priority")||(E=E.updatePriority(g.getPriority()));const R=l.currentWriteId,S=ty(t),T=O$(E,g,S);l.currentOutputSnapshotRaw=E,l.currentOutputSnapshotResolved=T,l.currentWriteId=GC(t),o.splice(o.indexOf(R),1),i=i.concat(C$(t.serverSyncTree_,l.path,T,l.currentWriteId,l.applyLocally)),i=i.concat(No(t.serverSyncTree_,R,!0))}else f=!0,p="nodata",i=i.concat(No(t.serverSyncTree_,l.currentWriteId,!0))}ui(t.eventQueue_,n,i),i=[],f&&(e[u].status=2,function(g){setTimeout(g,Math.floor(0))}(e[u].unwatcher),e[u].onComplete&&(p==="nodata"?r.push(()=>e[u].onComplete(null,!1,e[u].currentInputSnapshot)):r.push(()=>e[u].onComplete(new Error(p),!1,null))))}ny(t,t.transactionQueueTree_);for(let u=0;u<r.length;u++)Ac(r[u]);YC(t,t.transactionQueueTree_)}function B$(t,e){let n,r=t.transactionQueueTree_;for(n=Le(e);n!==null&&kc(r)===void 0;)r=zC(r,n),e=dt(e),n=Le(e);return r}function z$(t,e){const n=[];return H$(t,e,n),n.sort((r,i)=>r.order-i.order),n}function H$(t,e,n){const r=kc(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Jv(e,i=>{H$(t,i,n)})}function ny(t,e){const n=kc(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,N$(e,n.length>0?n:void 0)}Jv(e,r=>{ny(t,r)})}function KC(t,e){const n=xd(B$(t,e)),r=zC(t.transactionQueueTree_,e);return _ie(r,i=>{xE(t,i)}),xE(t,r),D$(r,i=>{xE(t,i)}),n}function xE(t,e){const n=kc(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(ne(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(ne(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(No(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?N$(e,void 0):n.length=s+1,ui(t.eventQueue_,xd(e),i);for(let o=0;o<r.length;o++)Ac(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jie(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Bie(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):sr(`Invalid query segment '${n}' in query '${t}'`)}return e}const Lx=function(t,e){const n=zie(t),r=n.namespace;n.domain==="firebase.com"&&Xs(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Xs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||ene();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new GF(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new at(n.pathString)}},zie=function(t){let e="",n="",r="",i="",s="",o=!0,u="https",l=443;if(typeof t=="string"){let h=t.indexOf("//");h>=0&&(u=t.substring(0,h-1),t=t.substring(h+2));let f=t.indexOf("/");f===-1&&(f=t.length);let p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(f,p)),f<p&&(i=jie(t.substring(f,p)));const g=Bie(t.substring(Math.min(t.length,p)));h=e.indexOf(":"),h>=0?(o=u==="https"||u==="wss",l=parseInt(e.substring(h+1),10)):h=e.length;const v=e.slice(0,h);if(v.toLowerCase()==="localhost")n="localhost";else if(v.split(".").length<=2)n=v;else{const E=e.indexOf(".");r=e.substring(0,E).toLowerCase(),n=e.substring(E+1),s=r}"ns"in g&&(s=g.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:u,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Hie=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Mx.charAt(n%64),n=Math.floor(n/64);ne(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=Mx.charAt(e[i]);return ne(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Zt(this.snapshot.exportVal())}}class G${constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y${constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return ne(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return $e(this._path)?null:TC(this._path)}get ref(){return new cs(this._repo,this._path)}get _queryIdentifier(){const e=wx(this._queryParams),n=yC(e);return n==="{}"?"default":n}get _queryObject(){return wx(this._queryParams)}isEqual(e){if(e=ct(e),!(e instanceof QC))return!1;const n=this._repo===e._repo,r=IC(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Une(this._path)}}class cs extends QC{constructor(e,n){super(e,n,new PC,!1)}get parent(){const e=n$(this._path);return e===null?null:new cs(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class ac{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new at(e),r=Js(this.ref,e);return new ac(this._node.getChild(n),r,Mt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new ac(i,Js(this.ref,r),Mt)))}hasChild(e){const n=new at(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function er(t,e){return t=ct(t),t._checkNotDeleted("ref"),e!==void 0?Js(t._root,e):t._root}function Js(t,e){return t=ct(t),Le(t._path)===null?Cie("child","path",e,!1):U$("child","path",e,!1),new cs(t._repo,Lt(t._path,e))}function qie(t,e){t=ct(t),F$("push",t._path),M$("push",e,t._path,!0);const n=W$(t._repo),r=Hie(n),i=Js(t,r),s=Js(t,r);let o;return e!=null?o=nf(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function nf(t,e){t=ct(t),F$("set",t._path),M$("set",e,t._path,!1);const n=new Sd;return Lie(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Ul(t,e){Iie("update",e,t._path,!1);const n=new Sd;return Mie(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function $S(t){t=ct(t);const e=new Y$(()=>{}),n=new ry(e);return Die(t._repo,t,n).then(r=>new ac(r,new cs(t._repo,t._path),t._queryParams.getIndex()))}class ry{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new q$("value",this,new ac(e.snapshotNode,new cs(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new G$(this,e,n):null}matches(e){return e instanceof ry?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class XC{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new G$(this,e,n):null}createEvent(e,n){ne(e.childName!=null,"Child events should have a childName.");const r=Js(new cs(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new q$(e.type,this,new ac(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof XC?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Gie(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,h=(f,p)=>{Dx(t._repo,t,u),l(f,p)};h.userCallback=n.userCallback,h.context=n.context,n=h}const o=new Y$(n,s||void 0),u=e==="value"?new ry(o):new XC(e,o);return Fie(t._repo,t,u),()=>Dx(t._repo,t,u)}function K$(t,e,n,r){return Gie(t,"value",e,n,r)}Kre(cs);eie(cs);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yie="FIREBASE_DATABASE_EMULATOR_HOST",VS={};let Kie=!1;function Qie(t,e,n,r){t.repoInfo_=new GF(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function Xie(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Xs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),yn("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Lx(s,i),u=o.repoInfo,l,h;typeof process<"u"&&process.env&&(h=process.env[Yie]),h?(l=!0,s=`http://${h}?ns=${u.namespace}`,o=Lx(s,i),u=o.repoInfo):l=!o.repoInfo.secure;const f=i&&l?new Ll(Ll.OWNER):new hne(t.name,t.options,e);Rie("Invalid Firebase Database URL",o),$e(o.path)||Xs("Database URL must point to the root of a Firebase Database (not including a child path).");const p=Zie(u,t,f,new cne(t.name,n));return new ese(p,t)}function Jie(t,e){const n=VS[e];(!n||n[t.key]!==t)&&Xs(`Database ${e}(${t.repoInfo_}) has already been deleted.`),$ie(t),delete n[t.key]}function Zie(t,e,n,r){let i=VS[e.name];i||(i={},VS[e.name]=i);let s=i[t.toURLString()];return s&&Xs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Oie(t,Kie,n,r),i[t.toURLString()]=s,s}class ese{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Nie(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new cs(this._repo,Ke())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Jie(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Xs("Cannot call "+e+" on a deleted database.")}}function JC(t=Bv(),e){const n=Id(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=sC("database");r&&tse(n,...r)}return n}function tse(t,e,n,r={}){t=ct(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Xs("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Xs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ll(Ll.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:oC(r.mockUserToken,t.app.options.projectId);s=new Ll(o)}Qie(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nse(t){Kte(_a),oa(new Ks("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Xie(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),si(rx,ix,t),si(rx,ix,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rse={".sv":"timestamp"};function WS(){return rse}Ws.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ws.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};nse();var ise=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oe,ZC=ZC||{},Ce=ise||self;function iy(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ld(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function sse(t){return Object.prototype.hasOwnProperty.call(t,DE)&&t[DE]||(t[DE]=++ose)}var DE="closure_uid_"+(1e9*Math.random()>>>0),ose=0;function ase(t,e,n){return t.call.apply(t.bind,arguments)}function use(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function $n(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?$n=ase:$n=use,$n.apply(null,arguments)}function pg(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function hn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),u=2;u<arguments.length;u++)o[u-2]=arguments[u];return e.prototype[i].apply(r,o)}}function va(){this.s=this.s,this.o=this.o}var lse=0;va.prototype.s=!1;va.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),lse!=0)&&sse(this)};va.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Q$=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function eR(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ux(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(iy(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Vn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Vn.prototype.h=function(){this.defaultPrevented=!0};var cse=function(){if(!Ce.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ce.addEventListener("test",()=>{},e),Ce.removeEventListener("test",()=>{},e)}catch{}return t}();function Kf(t){return/^[\s\xa0]*$/.test(t)}function sy(){var t=Ce.navigator;return t&&(t=t.userAgent)?t:""}function Gi(t){return sy().indexOf(t)!=-1}function tR(t){return tR[" "](t),t}tR[" "]=function(){};function hse(t,e){var n=roe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var fse=Gi("Opera"),uc=Gi("Trident")||Gi("MSIE"),X$=Gi("Edge"),jS=X$||uc,J$=Gi("Gecko")&&!(sy().toLowerCase().indexOf("webkit")!=-1&&!Gi("Edge"))&&!(Gi("Trident")||Gi("MSIE"))&&!Gi("Edge"),dse=sy().toLowerCase().indexOf("webkit")!=-1&&!Gi("Edge");function Z$(){var t=Ce.document;return t?t.documentMode:void 0}var BS;e:{var LE="",ME=function(){var t=sy();if(J$)return/rv:([^\);]+)(\)|;)/.exec(t);if(X$)return/Edge\/([\d\.]+)/.exec(t);if(uc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(dse)return/WebKit\/(\S+)/.exec(t);if(fse)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(ME&&(LE=ME?ME[1]:""),uc){var UE=Z$();if(UE!=null&&UE>parseFloat(LE)){BS=String(UE);break e}}BS=LE}var zS;if(Ce.document&&uc){var Fx=Z$();zS=Fx||parseInt(BS,10)||void 0}else zS=void 0;var pse=zS;function Qf(t,e){if(Vn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(J$){e:{try{tR(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:gse[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Qf.$.h.call(this)}}hn(Qf,Vn);var gse={2:"touch",3:"pen",4:"mouse"};Qf.prototype.h=function(){Qf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Md="closure_listenable_"+(1e6*Math.random()|0),mse=0;function _se(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++mse,this.fa=this.ia=!1}function oy(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function nR(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function vse(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function eV(t){const e={};for(const n in t)e[n]=t[n];return e}const $x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tV(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<$x.length;s++)n=$x[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ay(t){this.src=t,this.g={},this.h=0}ay.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=qS(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new _se(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function HS(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Q$(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(oy(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function qS(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var rR="closure_lm_"+(1e6*Math.random()|0),FE={};function nV(t,e,n,r,i){if(r&&r.once)return iV(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)nV(t,e[s],n,r,i);return null}return n=oR(n),t&&t[Md]?t.O(e,n,Ld(r)?!!r.capture:!!r,i):rV(t,e,n,!1,r,i)}function rV(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ld(i)?!!i.capture:!!i,u=sR(t);if(u||(t[rR]=u=new ay(t)),n=u.add(e,n,r,o,s),n.proxy)return n;if(r=yse(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)cse||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(oV(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function yse(){function t(n){return e.call(t.src,t.listener,n)}const e=wse;return t}function iV(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)iV(t,e[s],n,r,i);return null}return n=oR(n),t&&t[Md]?t.P(e,n,Ld(r)?!!r.capture:!!r,i):rV(t,e,n,!0,r,i)}function sV(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)sV(t,e[s],n,r,i);else r=Ld(r)?!!r.capture:!!r,n=oR(n),t&&t[Md]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=qS(s,n,r,i),-1<n&&(oy(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=sR(t))&&(e=t.g[e.toString()],t=-1,e&&(t=qS(e,n,r,i)),(n=-1<t?e[t]:null)&&iR(n))}function iR(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Md])HS(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(oV(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=sR(e))?(HS(n,t),n.h==0&&(n.src=null,e[rR]=null)):oy(t)}}}function oV(t){return t in FE?FE[t]:FE[t]="on"+t}function wse(t,e){if(t.fa)t=!0;else{e=new Qf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&iR(t),t=n.call(r,e)}return t}function sR(t){return t=t[rR],t instanceof ay?t:null}var $E="__closure_events_fn_"+(1e9*Math.random()>>>0);function oR(t){return typeof t=="function"?t:(t[$E]||(t[$E]=function(e){return t.handleEvent(e)}),t[$E])}function ln(){va.call(this),this.i=new ay(this),this.S=this,this.J=null}hn(ln,va);ln.prototype[Md]=!0;ln.prototype.removeEventListener=function(t,e,n,r){sV(this,t,e,n,r)};function Tn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Vn(e,t);else if(e instanceof Vn)e.target=e.target||t;else{var i=e;e=new Vn(r,t),tV(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=gg(o,r,!0,e)&&i}if(o=e.g=t,i=gg(o,r,!0,e)&&i,i=gg(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=gg(o,r,!1,e)&&i}ln.prototype.N=function(){if(ln.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)oy(n[r]);delete t.g[e],t.h--}}this.J=null};ln.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ln.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function gg(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var u=o.listener,l=o.la||o.src;o.ia&&HS(t.i,o),i=u.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var aR=Ce.JSON.stringify;class Ese{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Sse(){var t=uR;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Tse{constructor(){this.h=this.g=null}add(e,n){const r=aV.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var aV=new Ese(()=>new Ise,t=>t.reset());class Ise{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Cse(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Rse(t){Ce.setTimeout(()=>{throw t},0)}let Xf,Jf=!1,uR=new Tse,uV=()=>{const t=Ce.Promise.resolve(void 0);Xf=()=>{t.then(Ase)}};var Ase=()=>{for(var t;t=Sse();){try{t.h.call(t.g)}catch(n){Rse(n)}var e=aV;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Jf=!1};function uy(t,e){ln.call(this),this.h=t||1,this.g=e||Ce,this.j=$n(this.qb,this),this.l=Date.now()}hn(uy,ln);oe=uy.prototype;oe.ga=!1;oe.T=null;oe.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Tn(this,"tick"),this.ga&&(lR(this),this.start()))}};oe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function lR(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}oe.N=function(){uy.$.N.call(this),lR(this),delete this.g};function cR(t,e,n){if(typeof t=="function")n&&(t=$n(t,n));else if(t&&typeof t.handleEvent=="function")t=$n(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ce.setTimeout(t,e||0)}function lV(t){t.g=cR(()=>{t.g=null,t.i&&(t.i=!1,lV(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Pse extends va{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lV(this)}N(){super.N(),this.g&&(Ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zf(t){va.call(this),this.h=t,this.g={}}hn(Zf,va);var Vx=[];function cV(t,e,n,r){Array.isArray(n)||(n&&(Vx[0]=n.toString()),n=Vx);for(var i=0;i<n.length;i++){var s=nV(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function hV(t){nR(t.g,function(e,n){this.g.hasOwnProperty(n)&&iR(e)},t),t.g={}}Zf.prototype.N=function(){Zf.$.N.call(this),hV(this)};Zf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ly(){this.g=!0}ly.prototype.Ea=function(){this.g=!1};function kse(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",u=s.split("&"),l=0;l<u.length;l++){var h=u[l].split("=");if(1<h.length){var f=h[0];h=h[1];var p=f.split("_");o=2<=p.length&&p[1]=="type"?o+(f+"="+h+"&"):o+(f+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function bse(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Sl(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Nse(t,n)+(r?" "+r:"")})}function Ose(t,e){t.info(function(){return"TIMEOUT: "+e})}ly.prototype.info=function(){};function Nse(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return aR(n)}catch{return e}}var Pu={},Wx=null;function cy(){return Wx=Wx||new ln}Pu.Ta="serverreachability";function fV(t){Vn.call(this,Pu.Ta,t)}hn(fV,Vn);function ed(t){const e=cy();Tn(e,new fV(e))}Pu.STAT_EVENT="statevent";function dV(t,e){Vn.call(this,Pu.STAT_EVENT,t),this.stat=e}hn(dV,Vn);function nr(t){const e=cy();Tn(e,new dV(e,t))}Pu.Ua="timingevent";function pV(t,e){Vn.call(this,Pu.Ua,t),this.size=e}hn(pV,Vn);function Ud(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ce.setTimeout(function(){t()},e)}var hy={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},gV={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function hR(){}hR.prototype.h=null;function jx(t){return t.h||(t.h=t.i())}function mV(){}var Fd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function fR(){Vn.call(this,"d")}hn(fR,Vn);function dR(){Vn.call(this,"c")}hn(dR,Vn);var GS;function fy(){}hn(fy,hR);fy.prototype.g=function(){return new XMLHttpRequest};fy.prototype.i=function(){return{}};GS=new fy;function $d(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Zf(this),this.P=xse,t=jS?125:void 0,this.V=new uy(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new _V}function _V(){this.i=null,this.g="",this.h=!1}var xse=45e3,YS={},S_={};oe=$d.prototype;oe.setTimeout=function(t){this.P=t};function KS(t,e,n){t.L=1,t.v=py(Zs(e)),t.s=n,t.S=!0,vV(t,null)}function vV(t,e){t.G=Date.now(),Vd(t),t.A=Zs(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),RV(n.i,"t",r),t.C=0,n=t.l.J,t.h=new _V,t.g=GV(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Pse($n(t.Pa,t,t.g),t.O)),cV(t.U,t.g,"readystatechange",t.nb),e=t.I?eV(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),ed(),kse(t.j,t.u,t.A,t.m,t.W,t.s)}oe.nb=function(t){t=t.target;const e=this.M;e&&Qi(t)==3?e.l():this.Pa(t)};oe.Pa=function(t){try{if(t==this.g)e:{const f=Qi(this.g);var e=this.g.Ia();const p=this.g.da();if(!(3>f)&&(f!=3||jS||this.g&&(this.h.h||this.g.ja()||qx(this.g)))){this.J||f!=4||e==7||(e==8||0>=p?ed(3):ed(2)),dy(this);var n=this.g.da();this.ca=n;t:if(yV(this)){var r=qx(this.g);t="";var i=r.length,s=Qi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ba(this),rf(this);var o="";break t}this.h.i=new Ce.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,bse(this.j,this.u,this.A,this.m,this.W,f,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kf(u)){var h=u;break t}}h=null}if(n=h)Sl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,QS(this,n);else{this.i=!1,this.o=3,nr(12),Ba(this),rf(this);break e}}this.S?(wV(this,f,o),jS&&this.i&&f==3&&(cV(this.U,this.V,"tick",this.mb),this.V.start())):(Sl(this.j,this.m,o,null),QS(this,o)),f==4&&Ba(this),this.i&&!this.J&&(f==4?BV(this.l,this):(this.i=!1,Vd(this)))}else eoe(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,nr(12)):(this.o=0,nr(13)),Ba(this),rf(this)}}}catch{}finally{}};function yV(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function wV(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=Dse(t,n),i==S_){e==4&&(t.o=4,nr(14),r=!1),Sl(t.j,t.m,null,"[Incomplete Response]");break}else if(i==YS){t.o=4,nr(15),Sl(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Sl(t.j,t.m,i,null),QS(t,i);yV(t)&&i!=S_&&i!=YS&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,nr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),yR(e),e.M=!0,nr(11))):(Sl(t.j,t.m,n,"[Invalid Chunked Response]"),Ba(t),rf(t))}oe.mb=function(){if(this.g){var t=Qi(this.g),e=this.g.ja();this.C<e.length&&(dy(this),wV(this,t,e),this.i&&t!=4&&Vd(this))}};function Dse(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?S_:(n=Number(e.substring(n,r)),isNaN(n)?YS:(r+=1,r+n>e.length?S_:(e=e.slice(r,r+n),t.C=r+n,e)))}oe.cancel=function(){this.J=!0,Ba(this)};function Vd(t){t.Y=Date.now()+t.P,EV(t,t.P)}function EV(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Ud($n(t.lb,t),e)}function dy(t){t.B&&(Ce.clearTimeout(t.B),t.B=null)}oe.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(Ose(this.j,this.A),this.L!=2&&(ed(),nr(17)),Ba(this),this.o=2,rf(this)):EV(this,this.Y-t)};function rf(t){t.l.H==0||t.J||BV(t.l,t)}function Ba(t){dy(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,lR(t.V),hV(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function QS(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||XS(n.i,t))){if(!t.K&&XS(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)C_(n),_y(n);else break e;vR(n),nr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ud($n(n.ib,n),6e3));if(1>=kV(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else za(n,11)}else if((t.K||n.g==t)&&C_(n),!Kf(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let h=i[e];if(n.V=h[0],h=h[1],n.H==2)if(h[0]=="c"){n.K=h[1],n.pa=h[2];const f=h[3];f!=null&&(n.ra=f,n.l.info("VER="+n.ra));const p=h[4];p!=null&&(n.Ga=p,n.l.info("SVER="+n.Ga));const g=h[5];g!=null&&typeof g=="number"&&0<g&&(r=1.5*g,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const v=t.g;if(v){const E=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(E){var s=r.i;s.g||E.indexOf("spdy")==-1&&E.indexOf("quic")==-1&&E.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(pR(s,s.h),s.h=null))}if(r.F){const C=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(r.Da=C,_t(r.I,r.F,C))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=qV(r,r.J?r.pa:null,r.Y),o.K){bV(r.i,o);var u=o,l=r.L;l&&u.setTimeout(l),u.B&&(dy(u),Vd(u)),r.g=o}else WV(r);0<n.j.length&&vy(n)}else h[0]!="stop"&&h[0]!="close"||za(n,7);else n.H==3&&(h[0]=="stop"||h[0]=="close"?h[0]=="stop"?za(n,7):_R(n):h[0]!="noop"&&n.h&&n.h.Aa(h),n.A=0)}}ed(4)}catch{}}function Lse(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(iy(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Mse(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(iy(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function SV(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(iy(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Mse(t),r=Lse(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var TV=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Use(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Xa(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Xa){this.h=t.h,T_(this,t.j),this.s=t.s,this.g=t.g,I_(this,t.m),this.l=t.l;var e=t.i,n=new td;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Bx(this,n),this.o=t.o}else t&&(e=String(t).match(TV))?(this.h=!1,T_(this,e[1]||"",!0),this.s=Mh(e[2]||""),this.g=Mh(e[3]||"",!0),I_(this,e[4]),this.l=Mh(e[5]||"",!0),Bx(this,e[6]||"",!0),this.o=Mh(e[7]||"")):(this.h=!1,this.i=new td(null,this.h))}Xa.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Uh(e,zx,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Uh(e,zx,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Uh(n,n.charAt(0)=="/"?Vse:$se,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Uh(n,jse)),t.join("")};function Zs(t){return new Xa(t)}function T_(t,e,n){t.j=n?Mh(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function I_(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Bx(t,e,n){e instanceof td?(t.i=e,Bse(t.i,t.h)):(n||(e=Uh(e,Wse)),t.i=new td(e,t.h))}function _t(t,e,n){t.i.set(e,n)}function py(t){return _t(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Mh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Uh(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Fse),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Fse(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var zx=/[#\/\?@]/g,$se=/[#\?:]/g,Vse=/[#\?]/g,Wse=/[#\?@]/g,jse=/#/g;function td(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ya(t){t.g||(t.g=new Map,t.h=0,t.i&&Use(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}oe=td.prototype;oe.add=function(t,e){ya(this),this.i=null,t=bc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function IV(t,e){ya(t),e=bc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function CV(t,e){return ya(t),e=bc(t,e),t.g.has(e)}oe.forEach=function(t,e){ya(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};oe.ta=function(){ya(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};oe.Z=function(t){ya(this);let e=[];if(typeof t=="string")CV(this,t)&&(e=e.concat(this.g.get(bc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};oe.set=function(t,e){return ya(this),this.i=null,t=bc(this,t),CV(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};oe.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function RV(t,e,n){IV(t,e),0<n.length&&(t.i=null,t.g.set(bc(t,e),eR(n)),t.h+=n.length)}oe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function bc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Bse(t,e){e&&!t.j&&(ya(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(IV(this,r),RV(this,i,n))},t)),t.j=e}var zse=class{constructor(t,e){this.g=t,this.map=e}};function AV(t){this.l=t||Hse,Ce.PerformanceNavigationTiming?(t=Ce.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ce.g&&Ce.g.Ka&&Ce.g.Ka()&&Ce.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Hse=10;function PV(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function kV(t){return t.h?1:t.g?t.g.size:0}function XS(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function pR(t,e){t.g?t.g.add(e):t.h=e}function bV(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}AV.prototype.cancel=function(){if(this.i=OV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function OV(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return eR(t.i)}var qse=class{stringify(t){return Ce.JSON.stringify(t,void 0)}parse(t){return Ce.JSON.parse(t,void 0)}};function Gse(){this.g=new qse}function Yse(t,e,n){const r=n||"";try{SV(t,function(i,s){let o=i;Ld(i)&&(o=aR(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Kse(t,e){const n=new ly;if(Ce.Image){const r=new Image;r.onload=pg(mg,n,r,"TestLoadImage: loaded",!0,e),r.onerror=pg(mg,n,r,"TestLoadImage: error",!1,e),r.onabort=pg(mg,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=pg(mg,n,r,"TestLoadImage: timeout",!1,e),Ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function mg(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Wd(t){this.l=t.fc||null,this.j=t.ob||!1}hn(Wd,hR);Wd.prototype.g=function(){return new gy(this.l,this.j)};Wd.prototype.i=function(t){return function(){return t}}({});function gy(t,e){ln.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=gR,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hn(gy,ln);var gR=0;oe=gy.prototype;oe.open=function(t,e){if(this.readyState!=gR)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,nd(this)};oe.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ce).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};oe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jd(this)),this.readyState=gR};oe.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,nd(this)),this.g&&(this.readyState=3,nd(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ce.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;NV(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function NV(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}oe.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?jd(this):nd(this),this.readyState==3&&NV(this)}};oe.Za=function(t){this.g&&(this.response=this.responseText=t,jd(this))};oe.Ya=function(t){this.g&&(this.response=t,jd(this))};oe.ka=function(){this.g&&jd(this)};function jd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,nd(t)}oe.setRequestHeader=function(t,e){this.v.append(t,e)};oe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};oe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function nd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(gy.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Qse=Ce.JSON.parse;function Ut(t){ln.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=xV,this.L=this.M=!1}hn(Ut,ln);var xV="",Xse=/^https?$/i,Jse=["POST","PUT"];oe=Ut.prototype;oe.Oa=function(t){this.M=t};oe.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():GS.g(),this.C=this.u?jx(this.u):jx(GS),this.g.onreadystatechange=$n(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){Hx(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Ce.FormData&&t instanceof Ce.FormData,!(0<=Q$(Jse,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{MV(this),0<this.B&&((this.L=Zse(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$n(this.ua,this)):this.A=cR(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Hx(this,s)}};function Zse(t){return uc&&typeof t.timeout=="number"&&t.ontimeout!==void 0}oe.ua=function(){typeof ZC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tn(this,"timeout"),this.abort(8))};function Hx(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,DV(t),my(t)}function DV(t){t.F||(t.F=!0,Tn(t,"complete"),Tn(t,"error"))}oe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Tn(this,"complete"),Tn(this,"abort"),my(this))};oe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),my(this,!0)),Ut.$.N.call(this)};oe.La=function(){this.s||(this.G||this.v||this.l?LV(this):this.kb())};oe.kb=function(){LV(this)};function LV(t){if(t.h&&typeof ZC<"u"&&(!t.C[1]||Qi(t)!=4||t.da()!=2)){if(t.v&&Qi(t)==4)cR(t.La,0,t);else if(Tn(t,"readystatechange"),Qi(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(TV)[1]||null;!i&&Ce.self&&Ce.self.location&&(i=Ce.self.location.protocol.slice(0,-1)),r=!Xse.test(i?i.toLowerCase():"")}n=r}if(n)Tn(t,"complete"),Tn(t,"success");else{t.m=6;try{var s=2<Qi(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",DV(t)}}finally{my(t)}}}}function my(t,e){if(t.g){MV(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Tn(t,"ready");try{n.onreadystatechange=r}catch{}}}function MV(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ce.clearTimeout(t.A),t.A=null)}oe.isActive=function(){return!!this.g};function Qi(t){return t.g?t.g.readyState:0}oe.da=function(){try{return 2<Qi(this)?this.g.status:-1}catch{return-1}};oe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};oe.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Qse(e)}};function qx(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case xV:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function eoe(t){const e={};t=(t.g&&2<=Qi(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Kf(t[r]))continue;var n=Cse(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}vse(e,function(r){return r.join(", ")})}oe.Ia=function(){return this.m};oe.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function UV(t){let e="";return nR(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function mR(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=UV(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):_t(t,e,n))}function Eh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function FV(t){this.Ga=0,this.j=[],this.l=new ly,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Eh("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Eh("baseRetryDelayMs",5e3,t),this.hb=Eh("retryDelaySeedMs",1e4,t),this.eb=Eh("forwardChannelMaxRetries",2,t),this.xa=Eh("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new AV(t&&t.concurrentRequestLimit),this.Ja=new Gse,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}oe=FV.prototype;oe.ra=8;oe.H=1;function _R(t){if($V(t),t.H==3){var e=t.W++,n=Zs(t.I);if(_t(n,"SID",t.K),_t(n,"RID",e),_t(n,"TYPE","terminate"),Bd(t,n),e=new $d(t,t.l,e),e.L=2,e.v=py(Zs(n)),n=!1,Ce.navigator&&Ce.navigator.sendBeacon)try{n=Ce.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Ce.Image&&(new Image().src=e.v,n=!0),n||(e.g=GV(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Vd(e)}HV(t)}function _y(t){t.g&&(yR(t),t.g.cancel(),t.g=null)}function $V(t){_y(t),t.u&&(Ce.clearTimeout(t.u),t.u=null),C_(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ce.clearTimeout(t.m),t.m=null)}function vy(t){if(!PV(t.i)&&!t.m){t.m=!0;var e=t.Na;Xf||uV(),Jf||(Xf(),Jf=!0),uR.add(e,t),t.C=0}}function toe(t,e){return kV(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ud($n(t.Na,t,e),zV(t,t.C)),t.C++,!0)}oe.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new $d(this,this.l,t);let s=this.s;if(this.U&&(s?(s=eV(s),tV(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=VV(this,i,e),n=Zs(this.I),_t(n,"RID",t),_t(n,"CVER",22),this.F&&_t(n,"X-HTTP-Session-Id",this.F),Bd(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(UV(s)))+"&"+e:this.o&&mR(n,this.o,s)),pR(this.i,i),this.bb&&_t(n,"TYPE","init"),this.P?(_t(n,"$req",e),_t(n,"SID","null"),i.aa=!0,KS(i,n,null)):KS(i,n,e),this.H=2}}else this.H==3&&(t?Gx(this,t):this.j.length==0||PV(this.i)||Gx(this))};function Gx(t,e){var n;e?n=e.m:n=t.W++;const r=Zs(t.I);_t(r,"SID",t.K),_t(r,"RID",n),_t(r,"AID",t.V),Bd(t,r),t.o&&t.s&&mR(r,t.o,t.s),n=new $d(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=VV(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),pR(t.i,n),KS(n,r,e)}function Bd(t,e){t.na&&nR(t.na,function(n,r){_t(e,r,n)}),t.h&&SV({},function(n,r){_t(e,r,n)})}function VV(t,e,n){n=Math.min(t.j.length,n);var r=t.h?$n(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let u=!0;for(let l=0;l<n;l++){let h=i[l].g;const f=i[l].map;if(h-=s,0>h)s=Math.max(0,i[l].g-100),u=!1;else try{Yse(f,o,"req"+h+"_")}catch{r&&r(f)}}if(u){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function WV(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Xf||uV(),Jf||(Xf(),Jf=!0),uR.add(e,t),t.A=0}}function vR(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ud($n(t.Ma,t),zV(t,t.A)),t.A++,!0)}oe.Ma=function(){if(this.u=null,jV(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ud($n(this.jb,this),t)}};oe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,nr(10),_y(this),jV(this))};function yR(t){t.B!=null&&(Ce.clearTimeout(t.B),t.B=null)}function jV(t){t.g=new $d(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Zs(t.wa);_t(e,"RID","rpc"),_t(e,"SID",t.K),_t(e,"AID",t.V),_t(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&_t(e,"TO",t.qa),_t(e,"TYPE","xmlhttp"),Bd(t,e),t.o&&t.s&&mR(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=py(Zs(e)),n.s=null,n.S=!0,vV(n,t)}oe.ib=function(){this.v!=null&&(this.v=null,_y(this),vR(this),nr(19))};function C_(t){t.v!=null&&(Ce.clearTimeout(t.v),t.v=null)}function BV(t,e){var n=null;if(t.g==e){C_(t),yR(t),t.g=null;var r=2}else if(XS(t.i,e))n=e.F,bV(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=cy(),Tn(r,new pV(r,n)),vy(t)}else WV(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&toe(t,e)||r==2&&vR(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:za(t,5);break;case 4:za(t,10);break;case 3:za(t,6);break;default:za(t,2)}}}function zV(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function za(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=$n(t.pb,t);n||(n=new Xa("//www.google.com/images/cleardot.gif"),Ce.location&&Ce.location.protocol=="http"||T_(n,"https"),py(n)),Kse(n.toString(),r)}else nr(2);t.H=0,t.h&&t.h.za(e),HV(t),$V(t)}oe.pb=function(t){t?(this.l.info("Successfully pinged google.com"),nr(2)):(this.l.info("Failed to ping google.com"),nr(1))};function HV(t){if(t.H=0,t.ma=[],t.h){const e=OV(t.i);(e.length!=0||t.j.length!=0)&&(Ux(t.ma,e),Ux(t.ma,t.j),t.i.i.length=0,eR(t.j),t.j.length=0),t.h.ya()}}function qV(t,e,n){var r=n instanceof Xa?Zs(n):new Xa(n);if(r.g!="")e&&(r.g=e+"."+r.g),I_(r,r.m);else{var i=Ce.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Xa(null);r&&T_(s,r),e&&(s.g=e),i&&I_(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&_t(r,n,e),_t(r,"VER",t.ra),Bd(t,r),r}function GV(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Ut(new Wd({ob:!0})):new Ut(t.va),e.Oa(t.J),e}oe.isActive=function(){return!!this.h&&this.h.isActive(this)};function YV(){}oe=YV.prototype;oe.Ba=function(){};oe.Aa=function(){};oe.za=function(){};oe.ya=function(){};oe.isActive=function(){return!0};oe.Va=function(){};function R_(){if(uc&&!(10<=Number(pse)))throw Error("Environmental error: no available transport.")}R_.prototype.g=function(t,e){return new Mr(t,e)};function Mr(t,e){ln.call(this),this.g=new FV(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Kf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Kf(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Oc(this)}hn(Mr,ln);Mr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;nr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=qV(t,null,t.Y),vy(t)};Mr.prototype.close=function(){_R(this.g)};Mr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=aR(t),t=n);e.j.push(new zse(e.fb++,t)),e.H==3&&vy(e)};Mr.prototype.N=function(){this.g.h=null,delete this.j,_R(this.g),delete this.g,Mr.$.N.call(this)};function KV(t){fR.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}hn(KV,fR);function QV(){dR.call(this),this.status=1}hn(QV,dR);function Oc(t){this.g=t}hn(Oc,YV);Oc.prototype.Ba=function(){Tn(this.g,"a")};Oc.prototype.Aa=function(t){Tn(this.g,new KV(t))};Oc.prototype.za=function(t){Tn(this.g,new QV)};Oc.prototype.ya=function(){Tn(this.g,"b")};function noe(){this.blockSize=-1}function xi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}hn(xi,noe);xi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function VE(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}xi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)VE(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){VE(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){VE(this,r),i=0;break}}this.h=i,this.i+=e};xi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function it(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var roe={};function wR(t){return-128<=t&&128>t?hse(t,function(e){return new it([e|0],0>e?-1:0)}):new it([t|0],0>t?-1:0)}function Xi(t){if(isNaN(t)||!isFinite(t))return Fl;if(0>t)return wn(Xi(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=JS;return new it(e,0)}function XV(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return wn(XV(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Xi(Math.pow(e,8)),r=Fl,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Xi(Math.pow(e,s)),r=r.R(s).add(Xi(o))):(r=r.R(n),r=r.add(Xi(o)))}return r}var JS=4294967296,Fl=wR(0),ZS=wR(1),Yx=wR(16777216);oe=it.prototype;oe.ea=function(){if(ei(this))return-wn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:JS+r)*e,e*=JS}return t};oe.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ms(this))return"0";if(ei(this))return"-"+wn(this).toString(t);for(var e=Xi(Math.pow(t,6)),n=this,r="";;){var i=P_(n,e).g;n=A_(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Ms(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};oe.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ms(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function ei(t){return t.h==-1}oe.X=function(t){return t=A_(this,t),ei(t)?-1:Ms(t)?0:1};function wn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new it(n,~t.h).add(ZS)}oe.abs=function(){return ei(this)?wn(this):this};oe.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new it(n,n[n.length-1]&-2147483648?-1:0)};function A_(t,e){return t.add(wn(e))}oe.R=function(t){if(Ms(this)||Ms(t))return Fl;if(ei(this))return ei(t)?wn(this).R(wn(t)):wn(wn(this).R(t));if(ei(t))return wn(this.R(wn(t)));if(0>this.X(Yx)&&0>t.X(Yx))return Xi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,u=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,_g(n,2*r+2*i),n[2*r+2*i+1]+=s*l,_g(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,_g(n,2*r+2*i+1),n[2*r+2*i+2]+=s*u,_g(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new it(n,0)};function _g(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Sh(t,e){this.g=t,this.h=e}function P_(t,e){if(Ms(e))throw Error("division by zero");if(Ms(t))return new Sh(Fl,Fl);if(ei(t))return e=P_(wn(t),e),new Sh(wn(e.g),wn(e.h));if(ei(e))return e=P_(t,wn(e)),new Sh(wn(e.g),e.h);if(30<t.g.length){if(ei(t)||ei(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ZS,r=e;0>=r.X(t);)n=Kx(n),r=Kx(r);var i=Zu(n,1),s=Zu(r,1);for(r=Zu(r,2),n=Zu(n,2);!Ms(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Zu(r,1),n=Zu(n,1)}return e=A_(t,i.R(e)),new Sh(i,e)}for(i=Fl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Xi(n),o=s.R(e);ei(o)||0<o.X(t);)n-=r,s=Xi(n),o=s.R(e);Ms(s)&&(s=ZS),i=i.add(s),t=A_(t,o)}return new Sh(i,t)}oe.gb=function(t){return P_(this,t).h};oe.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new it(n,this.h&t.h)};oe.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new it(n,this.h|t.h)};oe.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new it(n,this.h^t.h)};function Kx(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new it(n,t.h)}function Zu(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new it(i,t.h)}R_.prototype.createWebChannel=R_.prototype.g;Mr.prototype.send=Mr.prototype.u;Mr.prototype.open=Mr.prototype.m;Mr.prototype.close=Mr.prototype.close;hy.NO_ERROR=0;hy.TIMEOUT=8;hy.HTTP_ERROR=6;gV.COMPLETE="complete";mV.EventType=Fd;Fd.OPEN="a";Fd.CLOSE="b";Fd.ERROR="c";Fd.MESSAGE="d";ln.prototype.listen=ln.prototype.O;Ut.prototype.listenOnce=Ut.prototype.P;Ut.prototype.getLastError=Ut.prototype.Sa;Ut.prototype.getLastErrorCode=Ut.prototype.Ia;Ut.prototype.getStatus=Ut.prototype.da;Ut.prototype.getResponseJson=Ut.prototype.Wa;Ut.prototype.getResponseText=Ut.prototype.ja;Ut.prototype.send=Ut.prototype.ha;Ut.prototype.setWithCredentials=Ut.prototype.Oa;xi.prototype.digest=xi.prototype.l;xi.prototype.reset=xi.prototype.reset;xi.prototype.update=xi.prototype.j;it.prototype.add=it.prototype.add;it.prototype.multiply=it.prototype.R;it.prototype.modulo=it.prototype.gb;it.prototype.compare=it.prototype.X;it.prototype.toNumber=it.prototype.ea;it.prototype.toString=it.prototype.toString;it.prototype.getBits=it.prototype.D;it.fromNumber=Xi;it.fromString=XV;var ioe=function(){return new R_},soe=function(){return cy()},WE=hy,ooe=gV,aoe=Pu,Qx={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},uoe=Wd,vg=mV,loe=Ut,coe=xi,$l=it;const Xx="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc="10.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=new jv("@firebase/firestore");function Jx(){return du.logLevel}function ge(t,...e){if(du.logLevel<=Ge.DEBUG){const n=e.map(ER);du.debug(`Firestore (${Nc}): ${t}`,...n)}}function eo(t,...e){if(du.logLevel<=Ge.ERROR){const n=e.map(ER);du.error(`Firestore (${Nc}): ${t}`,...n)}}function lc(t,...e){if(du.logLevel<=Ge.WARN){const n=e.map(ER);du.warn(`Firestore (${Nc}): ${t}`,...n)}}function ER(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(t="Unexpected state"){const e=`FIRESTORE (${Nc}) INTERNAL ASSERTION FAILED: `+t;throw eo(e),new Error(e)}function Et(t,e){t||Ie()}function ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends us{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hoe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ln.UNAUTHENTICATED))}shutdown(){}}class foe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class doe{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Jo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Jo,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},u=l=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Jo)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Et(typeof r.accessToken=="string"),new JV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string"),new Ln(e)}}class poe{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class goe{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new poe(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class moe{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _oe{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ge("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Et(typeof n.token=="string"),this.R=n.token,new moe(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function voe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=voe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function et(t,e){return t<e?-1:t>e?1:0}function cc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new de(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nn.fromMillis(Date.now())}static fromDate(e){return nn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new nn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new nn(0,0))}static max(){return new Ae(new nn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ie(),r===void 0?r=e.length-n:r>e.length-n&&Ie(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return rd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class vt extends rd{construct(e,n,r){return new vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new vt(n)}static emptyPath(){return new vt([])}}const yoe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fn extends rd{construct(e,n,r){return new Fn(e,n,r)}static isValidIdentifier(e){return yoe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Fn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new de(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new de(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new de(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else u==="`"?(o=!o,i++):u!=="."||o?(r+=u,i++):(s(),i++)}if(s(),o)throw new de(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fn(n)}static emptyPath(){return new Fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(vt.fromString(e))}static fromName(e){return new _e(vt.fromString(e).popFirst(5))}static empty(){return new _e(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new vt(e.slice()))}}function woe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ae.fromTimestamp(r===1e9?new nn(n+1,0):new nn(n,r));return new ca(i,_e.empty(),e)}function Eoe(t){return new ca(t.readTime,t.key,-1)}class ca{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ca(Ae.min(),_e.empty(),-1)}static max(){return new ca(Ae.max(),_e.empty(),-1)}}function Soe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Toe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ioe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zd(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==Toe)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,r)=>{n(e)})}static reject(e){return new te((n,r)=>{r(e)})}static waitFor(e){return new te((n,r)=>{let i=0,s=0,o=!1;e.forEach(u=>{++i,u.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next(i=>i?te.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new te((r,i)=>{const s=e.length,o=new Array(s);let u=0;for(let l=0;l<s;l++){const h=l;n(e[h]).next(f=>{o[h]=f,++u,u===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new te((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Hd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}SR.ae=-1;function yy(t){return t==null}function k_(t){return t===0&&1/t==-1/0}function Coe(t){return typeof t=="number"&&Number.isInteger(t)&&!k_(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function e4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new Nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yg(this.root,e,this.comparator,!1)}getReverseIterator(){return new yg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yg(this.root,e,this.comparator,!0)}}class yg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??vn.RED,this.left=i??vn.EMPTY,this.right=s??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new vn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return vn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,n,r,i,s){return this}insert(e,n,r){return new vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new eD(this.data.getIterator())}getIteratorFrom(e){return new eD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Wn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Wn(this.comparator);return n.data=e,n}}class eD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.fields=e,e.sort(Fn.comparator)}static empty(){return new Ci([])}unionWith(e){let n=new Wn(Fn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ci(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return cc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new t4("Invalid base64 string: "+s):s}}(e);return new Hn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hn.EMPTY_BYTE_STRING=new Hn("");const Roe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ha(t){if(Et(!!t),typeof t=="string"){let e=0;const n=Roe.exec(t);if(Et(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ht(t.seconds),nanos:Ht(t.nanos)}}function Ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function pu(t){return typeof t=="string"?Hn.fromBase64String(t):Hn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function IR(t){const e=t.mapValue.fields.__previous_value__;return TR(e)?IR(e):e}function id(t){const e=ha(t.mapValue.fields.__local_write_time__.timestampValue);return new nn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aoe{constructor(e,n,r,i,s,o,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=l,this.useFetchStreams=h}}class sd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new sd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof sd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function gu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?TR(t)?4:Poe(t)?9007199254740991:10:Ie()}function os(t,e){if(t===e)return!0;const n=gu(t);if(n!==gu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return id(t).isEqual(id(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ha(i.timestampValue),u=ha(s.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return pu(i.bytesValue).isEqual(pu(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ht(i.geoPointValue.latitude)===Ht(s.geoPointValue.latitude)&&Ht(i.geoPointValue.longitude)===Ht(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ht(i.integerValue)===Ht(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ht(i.doubleValue),u=Ht(s.doubleValue);return o===u?k_(o)===k_(u):isNaN(o)&&isNaN(u)}return!1}(t,e);case 9:return cc(t.arrayValue.values||[],e.arrayValue.values||[],os);case 10:return function(i,s){const o=i.mapValue.fields||{},u=s.mapValue.fields||{};if(Zx(o)!==Zx(u))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(u[l]===void 0||!os(o[l],u[l])))return!1;return!0}(t,e);default:return Ie()}}function od(t,e){return(t.values||[]).find(n=>os(n,e))!==void 0}function hc(t,e){if(t===e)return 0;const n=gu(t),r=gu(e);if(n!==r)return et(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(t.booleanValue,e.booleanValue);case 2:return function(s,o){const u=Ht(s.integerValue||s.doubleValue),l=Ht(o.integerValue||o.doubleValue);return u<l?-1:u>l?1:u===l?0:isNaN(u)?isNaN(l)?0:-1:1}(t,e);case 3:return tD(t.timestampValue,e.timestampValue);case 4:return tD(id(t),id(e));case 5:return et(t.stringValue,e.stringValue);case 6:return function(s,o){const u=pu(s),l=pu(o);return u.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const u=s.split("/"),l=o.split("/");for(let h=0;h<u.length&&h<l.length;h++){const f=et(u[h],l[h]);if(f!==0)return f}return et(u.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const u=et(Ht(s.latitude),Ht(o.latitude));return u!==0?u:et(Ht(s.longitude),Ht(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const u=s.values||[],l=o.values||[];for(let h=0;h<u.length&&h<l.length;++h){const f=hc(u[h],l[h]);if(f)return f}return et(u.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===wg.mapValue&&o===wg.mapValue)return 0;if(s===wg.mapValue)return 1;if(o===wg.mapValue)return-1;const u=s.fields||{},l=Object.keys(u),h=o.fields||{},f=Object.keys(h);l.sort(),f.sort();for(let p=0;p<l.length&&p<f.length;++p){const g=et(l[p],f[p]);if(g!==0)return g;const v=hc(u[l[p]],h[f[p]]);if(v!==0)return v}return et(l.length,f.length)}(t.mapValue,e.mapValue);default:throw Ie()}}function tD(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return et(t,e);const n=ha(t),r=ha(e),i=et(n.seconds,r.seconds);return i!==0?i:et(n.nanos,r.nanos)}function fc(t){return eT(t)}function eT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ha(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return pu(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=eT(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${eT(n.fields[o])}`;return i+"}"}(t.mapValue):Ie()}function nD(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function tT(t){return!!t&&"integerValue"in t}function CR(t){return!!t&&"arrayValue"in t}function rD(t){return!!t&&"nullValue"in t}function iD(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rm(t){return!!t&&"mapValue"in t}function sf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return xc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=sf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Poe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this.value=e}static empty(){return new ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sf(n)}setAll(e){let n=Fn.emptyPath(),r={},i=[];e.forEach((o,u)=>{if(!n.isImmediateParentOf(u)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=u.popLast()}o?r[u.lastSegment()]=sf(o):i.push(u.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());rm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return os(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];rm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){xc(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ti(sf(this.value))}}function n4(t){const e=[];return xc(t.fields,(n,r)=>{const i=new Fn([n]);if(rm(r)){const s=n4(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ci(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,n,r,i,s,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=u}static newInvalidDocument(e){return new Un(e,0,Ae.min(),Ae.min(),Ae.min(),ti.empty(),0)}static newFoundDocument(e,n,r,i){return new Un(e,1,n,Ae.min(),r,i,0)}static newNoDocument(e,n){return new Un(e,2,n,Ae.min(),Ae.min(),ti.empty(),0)}static newUnknownDocument(e,n){return new Un(e,3,n,Ae.min(),Ae.min(),ti.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e,n){this.position=e,this.inclusive=n}}function sD(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=_e.comparator(_e.fromName(o.referenceValue),n.key):r=hc(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function oD(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!os(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n="asc"){this.field=e,this.dir=n}}function koe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{}class Gt extends r4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Ooe(e,n,r):n==="array-contains"?new Doe(e,r):n==="in"?new Loe(e,r):n==="not-in"?new Moe(e,r):n==="array-contains-any"?new Uoe(e,r):new Gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Noe(e,r):new xoe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(hc(n,this.value)):n!==null&&gu(this.value)===gu(n)&&this.matchesComparison(hc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Di extends r4{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Di(e,n)}matches(e){return i4(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function i4(t){return t.op==="and"}function s4(t){return boe(t)&&i4(t)}function boe(t){for(const e of t.filters)if(e instanceof Di)return!1;return!0}function nT(t){if(t instanceof Gt)return t.field.canonicalString()+t.op.toString()+fc(t.value);if(s4(t))return t.filters.map(e=>nT(e)).join(",");{const e=t.filters.map(n=>nT(n)).join(",");return`${t.op}(${e})`}}function o4(t,e){return t instanceof Gt?function(r,i){return i instanceof Gt&&r.op===i.op&&r.field.isEqual(i.field)&&os(r.value,i.value)}(t,e):t instanceof Di?function(r,i){return i instanceof Di&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,u)=>s&&o4(o,i.filters[u]),!0):!1}(t,e):void Ie()}function a4(t){return t instanceof Gt?function(n){return`${n.field.canonicalString()} ${n.op} ${fc(n.value)}`}(t):t instanceof Di?function(n){return n.op.toString()+" {"+n.getFilters().map(a4).join(" ,")+"}"}(t):"Filter"}class Ooe extends Gt{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class Noe extends Gt{constructor(e,n){super(e,"in",n),this.keys=u4("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class xoe extends Gt{constructor(e,n){super(e,"not-in",n),this.keys=u4("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function u4(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>_e.fromName(r.referenceValue))}class Doe extends Gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return CR(n)&&od(n.arrayValue,this.value)}}class Loe extends Gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&od(this.value.arrayValue,n)}}class Moe extends Gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(od(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!od(this.value.arrayValue,n)}}class Uoe extends Gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!CR(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>od(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Foe{constructor(e,n=null,r=[],i=[],s=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=u,this.he=null}}function aD(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Foe(t,e,n,r,i,s,o)}function RR(t){const e=ke(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>nT(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),yy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fc(r)).join(",")),e.he=n}return e.he}function AR(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!koe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!o4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!oD(t.startAt,e.startAt)&&oD(t.endAt,e.endAt)}function rT(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n=null,r=[],i=[],s=null,o="F",u=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=u,this.endAt=l,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function $oe(t,e,n,r,i,s,o,u){return new qd(t,e,n,r,i,s,o,u)}function l4(t){return new qd(t)}function uD(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function c4(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function PR(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function h4(t){return t.collectionGroup!==null}function Vl(t){const e=ke(t);if(e.Pe===null){e.Pe=[];const n=PR(e),r=c4(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new of(n)),e.Pe.push(new of(Fn.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new of(Fn.keyField(),s))}}}return e.Pe}function to(t){const e=ke(t);if(!e.Ie)if(e.limitType==="F")e.Ie=aD(e.path,e.collectionGroup,Vl(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Vl(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new of(s.field,o))}const r=e.endAt?new b_(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new b_(e.startAt.position,e.startAt.inclusive):null;e.Ie=aD(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.Ie}function iT(t,e){e.getFirstInequalityField(),PR(t);const n=t.filters.concat([e]);return new qd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function sT(t,e,n){return new qd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wy(t,e){return AR(to(t),to(e))&&t.limitType===e.limitType}function f4(t){return`${RR(to(t))}|lt:${t.limitType}`}function oT(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>a4(i)).join(", ")}]`),yy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>fc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>fc(i)).join(",")),`Target(${r})`}(to(t))}; limitType=${t.limitType})`}function Ey(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):_e.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Vl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,u,l){const h=sD(o,u,l);return o.inclusive?h<=0:h<0}(r.startAt,Vl(r),i)||r.endAt&&!function(o,u,l){const h=sD(o,u,l);return o.inclusive?h>=0:h>0}(r.endAt,Vl(r),i))}(t,e)}function Voe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function d4(t){return(e,n)=>{let r=!1;for(const i of Vl(t)){const s=Woe(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Woe(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):function(s,o,u){const l=o.data.field(s),h=u.data.field(s);return l!==null&&h!==null?hc(l,h):Ie()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xc(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return e4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const joe=new Nt(_e.comparator);function no(){return joe}const p4=new Nt(_e.comparator);function Fh(...t){let e=p4;for(const n of t)e=e.insert(n.key,n);return e}function g4(t){let e=p4;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ha(){return af()}function m4(){return af()}function af(){return new Dc(t=>t.toString(),(t,e)=>t.isEqual(e))}const Boe=new Nt(_e.comparator),zoe=new Wn(_e.comparator);function We(...t){let e=zoe;for(const n of t)e=e.add(n);return e}const Hoe=new Wn(et);function qoe(){return Hoe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:k_(e)?"-0":e}}function v4(t){return{integerValue:""+t}}function Goe(t,e){return Coe(e)?v4(e):_4(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(){this._=void 0}}function Yoe(t,e,n){return t instanceof O_?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&TR(s)&&(s=IR(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ad?w4(t,e):t instanceof ud?E4(t,e):function(i,s){const o=y4(i,s),u=lD(o)+lD(i.Te);return tT(o)&&tT(i.Te)?v4(u):_4(i.serializer,u)}(t,e)}function Koe(t,e,n){return t instanceof ad?w4(t,e):t instanceof ud?E4(t,e):n}function y4(t,e){return t instanceof N_?function(r){return tT(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class O_ extends Sy{}class ad extends Sy{constructor(e){super(),this.elements=e}}function w4(t,e){const n=S4(e);for(const r of t.elements)n.some(i=>os(i,r))||n.push(r);return{arrayValue:{values:n}}}class ud extends Sy{constructor(e){super(),this.elements=e}}function E4(t,e){let n=S4(e);for(const r of t.elements)n=n.filter(i=>!os(i,r));return{arrayValue:{values:n}}}class N_ extends Sy{constructor(e,n){super(),this.serializer=e,this.Te=n}}function lD(t){return Ht(t.integerValue||t.doubleValue)}function S4(t){return CR(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Qoe(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ad&&i instanceof ad||r instanceof ud&&i instanceof ud?cc(r.elements,i.elements,os):r instanceof N_&&i instanceof N_?os(r.Te,i.Te):r instanceof O_&&i instanceof O_}(t.transform,e.transform)}class Xoe{constructor(e,n){this.version=e,this.transformResults=n}}class js{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new js}static exists(e){return new js(void 0,e)}static updateTime(e){return new js(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function im(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ty{}function T4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new C4(t.key,js.none()):new Gd(t.key,t.data,js.none());{const n=t.data,r=ti.empty();let i=new Wn(Fn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ku(t.key,r,new Ci(i.toArray()),js.none())}}function Joe(t,e,n){t instanceof Gd?function(i,s,o){const u=i.value.clone(),l=hD(i.fieldTransforms,s,o.transformResults);u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):t instanceof ku?function(i,s,o){if(!im(i.precondition,s))return void s.convertToUnknownDocument(o.version);const u=hD(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(I4(i)),l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function uf(t,e,n,r){return t instanceof Gd?function(s,o,u,l){if(!im(s.precondition,o))return u;const h=s.value.clone(),f=fD(s.fieldTransforms,l,o);return h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof ku?function(s,o,u,l){if(!im(s.precondition,o))return u;const h=fD(s.fieldTransforms,l,o),f=o.data;return f.setAll(I4(s)),f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,u){return im(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u}(t,e,n)}function Zoe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=y4(r.transform,i||null);s!=null&&(n===null&&(n=ti.empty()),n.set(r.field,s))}return n||null}function cD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&cc(r,i,(s,o)=>Qoe(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Gd extends Ty{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ku extends Ty{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function I4(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function hD(t,e,n){const r=new Map;Et(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,u=e.data.field(s.field);r.set(s.field,Koe(o,u,n[i]))}return r}function fD(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Yoe(s,o,e))}return r}class C4 extends Ty{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eae extends Ty{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tae{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Joe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=uf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=uf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=m4();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let u=this.applyToLocalView(o,s.mutatedFields);u=n.has(i.key)?null:u;const l=T4(o,u);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),We())}isEqual(e){return this.batchId===e.batchId&&cc(this.mutations,e.mutations,(n,r)=>cD(n,r))&&cc(this.baseMutations,e.baseMutations,(n,r)=>cD(n,r))}}class kR{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Et(e.mutations.length===r.length);let i=function(){return Boe}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new kR(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nae{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rae{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,ze;function iae(t){switch(t){default:return Ie();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function R4(t){if(t===void 0)return eo("GRPC error has no .code"),K.UNKNOWN;switch(t){case zt.OK:return K.OK;case zt.CANCELLED:return K.CANCELLED;case zt.UNKNOWN:return K.UNKNOWN;case zt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case zt.INTERNAL:return K.INTERNAL;case zt.UNAVAILABLE:return K.UNAVAILABLE;case zt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case zt.NOT_FOUND:return K.NOT_FOUND;case zt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case zt.ABORTED:return K.ABORTED;case zt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case zt.DATA_LOSS:return K.DATA_LOSS;default:return Ie()}}(ze=zt||(zt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Eg}static getOrCreateInstance(){return Eg===null&&(Eg=new bR),Eg}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Eg=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sae(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oae=new $l([4294967295,4294967295],0);function dD(t){const e=sae().encode(t),n=new coe;return n.update(e),new Uint8Array(n.digest())}function pD(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new $l([n,r],0),new $l([i,s],0)]}class OR{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $h(`Invalid padding: ${n}`);if(r<0)throw new $h(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $h(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $h(`Invalid padding when bitmap length is 0: ${n}`);this.de=8*e.length-n,this.Ae=$l.fromNumber(this.de)}Re(e,n,r){let i=e.add(n.multiply($l.fromNumber(r)));return i.compare(oae)===1&&(i=new $l([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ae).toNumber()}Ve(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.de===0)return!1;const n=dD(e),[r,i]=pD(n);for(let s=0;s<this.hashCount;s++){const o=this.Re(r,i,s);if(!this.Ve(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new OR(s,i,n);return r.forEach(u=>o.insert(u)),o}insert(e){if(this.de===0)return;const n=dD(e),[r,i]=pD(n);for(let s=0;s<this.hashCount;s++){const o=this.Re(r,i,s);this.me(o)}}me(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $h extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Yd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Iy(Ae.min(),i,new Nt(et),no(),We())}}class Yd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Yd(r,n,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,n,r,i){this.fe=e,this.removedTargetIds=n,this.key=r,this.ge=i}}class A4{constructor(e,n){this.targetId=e,this.pe=n}}class P4{constructor(e,n,r=Hn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class gD{constructor(){this.ye=0,this.we=_D(),this.Se=Hn.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}get current(){return this.be}get resumeToken(){return this.Se}get ve(){return this.ye!==0}get Ce(){return this.De}Fe(e){e.approximateByteSize()>0&&(this.De=!0,this.Se=e)}Me(){let e=We(),n=We(),r=We();return this.we.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ie()}}),new Yd(this.Se,this.be,e,n,r)}xe(){this.De=!1,this.we=_D()}Oe(e,n){this.De=!0,this.we=this.we.insert(e,n)}Ne(e){this.De=!0,this.we=this.we.remove(e)}Be(){this.ye+=1}Le(){this.ye-=1}ke(){this.De=!0,this.be=!0}}class aae{constructor(e){this.qe=e,this.Qe=new Map,this.Ke=no(),this.$e=mD(),this.Ue=new Nt(et)}We(e){for(const n of e.fe)e.ge&&e.ge.isFoundDocument()?this.Ge(n,e.ge):this.ze(n,e.key,e.ge);for(const n of e.removedTargetIds)this.ze(n,e.key,e.ge)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Fe(e.resumeToken);break;case 1:r.Le(),r.ve||r.xe(),r.Fe(e.resumeToken);break;case 2:r.Le(),r.ve||this.removeTarget(n);break;case 3:this.Je(n)&&(r.ke(),r.Fe(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Fe(e.resumeToken));break;default:Ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){var n,r;const i=e.targetId,s=e.pe.count,o=this.Xe(i);if(o){const u=o.target;if(rT(u))if(s===0){const l=new _e(u.path);this.ze(i,l,Un.newNoDocument(l,Ae.min()))}else Et(s===1);else{const l=this.et(i);if(l!==s){const h=this.tt(e,l);if(h.status!==0){this.Ye(i);const f=h.status===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,f)}(n=bR.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(p,g,v,E){var C,R,S,T,k,b;const F={localCacheCount:v,existenceFilterCount:E.count},V=E.unchangedNames;return V&&(F.bloomFilter={applied:p===0,hashCount:(C=V==null?void 0:V.hashCount)!==null&&C!==void 0?C:0,bitmapLength:(T=(S=(R=V==null?void 0:V.bits)===null||R===void 0?void 0:R.bitmap)===null||S===void 0?void 0:S.length)!==null&&T!==void 0?T:0,padding:(b=(k=V==null?void 0:V.bits)===null||k===void 0?void 0:k.padding)!==null&&b!==void 0?b:0},g&&(F.bloomFilter.mightContain=g)),F}(h.status,(r=h.nt)!==null&&r!==void 0?r:null,l,e.pe))}}}}tt(e,n){const{unchangedNames:r,count:i}=e.pe;if(!r||!r.bits)return{status:1};const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=r;let l,h;try{l=pu(s).toUint8Array()}catch(p){if(p instanceof t4)return lc("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw p}try{h=new OR(l,o,u)}catch(p){return lc(p instanceof $h?"BloomFilter error: ":"Applying bloom filter failed: ",p),{status:1}}const f=p=>{const g=this.qe.rt();return h.mightContain(`projects/${g.projectId}/databases/${g.database}/documents/${p}`)};return h.de===0?{status:1}:{status:i===n-this.it(e.targetId,f)?0:2,nt:f}}it(e,n){const r=this.qe.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{n(s.path.canonicalString())||(this.ze(e,s,null),i++)}),i}st(e){const n=new Map;this.Qe.forEach((s,o)=>{const u=this.Xe(o);if(u){if(s.current&&rT(u.target)){const l=new _e(u.target.path);this.Ke.get(l)!==null||this.ot(o,l)||this.ze(o,l,Un.newNoDocument(l,e))}s.Ce&&(n.set(o,s.Me()),s.xe())}});let r=We();this.$e.forEach((s,o)=>{let u=!0;o.forEachWhile(l=>{const h=this.Xe(l);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.Ke.forEach((s,o)=>o.setReadTime(e));const i=new Iy(e,n,this.Ue,this.Ke,r);return this.Ke=no(),this.$e=mD(),this.Ue=new Nt(et),i}Ge(e,n){if(!this.Je(e))return;const r=this.ot(e,n.key)?2:0;this.He(e).Oe(n.key,r),this.Ke=this.Ke.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ot(e,n)?i.Oe(n,1):i.Ne(n),this.$e=this.$e.insert(n,this._t(n).delete(e)),r&&(this.Ke=this.Ke.insert(n,r))}removeTarget(e){this.Qe.delete(e)}et(e){const n=this.He(e).Me();return this.qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Be(e){this.He(e).Be()}He(e){let n=this.Qe.get(e);return n||(n=new gD,this.Qe.set(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Wn(et),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.Qe.get(e);return n&&n.ve?null:this.qe.ut(e)}Ye(e){this.Qe.set(e,new gD),this.qe.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ot(e,n){return this.qe.getRemoteKeysForTarget(e).has(n)}}function mD(){return new Nt(_e.comparator)}function _D(){return new Nt(_e.comparator)}const uae=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),lae=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),cae=(()=>({and:"AND",or:"OR"}))();class hae{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function aT(t,e){return t.useProto3Json||yy(e)?e:{value:e}}function x_(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function k4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function fae(t,e){return x_(t,e.toTimestamp())}function ss(t){return Et(!!t),Ae.fromTimestamp(function(n){const r=ha(n);return new nn(r.seconds,r.nanos)}(t))}function NR(t,e){return function(r){return new vt(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function b4(t){const e=vt.fromString(t);return Et(D4(e)),e}function uT(t,e){return NR(t.databaseId,e.path)}function jE(t,e){const n=b4(e);if(n.get(1)!==t.databaseId.projectId)throw new de(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(O4(n))}function lT(t,e){return NR(t.databaseId,e)}function dae(t){const e=b4(t);return e.length===4?vt.emptyPath():O4(e)}function cT(t){return new vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function O4(t){return Et(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function vD(t,e,n){return{name:uT(t,e),fields:n.value.mapValue.fields}}function pae(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,f){return h.useProto3Json?(Et(f===void 0||typeof f=="string"),Hn.fromBase64String(f||"")):(Et(f===void 0||f instanceof Uint8Array),Hn.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&function(h){const f=h.code===void 0?K.UNKNOWN:R4(h.code);return new de(f,h.message||"")}(o);n=new P4(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=jE(t,r.document.name),s=ss(r.document.updateTime),o=r.document.createTime?ss(r.document.createTime):Ae.min(),u=new ti({mapValue:{fields:r.document.fields}}),l=Un.newFoundDocument(i,s,o,u),h=r.targetIds||[],f=r.removedTargetIds||[];n=new sm(h,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=jE(t,r.document),s=r.readTime?ss(r.readTime):Ae.min(),o=Un.newNoDocument(i,s),u=r.removedTargetIds||[];n=new sm([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=jE(t,r.document),s=r.removedTargetIds||[];n=new sm([],s,i,null)}else{if(!("filter"in e))return Ie();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new rae(i,s),u=r.targetId;n=new A4(u,o)}}return n}function gae(t,e){let n;if(e instanceof Gd)n={update:vD(t,e.key,e.value)};else if(e instanceof C4)n={delete:uT(t,e.key)};else if(e instanceof ku)n={update:vD(t,e.key,e.data),updateMask:Iae(e.fieldMask)};else{if(!(e instanceof eae))return Ie();n={verify:uT(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const u=o.transform;if(u instanceof O_)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof ad)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ud)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof N_)return{fieldPath:o.field.canonicalString(),increment:u.Te};throw Ie()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:fae(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ie()}(t,e.precondition)),n}function mae(t,e){return t&&t.length>0?(Et(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ss(i.updateTime):ss(s);return o.isEqual(Ae.min())&&(o=ss(s)),new Xoe(o,i.transformResults||[])}(n,e))):[]}function _ae(t,e){return{documents:[lT(t,e.path)]}}function vae(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=lT(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=lT(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return x4(Di.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(h=>function(p){return{field:sl(p.field),direction:Eae(p.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=aT(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function yae(t){let e=dae(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Et(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(p){const g=N4(p);return g instanceof Di&&s4(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(g=>function(E){return new of(ol(E.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(g))}(n.orderBy));let u=null;n.limit&&(u=function(p){let g;return g=typeof p=="object"?p.value:p,yy(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(p){const g=!!p.before,v=p.values||[];return new b_(v,g)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const g=!p.before,v=p.values||[];return new b_(v,g)}(n.endAt)),$oe(e,i,o,s,u,"F",l,h)}function wae(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function N4(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ol(n.unaryFilter.field);return Gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ol(n.unaryFilter.field);return Gt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ol(n.unaryFilter.field);return Gt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ol(n.unaryFilter.field);return Gt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(t):t.fieldFilter!==void 0?function(n){return Gt.create(ol(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Di.create(n.compositeFilter.filters.map(r=>N4(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ie()}}(n.compositeFilter.op))}(t):Ie()}function Eae(t){return uae[t]}function Sae(t){return lae[t]}function Tae(t){return cae[t]}function sl(t){return{fieldPath:t.canonicalString()}}function ol(t){return Fn.fromServerFormat(t.fieldPath)}function x4(t){return t instanceof Gt?function(n){if(n.op==="=="){if(iD(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NAN"}};if(rD(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(iD(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NOT_NAN"}};if(rD(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sl(n.field),op:Sae(n.op),value:n.value}}}(t):t instanceof Di?function(n){const r=n.getFilters().map(i=>x4(i));return r.length===1?r[0]:{compositeFilter:{op:Tae(n.op),filters:r}}}(t):Ie()}function Iae(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function D4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n,r,i,s=Ae.min(),o=Ae.min(),u=Hn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=l}withSequenceNumber(e){return new xo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cae{constructor(e){this.ct=e}}function Rae(t){const e=yae({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?sT(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aae{constructor(){this.sn=new Pae}addToCollectionParentIndex(e,n){return this.sn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.sn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(ca.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(ca.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class Pae{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Wn(vt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Wn(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e){this.Mn=e}next(){return this.Mn+=2,this.Mn}static xn(){return new dc(0)}static On(){return new dc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kae{constructor(){this.changes=new Dc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bae{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oae{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&uf(r.mutation,i,Ci.empty(),nn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,We()).next(()=>r))}getLocalViewOfDocuments(e,n,r=We()){const i=Ha();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Fh();return s.forEach((u,l)=>{o=o.insert(u,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ha();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,We()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,u)=>{n.set(o,u)})})}computeViews(e,n,r,i){let s=no();const o=af(),u=function(){return af()}();return n.forEach((l,h)=>{const f=r.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof ku)?s=s.insert(h.key,h):f!==void 0?(o.set(h.key,f.mutation.getFieldMask()),uf(f.mutation,h,f.mutation.getFieldMask(),nn.now())):o.set(h.key,Ci.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((h,f)=>o.set(h,f)),n.forEach((h,f)=>{var p;return u.set(h,new bae(f,(p=o.get(h))!==null&&p!==void 0?p:null))}),u))}recalculateAndSaveOverlays(e,n){const r=af();let i=new Nt((o,u)=>o-u),s=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const u of o)u.keys().forEach(l=>{const h=n.get(l);if(h===null)return;let f=r.get(l)||Ci.empty();f=u.applyToLocalView(h,f),r.set(l,f);const p=(i.get(u.batchId)||We()).add(l);i=i.insert(u.batchId,p)})}).next(()=>{const o=[],u=i.getReverseIterator();for(;u.hasNext();){const l=u.getNext(),h=l.key,f=l.value,p=m4();f.forEach(g=>{if(!s.has(g)){const v=T4(n.get(g),r.get(g));v!==null&&p.set(g,v),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,p))}return te.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):h4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):te.resolve(Ha());let u=-1,l=s;return o.next(h=>te.forEach(h,(f,p)=>(u<p.largestBatchId&&(u=p.largestBatchId),s.get(f)?te.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{l=l.insert(f,g)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,l,h,We())).next(f=>({batchId:u,changes:g4(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(r=>{let i=Fh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Fh();return this.indexManager.getCollectionParents(e,i).next(o=>te.forEach(o,u=>{const l=function(f,p){return new qd(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(h=>{h.forEach((f,p)=>{s=s.insert(f,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((u,l)=>{const h=l.getKey();s.get(h)===null&&(s=s.insert(h,Un.newInvalidDocument(h)))});let o=Fh();return s.forEach((u,l)=>{const h=i.get(u);h!==void 0&&uf(h.mutation,l,Ci.empty(),nn.now()),Ey(n,l)&&(o=o.insert(u,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nae{constructor(e){this.serializer=e,this.ar=new Map,this.ur=new Map}getBundleMetadata(e,n){return te.resolve(this.ar.get(n))}saveBundleMetadata(e,n){return this.ar.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ss(i.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.ur.get(n))}saveNamedQuery(e,n){return this.ur.set(n.name,function(i){return{name:i.name,query:Rae(i.bundledQuery),readTime:ss(i.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xae{constructor(){this.overlays=new Nt(_e.comparator),this.cr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ha();return te.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),te.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.cr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.cr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const i=Ha(),s=n.length+1,o=new _e(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const l=u.getNext().value,h=l.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return te.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Nt((h,f)=>h-f);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=s.get(h.largestBatchId);f===null&&(f=Ha(),s=s.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const u=Ha(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((h,f)=>u.set(h,f)),!(u.size()>=i)););return te.resolve(u)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.cr.get(i.largestBatchId).delete(r.key);this.cr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new nae(n,r));let s=this.cr.get(n);s===void 0&&(s=We(),this.cr.set(n,s)),this.cr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(){this.lr=new Wn(on.hr),this.Pr=new Wn(on.Ir)}isEmpty(){return this.lr.isEmpty()}addReference(e,n){const r=new on(e,n);this.lr=this.lr.add(r),this.Pr=this.Pr.add(r)}Tr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Er(new on(e,n))}dr(e,n){e.forEach(r=>this.removeReference(r,n))}Ar(e){const n=new _e(new vt([])),r=new on(n,e),i=new on(n,e+1),s=[];return this.Pr.forEachInRange([r,i],o=>{this.Er(o),s.push(o.key)}),s}Rr(){this.lr.forEach(e=>this.Er(e))}Er(e){this.lr=this.lr.delete(e),this.Pr=this.Pr.delete(e)}Vr(e){const n=new _e(new vt([])),r=new on(n,e),i=new on(n,e+1);let s=We();return this.Pr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new on(e,0),r=this.lr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class on{constructor(e,n){this.key=e,this.mr=n}static hr(e,n){return _e.comparator(e.key,n.key)||et(e.mr,n.mr)}static Ir(e,n){return et(e.mr,n.mr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dae{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new Wn(on.hr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new tae(s,n,r,i);this.mutationQueue.push(o);for(const u of i)this.pr=this.pr.add(new on(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return te.resolve(o)}lookupMutationBatch(e,n){return te.resolve(this.yr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.wr(r),s=i<0?0:i;return te.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.gr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new on(n,0),i=new on(n,Number.POSITIVE_INFINITY),s=[];return this.pr.forEachInRange([r,i],o=>{const u=this.yr(o.mr);s.push(u)}),te.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wn(et);return n.forEach(i=>{const s=new on(i,0),o=new on(i,Number.POSITIVE_INFINITY);this.pr.forEachInRange([s,o],u=>{r=r.add(u.mr)})}),te.resolve(this.Sr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;_e.isDocumentKey(s)||(s=s.child(""));const o=new on(new _e(s),0);let u=new Wn(et);return this.pr.forEachWhile(l=>{const h=l.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(l.mr)),!0)},o),te.resolve(this.Sr(u))}Sr(e){const n=[];return e.forEach(r=>{const i=this.yr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Et(this.br(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.pr;return te.forEach(n.mutations,i=>{const s=new on(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.pr=r})}Cn(e){}containsKey(e,n){const r=new on(n,0),i=this.pr.firstAfterOrEqual(r);return te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}br(e,n){return this.wr(e)}wr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}yr(e){const n=this.wr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lae{constructor(e){this.Dr=e,this.docs=function(){return new Nt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Dr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():Un.newInvalidDocument(n))}getEntries(e,n){let r=no();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Un.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=no();const o=n.path,u=new _e(o.child("")),l=this.docs.getIteratorFrom(u);for(;l.hasNext();){const{key:h,value:{document:f}}=l.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||Soe(Eoe(f),r)<=0||(i.has(f.key)||Ey(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return te.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ie()}vr(e,n){return te.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Mae(this)}getSize(e){return te.resolve(this.size)}}class Mae extends kae{constructor(e){super(),this.sr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.sr.addEntry(e,i)):this.sr.removeEntry(r)}),te.waitFor(n)}getFromCache(e,n){return this.sr.getEntry(e,n)}getAllFromCache(e,n){return this.sr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uae{constructor(e){this.persistence=e,this.Cr=new Dc(n=>RR(n),AR),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new xR,this.targetCount=0,this.Or=dc.xn()}forEachTarget(e,n){return this.Cr.forEach((r,i)=>n(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.Fr)}allocateTargetId(e){return this.highestTargetId=this.Or.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Fr&&(this.Fr=n),te.resolve()}Ln(e){this.Cr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Or=new dc(n),this.highestTargetId=n),e.sequenceNumber>this.Fr&&(this.Fr=e.sequenceNumber)}addTargetData(e,n){return this.Ln(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Ln(n),te.resolve()}removeTargetData(e,n){return this.Cr.delete(n.target),this.Mr.Ar(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Cr.forEach((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Cr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),te.waitFor(s).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.Cr.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this.Mr.Tr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this.Mr.dr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),te.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Mr.Ar(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Mr.Vr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this.Mr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fae{constructor(e,n){this.Nr={},this.overlays={},this.Br=new SR(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=e(this),this.kr=new Uae(this),this.indexManager=new Aae,this.remoteDocumentCache=function(i){return new Lae(i)}(r=>this.referenceDelegate.qr(r)),this.serializer=new Cae(n),this.Qr=new Nae(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Lr=!1,Promise.resolve()}get started(){return this.Lr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xae,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Nr[e.toKey()];return r||(r=new Dae(n,this.referenceDelegate),this.Nr[e.toKey()]=r),r}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Qr}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const i=new $ae(this.Br.next());return this.referenceDelegate.Kr(),r(i).next(s=>this.referenceDelegate.$r(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ur(e,n){return te.or(Object.values(this.Nr).map(r=>()=>r.containsKey(e,n)))}}class $ae extends Ioe{constructor(e){super(),this.currentSequenceNumber=e}}class DR{constructor(e){this.persistence=e,this.Wr=new xR,this.Gr=null}static zr(e){return new DR(e)}get jr(){if(this.Gr)return this.Gr;throw Ie()}addReference(e,n,r){return this.Wr.addReference(r,n),this.jr.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Wr.removeReference(r,n),this.jr.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.jr.add(n.toString()),te.resolve()}removeTarget(e,n){this.Wr.Ar(n.targetId).forEach(i=>this.jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Kr(){this.Gr=new Set}$r(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.jr,r=>{const i=_e.fromPath(r);return this.Hr(e,i).next(s=>{s||n.removeEntry(i,Ae.min())})}).next(()=>(this.Gr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hr(e,n).next(r=>{r?this.jr.delete(n.toString()):this.jr.add(n.toString())})}qr(e){return 0}Hr(e,n){return te.or([()=>te.resolve(this.Wr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ur(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Li=r,this.ki=i}static qi(e,n){let r=We(),i=We();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new LR(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vae{constructor(){this.Qi=!1}initialize(e,n){this.Ki=e,this.indexManager=n,this.Qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.$i(e,n).next(s=>s||this.Ui(e,n,i,r)).next(s=>s||this.Wi(e,n))}$i(e,n){if(uD(n))return te.resolve(null);let r=to(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=sT(n,null,"F"),r=to(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=We(...s);return this.Ki.getDocuments(e,o).next(u=>this.indexManager.getMinOffset(e,r).next(l=>{const h=this.Gi(n,u);return this.zi(n,h,o,l.readTime)?this.$i(e,sT(n,null,"F")):this.ji(e,h,n,l)}))})))}Ui(e,n,r,i){return uD(n)||i.isEqual(Ae.min())?this.Wi(e,n):this.Ki.getDocuments(e,r).next(s=>{const o=this.Gi(n,s);return this.zi(n,o,r,i)?this.Wi(e,n):(Jx()<=Ge.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),oT(n)),this.ji(e,o,n,woe(i,-1)))})}Gi(e,n){let r=new Wn(d4(e));return n.forEach((i,s)=>{Ey(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Wi(e,n){return Jx()<=Ge.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",oT(n)),this.Ki.getDocumentsMatchingQuery(e,n,ca.min())}ji(e,n,r,i){return this.Ki.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wae{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Nt(et),this.Yi=new Dc(s=>RR(s),AR),this.Zi=new Map,this.Xi=e.getRemoteDocumentCache(),this.kr=e.getTargetCache(),this.Qr=e.getBundleCache(),this.es(r)}es(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Oae(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function jae(t,e,n,r){return new Wae(t,e,n,r)}async function L4(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.es(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],u=[];let l=We();for(const h of i){o.push(h.batchId);for(const f of h.mutations)l=l.add(f.key)}for(const h of s){u.push(h.batchId);for(const f of h.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(h=>({ts:h,removedBatchIds:o,addedBatchIds:u}))})})}function Bae(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Xi.newChangeBuffer({trackRemovals:!0});return function(u,l,h,f){const p=h.batch,g=p.keys();let v=te.resolve();return g.forEach(E=>{v=v.next(()=>f.getEntry(l,E)).next(C=>{const R=h.docVersions.get(E);Et(R!==null),C.version.compareTo(R)<0&&(p.applyToRemoteDocument(C,h),C.isValidDocument()&&(C.setReadTime(h.commitVersion),f.addEntry(C)))})}),v.next(()=>u.mutationQueue.removeMutationBatch(l,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let l=We();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(l=l.add(u.batch.mutations[h].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function M4(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.kr.getLastRemoteSnapshotVersion(n))}function zae(t,e){const n=ke(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const u=[];e.targetChanges.forEach((f,p)=>{const g=i.get(p);if(!g)return;u.push(n.kr.removeMatchingKeys(s,f.removedDocuments,p).next(()=>n.kr.addMatchingKeys(s,f.addedDocuments,p)));let v=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(Hn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,r)),i=i.insert(p,v),function(C,R,S){return C.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(g,v,f)&&u.push(n.kr.updateTargetData(s,v))});let l=no(),h=We();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),u.push(Hae(s,o,e.documentUpdates).next(f=>{l=f.ns,h=f.rs})),!r.isEqual(Ae.min())){const f=n.kr.getLastRemoteSnapshotVersion(s).next(p=>n.kr.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(f)}return te.waitFor(u).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,h)).next(()=>l)}).then(s=>(n.Ji=i,s))}function Hae(t,e,n){let r=We(),i=We();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=no();return n.forEach((u,l)=>{const h=s.get(u);l.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),l.isNoDocument()&&l.version.isEqual(Ae.min())?(e.removeEntry(u,l.readTime),o=o.insert(u,l)):!h.isValidDocument()||l.version.compareTo(h.version)>0||l.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(l),o=o.insert(u,l)):ge("LocalStore","Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",l.version)}),{ns:o,rs:i}})}function qae(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Gae(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.kr.getTargetData(r,e).next(s=>s?(i=s,te.resolve(i)):n.kr.allocateTargetId(r).next(o=>(i=new xo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function hT(t,e,n){const r=ke(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Hd(o))throw o;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function yD(t,e,n){const r=ke(t);let i=Ae.min(),s=We();return r.persistence.runTransaction("Execute query","readonly",o=>function(l,h,f){const p=ke(l),g=p.Yi.get(f);return g!==void 0?te.resolve(p.Ji.get(g)):p.kr.getTargetData(h,f)}(r,o,to(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.kr.getMatchingKeysForTargetId(o,u.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:Ae.min(),n?s:We())).next(u=>(Yae(r,Voe(e),u),{documents:u,ss:s})))}function Yae(t,e,n){let r=t.Zi.get(e)||Ae.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Zi.set(e,r)}class wD{constructor(){this.activeTargetIds=qoe()}hs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ps(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ls(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Kae{constructor(){this.Hs=new wD,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hs.hs(e),this.Js[e]||"not-current"}updateQueryState(e,n,r){this.Js[e]=n}removeLocalQueryTarget(e){this.Hs.Ps(e)}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){delete this.Js[e]}getAllActiveQueryTargets(){return this.Hs.activeTargetIds}isActiveQueryTarget(e){return this.Hs.activeTargetIds.has(e)}start(){return this.Hs=new wD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qae{Ys(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this.Zs=()=>this.Xs(),this.eo=()=>this.no(),this.ro=[],this.io()}Ys(e){this.ro.push(e)}shutdown(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}Xs(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ro)e(0)}no(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ro)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sg=null;function BE(){return Sg===null?Sg=function(){return 268435456+Math.round(2147483648*Math.random())}():Sg++,"0x"+Sg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xae={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jae{constructor(e){this.so=e.so,this.oo=e.oo}_o(e){this.ao=e}uo(e){this.co=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.so(e)}ho(){this.ao()}Po(e){this.co(e)}Io(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="WebChannelConnection";class Zae extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http";this.To=r+"://"+n.host,this.Eo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get Ao(){return!1}Ro(n,r,i,s,o){const u=BE(),l=this.Vo(n,r);ge("RestConnection",`Sending RPC '${n}' ${u}:`,l,i);const h={};return this.mo(h,s,o),this.fo(n,l,h,i).then(f=>(ge("RestConnection",`Received RPC '${n}' ${u}: `,f),f),f=>{throw lc("RestConnection",`RPC '${n}' ${u} failed with error: `,f,"url: ",l,"request:",i),f})}po(n,r,i,s,o,u){return this.Ro(n,r,i,s,o)}mo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Nc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Vo(n,r){const i=Xae[n];return`${this.To}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}fo(e,n,r,i){const s=BE();return new Promise((o,u)=>{const l=new loe;l.setWithCredentials(!0),l.listenOnce(ooe.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case WE.NO_ERROR:const f=l.getResponseJson();ge(Nn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case WE.TIMEOUT:ge(Nn,`RPC '${e}' ${s} timed out`),u(new de(K.DEADLINE_EXCEEDED,"Request time out"));break;case WE.HTTP_ERROR:const p=l.getStatus();if(ge(Nn,`RPC '${e}' ${s} failed with status:`,p,"response text:",l.getResponseText()),p>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g==null?void 0:g.error;if(v&&v.status&&v.message){const E=function(R){const S=R.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(S)>=0?S:K.UNKNOWN}(v.status);u(new de(E,v.message))}else u(new de(K.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new de(K.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{ge(Nn,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);ge(Nn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}yo(e,n,r){const i=BE(),s=[this.To,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ioe(),u=soe(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(l.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(l.xmlHttpFactory=new uoe({})),this.mo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=s.join("");ge(Nn,`Creating RPC '${e}' stream ${i}: ${f}`,l);const p=o.createWebChannel(f,l);let g=!1,v=!1;const E=new Jae({so:R=>{v?ge(Nn,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(g||(ge(Nn,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),ge(Nn,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},oo:()=>p.close()}),C=(R,S,T)=>{R.listen(S,k=>{try{T(k)}catch(b){setTimeout(()=>{throw b},0)}})};return C(p,vg.EventType.OPEN,()=>{v||ge(Nn,`RPC '${e}' stream ${i} transport opened.`)}),C(p,vg.EventType.CLOSE,()=>{v||(v=!0,ge(Nn,`RPC '${e}' stream ${i} transport closed`),E.Po())}),C(p,vg.EventType.ERROR,R=>{v||(v=!0,lc(Nn,`RPC '${e}' stream ${i} transport errored:`,R),E.Po(new de(K.UNAVAILABLE,"The operation could not be completed")))}),C(p,vg.EventType.MESSAGE,R=>{var S;if(!v){const T=R.data[0];Et(!!T);const k=T,b=k.error||((S=k[0])===null||S===void 0?void 0:S.error);if(b){ge(Nn,`RPC '${e}' stream ${i} received error:`,b);const F=b.status;let V=function(ie){const re=zt[ie];if(re!==void 0)return R4(re)}(F),W=b.message;V===void 0&&(V=K.INTERNAL,W="Unknown error status: "+F+" with message "+b.message),v=!0,E.Po(new de(V,W)),p.close()}else ge(Nn,`RPC '${e}' stream ${i} received:`,T),E.Io(T)}}),C(u,aoe.STAT_EVENT,R=>{R.stat===Qx.PROXY?ge(Nn,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Qx.NOPROXY&&ge(Nn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.ho()},0),E}}function zE(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(t){return new hae(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.wo=r,this.So=i,this.bo=s,this.Do=0,this.vo=null,this.Co=Date.now(),this.reset()}reset(){this.Do=0}Fo(){this.Do=this.bo}Mo(e){this.cancel();const n=Math.floor(this.Do+this.xo()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Do} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.vo=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.Do*=this.So,this.Do<this.wo&&(this.Do=this.wo),this.Do>this.bo&&(this.Do=this.bo)}Oo(){this.vo!==null&&(this.vo.skipDelay(),this.vo=null)}cancel(){this.vo!==null&&(this.vo.cancel(),this.vo=null)}xo(){return(Math.random()-.5)*this.Do}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e,n,r,i,s,o,u,l){this.ii=e,this.No=r,this.Bo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=l,this.state=0,this.Lo=0,this.ko=null,this.qo=null,this.stream=null,this.Qo=new U4(e,n)}Ko(){return this.state===1||this.state===5||this.$o()}$o(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Uo()}async stop(){this.Ko()&&await this.close(0)}Wo(){this.state=0,this.Qo.reset()}Go(){this.$o()&&this.ko===null&&(this.ko=this.ii.enqueueAfterDelay(this.No,6e4,()=>this.zo()))}jo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.$o())return this.close(0)}Ho(){this.ko&&(this.ko.cancel(),this.ko=null)}Jo(){this.qo&&(this.qo.cancel(),this.qo=null)}async close(e,n){this.Ho(),this.Jo(),this.Qo.cancel(),this.Lo++,e!==4?this.Qo.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(eo(n.toString()),eo("Using maximum backoff delay to prevent overloading the backend."),this.Qo.Fo()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.uo(n)}Yo(){}auth(){this.state=1;const e=this.Zo(this.Lo),n=this.Lo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Lo===n&&this.Xo(r,i)},r=>{e(()=>{const i=new de(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.e_(i)})})}Xo(e,n){const r=this.Zo(this.Lo);this.stream=this.t_(e,n),this.stream._o(()=>{r(()=>(this.state=2,this.qo=this.ii.enqueueAfterDelay(this.Bo,1e4,()=>(this.$o()&&(this.state=3),Promise.resolve())),this.listener._o()))}),this.stream.uo(i=>{r(()=>this.e_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Uo(){this.state=5,this.Qo.Mo(async()=>{this.state=0,this.start()})}e_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Zo(e){return n=>{this.ii.enqueueAndForget(()=>this.Lo===e?n():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eue extends F4{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}t_(e,n){return this.connection.yo("Listen",e,n)}onMessage(e){this.Qo.reset();const n=pae(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ae.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ae.min():o.readTime?ss(o.readTime):Ae.min()}(e);return this.listener.n_(n,r)}r_(e){const n={};n.database=cT(this.serializer),n.addTarget=function(s,o){let u;const l=o.target;if(u=rT(l)?{documents:_ae(s,l)}:{query:vae(s,l)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=k4(s,o.resumeToken);const h=aT(s,o.expectedCount);h!==null&&(u.expectedCount=h)}else if(o.snapshotVersion.compareTo(Ae.min())>0){u.readTime=x_(s,o.snapshotVersion.toTimestamp());const h=aT(s,o.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=wae(this.serializer,e);r&&(n.labels=r),this.jo(n)}i_(e){const n={};n.database=cT(this.serializer),n.removeTarget=e,this.jo(n)}}class tue extends F4{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.s_=!1}get o_(){return this.s_}start(){this.s_=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.s_&&this.__([])}t_(e,n){return this.connection.yo("Write",e,n)}onMessage(e){if(Et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.s_){this.Qo.reset();const n=mae(e.writeResults,e.commitTime),r=ss(e.commitTime);return this.listener.a_(r,n)}return Et(!e.writeResults||e.writeResults.length===0),this.s_=!0,this.listener.u_()}c_(){const e={};e.database=cT(this.serializer),this.jo(e)}__(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>gae(this.serializer,r))};this.jo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nue extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.l_=!1}h_(){if(this.l_)throw new de(K.FAILED_PRECONDITION,"The client has already been terminated.")}Ro(e,n,r){return this.h_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Ro(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new de(K.UNKNOWN,i.toString())})}po(e,n,r,i){return this.h_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.po(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new de(K.UNKNOWN,s.toString())})}terminate(){this.l_=!0}}class rue{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.I_=0,this.T_=null,this.E_=!0}d_(){this.I_===0&&(this.A_("Unknown"),this.T_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.T_=null,this.R_("Backend didn't respond within 10 seconds."),this.A_("Offline"),Promise.resolve())))}V_(e){this.state==="Online"?this.A_("Unknown"):(this.I_++,this.I_>=1&&(this.m_(),this.R_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.A_("Offline")))}set(e){this.m_(),this.I_=0,e==="Online"&&(this.E_=!1),this.A_(e)}A_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}R_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.E_?(eo(n),this.E_=!1):ge("OnlineStateTracker",n)}m_(){this.T_!==null&&(this.T_.cancel(),this.T_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iue{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.f_=[],this.g_=new Map,this.p_=new Set,this.y_=[],this.w_=s,this.w_.Ys(o=>{r.enqueueAndForget(async()=>{bu(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(l){const h=ke(l);h.p_.add(4),await Kd(h),h.S_.set("Unknown"),h.p_.delete(4),await Ry(h)}(this))})}),this.S_=new rue(r,i)}}async function Ry(t){if(bu(t))for(const e of t.y_)await e(!0)}async function Kd(t){for(const e of t.y_)await e(!1)}function $4(t,e){const n=ke(t);n.g_.has(e.targetId)||(n.g_.set(e.targetId,e),FR(n)?UR(n):Lc(n).$o()&&MR(n,e))}function V4(t,e){const n=ke(t),r=Lc(n);n.g_.delete(e),r.$o()&&W4(n,e),n.g_.size===0&&(r.$o()?r.Go():bu(n)&&n.S_.set("Unknown"))}function MR(t,e){if(t.b_.Be(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lc(t).r_(e)}function W4(t,e){t.b_.Be(e),Lc(t).i_(e)}function UR(t){t.b_=new aae({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.g_.get(e)||null,rt:()=>t.datastore.serializer.databaseId}),Lc(t).start(),t.S_.d_()}function FR(t){return bu(t)&&!Lc(t).Ko()&&t.g_.size>0}function bu(t){return ke(t).p_.size===0}function j4(t){t.b_=void 0}async function sue(t){t.g_.forEach((e,n)=>{MR(t,e)})}async function oue(t,e){j4(t),FR(t)?(t.S_.V_(e),UR(t)):t.S_.set("Unknown")}async function aue(t,e,n){if(t.S_.set("Online"),e instanceof P4&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const u of s.targetIds)i.g_.has(u)&&(await i.remoteSyncer.rejectListen(u,o),i.g_.delete(u),i.b_.removeTarget(u))}(t,e)}catch(r){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await D_(t,r)}else if(e instanceof sm?t.b_.We(e):e instanceof A4?t.b_.Ze(e):t.b_.je(e),!n.isEqual(Ae.min()))try{const r=await M4(t.localStore);n.compareTo(r)>=0&&await function(s,o){const u=s.b_.st(o);return u.targetChanges.forEach((l,h)=>{if(l.resumeToken.approximateByteSize()>0){const f=s.g_.get(h);f&&s.g_.set(h,f.withResumeToken(l.resumeToken,o))}}),u.targetMismatches.forEach((l,h)=>{const f=s.g_.get(l);if(!f)return;s.g_.set(l,f.withResumeToken(Hn.EMPTY_BYTE_STRING,f.snapshotVersion)),W4(s,l);const p=new xo(f.target,l,h,f.sequenceNumber);MR(s,p)}),s.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){ge("RemoteStore","Failed to raise snapshot:",r),await D_(t,r)}}async function D_(t,e,n){if(!Hd(e))throw e;t.p_.add(1),await Kd(t),t.S_.set("Offline"),n||(n=()=>M4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await n(),t.p_.delete(1),await Ry(t)})}function B4(t,e){return e().catch(n=>D_(t,n,e))}async function Ay(t){const e=ke(t),n=fa(e);let r=e.f_.length>0?e.f_[e.f_.length-1].batchId:-1;for(;uue(e);)try{const i=await qae(e.localStore,r);if(i===null){e.f_.length===0&&n.Go();break}r=i.batchId,lue(e,i)}catch(i){await D_(e,i)}z4(e)&&H4(e)}function uue(t){return bu(t)&&t.f_.length<10}function lue(t,e){t.f_.push(e);const n=fa(t);n.$o()&&n.o_&&n.__(e.mutations)}function z4(t){return bu(t)&&!fa(t).Ko()&&t.f_.length>0}function H4(t){fa(t).start()}async function cue(t){fa(t).c_()}async function hue(t){const e=fa(t);for(const n of t.f_)e.__(n.mutations)}async function fue(t,e,n){const r=t.f_.shift(),i=kR.from(r,e,n);await B4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ay(t)}async function due(t,e){e&&fa(t).o_&&await async function(r,i){if(function(o){return iae(o)&&o!==K.ABORTED}(i.code)){const s=r.f_.shift();fa(r).Wo(),await B4(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ay(r)}}(t,e),z4(t)&&H4(t)}async function SD(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const r=bu(n);n.p_.add(3),await Kd(n),r&&n.S_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.p_.delete(3),await Ry(n)}async function pue(t,e){const n=ke(t);e?(n.p_.delete(2),await Ry(n)):e||(n.p_.add(2),await Kd(n),n.S_.set("Unknown"))}function Lc(t){return t.D_||(t.D_=function(n,r,i){const s=ke(n);return s.h_(),new eue(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{_o:sue.bind(null,t),uo:oue.bind(null,t),n_:aue.bind(null,t)}),t.y_.push(async e=>{e?(t.D_.Wo(),FR(t)?UR(t):t.S_.set("Unknown")):(await t.D_.stop(),j4(t))})),t.D_}function fa(t){return t.v_||(t.v_=function(n,r,i){const s=ke(n);return s.h_(),new tue(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{_o:cue.bind(null,t),uo:due.bind(null,t),u_:hue.bind(null,t),a_:fue.bind(null,t)}),t.y_.push(async e=>{e?(t.v_.Wo(),await Ay(t)):(await t.v_.stop(),t.f_.length>0&&(ge("RemoteStore",`Stopping write stream with ${t.f_.length} pending writes`),t.f_=[]))})),t.v_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Jo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,u=new $R(e,n,o,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function VR(t,e){if(eo("AsyncQueue",`${e}: ${t}`),Hd(t))return new de(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=Fh(),this.sortedSet=new Nt(this.comparator)}static emptySet(e){return new Wl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Wl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this.C_=new Nt(_e.comparator)}track(e){const n=e.doc.key,r=this.C_.get(n);r?e.type!==0&&r.type===3?this.C_=this.C_.insert(n,e):e.type===3&&r.type!==1?this.C_=this.C_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.C_=this.C_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.C_=this.C_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.C_=this.C_.remove(n):e.type===1&&r.type===2?this.C_=this.C_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.C_=this.C_.insert(n,{type:2,doc:e.doc}):Ie():this.C_=this.C_.insert(n,e)}F_(){const e=[];return this.C_.inorderTraversal((n,r)=>{e.push(r)}),e}}class pc{constructor(e,n,r,i,s,o,u,l,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=l,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(u=>{o.push({type:0,doc:u})}),new pc(e,n,Wl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gue{constructor(){this.M_=void 0,this.listeners=[]}}class mue{constructor(){this.queries=new Dc(e=>f4(e),wy),this.onlineState="Unknown",this.x_=new Set}}async function _ue(t,e){const n=ke(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new gue),i)try{s.M_=await n.onListen(r)}catch(o){const u=VR(o,`Initialization of query '${oT(e.query)}' failed`);return void e.onError(u)}n.queries.set(r,s),s.listeners.push(e),e.O_(n.onlineState),s.M_&&e.N_(s.M_)&&WR(n)}async function vue(t,e){const n=ke(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function yue(t,e){const n=ke(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const u of o.listeners)u.N_(i)&&(r=!0);o.M_=i}}r&&WR(n)}function wue(t,e,n){const r=ke(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function WR(t){t.x_.forEach(e=>{e.next()})}class Eue{constructor(e,n,r){this.query=e,this.B_=n,this.L_=!1,this.k_=null,this.onlineState="Unknown",this.options=r||{}}N_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new pc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.L_?this.q_(e)&&(this.B_.next(e),n=!0):this.Q_(e,this.onlineState)&&(this.K_(e),n=!0),this.k_=e,n}onError(e){this.B_.error(e)}O_(e){this.onlineState=e;let n=!1;return this.k_&&!this.L_&&this.Q_(this.k_,e)&&(this.K_(this.k_),n=!0),n}Q_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.U_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}q_(e){if(e.docChanges.length>0)return!0;const n=this.k_&&this.k_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}K_(e){e=pc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.L_=!0,this.B_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e){this.key=e}}class G4{constructor(e){this.key=e}}class Sue{constructor(e,n){this.query=e,this.Z_=n,this.X_=null,this.hasCachedResults=!1,this.current=!1,this.ea=We(),this.mutatedKeys=We(),this.ta=d4(e),this.na=new Wl(this.ta)}get ra(){return this.Z_}ia(e,n){const r=n?n.sa:new TD,i=n?n.na:this.na;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,u=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{const g=i.get(f),v=Ey(this.query,p)?p:null,E=!!g&&this.mutatedKeys.has(g.key),C=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let R=!1;g&&v?g.data.isEqual(v.data)?E!==C&&(r.track({type:3,doc:v}),R=!0):this.oa(g,v)||(r.track({type:2,doc:v}),R=!0,(l&&this.ta(v,l)>0||h&&this.ta(v,h)<0)&&(u=!0)):!g&&v?(r.track({type:0,doc:v}),R=!0):g&&!v&&(r.track({type:1,doc:g}),R=!0,(l||h)&&(u=!0)),R&&(v?(o=o.add(v),s=C?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{na:o,sa:r,zi:u,mutatedKeys:s}}oa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.na;this.na=e.na,this.mutatedKeys=e.mutatedKeys;const s=e.sa.F_();s.sort((h,f)=>function(g,v){const E=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return E(g)-E(v)}(h.type,f.type)||this.ta(h.doc,f.doc)),this._a(r);const o=n?this.aa():[],u=this.ea.size===0&&this.current?1:0,l=u!==this.X_;return this.X_=u,s.length!==0||l?{snapshot:new pc(this.query,e.na,i,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ua:o}:{ua:o}}O_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({na:this.na,sa:new TD,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ua:[]}}ca(e){return!this.Z_.has(e)&&!!this.na.has(e)&&!this.na.get(e).hasLocalMutations}_a(e){e&&(e.addedDocuments.forEach(n=>this.Z_=this.Z_.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Z_=this.Z_.delete(n)),this.current=e.current)}aa(){if(!this.current)return[];const e=this.ea;this.ea=We(),this.na.forEach(r=>{this.ca(r.key)&&(this.ea=this.ea.add(r.key))});const n=[];return e.forEach(r=>{this.ea.has(r)||n.push(new G4(r))}),this.ea.forEach(r=>{e.has(r)||n.push(new q4(r))}),n}la(e){this.Z_=e.ss,this.ea=We();const n=this.ia(e.documents);return this.applyChanges(n,!0)}ha(){return pc.fromInitialDocuments(this.query,this.na,this.mutatedKeys,this.X_===0,this.hasCachedResults)}}class Tue{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Iue{constructor(e){this.key=e,this.Pa=!1}}class Cue{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ia={},this.Ta=new Dc(u=>f4(u),wy),this.Ea=new Map,this.da=new Set,this.Aa=new Nt(_e.comparator),this.Ra=new Map,this.Va=new xR,this.ma={},this.fa=new Map,this.ga=dc.On(),this.onlineState="Unknown",this.pa=void 0}get isPrimaryClient(){return this.pa===!0}}async function Rue(t,e){const n=Mue(t);let r,i;const s=n.Ta.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ha();else{const o=await Gae(n.localStore,to(e)),u=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await Aue(n,e,r,u==="current",o.resumeToken),n.isPrimaryClient&&$4(n.remoteStore,o)}return i}async function Aue(t,e,n,r,i){t.ya=(p,g,v)=>async function(C,R,S,T){let k=R.view.ia(S);k.zi&&(k=await yD(C.localStore,R.query,!1).then(({documents:V})=>R.view.ia(V,k)));const b=T&&T.targetChanges.get(R.targetId),F=R.view.applyChanges(k,C.isPrimaryClient,b);return CD(C,R.targetId,F.ua),F.snapshot}(t,p,g,v);const s=await yD(t.localStore,e,!0),o=new Sue(e,s.ss),u=o.ia(s.documents),l=Yd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(u,t.isPrimaryClient,l);CD(t,n,h.ua);const f=new Tue(e,n,o);return t.Ta.set(e,f),t.Ea.has(n)?t.Ea.get(n).push(e):t.Ea.set(n,[e]),h.snapshot}async function Pue(t,e){const n=ke(t),r=n.Ta.get(e),i=n.Ea.get(r.targetId);if(i.length>1)return n.Ea.set(r.targetId,i.filter(s=>!wy(s,e))),void n.Ta.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await hT(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),V4(n.remoteStore,r.targetId),fT(n,r.targetId)}).catch(zd)):(fT(n,r.targetId),await hT(n.localStore,r.targetId,!0))}async function kue(t,e,n){const r=Uue(t);try{const i=await function(o,u){const l=ke(o),h=nn.now(),f=u.reduce((v,E)=>v.add(E.key),We());let p,g;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let E=no(),C=We();return l.Xi.getEntries(v,f).next(R=>{E=R,E.forEach((S,T)=>{T.isValidDocument()||(C=C.add(S))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,E)).next(R=>{p=R;const S=[];for(const T of u){const k=Zoe(T,p.get(T.key).overlayedDocument);k!=null&&S.push(new ku(T.key,k,n4(k.value.mapValue),js.exists(!0)))}return l.mutationQueue.addMutationBatch(v,h,S,u)}).next(R=>{g=R;const S=R.applyToLocalDocumentSet(p,C);return l.documentOverlayCache.saveOverlays(v,R.batchId,S)})}).then(()=>({batchId:g.batchId,changes:g4(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,u,l){let h=o.ma[o.currentUser.toKey()];h||(h=new Nt(et)),h=h.insert(u,l),o.ma[o.currentUser.toKey()]=h}(r,i.batchId,n),await Qd(r,i.changes),await Ay(r.remoteStore)}catch(i){const s=VR(i,"Failed to persist write");n.reject(s)}}async function Y4(t,e){const n=ke(t);try{const r=await zae(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ra.get(s);o&&(Et(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Pa=!0:i.modifiedDocuments.size>0?Et(o.Pa):i.removedDocuments.size>0&&(Et(o.Pa),o.Pa=!1))}),await Qd(n,r,e)}catch(r){await zd(r)}}function ID(t,e,n){const r=ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Ta.forEach((s,o)=>{const u=o.view.O_(e);u.snapshot&&i.push(u.snapshot)}),function(o,u){const l=ke(o);l.onlineState=u;let h=!1;l.queries.forEach((f,p)=>{for(const g of p.listeners)g.O_(u)&&(h=!0)}),h&&WR(l)}(r.eventManager,e),i.length&&r.Ia.n_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bue(t,e,n){const r=ke(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ra.get(e),s=i&&i.key;if(s){let o=new Nt(_e.comparator);o=o.insert(s,Un.newNoDocument(s,Ae.min()));const u=We().add(s),l=new Iy(Ae.min(),new Map,new Nt(et),o,u);await Y4(r,l),r.Aa=r.Aa.remove(s),r.Ra.delete(e),jR(r)}else await hT(r.localStore,e,!1).then(()=>fT(r,e,n)).catch(zd)}async function Oue(t,e){const n=ke(t),r=e.batch.batchId;try{const i=await Bae(n.localStore,e);Q4(n,r,null),K4(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qd(n,i)}catch(i){await zd(i)}}async function Nue(t,e,n){const r=ke(t);try{const i=await function(o,u){const l=ke(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return l.mutationQueue.lookupMutationBatch(h,u).next(p=>(Et(p!==null),f=p.keys(),l.mutationQueue.removeMutationBatch(h,p))).next(()=>l.mutationQueue.performConsistencyCheck(h)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(h,f,u)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>l.localDocuments.getDocuments(h,f))})}(r.localStore,e);Q4(r,e,n),K4(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Qd(r,i)}catch(i){await zd(i)}}function K4(t,e){(t.fa.get(e)||[]).forEach(n=>{n.resolve()}),t.fa.delete(e)}function Q4(t,e,n){const r=ke(t);let i=r.ma[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ma[r.currentUser.toKey()]=i}}function fT(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ea.get(e))t.Ta.delete(r),n&&t.Ia.wa(r,n);t.Ea.delete(e),t.isPrimaryClient&&t.Va.Ar(e).forEach(r=>{t.Va.containsKey(r)||X4(t,r)})}function X4(t,e){t.da.delete(e.path.canonicalString());const n=t.Aa.get(e);n!==null&&(V4(t.remoteStore,n),t.Aa=t.Aa.remove(e),t.Ra.delete(n),jR(t))}function CD(t,e,n){for(const r of n)r instanceof q4?(t.Va.addReference(r.key,e),xue(t,r)):r instanceof G4?(ge("SyncEngine","Document no longer in limbo: "+r.key),t.Va.removeReference(r.key,e),t.Va.containsKey(r.key)||X4(t,r.key)):Ie()}function xue(t,e){const n=e.key,r=n.path.canonicalString();t.Aa.get(n)||t.da.has(r)||(ge("SyncEngine","New document in limbo: "+n),t.da.add(r),jR(t))}function jR(t){for(;t.da.size>0&&t.Aa.size<t.maxConcurrentLimboResolutions;){const e=t.da.values().next().value;t.da.delete(e);const n=new _e(vt.fromString(e)),r=t.ga.next();t.Ra.set(r,new Iue(n)),t.Aa=t.Aa.insert(n,r),$4(t.remoteStore,new xo(to(l4(n.path)),r,"TargetPurposeLimboResolution",SR.ae))}}async function Qd(t,e,n){const r=ke(t),i=[],s=[],o=[];r.Ta.isEmpty()||(r.Ta.forEach((u,l)=>{o.push(r.ya(l,e,n).then(h=>{if((h||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,h!=null&&h.fromCache?"not-current":"current"),h){i.push(h);const f=LR.qi(l.targetId,h);s.push(f)}}))}),await Promise.all(o),r.Ia.n_(i),await async function(l,h){const f=ke(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>te.forEach(h,g=>te.forEach(g.Li,v=>f.persistence.referenceDelegate.addReference(p,g.targetId,v)).next(()=>te.forEach(g.ki,v=>f.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))}catch(p){if(!Hd(p))throw p;ge("LocalStore","Failed to update sequence numbers: "+p)}for(const p of h){const g=p.targetId;if(!p.fromCache){const v=f.Ji.get(g),E=v.snapshotVersion,C=v.withLastLimboFreeSnapshotVersion(E);f.Ji=f.Ji.insert(g,C)}}}(r.localStore,s))}async function Due(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const r=await L4(n.localStore,e);n.currentUser=e,function(s,o){s.fa.forEach(u=>{u.forEach(l=>{l.reject(new de(K.CANCELLED,o))})}),s.fa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Qd(n,r.ts)}}function Lue(t,e){const n=ke(t),r=n.Ra.get(e);if(r&&r.Pa)return We().add(r.key);{let i=We();const s=n.Ea.get(e);if(!s)return i;for(const o of s){const u=n.Ta.get(o);i=i.unionWith(u.view.ra)}return i}}function Mue(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Y4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lue.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bue.bind(null,e),e.Ia.n_=yue.bind(null,e.eventManager),e.Ia.wa=wue.bind(null,e.eventManager),e}function Uue(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Oue.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nue.bind(null,e),e}class RD{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Cy(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return jae(this.persistence,new Vae,e.initialUser,this.serializer)}createPersistence(e){return new Fae(DR.zr,this.serializer)}createSharedClientState(e){return new Kae}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Fue{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ID(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Due.bind(null,this.syncEngine),await pue(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new mue}()}createDatastore(e){const n=Cy(e.databaseInfo.databaseId),r=function(s){return new Zae(s)}(e.databaseInfo);return function(s,o,u,l){return new nue(s,o,u,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,u){return new iue(r,i,s,o,u)}(this.localStore,this.datastore,e.asyncQueue,n=>ID(this.syncEngine,n,0),function(){return ED.v()?new ED:new Qae}())}createSyncEngine(e,n){return function(i,s,o,u,l,h,f){const p=new Cue(i,s,o,u,l,h);return f&&(p.pa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ke(n);ge("RemoteStore","RemoteStore shutting down."),r.p_.add(5),await Kd(r),r.w_.shutdown(),r.S_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ue{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Da(this.observer.next,e)}error(e){this.observer.error?this.Da(this.observer.error,e):eo("Uncaught Error in snapshot listener:",e.toString())}va(){this.muted=!0}Da(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vue{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ln.UNAUTHENTICATED,this.clientId=ZV.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ge("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ge("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new de(K.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=VR(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function HE(t,e){t.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await L4(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function AD(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jue(t);ge("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>SD(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>SD(e.remoteStore,s)),t._onlineComponents=e}function Wue(t){return t.name==="FirebaseError"?t.code===K.FAILED_PRECONDITION||t.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function jue(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await HE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Wue(n))throw n;lc("Error using user provided cache. Falling back to memory cache: "+n),await HE(t,new RD)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await HE(t,new RD);return t._offlineComponents}async function J4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await AD(t,t._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await AD(t,new Fue))),t._onlineComponents}function Bue(t){return J4(t).then(e=>e.syncEngine)}async function zue(t){const e=await J4(t),n=e.eventManager;return n.onListen=Rue.bind(null,e.syncEngine),n.onUnlisten=Pue.bind(null,e.syncEngine),n}function Hue(t,e,n={}){const r=new Jo;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,u,l,h){const f=new $ue({next:g=>{o.enqueueAndForget(()=>vue(s,p)),g.fromCache&&l.source==="server"?h.reject(new de(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),p=new Eue(u,f,{includeMetadataChanges:!0,U_:!0});return _ue(s,p)}(await zue(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(t,e,n){if(!n)throw new de(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function que(t,e,n,r){if(e===!0&&r===!0)throw new de(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kD(t){if(!_e.isDocumentKey(t))throw new de(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bD(t){if(_e.isDocumentKey(t))throw new de(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Py(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie()}function ld(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Py(t);throw new de(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new de(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}que("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Z4((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new de(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new de(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new de(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ky{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OD({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new de(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new de(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OD(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new hoe;switch(r.type){case"firstParty":return new goe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=PD.get(n);r&&(ge("ComponentProvider","Removing Datastore"),PD.delete(n),r.terminate())}(this),Promise.resolve()}}function Gue(t,e,n,r={}){var i;const s=(t=ld(t,ky))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&lc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let u,l;if(typeof r.mockUserToken=="string")u=r.mockUserToken,l=Ln.MOCK_USER;else{u=oC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new de(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ln(h)}t._authCredentials=new foe(new JV(u,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mc(this.firestore,e,this._query)}}class xr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xr(this.firestore,e,this._key)}}class Zo extends Mc{constructor(e,n,r){super(e,n,l4(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xr(this.firestore,null,new _e(e))}withConverter(e){return new Zo(this.firestore,e,this._path)}}function Yue(t,e,...n){if(t=ct(t),e3("collection","path",e),t instanceof ky){const r=vt.fromString(e,...n);return bD(r),new Zo(t,null,r)}{if(!(t instanceof xr||t instanceof Zo))throw new de(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return bD(r),new Zo(t.firestore,null,r)}}function Kue(t,e,...n){if(t=ct(t),arguments.length===1&&(e=ZV.V()),e3("doc","path",e),t instanceof ky){const r=vt.fromString(e,...n);return kD(r),new xr(t,null,new _e(r))}{if(!(t instanceof xr||t instanceof Zo))throw new de(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return kD(r),new xr(t.firestore,t instanceof Zo?t.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Que{constructor(){this.Ua=Promise.resolve(),this.Wa=[],this.Ga=!1,this.za=[],this.ja=null,this.Ha=!1,this.Ja=!1,this.Ya=[],this.Qo=new U4(this,"async_queue_retry"),this.Za=()=>{const n=zE();n&&ge("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Qo.Oo()};const e=zE();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Za)}get isShuttingDown(){return this.Ga}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xa(),this.eu(e)}enterRestrictedMode(e){if(!this.Ga){this.Ga=!0,this.Ja=e||!1;const n=zE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Za)}}enqueue(e){if(this.Xa(),this.Ga)return new Promise(()=>{});const n=new Jo;return this.eu(()=>this.Ga&&this.Ja?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Wa.push(e),this.tu()))}async tu(){if(this.Wa.length!==0){try{await this.Wa[0](),this.Wa.shift(),this.Qo.reset()}catch(e){if(!Hd(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.Wa.length>0&&this.Qo.Mo(()=>this.tu())}}eu(e){const n=this.Ua.then(()=>(this.Ha=!0,e().catch(r=>{this.ja=r,this.Ha=!1;const i=function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),u}(r);throw eo("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ha=!1,r))));return this.Ua=n,n}enqueueAfterDelay(e,n,r){this.Xa(),this.Ya.indexOf(e)>-1&&(n=0);const i=$R.createAndSchedule(this,e,n,r,s=>this.nu(s));return this.za.push(i),i}Xa(){this.ja&&Ie()}verifyOperationInProgress(){}async ru(){let e;do e=this.Ua,await e;while(e!==this.Ua)}iu(e){for(const n of this.za)if(n.timerId===e)return!0;return!1}su(e){return this.ru().then(()=>{this.za.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.za)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ru()})}ou(e){this.Ya.push(e)}nu(e){const n=this.za.indexOf(e);this.za.splice(n,1)}}class BR extends ky{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Que}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||n3(this),this._firestoreClient.terminate()}}function Xue(t,e){const n=typeof t=="object"?t:Bv(),r=typeof t=="string"?t:e||"(default)",i=Id(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=sC("firestore");s&&Gue(i,...s)}return i}function t3(t){return t._firestoreClient||n3(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function n3(t){var e,n,r;const i=t._freezeSettings(),s=function(u,l,h,f){return new Aoe(u,l,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Z4(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Vue(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gc(Hn.fromBase64String(e))}catch(n){throw new de(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gc(Hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jue=/^__.*__$/;class Zue{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ku(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gd(e,this.data,n,this.fieldTransforms)}}function i3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class qR{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this._u(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get au(){return this.settings.au}uu(e){return new qR(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.uu({path:r,lu:!1});return i.hu(e),i}Pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.uu({path:r,lu:!1});return i._u(),i}Iu(e){return this.uu({path:void 0,lu:!0})}Tu(e){return L_(e,this.settings.methodName,this.settings.Eu||!1,this.path,this.settings.du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_u(){if(this.path)for(let e=0;e<this.path.length;e++)this.hu(this.path.get(e))}hu(e){if(e.length===0)throw this.Tu("Document fields must not be empty");if(i3(this.au)&&Jue.test(e))throw this.Tu('Document fields cannot begin and end with "__"')}}class ele{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Cy(e)}Au(e,n,r,i=!1){return new qR({au:e,methodName:n,du:r,path:Fn.emptyPath(),lu:!1,Eu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function s3(t){const e=t._freezeSettings(),n=Cy(t._databaseId);return new ele(t._databaseId,!!e.ignoreUndefinedProperties,n)}function tle(t,e,n,r,i,s={}){const o=t.Au(s.merge||s.mergeFields?2:0,e,n,i);u3("Data must be an object, but it was:",o,r);const u=o3(r,o);let l,h;if(s.merge)l=new Ci(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const p of s.mergeFields){const g=rle(e,p,n);if(!o.contains(g))throw new de(K.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);sle(f,g)||f.push(g)}l=new Ci(f),h=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,h=o.fieldTransforms;return new Zue(new ti(u),l,h)}function nle(t,e,n,r=!1){return GR(n,t.Au(r?4:3,e))}function GR(t,e){if(a3(t=ct(t)))return u3("Unsupported field value:",e,t),o3(t,e);if(t instanceof r3)return function(r,i){if(!i3(i.au))throw i.Tu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.lu&&e.au!==4)throw e.Tu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const u of r){let l=GR(u,i.Iu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Goe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=nn.fromDate(r);return{timestampValue:x_(i.serializer,s)}}if(r instanceof nn){const s=new nn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:x_(i.serializer,s)}}if(r instanceof HR)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof gc)return{bytesValue:k4(i.serializer,r._byteString)};if(r instanceof xr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Tu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:NR(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Tu(`Unsupported field value: ${Py(r)}`)}(t,e)}function o3(t,e){const n={};return e4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xc(t,(r,i)=>{const s=GR(i,e.cu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function a3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nn||t instanceof HR||t instanceof gc||t instanceof xr||t instanceof r3)}function u3(t,e,n){if(!a3(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Py(n);throw r==="an object"?e.Tu(t+" a custom object"):e.Tu(t+" "+r)}}function rle(t,e,n){if((e=ct(e))instanceof zR)return e._internalPath;if(typeof e=="string")return l3(t,e);throw L_("Field path arguments must be of type string or ",t,!1,void 0,n)}const ile=new RegExp("[~\\*/\\[\\]]");function l3(t,e,n){if(e.search(ile)>=0)throw L_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zR(...e.split("."))._internalPath}catch{throw L_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function L_(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new de(K.INVALID_ARGUMENT,u+t+l)}function sle(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new xr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ole(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(YR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ole extends c3{data(){return super.data()}}function YR(t,e){return typeof e=="string"?l3(t,e):e instanceof zR?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ale(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class KR{}class ule extends KR{}function lle(t,e,...n){let r=[];e instanceof KR&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof QR).length,u=s.filter(l=>l instanceof by).length;if(o>1||o>0&&u>0)throw new de(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class by extends ule{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new by(e,n,r)}_apply(e){const n=this._parse(e);return h3(e._query,n),new Mc(e.firestore,e.converter,iT(e._query,n))}_parse(e){const n=s3(e.firestore);return function(s,o,u,l,h,f,p){let g;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new de(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){DD(p,f);const v=[];for(const E of p)v.push(xD(l,s,E));g={arrayValue:{values:v}}}else g=xD(l,s,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||DD(p,f),g=nle(u,o,p,f==="in"||f==="not-in");return Gt.create(h,f,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ND(t,e,n){const r=e,i=YR("where",t);return by._create(i,r,n)}class QR extends KR{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new QR(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Di.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const u=s.getFlattenedFilters();for(const l of u)h3(o,l),o=iT(o,l)}(e._query,n),new Mc(e.firestore,e.converter,iT(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function xD(t,e,n){if(typeof(n=ct(n))=="string"){if(n==="")throw new de(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!h4(e)&&n.indexOf("/")!==-1)throw new de(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(vt.fromString(n));if(!_e.isDocumentKey(r))throw new de(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return nD(t,new _e(r))}if(n instanceof xr)return nD(t,n._key);throw new de(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Py(n)}.`)}function DD(t,e){if(!Array.isArray(t)||t.length===0)throw new de(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function h3(t,e){if(e.isInequality()){const r=PR(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new de(K.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=c4(t);s!==null&&cle(t,i,s)}const n=function(i,s){for(const o of i)for(const u of o.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new de(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function cle(t,e,n){if(!n.isEqual(e))throw new de(K.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class hle{convertValue(e,n="none"){switch(gu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xc(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new HR(Ht(e.latitude),Ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=IR(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(id(e));default:return null}}convertTimestamp(e){const n=ha(e);return new nn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=vt.fromString(e);Et(D4(r));const i=new sd(r.get(1),r.get(3)),s=new _e(r.popFirst(5));return i.isEqual(n)||eo(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fle(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dle extends c3{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new om(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(YR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class om extends dle{data(e={}){return super.data(e)}}class ple{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Tg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new om(this._firestore,this._userDataWriter,r.key,r,new Tg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>{const l=new om(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Tg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const l=new om(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Tg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,f=-1;return u.type!==0&&(h=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),f=o.indexOf(u.doc.key)),{type:gle(u.type),doc:l,oldIndex:h,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function gle(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}class mle extends hle{constructor(e){super(),this.firestore=e}convertBytes(e){return new gc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xr(this.firestore,null,n)}}function _le(t){t=ld(t,Mc);const e=ld(t.firestore,BR),n=t3(e),r=new mle(e);return ale(t._query),Hue(n,t._query).then(i=>new ple(e,r,t,i))}function vle(t,e,n){t=ld(t,xr);const r=ld(t.firestore,BR),i=fle(t.converter,e,n);return yle(r,[tle(s3(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,js.none())])}function yle(t,e){return function(r,i){const s=new Jo;return r.asyncQueue.enqueueAndForget(async()=>kue(await Bue(r),i,s)),s.promise}(t3(t),e)}(function(e,n=!0){(function(i){Nc=i})(_a),oa(new Ks("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),u=new BR(new doe(r.getProvider("auth-internal")),new _oe(r.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new de(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sd(h.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),si(Xx,"4.0.0",e),si(Xx,"4.0.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3="firebasestorage.googleapis.com",d3="storageBucket",wle=2*60*1e3,Ele=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t extends us{constructor(e,n,r=0){super(qE(e),`Firebase Storage: ${n} (${qE(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return qE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ft;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ft||(Ft={}));function qE(t){return"storage/"+t}function XR(){const t="An unknown error occurred, please check the error payload for server response.";return new $t(Ft.UNKNOWN,t)}function Sle(t){return new $t(Ft.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Tle(t){return new $t(Ft.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Ile(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new $t(Ft.UNAUTHENTICATED,t)}function Cle(){return new $t(Ft.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Rle(t){return new $t(Ft.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Ale(){return new $t(Ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ple(){return new $t(Ft.CANCELED,"User canceled the upload/download.")}function kle(t){return new $t(Ft.INVALID_URL,"Invalid URL '"+t+"'.")}function ble(t){return new $t(Ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Ole(){return new $t(Ft.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+d3+"' property when initializing the app?")}function Nle(){return new $t(Ft.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function xle(){return new $t(Ft.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Dle(t){return new $t(Ft.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function dT(t){return new $t(Ft.INVALID_ARGUMENT,t)}function p3(){return new $t(Ft.APP_DELETED,"The Firebase app was deleted.")}function Lle(t){return new $t(Ft.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lf(t,e){return new $t(Ft.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Th(t){throw new $t(Ft.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=rr.makeFromUrl(e,n)}catch{return new rr(e,"")}if(r.path==="")return r;throw ble(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const o="(/(.*))?$",u=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function h(b){b.path_=decodeURIComponent(b.path)}const f="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",v=new RegExp(`^https?://${p}/${f}/b/${i}/o${g}`,"i"),E={bucket:1,path:3},C=n===f3?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",S=new RegExp(`^https?://${C}/${i}/${R}`,"i"),k=[{regex:u,indices:l,postModify:s},{regex:v,indices:E,postModify:h},{regex:S,indices:{bucket:1,path:2},postModify:h}];for(let b=0;b<k.length;b++){const F=k[b],V=F.regex.exec(e);if(V){const W=V[F.indices.bucket];let G=V[F.indices.path];G||(G=""),r=new rr(W,G),F.postModify(r);break}}if(r==null)throw kle(e);return r}}class Mle{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ule(t,e,n){let r=1,i=null,s=null,o=!1,u=0;function l(){return u===2}let h=!1;function f(...R){h||(h=!0,e.apply(null,R))}function p(R){i=setTimeout(()=>{i=null,t(v,l())},R)}function g(){s&&clearTimeout(s)}function v(R,...S){if(h){g();return}if(R){g(),f.call(null,R,...S);return}if(l()||o){g(),f.call(null,R,...S);return}r<64&&(r*=2);let k;u===1?(u=2,k=0):k=(r+Math.random())*1e3,p(k)}let E=!1;function C(R){E||(E=!0,g(),!h&&(i!==null?(R||(u=2),clearTimeout(i),p(0)):R||(u=1)))}return p(0),s=setTimeout(()=>{o=!0,C(!0)},n),C}function Fle(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $le(t){return t!==void 0}function Vle(t){return typeof t=="object"&&!Array.isArray(t)}function JR(t){return typeof t=="string"||t instanceof String}function LD(t){return ZR()&&t instanceof Blob}function ZR(){return typeof Blob<"u"&&!EJ()}function pT(t,e,n,r){if(r<e)throw dT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw dT(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function g3(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ja;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ja||(Ja={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wle(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jle{constructor(e,n,r,i,s,o,u,l,h,f,p,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=l,this.timeout_=h,this.progressCallback_=f,this.connectionFactory_=p,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,E)=>{this.resolve_=v,this.reject_=E,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ig(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=u=>{const l=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,h)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const u=s.getErrorCode()===Ja.NO_ERROR,l=s.getStatus();if(!u||Wle(l,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===Ja.ABORT;r(!1,new Ig(!1,null,f));return}const h=this.successCodes_.indexOf(l)!==-1;r(!0,new Ig(h,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(u,u.getResponse());$le(l)?s(l):s()}catch(l){o(l)}else if(u!==null){const l=XR();l.serverResponse=u.getErrorText(),this.errorCallback_?o(this.errorCallback_(u,l)):o(l)}else if(i.canceled){const l=this.appDelete_?p3():Ple();o(l)}else{const l=Ale();o(l)}};this.canceled_?n(!1,new Ig(!1,null,!0)):this.backoffId_=Ule(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Fle(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ig{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Ble(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function zle(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Hle(t,e){e&&(t["X-Firebase-GMPID"]=e)}function qle(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Gle(t,e,n,r,i,s,o=!0){const u=g3(t.urlParams),l=t.url+u,h=Object.assign({},t.headers);return Hle(h,e),Ble(h,n),zle(h,s),qle(h,r),new jle(l,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yle(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Kle(...t){const e=Yle();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(ZR())return new Blob(t);throw new $t(Ft.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Qle(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xle(t){if(typeof atob>"u")throw Dle("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class GE{constructor(e,n){this.data=e,this.contentType=n||null}}function Jle(t,e){switch(t){case Ji.RAW:return new GE(m3(e));case Ji.BASE64:case Ji.BASE64URL:return new GE(_3(t,e));case Ji.DATA_URL:return new GE(ece(e),tce(e))}throw XR()}function m3(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Zle(t){let e;try{e=decodeURIComponent(t)}catch{throw lf(Ji.DATA_URL,"Malformed data URL.")}return m3(e)}function _3(t,e){switch(t){case Ji.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw lf(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ji.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw lf(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Xle(e)}catch(i){throw i.message.includes("polyfill")?i:lf(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class v3{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw lf(Ji.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=nce(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function ece(t){const e=new v3(t);return e.base64?_3(Ji.BASE64,e.rest):Zle(e.rest)}function tce(t){return new v3(t).contentType}function nce(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,n){let r=0,i="";LD(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(LD(this.data_)){const r=this.data_,i=Qle(r,e,n);return i===null?null:new Po(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Po(r,!0)}}static getBlob(...e){if(ZR()){const n=e.map(r=>r instanceof Po?r.data_:r);return new Po(Kle.apply(null,n))}else{const n=e.map(o=>JR(o)?Jle(Ji.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let u=0;u<o.length;u++)i[s++]=o[u]}),new Po(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(t){let e;try{e=JSON.parse(t)}catch{return null}return Vle(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rce(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function ice(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function y3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sce(t,e){return e}class Xn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||sce}}let Cg=null;function oce(t){return!JR(t)||t.length<2?t:y3(t)}function w3(){if(Cg)return Cg;const t=[];t.push(new Xn("bucket")),t.push(new Xn("generation")),t.push(new Xn("metageneration")),t.push(new Xn("name","fullPath",!0));function e(s,o){return oce(o)}const n=new Xn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Xn("size");return i.xform=r,t.push(i),t.push(new Xn("timeCreated")),t.push(new Xn("updated")),t.push(new Xn("md5Hash",null,!0)),t.push(new Xn("cacheControl",null,!0)),t.push(new Xn("contentDisposition",null,!0)),t.push(new Xn("contentEncoding",null,!0)),t.push(new Xn("contentLanguage",null,!0)),t.push(new Xn("contentType",null,!0)),t.push(new Xn("metadata","customMetadata",!0)),Cg=t,Cg}function ace(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new rr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function uce(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return ace(r,t),r}function E3(t,e,n){const r=eA(e);return r===null?null:uce(t,r,n)}function lce(t,e,n,r){const i=eA(e);if(i===null||!JR(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(h=>{const f=t.bucket,p=t.fullPath,g="/b/"+o(f)+"/o/"+o(p),v=Xd(g,n,r),E=g3({alt:"media",token:h});return v+E})[0]}function cce(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD="prefixes",UD="items";function hce(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[MD])for(const i of n[MD]){const s=i.replace(/\/$/,""),o=t._makeStorageReference(new rr(e,s));r.prefixes.push(o)}if(n[UD])for(const i of n[UD]){const s=t._makeStorageReference(new rr(e,i.name));r.items.push(s)}return r}function fce(t,e,n){const r=eA(n);return r===null?null:hce(t,e,r)}class Oy{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(t){if(!t)throw XR()}function dce(t,e){function n(r,i){const s=E3(t,i,e);return tA(s!==null),s}return n}function pce(t,e){function n(r,i){const s=fce(t,e,i);return tA(s!==null),s}return n}function gce(t,e){function n(r,i){const s=E3(t,i,e);return tA(s!==null),lce(s,i,t.host,t._protocol)}return n}function nA(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Cle():i=Ile():n.getStatus()===402?i=Tle(t.bucket):n.getStatus()===403?i=Rle(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function S3(t){const e=nA(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Sle(t.path)),s.serverResponse=i.serverResponse,s}return n}function mce(t,e,n,r,i){const s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=e.bucketOnlyServerUrl(),u=Xd(o,t.host,t._protocol),l="GET",h=t.maxOperationRetryTime,f=new Oy(u,l,pce(t,e.bucket),h);return f.urlParams=s,f.errorHandler=nA(e),f}function _ce(t,e,n){const r=e.fullServerUrl(),i=Xd(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,u=new Oy(i,s,gce(t,n),o);return u.errorHandler=S3(e),u}function vce(t,e){const n=e.fullServerUrl(),r=Xd(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,h){}const u=new Oy(r,i,o,s);return u.successCodes=[200,204],u.errorHandler=S3(e),u}function yce(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function wce(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=yce(null,e)),r}function Ece(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function u(){let k="";for(let b=0;b<2;b++)k=k+Math.random().toString().slice(2);return k}const l=u();o["Content-Type"]="multipart/related; boundary="+l;const h=wce(e,r,i),f=cce(h,n),p="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+l+`\r
Content-Type: `+h.contentType+`\r
\r
`,g=`\r
--`+l+"--",v=Po.getBlob(p,r,g);if(v===null)throw Nle();const E={name:h.fullPath},C=Xd(s,t.host,t._protocol),R="POST",S=t.maxUploadRetryTime,T=new Oy(C,R,dce(t,n),S);return T.urlParams=E,T.headers=o,T.body=v.uploadData(),T.errorHandler=nA(e),T}class Sce{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ja.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ja.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ja.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Th("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Th("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Th("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Th("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Th("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Tce extends Sce{initXhr(){this.xhr_.responseType="text"}}function Ny(){return new Tce}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n){this._service=e,n instanceof rr?this._location=n:this._location=rr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new mu(e,n)}get root(){const e=new rr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return y3(this._location.path)}get storage(){return this._service}get parent(){const e=rce(this._location.path);if(e===null)return null;const n=new rr(this._location.bucket,e);return new mu(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Lle(e)}}function Ice(t,e,n){t._throwIfRoot("uploadBytes");const r=Ece(t.storage,t._location,w3(),new Po(e,!0),n);return t.storage.makeRequestWithTokens(r,Ny).then(i=>({metadata:i,ref:t}))}function Cce(t){const e={prefixes:[],items:[]};return T3(t,e).then(()=>e)}async function T3(t,e,n){const i=await Rce(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await T3(t,e,i.nextPageToken)}function Rce(t,e){e!=null&&typeof e.maxResults=="number"&&pT("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=mce(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Ny)}function Ace(t){t._throwIfRoot("getDownloadURL");const e=_ce(t.storage,t._location,w3());return t.storage.makeRequestWithTokens(e,Ny).then(n=>{if(n===null)throw xle();return n})}function Pce(t){t._throwIfRoot("deleteObject");const e=vce(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Ny)}function kce(t,e){const n=ice(t._location.path,e),r=new rr(t._location.bucket,n);return new mu(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bce(t){return/^[A-Za-z]+:\/\//.test(t)}function Oce(t,e){return new mu(t,e)}function I3(t,e){if(t instanceof rA){const n=t;if(n._bucket==null)throw Ole();const r=new mu(n,n._bucket);return e!=null?I3(r,e):r}else return e!==void 0?kce(t,e):t}function Nce(t,e){if(e&&bce(e)){if(t instanceof rA)return Oce(t,e);throw dT("To use ref(service, url), the first argument must be a Storage instance.")}else return I3(t,e)}function FD(t,e){const n=e==null?void 0:e[d3];return n==null?null:rr.makeFromBucketSpec(n,t)}function xce(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:oC(i,t.app.options.projectId))}class rA{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=f3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=wle,this._maxUploadRetryTime=Ele,this._requests=new Set,i!=null?this._bucket=rr.makeFromBucketSpec(i,this._host):this._bucket=FD(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=rr.makeFromBucketSpec(this._url,e):this._bucket=FD(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){pT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){pT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new mu(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Mle(p3());{const o=Gle(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const $D="@firebase/storage",VD="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3="storage";function R3(t,e,n){return t=ct(t),Ice(t,e,n)}function WD(t){return t=ct(t),Cce(t)}function A3(t){return t=ct(t),Ace(t)}function jD(t){return t=ct(t),Pce(t)}function M_(t,e){return t=ct(t),Nce(t,e)}function Dce(t=Bv(),e){t=ct(t);const r=Id(t,C3).getImmediate({identifier:e}),i=sC("storage");return i&&Lce(r,...i),r}function Lce(t,e,n,r={}){xce(t,e,n,r)}function Mce(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new rA(n,r,i,e,_a)}function Uce(){oa(new Ks(C3,Mce,"PUBLIC").setMultipleInstances(!0)),si($D,VD,""),si($D,VD,"esm2017")}Uce();let Rg;const Fce=new Uint8Array(16);function $ce(){if(!Rg&&(Rg=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Rg))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Rg(Fce)}const gn=[];for(let t=0;t<256;++t)gn.push((t+256).toString(16).slice(1));function Vce(t,e=0){return(gn[t[e+0]]+gn[t[e+1]]+gn[t[e+2]]+gn[t[e+3]]+"-"+gn[t[e+4]]+gn[t[e+5]]+"-"+gn[t[e+6]]+gn[t[e+7]]+"-"+gn[t[e+8]]+gn[t[e+9]]+"-"+gn[t[e+10]]+gn[t[e+11]]+gn[t[e+12]]+gn[t[e+13]]+gn[t[e+14]]+gn[t[e+15]]).toLowerCase()}const Wce=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),BD={randomUUID:Wce};function jce(t,e,n){if(BD.randomUUID&&!e&&!t)return BD.randomUUID();t=t||{};const r=t.random||(t.rng||$ce)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return Vce(r)}var Bce={apiKey:"AIzaSyAS70hZZxcHz-tNpYJtP0t3-f5vKPKa_xc",authDomain:"react-chat-app-5d058.firebaseapp.com",projectId:"react-chat-app-5d058",storageBucket:"react-chat-app-5d058.appspot.com",messagingSenderId:"464613708419",appId:"1:464613708419:web:a616818e812b956df041b6"},P3=function(e){return e.split("/").join(".").split("-").join("_")},yt;(function(t){t.Avatars="avatars",t.Attachments="attachments",t.Chats="chats",t.Users="users",t.UserChats="user_chats",t.Messages="messages"})(yt||(yt={}));function mc(t){return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(t)}function zce(t,e,n){return e=Hce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hce(t){var e=qce(t,"string");return mc(e)==="symbol"?e:String(e)}function qce(t,e){if(mc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function or(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */or=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(I,_,w){I[_]=w.value},i=typeof Symbol=="function"?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(I,_,w){return Object.defineProperty(I,_,{value:w,enumerable:!0,configurable:!0,writable:!0}),I[_]}try{l({},"")}catch{l=function(w,N,D){return w[N]=D}}function h(I,_,w,N){var D=_&&_.prototype instanceof g?_:g,O=Object.create(D.prototype),M=new ie(N||[]);return r(O,"_invoke",{value:F(I,w,M)}),O}function f(I,_,w){try{return{type:"normal",arg:I.call(_,w)}}catch(N){return{type:"throw",arg:N}}}t.wrap=h;var p={};function g(){}function v(){}function E(){}var C={};l(C,s,function(){return this});var R=Object.getPrototypeOf,S=R&&R(R(re([])));S&&S!==e&&n.call(S,s)&&(C=S);var T=E.prototype=g.prototype=Object.create(C);function k(I){["next","throw","return"].forEach(function(_){l(I,_,function(w){return this._invoke(_,w)})})}function b(I,_){function w(D,O,M,B){var H=f(I[D],I,O);if(H.type!=="throw"){var ue=H.arg,fe=ue.value;return fe&&mc(fe)=="object"&&n.call(fe,"__await")?_.resolve(fe.__await).then(function(Se){w("next",Se,M,B)},function(Se){w("throw",Se,M,B)}):_.resolve(fe).then(function(Se){ue.value=Se,M(ue)},function(Se){return w("throw",Se,M,B)})}B(H.arg)}var N;r(this,"_invoke",{value:function(O,M){function B(){return new _(function(H,ue){w(O,M,H,ue)})}return N=N?N.then(B,B):B()}})}function F(I,_,w){var N="suspendedStart";return function(D,O){if(N==="executing")throw new Error("Generator is already running");if(N==="completed"){if(D==="throw")throw O;return Ne()}for(w.method=D,w.arg=O;;){var M=w.delegate;if(M){var B=V(M,w);if(B){if(B===p)continue;return B}}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(N==="suspendedStart")throw N="completed",w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);N="executing";var H=f(I,_,w);if(H.type==="normal"){if(N=w.done?"completed":"suspendedYield",H.arg===p)continue;return{value:H.arg,done:w.done}}H.type==="throw"&&(N="completed",w.method="throw",w.arg=H.arg)}}}function V(I,_){var w=_.method,N=I.iterator[w];if(N===void 0)return _.delegate=null,w==="throw"&&I.iterator.return&&(_.method="return",_.arg=void 0,V(I,_),_.method==="throw")||w!=="return"&&(_.method="throw",_.arg=new TypeError("The iterator does not provide a '"+w+"' method")),p;var D=f(N,I.iterator,_.arg);if(D.type==="throw")return _.method="throw",_.arg=D.arg,_.delegate=null,p;var O=D.arg;return O?O.done?(_[I.resultName]=O.value,_.next=I.nextLoc,_.method!=="return"&&(_.method="next",_.arg=void 0),_.delegate=null,p):O:(_.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,p)}function W(I){var _={tryLoc:I[0]};1 in I&&(_.catchLoc=I[1]),2 in I&&(_.finallyLoc=I[2],_.afterLoc=I[3]),this.tryEntries.push(_)}function G(I){var _=I.completion||{};_.type="normal",delete _.arg,I.completion=_}function ie(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(W,this),this.reset(!0)}function re(I){if(I){var _=I[s];if(_)return _.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var w=-1,N=function D(){for(;++w<I.length;)if(n.call(I,w))return D.value=I[w],D.done=!1,D;return D.value=void 0,D.done=!0,D};return N.next=N}}return{next:Ne}}function Ne(){return{value:void 0,done:!0}}return v.prototype=E,r(T,"constructor",{value:E,configurable:!0}),r(E,"constructor",{value:v,configurable:!0}),v.displayName=l(E,u,"GeneratorFunction"),t.isGeneratorFunction=function(I){var _=typeof I=="function"&&I.constructor;return!!_&&(_===v||(_.displayName||_.name)==="GeneratorFunction")},t.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,E):(I.__proto__=E,l(I,u,"GeneratorFunction")),I.prototype=Object.create(T),I},t.awrap=function(I){return{__await:I}},k(b.prototype),l(b.prototype,o,function(){return this}),t.AsyncIterator=b,t.async=function(I,_,w,N,D){D===void 0&&(D=Promise);var O=new b(h(I,_,w,N),D);return t.isGeneratorFunction(_)?O:O.next().then(function(M){return M.done?M.value:O.next()})},k(T),l(T,u,"Generator"),l(T,s,function(){return this}),l(T,"toString",function(){return"[object Generator]"}),t.keys=function(I){var _=Object(I),w=[];for(var N in _)w.push(N);return w.reverse(),function D(){for(;w.length;){var O=w.pop();if(O in _)return D.value=O,D.done=!1,D}return D.done=!0,D}},t.values=re,ie.prototype={constructor:ie,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(G),!_)for(var w in this)w.charAt(0)==="t"&&n.call(this,w)&&!isNaN(+w.slice(1))&&(this[w]=void 0)},stop:function(){this.done=!0;var _=this.tryEntries[0].completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var w=this;function N(ue,fe){return M.type="throw",M.arg=_,w.next=ue,fe&&(w.method="next",w.arg=void 0),!!fe}for(var D=this.tryEntries.length-1;D>=0;--D){var O=this.tryEntries[D],M=O.completion;if(O.tryLoc==="root")return N("end");if(O.tryLoc<=this.prev){var B=n.call(O,"catchLoc"),H=n.call(O,"finallyLoc");if(B&&H){if(this.prev<O.catchLoc)return N(O.catchLoc,!0);if(this.prev<O.finallyLoc)return N(O.finallyLoc)}else if(B){if(this.prev<O.catchLoc)return N(O.catchLoc,!0)}else{if(!H)throw new Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return N(O.finallyLoc)}}}},abrupt:function(_,w){for(var N=this.tryEntries.length-1;N>=0;--N){var D=this.tryEntries[N];if(D.tryLoc<=this.prev&&n.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var O=D;break}}O&&(_==="break"||_==="continue")&&O.tryLoc<=w&&w<=O.finallyLoc&&(O=null);var M=O?O.completion:{};return M.type=_,M.arg=w,O?(this.method="next",this.next=O.finallyLoc,p):this.complete(M)},complete:function(_,w){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&w&&(this.next=w),p},finish:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.finallyLoc===_)return this.complete(N.completion,N.afterLoc),G(N),p}},catch:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.tryLoc===_){var D=N.completion;if(D.type==="throw"){var O=D.arg;G(N)}return O}}throw new Error("illegal catch attempt")},delegateYield:function(_,w,N){return this.delegate={iterator:re(_),resultName:w,nextLoc:N},this.method==="next"&&(this.arg=void 0),p}},t}function zD(t,e,n,r,i,s,o){try{var u=t[s](o),l=u.value}catch(h){n(h);return}u.done?e(l):Promise.resolve(l).then(r,i)}function Ou(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(l){zD(s,r,i,o,u,"next",l)}function u(l){zD(s,r,i,o,u,"throw",l)}o(void 0)})}}XU(Bce);var ks=Yte(),U_=Dce(),k3=Xue(),br=JC(),Za=function(){var e;return(e=ks.currentUser)===null||e===void 0?void 0:e.uid},Gce=function(){var t=Ou(or().mark(function e(n){var r,i,s,o,u,l,h;return or().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return r=n.avatar,i=n.email,s=n.nickname,o=n.password,u={user:null,error:null},l="",p.prev=3,p.next=6,Nee(ks,i,o);case 6:u.user=p.sent.user,p.next=12;break;case 9:p.prev=9,p.t0=p.catch(3),u.error=P3(p.t0.code);case 12:if(!(!u.error&&u.user)){p.next=28;break}if(h=M_(U_,"".concat(yt.Avatars,"/").concat(i)),!r){p.next=24;break}return p.next=17,R3(h,r);case 17:return p.next=19,A3(h);case 19:return l=p.sent,p.next=22,GN(u.user,{displayName:s,photoURL:l});case 22:p.next=26;break;case 24:return p.next=26,GN(u.user,{displayName:s});case 26:return p.next=28,vle(Kue(k3,yt.Users,u.user.uid),{uid:u.user.uid,nickname:s,email:i,avatarUrl:l});case 28:return p.abrupt("return",u);case 29:case"end":return p.stop()}},e,null,[[3,9]])}));return function(n){return t.apply(this,arguments)}}(),Yce=function(){var t=Ou(or().mark(function e(n){var r,i,s;return or().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return r=n.email,i=n.password,s={user:null,error:null},u.prev=2,u.next=5,xee(ks,r,i);case 5:s.user=u.sent.user,u.next=11;break;case 8:u.prev=8,u.t0=u.catch(2),s.error=P3(u.t0.code);case 11:return u.abrupt("return",s);case 12:case"end":return u.stop()}},e,null,[[2,8]])}));return function(n){return t.apply(this,arguments)}}(),Kce=function(){var t=Ou(or().mark(function e(n){var r,i,s,o;return or().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return r={users:[],error:null},i=[],s=lle(Yue(k3,yt.Users),ND("nickname",">=",n),ND("nickname","<","".concat(n,""))),l.prev=3,l.next=6,_le(s);case 6:o=l.sent,o.forEach(function(h){i.push(h.data())}),l.next=13;break;case 10:l.prev=10,l.t0=l.catch(3),r.error="firestoreSearchUser";case 13:return r.users=i,l.abrupt("return",r);case 15:case"end":return l.stop()}},e,null,[[3,10]])}));return function(n){return t.apply(this,arguments)}}(),Qce=function(){var t=Ou(or().mark(function e(n){var r,i,s,o,u,l,h,f;return or().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return i={chat:null,error:null},s=(r=Za())!==null&&r!==void 0?r:"",o=s>n.uid?s+n.uid:n.uid+s,g.prev=3,g.next=6,$S(Js(er(br),"".concat(yt.Chats,"/").concat(o)));case 6:if(l=g.sent,!(!l.exists()&&ks.currentUser)){g.next=14;break}return g.next=10,nf(er(br,"".concat(yt.Chats,"/").concat(o)),{createdAt:WS(),user1:s,user2:n.uid});case 10:return g.next=12,nf(er(br,"".concat(yt.UserChats,"/").concat(s,"/").concat(o)),{interlocutorInfo:{avatarUrl:n.avatarUrl,nickname:n.nickname,uid:n.uid},chatUid:o});case 12:return g.next=14,nf(er(br,"".concat(yt.UserChats,"/").concat(n.uid,"/").concat(o)),{interlocutorInfo:{avatarUrl:(h=ks.currentUser.photoURL)!==null&&h!==void 0?h:"",nickname:(f=ks.currentUser.displayName)!==null&&f!==void 0?f:"",uid:ks.currentUser.uid},chatUid:o});case 14:return g.next=16,$S(Js(er(br),"".concat(yt.UserChats,"/").concat((u=ks.currentUser)===null||u===void 0?void 0:u.uid,"/").concat(o)));case 16:i.chat=g.sent.val(),g.next=22;break;case 19:g.prev=19,g.t0=g.catch(3),i.error="firebaseGetUserChat: ".concat(g.t0.message);case 22:return g.abrupt("return",i);case 23:case"end":return g.stop()}},e,null,[[3,19]])}));return function(n){return t.apply(this,arguments)}}(),Xce=function(){var t=Ou(or().mark(function e(n,r,i){var s,o,u,l,h,f;return or().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(g.prev=0,s=er(br,"".concat(yt.Chats,"/").concat(r.chatUid,"/").concat(yt.Messages)),o=qie(s),u="",l=jce(),!i){g.next=12;break}return h=M_(U_,"".concat(yt.Attachments,"/").concat(Za(),"/").concat(r.interlocutorInfo.uid,"/").concat(l)),g.next=9,R3(h,i);case 9:return g.next=11,A3(h);case 11:u=g.sent;case 12:return nf(o,{text:n,senderId:Za(),id:l,createdAt:WS(),imgUrl:u}),f={lastUpdate:WS(),lastMessage:n||u&&"[ attachment ]"},g.next=16,Ul(er(br,"".concat(yt.UserChats,"/").concat(Za(),"/").concat(r.chatUid)),f);case 16:return g.next=18,Ul(er(br,"".concat(yt.UserChats,"/").concat(r.interlocutorInfo.uid,"/").concat(r.chatUid)),f);case 18:g.next=23;break;case 20:g.prev=20,g.t0=g.catch(0),console.error(g.t0);case 23:case"end":return g.stop()}},e,null,[[0,20]])}));return function(n,r,i){return t.apply(this,arguments)}}(),Jce=function(){var t=Ou(or().mark(function e(n,r){var i,s,o,u,l,h,f;return or().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return i=n.chatUid,s=n.interlocutorInfo,g.next=3,$S(Js(er(br),"".concat(yt.Chats,"/").concat(i)));case 3:if(o=g.sent,!(o.exists()&&ks.currentUser)){g.next=21;break}return g.next=7,Ul(er(br,"".concat(yt.Chats,"/").concat(i)),{messages:null});case 7:return g.next=9,Ul(er(br,"".concat(yt.UserChats,"/").concat(Za(),"/").concat(i)),{lastUpdate:"",lastMessage:""});case 9:return g.next=11,Ul(er(br,"".concat(yt.UserChats,"/").concat(s.uid,"/").concat(i)),{lastUpdate:"",lastMessage:""});case 11:return u=M_(U_,"".concat(yt.Attachments,"/").concat(r,"/").concat(s.uid)),g.next=14,WD(u);case 14:return l=g.sent,l.items.map(function(v){return jD(v)}),h=M_(U_,"".concat(yt.Attachments,"/").concat(s.uid,"/").concat(r)),g.next=19,WD(h);case 19:f=g.sent,f.items.map(function(v){return jD(v)});case 21:case"end":return g.stop()}},e)}));return function(n,r){return t.apply(this,arguments)}}(),Zce=function(){var t=Ou(or().mark(function e(n,r){return or().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Ul(er(br),zce({},"".concat(yt.UserChats,"/").concat(Za(),"/").concat(n,"/interlocutorInfo/alias"),r));case 2:case"end":return s.stop()}},e)}));return function(n,r){return t.apply(this,arguments)}}(),ehe={getCurrentUser:Za,registerUser:Gce,loginUser:Yce,searchUser:Kce,getUserChat:Qce,sendMessage:Xce,clearChatHistory:Jce,setUserAlias:Zce};NU.create({baseURL:"https://dummyjson.com/auth/login",timeout:1e4,headers:{"Content-Type":"application/json"}});var _u={firebase:ehe};const the="GCX",nhe="eAv",HD={container:the,menu:nhe};var rhe=function(){var e=yr(function(u){return u.user}),n=e.chat,r=e.user,i=Tu(),s=function(){if(n){var l=prompt("Enter the user's alias. To remove an alias, leave the line empty.");l!==null&&(_u.firebase.setUserAlias(n.chatUid,l),i(He.actions.getInterlocutor(n.interlocutorInfo)))}},o=function(){n&&r&&(_u.firebase.clearChatHistory(n,r.uid),i(He.actions.getInterlocutor(n.interlocutorInfo)))};return Qe("div",{className:HD.container,children:[Z(Lv.Options,{}),Qe("div",{className:HD.menu,children:[Z("button",{onClick:s,children:"Rename"}),Z("button",{onClick:o,children:"Clear history"})]})]})};const ihe="AXt",she={container:ihe};function ohe(t,e){return che(t)||lhe(t,e)||uhe(t,e)||ahe()}function ahe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uhe(t,e){if(t){if(typeof t=="string")return qD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qD(t,e)}}function qD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,u=[],l=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(f){h=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function che(t){if(Array.isArray(t))return t}var hhe=function(){var e=X.useState([]),n=ohe(e,2),r=n[0],i=n[1],s=yr(function(f){return f.user}),o=s.chat,u=s.user,l=yr(function(f){return f.cache}),h=l.isChatOpened;return DI(function(){var f=er(JC(),"".concat(yt.UserChats,"/").concat(u==null?void 0:u.uid)),p=K$(f,function(g){if(g.val()){var v=Object.values(g.val());i(v.sort(function(E,C){return+C.lastUpdate-+E.lastUpdate}))}});return function(){p()}}),Z("div",{className:she.container,children:Vs.map(r,function(f){return Z(ome,{chatInfo:f,isActive:f.chatUid===(o==null?void 0:o.chatUid)&&h},f.chatUid)})})};const fhe="zyS",dhe="_4EF",GD={container:fhe,sendContainer:dhe};function YD(t,e){return _he(t)||mhe(t,e)||ghe(t,e)||phe()}function phe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ghe(t,e){if(t){if(typeof t=="string")return KD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KD(t,e)}}function KD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,u=[],l=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(f){h=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function _he(t){if(Array.isArray(t))return t}var vhe=function(){var e=X.useState(""),n=YD(e,2),r=n[0],i=n[1],s=X.useState(""),o=YD(s,2),u=o[0],l=o[1],h=X.useRef(null),f=yr(function(C){return C.user}),p=f.chat,g=function(R){if(R==null||R.preventDefault(),h.current){var S=h.current.files&&h.current.files[0];(u||S)&&p&&(_u.firebase.sendMessage(u,p,S),l(""),i(""),h.current.value="")}},v=function(R){if(R.target.files){var S=R.target.files[0],T=new FileReader;T.onload=function(){T.readyState===2&&typeof T.result=="string"&&i(T.result)},S&&T.readAsDataURL(S)}},E=function(R){l(R.target.value)};return Qe("form",{className:GD.container,onSubmit:g,children:[Z("input",{placeholder:"Type something...",type:"text",value:u,onChange:E}),Qe("div",{className:GD.sendContainer,children:[Qe("label",{htmlFor:"file",children:[r&&Z("img",{alt:"attachment",src:r}),Z(Lv.AddAvatar,{}),Z("input",{ref:h,hidden:!0,accept:"image/*",id:"file",type:"file",onChange:v})]}),Z("button",{children:"Send"})]})]})},yhe=function(){return Z("div",{className:"layout",children:Z(oU,{})})};function gT(t){return gT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gT(t)}var vu=function(){for(var e=[],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Vs.map(r,function(s){if(s)switch(gT(s)){case"string":e.push(s);break;case"object":Vs(s).entries().map(function(o){return o[1]&&e.push(o[0]),null});break}return null}),e.join(" ")};const whe="-uQ",Ehe="mI2",QD={container:whe,dotFlashing:Ehe};var She=function(e){var n=e.className;return Z("span",{className:vu(QD.container,n),children:Z("span",{className:QD.dotFlashing})})};//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var b3;function ae(){return b3.apply(null,arguments)}function The(t){b3=t}function Li(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function eu(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Xe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function iA(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Xe(t,e))return!1;return!0}function dr(t){return t===void 0}function ro(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Jd(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function O3(t,e){var n=[],r,i=t.length;for(r=0;r<i;++r)n.push(e(t[r],r));return n}function Do(t,e){for(var n in e)Xe(e,n)&&(t[n]=e[n]);return Xe(e,"toString")&&(t.toString=e.toString),Xe(e,"valueOf")&&(t.valueOf=e.valueOf),t}function hs(t,e,n,r){return t6(t,e,n,r,!0).utc()}function Ihe(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Oe(t){return t._pf==null&&(t._pf=Ihe()),t._pf}var mT;Array.prototype.some?mT=Array.prototype.some:mT=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function sA(t){if(t._isValid==null){var e=Oe(t),n=mT.call(e.parsedDateParts,function(i){return i!=null}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r}return t._isValid}function xy(t){var e=hs(NaN);return t!=null?Do(Oe(e),t):Oe(e).userInvalidated=!0,e}var XD=ae.momentProperties=[],YE=!1;function oA(t,e){var n,r,i,s=XD.length;if(dr(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),dr(e._i)||(t._i=e._i),dr(e._f)||(t._f=e._f),dr(e._l)||(t._l=e._l),dr(e._strict)||(t._strict=e._strict),dr(e._tzm)||(t._tzm=e._tzm),dr(e._isUTC)||(t._isUTC=e._isUTC),dr(e._offset)||(t._offset=e._offset),dr(e._pf)||(t._pf=Oe(e)),dr(e._locale)||(t._locale=e._locale),s>0)for(n=0;n<s;n++)r=XD[n],i=e[r],dr(i)||(t[r]=i);return t}function Zd(t){oA(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),YE===!1&&(YE=!0,ae.updateOffset(this),YE=!1)}function Mi(t){return t instanceof Zd||t!=null&&t._isAMomentObject!=null}function N3(t){ae.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function ci(t,e){var n=!0;return Do(function(){if(ae.deprecationHandler!=null&&ae.deprecationHandler(null,t),n){var r=[],i,s,o,u=arguments.length;for(s=0;s<u;s++){if(i="",typeof arguments[s]=="object"){i+=`
[`+s+"] ";for(o in arguments[0])Xe(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[s];r.push(i)}N3(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var JD={};function x3(t,e){ae.deprecationHandler!=null&&ae.deprecationHandler(t,e),JD[t]||(N3(e),JD[t]=!0)}ae.suppressDeprecationWarnings=!1;ae.deprecationHandler=null;function fs(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function Che(t){var e,n;for(n in t)Xe(t,n)&&(e=t[n],fs(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function _T(t,e){var n=Do({},t),r;for(r in e)Xe(e,r)&&(eu(t[r])&&eu(e[r])?(n[r]={},Do(n[r],t[r]),Do(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)Xe(t,r)&&!Xe(e,r)&&eu(t[r])&&(n[r]=Do({},n[r]));return n}function aA(t){t!=null&&this.set(t)}var vT;Object.keys?vT=Object.keys:vT=function(t){var e,n=[];for(e in t)Xe(t,e)&&n.push(e);return n};var Rhe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Ahe(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return fs(r)?r.call(e,n):r}function as(t,e,n){var r=""+Math.abs(t),i=e-r.length,s=t>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var uA=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ag=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,KE={},jl={};function me(t,e,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),t&&(jl[t]=i),e&&(jl[e[0]]=function(){return as(i.apply(this,arguments),e[1],e[2])}),n&&(jl[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function Phe(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function khe(t){var e=t.match(uA),n,r;for(n=0,r=e.length;n<r;n++)jl[e[n]]?e[n]=jl[e[n]]:e[n]=Phe(e[n]);return function(i){var s="",o;for(o=0;o<r;o++)s+=fs(e[o])?e[o].call(i,t):e[o];return s}}function am(t,e){return t.isValid()?(e=D3(e,t.localeData()),KE[e]=KE[e]||khe(e),KE[e](t)):t.localeData().invalidDate()}function D3(t,e){var n=5;function r(i){return e.longDateFormat(i)||i}for(Ag.lastIndex=0;n>=0&&Ag.test(t);)t=t.replace(Ag,r),Ag.lastIndex=0,n-=1;return t}var bhe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Ohe(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(uA).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var Nhe="Invalid date";function xhe(){return this._invalidDate}var Dhe="%d",Lhe=/\d{1,2}/;function Mhe(t){return this._ordinal.replace("%d",t)}var Uhe={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Fhe(t,e,n,r){var i=this._relativeTime[n];return fs(i)?i(t,e,n,r):i.replace(/%d/i,t)}function $he(t,e){var n=this._relativeTime[t>0?"future":"past"];return fs(n)?n(e):n.replace(/%s/i,e)}var cf={};function qn(t,e){var n=t.toLowerCase();cf[n]=cf[n+"s"]=cf[e]=t}function hi(t){return typeof t=="string"?cf[t]||cf[t.toLowerCase()]:void 0}function lA(t){var e={},n,r;for(r in t)Xe(t,r)&&(n=hi(r),n&&(e[n]=t[r]));return e}var L3={};function Gn(t,e){L3[t]=e}function Vhe(t){var e=[],n;for(n in t)Xe(t,n)&&e.push({unit:n,priority:L3[n]});return e.sort(function(r,i){return r.priority-i.priority}),e}function Dy(t){return t%4===0&&t%100!==0||t%400===0}function Zr(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Ue(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=Zr(e)),n}function Uc(t,e){return function(n){return n!=null?(M3(this,t,n),ae.updateOffset(this,e),this):F_(this,t)}}function F_(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function M3(t,e,n){t.isValid()&&!isNaN(n)&&(e==="FullYear"&&Dy(t.year())&&t.month()===1&&t.date()===29?(n=Ue(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Vy(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function Whe(t){return t=hi(t),fs(this[t])?this[t]():this}function jhe(t,e){if(typeof t=="object"){t=lA(t);var n=Vhe(t),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](t[n[r].unit])}else if(t=hi(t),fs(this[t]))return this[t](e);return this}var U3=/\d/,Wr=/\d\d/,F3=/\d{3}/,cA=/\d{4}/,Ly=/[+-]?\d{6}/,Tt=/\d\d?/,$3=/\d\d\d\d?/,V3=/\d\d\d\d\d\d?/,My=/\d{1,3}/,hA=/\d{1,4}/,Uy=/[+-]?\d{1,6}/,Fc=/\d+/,Fy=/[+-]?\d+/,Bhe=/Z|[+-]\d\d:?\d\d/gi,$y=/Z|[+-]\d\d(?::?\d\d)?/gi,zhe=/[+-]?\d+(\.\d{1,3})?/,ep=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,$_;$_={};function ce(t,e,n){$_[t]=fs(e)?e:function(r,i){return r&&n?n:e}}function Hhe(t,e){return Xe($_,t)?$_[t](e._strict,e._locale):new RegExp(qhe(t))}function qhe(t){return kr(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,i,s){return n||r||i||s}))}function kr(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var yT={};function ut(t,e){var n,r=e,i;for(typeof t=="string"&&(t=[t]),ro(e)&&(r=function(s,o){o[e]=Ue(s)}),i=t.length,n=0;n<i;n++)yT[t[n]]=r}function tp(t,e){ut(t,function(n,r,i,s){i._w=i._w||{},e(n,i._w,i,s)})}function Ghe(t,e,n){e!=null&&Xe(yT,t)&&yT[t](e,n._a,n,t)}var jn=0,Us=1,Yi=2,tn=3,Ri=4,Fs=5,qa=6,Yhe=7,Khe=8;function Qhe(t,e){return(t%e+e)%e}var jt;Array.prototype.indexOf?jt=Array.prototype.indexOf:jt=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function Vy(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=Qhe(e,12);return t+=(e-n)/12,n===1?Dy(t)?29:28:31-n%7%2}me("M",["MM",2],"Mo",function(){return this.month()+1});me("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});me("MMMM",0,0,function(t){return this.localeData().months(this,t)});qn("month","M");Gn("month",8);ce("M",Tt);ce("MM",Tt,Wr);ce("MMM",function(t,e){return e.monthsShortRegex(t)});ce("MMMM",function(t,e){return e.monthsRegex(t)});ut(["M","MM"],function(t,e){e[Us]=Ue(t)-1});ut(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);i!=null?e[Us]=i:Oe(n).invalidMonth=t});var Xhe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),W3="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),j3=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Jhe=ep,Zhe=ep;function efe(t,e){return t?Li(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||j3).test(e)?"format":"standalone"][t.month()]:Li(this._months)?this._months:this._months.standalone}function tfe(t,e){return t?Li(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[j3.test(e)?"format":"standalone"][t.month()]:Li(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function nfe(t,e,n){var r,i,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=hs([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?e==="MMM"?(i=jt.call(this._shortMonthsParse,o),i!==-1?i:null):(i=jt.call(this._longMonthsParse,o),i!==-1?i:null):e==="MMM"?(i=jt.call(this._shortMonthsParse,o),i!==-1?i:(i=jt.call(this._longMonthsParse,o),i!==-1?i:null)):(i=jt.call(this._longMonthsParse,o),i!==-1?i:(i=jt.call(this._shortMonthsParse,o),i!==-1?i:null))}function rfe(t,e,n){var r,i,s;if(this._monthsParseExact)return nfe.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=hs([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function B3(t,e){var n;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Ue(e);else if(e=t.localeData().monthsParse(e),!ro(e))return t}return n=Math.min(t.date(),Vy(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function z3(t){return t!=null?(B3(this,t),ae.updateOffset(this,!0),this):F_(this,"Month")}function ife(){return Vy(this.year(),this.month())}function sfe(t){return this._monthsParseExact?(Xe(this,"_monthsRegex")||H3.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Xe(this,"_monthsShortRegex")||(this._monthsShortRegex=Jhe),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function ofe(t){return this._monthsParseExact?(Xe(this,"_monthsRegex")||H3.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Xe(this,"_monthsRegex")||(this._monthsRegex=Zhe),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function H3(){function t(o,u){return u.length-o.length}var e=[],n=[],r=[],i,s;for(i=0;i<12;i++)s=hs([2e3,i]),e.push(this.monthsShort(s,"")),n.push(this.months(s,"")),r.push(this.months(s,"")),r.push(this.monthsShort(s,""));for(e.sort(t),n.sort(t),r.sort(t),i=0;i<12;i++)e[i]=kr(e[i]),n[i]=kr(n[i]);for(i=0;i<24;i++)r[i]=kr(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}me("Y",0,0,function(){var t=this.year();return t<=9999?as(t,4):"+"+t});me(0,["YY",2],0,function(){return this.year()%100});me(0,["YYYY",4],0,"year");me(0,["YYYYY",5],0,"year");me(0,["YYYYYY",6,!0],0,"year");qn("year","y");Gn("year",1);ce("Y",Fy);ce("YY",Tt,Wr);ce("YYYY",hA,cA);ce("YYYYY",Uy,Ly);ce("YYYYYY",Uy,Ly);ut(["YYYYY","YYYYYY"],jn);ut("YYYY",function(t,e){e[jn]=t.length===2?ae.parseTwoDigitYear(t):Ue(t)});ut("YY",function(t,e){e[jn]=ae.parseTwoDigitYear(t)});ut("Y",function(t,e){e[jn]=parseInt(t,10)});function hf(t){return Dy(t)?366:365}ae.parseTwoDigitYear=function(t){return Ue(t)+(Ue(t)>68?1900:2e3)};var q3=Uc("FullYear",!0);function afe(){return Dy(this.year())}function ufe(t,e,n,r,i,s,o){var u;return t<100&&t>=0?(u=new Date(t+400,e,n,r,i,s,o),isFinite(u.getFullYear())&&u.setFullYear(t)):u=new Date(t,e,n,r,i,s,o),u}function cd(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function V_(t,e,n){var r=7+e-n,i=(7+cd(t,0,r).getUTCDay()-e)%7;return-i+r-1}function G3(t,e,n,r,i){var s=(7+n-r)%7,o=V_(t,r,i),u=1+7*(e-1)+s+o,l,h;return u<=0?(l=t-1,h=hf(l)+u):u>hf(t)?(l=t+1,h=u-hf(t)):(l=t,h=u),{year:l,dayOfYear:h}}function hd(t,e,n){var r=V_(t.year(),e,n),i=Math.floor((t.dayOfYear()-r-1)/7)+1,s,o;return i<1?(o=t.year()-1,s=i+Bs(o,e,n)):i>Bs(t.year(),e,n)?(s=i-Bs(t.year(),e,n),o=t.year()+1):(o=t.year(),s=i),{week:s,year:o}}function Bs(t,e,n){var r=V_(t,e,n),i=V_(t+1,e,n);return(hf(t)-r+i)/7}me("w",["ww",2],"wo","week");me("W",["WW",2],"Wo","isoWeek");qn("week","w");qn("isoWeek","W");Gn("week",5);Gn("isoWeek",5);ce("w",Tt);ce("ww",Tt,Wr);ce("W",Tt);ce("WW",Tt,Wr);tp(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=Ue(t)});function lfe(t){return hd(t,this._week.dow,this._week.doy).week}var cfe={dow:0,doy:6};function hfe(){return this._week.dow}function ffe(){return this._week.doy}function dfe(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function pfe(t){var e=hd(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}me("d",0,"do","day");me("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});me("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});me("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});me("e",0,0,"weekday");me("E",0,0,"isoWeekday");qn("day","d");qn("weekday","e");qn("isoWeekday","E");Gn("day",11);Gn("weekday",11);Gn("isoWeekday",11);ce("d",Tt);ce("e",Tt);ce("E",Tt);ce("dd",function(t,e){return e.weekdaysMinRegex(t)});ce("ddd",function(t,e){return e.weekdaysShortRegex(t)});ce("dddd",function(t,e){return e.weekdaysRegex(t)});tp(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);i!=null?e.d=i:Oe(n).invalidWeekday=t});tp(["d","e","E"],function(t,e,n,r){e[r]=Ue(t)});function gfe(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function mfe(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function fA(t,e){return t.slice(e,7).concat(t.slice(0,e))}var _fe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Y3="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),vfe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),yfe=ep,wfe=ep,Efe=ep;function Sfe(t,e){var n=Li(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?fA(n,this._week.dow):t?n[t.day()]:n}function Tfe(t){return t===!0?fA(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Ife(t){return t===!0?fA(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Cfe(t,e,n){var r,i,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=hs([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?e==="dddd"?(i=jt.call(this._weekdaysParse,o),i!==-1?i:null):e==="ddd"?(i=jt.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=jt.call(this._minWeekdaysParse,o),i!==-1?i:null):e==="dddd"?(i=jt.call(this._weekdaysParse,o),i!==-1||(i=jt.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=jt.call(this._minWeekdaysParse,o),i!==-1?i:null)):e==="ddd"?(i=jt.call(this._shortWeekdaysParse,o),i!==-1||(i=jt.call(this._weekdaysParse,o),i!==-1)?i:(i=jt.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=jt.call(this._minWeekdaysParse,o),i!==-1||(i=jt.call(this._weekdaysParse,o),i!==-1)?i:(i=jt.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function Rfe(t,e,n){var r,i,s;if(this._weekdaysParseExact)return Cfe.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=hs([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function Afe(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=gfe(t,this.localeData()),this.add(t-e,"d")):e}function Pfe(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function kfe(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=mfe(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function bfe(t){return this._weekdaysParseExact?(Xe(this,"_weekdaysRegex")||dA.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Xe(this,"_weekdaysRegex")||(this._weekdaysRegex=yfe),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ofe(t){return this._weekdaysParseExact?(Xe(this,"_weekdaysRegex")||dA.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Xe(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=wfe),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Nfe(t){return this._weekdaysParseExact?(Xe(this,"_weekdaysRegex")||dA.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Xe(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Efe),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function dA(){function t(f,p){return p.length-f.length}var e=[],n=[],r=[],i=[],s,o,u,l,h;for(s=0;s<7;s++)o=hs([2e3,1]).day(s),u=kr(this.weekdaysMin(o,"")),l=kr(this.weekdaysShort(o,"")),h=kr(this.weekdays(o,"")),e.push(u),n.push(l),r.push(h),i.push(u),i.push(l),i.push(h);e.sort(t),n.sort(t),r.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function pA(){return this.hours()%12||12}function xfe(){return this.hours()||24}me("H",["HH",2],0,"hour");me("h",["hh",2],0,pA);me("k",["kk",2],0,xfe);me("hmm",0,0,function(){return""+pA.apply(this)+as(this.minutes(),2)});me("hmmss",0,0,function(){return""+pA.apply(this)+as(this.minutes(),2)+as(this.seconds(),2)});me("Hmm",0,0,function(){return""+this.hours()+as(this.minutes(),2)});me("Hmmss",0,0,function(){return""+this.hours()+as(this.minutes(),2)+as(this.seconds(),2)});function K3(t,e){me(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}K3("a",!0);K3("A",!1);qn("hour","h");Gn("hour",13);function Q3(t,e){return e._meridiemParse}ce("a",Q3);ce("A",Q3);ce("H",Tt);ce("h",Tt);ce("k",Tt);ce("HH",Tt,Wr);ce("hh",Tt,Wr);ce("kk",Tt,Wr);ce("hmm",$3);ce("hmmss",V3);ce("Hmm",$3);ce("Hmmss",V3);ut(["H","HH"],tn);ut(["k","kk"],function(t,e,n){var r=Ue(t);e[tn]=r===24?0:r});ut(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});ut(["h","hh"],function(t,e,n){e[tn]=Ue(t),Oe(n).bigHour=!0});ut("hmm",function(t,e,n){var r=t.length-2;e[tn]=Ue(t.substr(0,r)),e[Ri]=Ue(t.substr(r)),Oe(n).bigHour=!0});ut("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[tn]=Ue(t.substr(0,r)),e[Ri]=Ue(t.substr(r,2)),e[Fs]=Ue(t.substr(i)),Oe(n).bigHour=!0});ut("Hmm",function(t,e,n){var r=t.length-2;e[tn]=Ue(t.substr(0,r)),e[Ri]=Ue(t.substr(r))});ut("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[tn]=Ue(t.substr(0,r)),e[Ri]=Ue(t.substr(r,2)),e[Fs]=Ue(t.substr(i))});function Dfe(t){return(t+"").toLowerCase().charAt(0)==="p"}var Lfe=/[ap]\.?m?\.?/i,Mfe=Uc("Hours",!0);function Ufe(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var X3={calendar:Rhe,longDateFormat:bhe,invalidDate:Nhe,ordinal:Dhe,dayOfMonthOrdinalParse:Lhe,relativeTime:Uhe,months:Xhe,monthsShort:W3,week:cfe,weekdays:_fe,weekdaysMin:vfe,weekdaysShort:Y3,meridiemParse:Lfe},Ct={},Ih={},fd;function Ffe(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function ZD(t){return t&&t.toLowerCase().replace("_","-")}function $fe(t){for(var e=0,n,r,i,s;e<t.length;){for(s=ZD(t[e]).split("-"),n=s.length,r=ZD(t[e+1]),r=r?r.split("-"):null;n>0;){if(i=Wy(s.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&Ffe(s,r)>=n-1)break;n--}e++}return fd}function Vfe(t){return t.match("^[^/\\\\]*$")!=null}function Wy(t){var e=null,n;if(Ct[t]===void 0&&typeof gm<"u"&&gm&&gm.exports&&Vfe(t))try{e=fd._abbr,n=require,n("./locale/"+t),ea(e)}catch{Ct[t]=null}return Ct[t]}function ea(t,e){var n;return t&&(dr(e)?n=so(t):n=gA(t,e),n?fd=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),fd._abbr}function gA(t,e){if(e!==null){var n,r=X3;if(e.abbr=t,Ct[t]!=null)x3("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Ct[t]._config;else if(e.parentLocale!=null)if(Ct[e.parentLocale]!=null)r=Ct[e.parentLocale]._config;else if(n=Wy(e.parentLocale),n!=null)r=n._config;else return Ih[e.parentLocale]||(Ih[e.parentLocale]=[]),Ih[e.parentLocale].push({name:t,config:e}),null;return Ct[t]=new aA(_T(r,e)),Ih[t]&&Ih[t].forEach(function(i){gA(i.name,i.config)}),ea(t),Ct[t]}else return delete Ct[t],null}function Wfe(t,e){if(e!=null){var n,r,i=X3;Ct[t]!=null&&Ct[t].parentLocale!=null?Ct[t].set(_T(Ct[t]._config,e)):(r=Wy(t),r!=null&&(i=r._config),e=_T(i,e),r==null&&(e.abbr=t),n=new aA(e),n.parentLocale=Ct[t],Ct[t]=n),ea(t)}else Ct[t]!=null&&(Ct[t].parentLocale!=null?(Ct[t]=Ct[t].parentLocale,t===ea()&&ea(t)):Ct[t]!=null&&delete Ct[t]);return Ct[t]}function so(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return fd;if(!Li(t)){if(e=Wy(t),e)return e;t=[t]}return $fe(t)}function jfe(){return vT(Ct)}function mA(t){var e,n=t._a;return n&&Oe(t).overflow===-2&&(e=n[Us]<0||n[Us]>11?Us:n[Yi]<1||n[Yi]>Vy(n[jn],n[Us])?Yi:n[tn]<0||n[tn]>24||n[tn]===24&&(n[Ri]!==0||n[Fs]!==0||n[qa]!==0)?tn:n[Ri]<0||n[Ri]>59?Ri:n[Fs]<0||n[Fs]>59?Fs:n[qa]<0||n[qa]>999?qa:-1,Oe(t)._overflowDayOfYear&&(e<jn||e>Yi)&&(e=Yi),Oe(t)._overflowWeeks&&e===-1&&(e=Yhe),Oe(t)._overflowWeekday&&e===-1&&(e=Khe),Oe(t).overflow=e),t}var Bfe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,zfe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Hfe=/Z|[+-]\d\d(?::?\d\d)?/,Pg=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],QE=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],qfe=/^\/?Date\((-?\d+)/i,Gfe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Yfe={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function J3(t){var e,n,r=t._i,i=Bfe.exec(r)||zfe.exec(r),s,o,u,l,h=Pg.length,f=QE.length;if(i){for(Oe(t).iso=!0,e=0,n=h;e<n;e++)if(Pg[e][1].exec(i[1])){o=Pg[e][0],s=Pg[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(i[3]){for(e=0,n=f;e<n;e++)if(QE[e][1].exec(i[3])){u=(i[2]||" ")+QE[e][0];break}if(u==null){t._isValid=!1;return}}if(!s&&u!=null){t._isValid=!1;return}if(i[4])if(Hfe.exec(i[4]))l="Z";else{t._isValid=!1;return}t._f=o+(u||"")+(l||""),vA(t)}else t._isValid=!1}function Kfe(t,e,n,r,i,s){var o=[Qfe(t),W3.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return s&&o.push(parseInt(s,10)),o}function Qfe(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function Xfe(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Jfe(t,e,n){if(t){var r=Y3.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return Oe(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function Zfe(t,e,n){if(t)return Yfe[t];if(e)return 0;var r=parseInt(n,10),i=r%100,s=(r-i)/100;return s*60+i}function Z3(t){var e=Gfe.exec(Xfe(t._i)),n;if(e){if(n=Kfe(e[4],e[3],e[2],e[5],e[6],e[7]),!Jfe(e[1],n,t))return;t._a=n,t._tzm=Zfe(e[8],e[9],e[10]),t._d=cd.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),Oe(t).rfc2822=!0}else t._isValid=!1}function ede(t){var e=qfe.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(J3(t),t._isValid===!1)delete t._isValid;else return;if(Z3(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:ae.createFromInputFallback(t)}ae.createFromInputFallback=ci("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function al(t,e,n){return t??e??n}function tde(t){var e=new Date(ae.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function _A(t){var e,n,r=[],i,s,o;if(!t._d){for(i=tde(t),t._w&&t._a[Yi]==null&&t._a[Us]==null&&nde(t),t._dayOfYear!=null&&(o=al(t._a[jn],i[jn]),(t._dayOfYear>hf(o)||t._dayOfYear===0)&&(Oe(t)._overflowDayOfYear=!0),n=cd(o,0,t._dayOfYear),t._a[Us]=n.getUTCMonth(),t._a[Yi]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[tn]===24&&t._a[Ri]===0&&t._a[Fs]===0&&t._a[qa]===0&&(t._nextDay=!0,t._a[tn]=0),t._d=(t._useUTC?cd:ufe).apply(null,r),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[tn]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==s&&(Oe(t).weekdayMismatch=!0)}}function nde(t){var e,n,r,i,s,o,u,l,h;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,o=4,n=al(e.GG,t._a[jn],hd(St(),1,4).year),r=al(e.W,1),i=al(e.E,1),(i<1||i>7)&&(l=!0)):(s=t._locale._week.dow,o=t._locale._week.doy,h=hd(St(),s,o),n=al(e.gg,t._a[jn],h.year),r=al(e.w,h.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+s,(e.e<0||e.e>6)&&(l=!0)):i=s),r<1||r>Bs(n,s,o)?Oe(t)._overflowWeeks=!0:l!=null?Oe(t)._overflowWeekday=!0:(u=G3(n,r,i,s,o),t._a[jn]=u.year,t._dayOfYear=u.dayOfYear)}ae.ISO_8601=function(){};ae.RFC_2822=function(){};function vA(t){if(t._f===ae.ISO_8601){J3(t);return}if(t._f===ae.RFC_2822){Z3(t);return}t._a=[],Oe(t).empty=!0;var e=""+t._i,n,r,i,s,o,u=e.length,l=0,h,f;for(i=D3(t._f,t._locale).match(uA)||[],f=i.length,n=0;n<f;n++)s=i[n],r=(e.match(Hhe(s,t))||[])[0],r&&(o=e.substr(0,e.indexOf(r)),o.length>0&&Oe(t).unusedInput.push(o),e=e.slice(e.indexOf(r)+r.length),l+=r.length),jl[s]?(r?Oe(t).empty=!1:Oe(t).unusedTokens.push(s),Ghe(s,r,t)):t._strict&&!r&&Oe(t).unusedTokens.push(s);Oe(t).charsLeftOver=u-l,e.length>0&&Oe(t).unusedInput.push(e),t._a[tn]<=12&&Oe(t).bigHour===!0&&t._a[tn]>0&&(Oe(t).bigHour=void 0),Oe(t).parsedDateParts=t._a.slice(0),Oe(t).meridiem=t._meridiem,t._a[tn]=rde(t._locale,t._a[tn],t._meridiem),h=Oe(t).era,h!==null&&(t._a[jn]=t._locale.erasConvertYear(h,t._a[jn])),_A(t),mA(t)}function rde(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function ide(t){var e,n,r,i,s,o,u=!1,l=t._f.length;if(l===0){Oe(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<l;i++)s=0,o=!1,e=oA({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],vA(e),sA(e)&&(o=!0),s+=Oe(e).charsLeftOver,s+=Oe(e).unusedTokens.length*10,Oe(e).score=s,u?s<r&&(r=s,n=e):(r==null||s<r||o)&&(r=s,n=e,o&&(u=!0));Do(t,n||e)}function sde(t){if(!t._d){var e=lA(t._i),n=e.day===void 0?e.date:e.day;t._a=O3([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),_A(t)}}function ode(t){var e=new Zd(mA(e6(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function e6(t){var e=t._i,n=t._f;return t._locale=t._locale||so(t._l),e===null||n===void 0&&e===""?xy({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Mi(e)?new Zd(mA(e)):(Jd(e)?t._d=e:Li(n)?ide(t):n?vA(t):ade(t),sA(t)||(t._d=null),t))}function ade(t){var e=t._i;dr(e)?t._d=new Date(ae.now()):Jd(e)?t._d=new Date(e.valueOf()):typeof e=="string"?ede(t):Li(e)?(t._a=O3(e.slice(0),function(n){return parseInt(n,10)}),_A(t)):eu(e)?sde(t):ro(e)?t._d=new Date(e):ae.createFromInputFallback(t)}function t6(t,e,n,r,i){var s={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(eu(t)&&iA(t)||Li(t)&&t.length===0)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=t,s._f=e,s._strict=r,ode(s)}function St(t,e,n,r){return t6(t,e,n,r,!1)}var ude=ci("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=St.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:xy()}),lde=ci("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=St.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:xy()});function n6(t,e){var n,r;if(e.length===1&&Li(e[0])&&(e=e[0]),!e.length)return St();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function cde(){var t=[].slice.call(arguments,0);return n6("isBefore",t)}function hde(){var t=[].slice.call(arguments,0);return n6("isAfter",t)}var fde=function(){return Date.now?Date.now():+new Date},Ch=["year","quarter","month","week","day","hour","minute","second","millisecond"];function dde(t){var e,n=!1,r,i=Ch.length;for(e in t)if(Xe(t,e)&&!(jt.call(Ch,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<i;++r)if(t[Ch[r]]){if(n)return!1;parseFloat(t[Ch[r]])!==Ue(t[Ch[r]])&&(n=!0)}return!0}function pde(){return this._isValid}function gde(){return Fi(NaN)}function jy(t){var e=lA(t),n=e.year||0,r=e.quarter||0,i=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,u=e.hour||0,l=e.minute||0,h=e.second||0,f=e.millisecond||0;this._isValid=dde(e),this._milliseconds=+f+h*1e3+l*6e4+u*1e3*60*60,this._days=+o+s*7,this._months=+i+r*3+n*12,this._data={},this._locale=so(),this._bubble()}function um(t){return t instanceof jy}function wT(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function mde(t,e,n){var r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),s=0,o;for(o=0;o<r;o++)(n&&t[o]!==e[o]||!n&&Ue(t[o])!==Ue(e[o]))&&s++;return s+i}function r6(t,e){me(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+as(~~(n/60),2)+e+as(~~n%60,2)})}r6("Z",":");r6("ZZ","");ce("Z",$y);ce("ZZ",$y);ut(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=yA($y,t)});var _de=/([\+\-]|\d\d)/gi;function yA(t,e){var n=(e||"").match(t),r,i,s;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(_de)||["-",0,0],s=+(i[1]*60)+Ue(i[2]),s===0?0:i[0]==="+"?s:-s)}function wA(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(Mi(t)||Jd(t)?t.valueOf():St(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),ae.updateOffset(n,!1),n):St(t).local()}function ET(t){return-Math.round(t._d.getTimezoneOffset())}ae.updateOffset=function(){};function vde(t,e,n){var r=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=yA($y,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(i=ET(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?o6(this,Fi(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ae.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:ET(this)}function yde(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function wde(t){return this.utcOffset(0,t)}function Ede(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(ET(this),"m")),this}function Sde(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=yA(Bhe,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Tde(t){return this.isValid()?(t=t?St(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function Ide(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Cde(){if(!dr(this._isDSTShifted))return this._isDSTShifted;var t={},e;return oA(t,this),t=e6(t),t._a?(e=t._isUTC?hs(t._a):St(t._a),this._isDSTShifted=this.isValid()&&mde(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Rde(){return this.isValid()?!this._isUTC:!1}function Ade(){return this.isValid()?this._isUTC:!1}function i6(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Pde=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,kde=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Fi(t,e){var n=t,r=null,i,s,o;return um(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:ro(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=Pde.exec(t))?(i=r[1]==="-"?-1:1,n={y:0,d:Ue(r[Yi])*i,h:Ue(r[tn])*i,m:Ue(r[Ri])*i,s:Ue(r[Fs])*i,ms:Ue(wT(r[qa]*1e3))*i}):(r=kde.exec(t))?(i=r[1]==="-"?-1:1,n={y:ba(r[2],i),M:ba(r[3],i),w:ba(r[4],i),d:ba(r[5],i),h:ba(r[6],i),m:ba(r[7],i),s:ba(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=bde(St(n.from),St(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),s=new jy(n),um(t)&&Xe(t,"_locale")&&(s._locale=t._locale),um(t)&&Xe(t,"_isValid")&&(s._isValid=t._isValid),s}Fi.fn=jy.prototype;Fi.invalid=gde;function ba(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function eL(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function bde(t,e){var n;return t.isValid()&&e.isValid()?(e=wA(e,t),t.isBefore(e)?n=eL(t,e):(n=eL(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function s6(t,e){return function(n,r){var i,s;return r!==null&&!isNaN(+r)&&(x3(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=r,r=s),i=Fi(n,r),o6(this,i,t),this}}function o6(t,e,n,r){var i=e._milliseconds,s=wT(e._days),o=wT(e._months);t.isValid()&&(r=r??!0,o&&B3(t,F_(t,"Month")+o*n),s&&M3(t,"Date",F_(t,"Date")+s*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&ae.updateOffset(t,s||o))}var Ode=s6(1,"add"),Nde=s6(-1,"subtract");function a6(t){return typeof t=="string"||t instanceof String}function xde(t){return Mi(t)||Jd(t)||a6(t)||ro(t)||Lde(t)||Dde(t)||t===null||t===void 0}function Dde(t){var e=eu(t)&&!iA(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,s,o=r.length;for(i=0;i<o;i+=1)s=r[i],n=n||Xe(t,s);return e&&n}function Lde(t){var e=Li(t),n=!1;return e&&(n=t.filter(function(r){return!ro(r)&&a6(t)}).length===0),e&&n}function Mde(t){var e=eu(t)&&!iA(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,s;for(i=0;i<r.length;i+=1)s=r[i],n=n||Xe(t,s);return e&&n}function Ude(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Fde(t,e){arguments.length===1&&(arguments[0]?xde(arguments[0])?(t=arguments[0],e=void 0):Mde(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||St(),r=wA(n,this).startOf("day"),i=ae.calendarFormat(this,r)||"sameElse",s=e&&(fs(e[i])?e[i].call(this,n):e[i]);return this.format(s||this.localeData().calendar(i,this,St(n)))}function $de(){return new Zd(this)}function Vde(t,e){var n=Mi(t)?t:St(t);return this.isValid()&&n.isValid()?(e=hi(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function Wde(t,e){var n=Mi(t)?t:St(t);return this.isValid()&&n.isValid()?(e=hi(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function jde(t,e,n,r){var i=Mi(t)?t:St(t),s=Mi(e)?e:St(e);return this.isValid()&&i.isValid()&&s.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(s,n):!this.isAfter(s,n))):!1}function Bde(t,e){var n=Mi(t)?t:St(t),r;return this.isValid()&&n.isValid()?(e=hi(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function zde(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Hde(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function qde(t,e,n){var r,i,s;if(!this.isValid())return NaN;if(r=wA(t,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,e=hi(e),e){case"year":s=lm(this,r)/12;break;case"month":s=lm(this,r);break;case"quarter":s=lm(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:Zr(s)}function lm(t,e){if(t.date()<e.date())return-lm(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),i,s;return e-r<0?(i=t.clone().add(n-1,"months"),s=(e-r)/(r-i)):(i=t.clone().add(n+1,"months"),s=(e-r)/(i-r)),-(n+s)||0}ae.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";ae.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Gde(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Yde(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?am(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):fs(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",am(n,"Z")):am(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Kde(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,i,s;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(n+r+i+s)}function Qde(t){t||(t=this.isUtc()?ae.defaultFormatUtc:ae.defaultFormat);var e=am(this,t);return this.localeData().postformat(e)}function Xde(t,e){return this.isValid()&&(Mi(t)&&t.isValid()||St(t).isValid())?Fi({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Jde(t){return this.from(St(),t)}function Zde(t,e){return this.isValid()&&(Mi(t)&&t.isValid()||St(t).isValid())?Fi({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function epe(t){return this.to(St(),t)}function u6(t){var e;return t===void 0?this._locale._abbr:(e=so(t),e!=null&&(this._locale=e),this)}var l6=ci("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function c6(){return this._locale}var W_=1e3,Bl=60*W_,j_=60*Bl,h6=(365*400+97)*24*j_;function zl(t,e){return(t%e+e)%e}function f6(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-h6:new Date(t,e,n).valueOf()}function d6(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-h6:Date.UTC(t,e,n)}function tpe(t){var e,n;if(t=hi(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?d6:f6,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=zl(e+(this._isUTC?0:this.utcOffset()*Bl),j_);break;case"minute":e=this._d.valueOf(),e-=zl(e,Bl);break;case"second":e=this._d.valueOf(),e-=zl(e,W_);break}return this._d.setTime(e),ae.updateOffset(this,!0),this}function npe(t){var e,n;if(t=hi(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?d6:f6,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=j_-zl(e+(this._isUTC?0:this.utcOffset()*Bl),j_)-1;break;case"minute":e=this._d.valueOf(),e+=Bl-zl(e,Bl)-1;break;case"second":e=this._d.valueOf(),e+=W_-zl(e,W_)-1;break}return this._d.setTime(e),ae.updateOffset(this,!0),this}function rpe(){return this._d.valueOf()-(this._offset||0)*6e4}function ipe(){return Math.floor(this.valueOf()/1e3)}function spe(){return new Date(this.valueOf())}function ope(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function ape(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function upe(){return this.isValid()?this.toISOString():null}function lpe(){return sA(this)}function cpe(){return Do({},Oe(this))}function hpe(){return Oe(this).overflow}function fpe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}me("N",0,0,"eraAbbr");me("NN",0,0,"eraAbbr");me("NNN",0,0,"eraAbbr");me("NNNN",0,0,"eraName");me("NNNNN",0,0,"eraNarrow");me("y",["y",1],"yo","eraYear");me("y",["yy",2],0,"eraYear");me("y",["yyy",3],0,"eraYear");me("y",["yyyy",4],0,"eraYear");ce("N",EA);ce("NN",EA);ce("NNN",EA);ce("NNNN",Tpe);ce("NNNNN",Ipe);ut(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?Oe(n).era=i:Oe(n).invalidEra=t});ce("y",Fc);ce("yy",Fc);ce("yyy",Fc);ce("yyyy",Fc);ce("yo",Cpe);ut(["y","yy","yyy","yyyy"],jn);ut(["yo"],function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[jn]=n._locale.eraYearOrdinalParse(t,i):e[jn]=parseInt(t,10)});function dpe(t,e){var n,r,i,s=this._eras||so("en")._eras;for(n=0,r=s.length;n<r;++n){switch(typeof s[n].since){case"string":i=ae(s[n].since).startOf("day"),s[n].since=i.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":i=ae(s[n].until).startOf("day").valueOf(),s[n].until=i.valueOf();break}}return s}function ppe(t,e,n){var r,i,s=this.eras(),o,u,l;for(t=t.toUpperCase(),r=0,i=s.length;r<i;++r)if(o=s[r].name.toUpperCase(),u=s[r].abbr.toUpperCase(),l=s[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(u===t)return s[r];break;case"NNNN":if(o===t)return s[r];break;case"NNNNN":if(l===t)return s[r];break}else if([o,u,l].indexOf(t)>=0)return s[r]}function gpe(t,e){var n=t.since<=t.until?1:-1;return e===void 0?ae(t.since).year():ae(t.since).year()+(e-t.offset)*n}function mpe(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function _pe(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function vpe(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function ype(){var t,e,n,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until||i[t].until<=r&&r<=i[t].since)return(this.year()-ae(i[t].since).year())*n+i[t].offset;return this.year()}function wpe(t){return Xe(this,"_erasNameRegex")||SA.call(this),t?this._erasNameRegex:this._erasRegex}function Epe(t){return Xe(this,"_erasAbbrRegex")||SA.call(this),t?this._erasAbbrRegex:this._erasRegex}function Spe(t){return Xe(this,"_erasNarrowRegex")||SA.call(this),t?this._erasNarrowRegex:this._erasRegex}function EA(t,e){return e.erasAbbrRegex(t)}function Tpe(t,e){return e.erasNameRegex(t)}function Ipe(t,e){return e.erasNarrowRegex(t)}function Cpe(t,e){return e._eraYearOrdinalRegex||Fc}function SA(){var t=[],e=[],n=[],r=[],i,s,o=this.eras();for(i=0,s=o.length;i<s;++i)e.push(kr(o[i].name)),t.push(kr(o[i].abbr)),n.push(kr(o[i].narrow)),r.push(kr(o[i].name)),r.push(kr(o[i].abbr)),r.push(kr(o[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}me(0,["gg",2],0,function(){return this.weekYear()%100});me(0,["GG",2],0,function(){return this.isoWeekYear()%100});function By(t,e){me(0,[t,t.length],0,e)}By("gggg","weekYear");By("ggggg","weekYear");By("GGGG","isoWeekYear");By("GGGGG","isoWeekYear");qn("weekYear","gg");qn("isoWeekYear","GG");Gn("weekYear",1);Gn("isoWeekYear",1);ce("G",Fy);ce("g",Fy);ce("GG",Tt,Wr);ce("gg",Tt,Wr);ce("GGGG",hA,cA);ce("gggg",hA,cA);ce("GGGGG",Uy,Ly);ce("ggggg",Uy,Ly);tp(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=Ue(t)});tp(["gg","GG"],function(t,e,n,r){e[r]=ae.parseTwoDigitYear(t)});function Rpe(t){return p6.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Ape(t){return p6.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Ppe(){return Bs(this.year(),1,4)}function kpe(){return Bs(this.isoWeekYear(),1,4)}function bpe(){var t=this.localeData()._week;return Bs(this.year(),t.dow,t.doy)}function Ope(){var t=this.localeData()._week;return Bs(this.weekYear(),t.dow,t.doy)}function p6(t,e,n,r,i){var s;return t==null?hd(this,r,i).year:(s=Bs(t,r,i),e>s&&(e=s),Npe.call(this,t,e,n,r,i))}function Npe(t,e,n,r,i){var s=G3(t,e,n,r,i),o=cd(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}me("Q",0,"Qo","quarter");qn("quarter","Q");Gn("quarter",7);ce("Q",U3);ut("Q",function(t,e){e[Us]=(Ue(t)-1)*3});function xpe(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}me("D",["DD",2],"Do","date");qn("date","D");Gn("date",9);ce("D",Tt);ce("DD",Tt,Wr);ce("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});ut(["D","DD"],Yi);ut("Do",function(t,e){e[Yi]=Ue(t.match(Tt)[0])});var g6=Uc("Date",!0);me("DDD",["DDDD",3],"DDDo","dayOfYear");qn("dayOfYear","DDD");Gn("dayOfYear",4);ce("DDD",My);ce("DDDD",F3);ut(["DDD","DDDD"],function(t,e,n){n._dayOfYear=Ue(t)});function Dpe(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}me("m",["mm",2],0,"minute");qn("minute","m");Gn("minute",14);ce("m",Tt);ce("mm",Tt,Wr);ut(["m","mm"],Ri);var Lpe=Uc("Minutes",!1);me("s",["ss",2],0,"second");qn("second","s");Gn("second",15);ce("s",Tt);ce("ss",Tt,Wr);ut(["s","ss"],Fs);var Mpe=Uc("Seconds",!1);me("S",0,0,function(){return~~(this.millisecond()/100)});me(0,["SS",2],0,function(){return~~(this.millisecond()/10)});me(0,["SSS",3],0,"millisecond");me(0,["SSSS",4],0,function(){return this.millisecond()*10});me(0,["SSSSS",5],0,function(){return this.millisecond()*100});me(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});me(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});me(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});me(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});qn("millisecond","ms");Gn("millisecond",16);ce("S",My,U3);ce("SS",My,Wr);ce("SSS",My,F3);var Lo,m6;for(Lo="SSSS";Lo.length<=9;Lo+="S")ce(Lo,Fc);function Upe(t,e){e[qa]=Ue(("0."+t)*1e3)}for(Lo="S";Lo.length<=9;Lo+="S")ut(Lo,Upe);m6=Uc("Milliseconds",!1);me("z",0,0,"zoneAbbr");me("zz",0,0,"zoneName");function Fpe(){return this._isUTC?"UTC":""}function $pe(){return this._isUTC?"Coordinated Universal Time":""}var ee=Zd.prototype;ee.add=Ode;ee.calendar=Fde;ee.clone=$de;ee.diff=qde;ee.endOf=npe;ee.format=Qde;ee.from=Xde;ee.fromNow=Jde;ee.to=Zde;ee.toNow=epe;ee.get=Whe;ee.invalidAt=hpe;ee.isAfter=Vde;ee.isBefore=Wde;ee.isBetween=jde;ee.isSame=Bde;ee.isSameOrAfter=zde;ee.isSameOrBefore=Hde;ee.isValid=lpe;ee.lang=l6;ee.locale=u6;ee.localeData=c6;ee.max=lde;ee.min=ude;ee.parsingFlags=cpe;ee.set=jhe;ee.startOf=tpe;ee.subtract=Nde;ee.toArray=ope;ee.toObject=ape;ee.toDate=spe;ee.toISOString=Yde;ee.inspect=Kde;typeof Symbol<"u"&&Symbol.for!=null&&(ee[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});ee.toJSON=upe;ee.toString=Gde;ee.unix=ipe;ee.valueOf=rpe;ee.creationData=fpe;ee.eraName=mpe;ee.eraNarrow=_pe;ee.eraAbbr=vpe;ee.eraYear=ype;ee.year=q3;ee.isLeapYear=afe;ee.weekYear=Rpe;ee.isoWeekYear=Ape;ee.quarter=ee.quarters=xpe;ee.month=z3;ee.daysInMonth=ife;ee.week=ee.weeks=dfe;ee.isoWeek=ee.isoWeeks=pfe;ee.weeksInYear=bpe;ee.weeksInWeekYear=Ope;ee.isoWeeksInYear=Ppe;ee.isoWeeksInISOWeekYear=kpe;ee.date=g6;ee.day=ee.days=Afe;ee.weekday=Pfe;ee.isoWeekday=kfe;ee.dayOfYear=Dpe;ee.hour=ee.hours=Mfe;ee.minute=ee.minutes=Lpe;ee.second=ee.seconds=Mpe;ee.millisecond=ee.milliseconds=m6;ee.utcOffset=vde;ee.utc=wde;ee.local=Ede;ee.parseZone=Sde;ee.hasAlignedHourOffset=Tde;ee.isDST=Ide;ee.isLocal=Rde;ee.isUtcOffset=Ade;ee.isUtc=i6;ee.isUTC=i6;ee.zoneAbbr=Fpe;ee.zoneName=$pe;ee.dates=ci("dates accessor is deprecated. Use date instead.",g6);ee.months=ci("months accessor is deprecated. Use month instead",z3);ee.years=ci("years accessor is deprecated. Use year instead",q3);ee.zone=ci("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",yde);ee.isDSTShifted=ci("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Cde);function Vpe(t){return St(t*1e3)}function Wpe(){return St.apply(null,arguments).parseZone()}function _6(t){return t}var Je=aA.prototype;Je.calendar=Ahe;Je.longDateFormat=Ohe;Je.invalidDate=xhe;Je.ordinal=Mhe;Je.preparse=_6;Je.postformat=_6;Je.relativeTime=Fhe;Je.pastFuture=$he;Je.set=Che;Je.eras=dpe;Je.erasParse=ppe;Je.erasConvertYear=gpe;Je.erasAbbrRegex=Epe;Je.erasNameRegex=wpe;Je.erasNarrowRegex=Spe;Je.months=efe;Je.monthsShort=tfe;Je.monthsParse=rfe;Je.monthsRegex=ofe;Je.monthsShortRegex=sfe;Je.week=lfe;Je.firstDayOfYear=ffe;Je.firstDayOfWeek=hfe;Je.weekdays=Sfe;Je.weekdaysMin=Ife;Je.weekdaysShort=Tfe;Je.weekdaysParse=Rfe;Je.weekdaysRegex=bfe;Je.weekdaysShortRegex=Ofe;Je.weekdaysMinRegex=Nfe;Je.isPM=Dfe;Je.meridiem=Ufe;function B_(t,e,n,r){var i=so(),s=hs().set(r,e);return i[n](s,t)}function v6(t,e,n){if(ro(t)&&(e=t,t=void 0),t=t||"",e!=null)return B_(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=B_(t,r,n,"month");return i}function TA(t,e,n,r){typeof t=="boolean"?(ro(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,ro(e)&&(n=e,e=void 0),e=e||"");var i=so(),s=t?i._week.dow:0,o,u=[];if(n!=null)return B_(e,(n+s)%7,r,"day");for(o=0;o<7;o++)u[o]=B_(e,(o+s)%7,r,"day");return u}function jpe(t,e){return v6(t,e,"months")}function Bpe(t,e){return v6(t,e,"monthsShort")}function zpe(t,e,n){return TA(t,e,n,"weekdays")}function Hpe(t,e,n){return TA(t,e,n,"weekdaysShort")}function qpe(t,e,n){return TA(t,e,n,"weekdaysMin")}ea("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=Ue(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});ae.lang=ci("moment.lang is deprecated. Use moment.locale instead.",ea);ae.langData=ci("moment.langData is deprecated. Use moment.localeData instead.",so);var Is=Math.abs;function Gpe(){var t=this._data;return this._milliseconds=Is(this._milliseconds),this._days=Is(this._days),this._months=Is(this._months),t.milliseconds=Is(t.milliseconds),t.seconds=Is(t.seconds),t.minutes=Is(t.minutes),t.hours=Is(t.hours),t.months=Is(t.months),t.years=Is(t.years),this}function y6(t,e,n,r){var i=Fi(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function Ype(t,e){return y6(this,t,e,1)}function Kpe(t,e){return y6(this,t,e,-1)}function tL(t){return t<0?Math.floor(t):Math.ceil(t)}function Qpe(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,i,s,o,u,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=tL(ST(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,i=Zr(t/1e3),r.seconds=i%60,s=Zr(i/60),r.minutes=s%60,o=Zr(s/60),r.hours=o%24,e+=Zr(o/24),l=Zr(w6(e)),n+=l,e-=tL(ST(l)),u=Zr(n/12),n%=12,r.days=e,r.months=n,r.years=u,this}function w6(t){return t*4800/146097}function ST(t){return t*146097/4800}function Xpe(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=hi(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+w6(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(ST(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function Jpe(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Ue(this._months/12)*31536e6:NaN}function oo(t){return function(){return this.as(t)}}var Zpe=oo("ms"),ege=oo("s"),tge=oo("m"),nge=oo("h"),rge=oo("d"),ige=oo("w"),sge=oo("M"),oge=oo("Q"),age=oo("y");function uge(){return Fi(this)}function lge(t){return t=hi(t),this.isValid()?this[t+"s"]():NaN}function Nu(t){return function(){return this.isValid()?this._data[t]:NaN}}var cge=Nu("milliseconds"),hge=Nu("seconds"),fge=Nu("minutes"),dge=Nu("hours"),pge=Nu("days"),gge=Nu("months"),mge=Nu("years");function _ge(){return Zr(this.days()/7)}var As=Math.round,Tl={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function vge(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function yge(t,e,n,r){var i=Fi(t).abs(),s=As(i.as("s")),o=As(i.as("m")),u=As(i.as("h")),l=As(i.as("d")),h=As(i.as("M")),f=As(i.as("w")),p=As(i.as("y")),g=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||o<=1&&["m"]||o<n.m&&["mm",o]||u<=1&&["h"]||u<n.h&&["hh",u]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(g=g||f<=1&&["w"]||f<n.w&&["ww",f]),g=g||h<=1&&["M"]||h<n.M&&["MM",h]||p<=1&&["y"]||["yy",p],g[2]=e,g[3]=+t>0,g[4]=r,vge.apply(null,g)}function wge(t){return t===void 0?As:typeof t=="function"?(As=t,!0):!1}function Ege(t,e){return Tl[t]===void 0?!1:e===void 0?Tl[t]:(Tl[t]=e,t==="s"&&(Tl.ss=e-1),!0)}function Sge(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Tl,i,s;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},Tl,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),i=this.localeData(),s=yge(this,!n,r,i),n&&(s=i.pastFuture(+this,s)),i.postformat(s)}var XE=Math.abs;function el(t){return(t>0)-(t<0)||+t}function zy(){if(!this.isValid())return this.localeData().invalidDate();var t=XE(this._milliseconds)/1e3,e=XE(this._days),n=XE(this._months),r,i,s,o,u=this.asSeconds(),l,h,f,p;return u?(r=Zr(t/60),i=Zr(r/60),t%=60,r%=60,s=Zr(n/12),n%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=u<0?"-":"",h=el(this._months)!==el(u)?"-":"",f=el(this._days)!==el(u)?"-":"",p=el(this._milliseconds)!==el(u)?"-":"",l+"P"+(s?h+s+"Y":"")+(n?h+n+"M":"")+(e?f+e+"D":"")+(i||r||t?"T":"")+(i?p+i+"H":"")+(r?p+r+"M":"")+(t?p+o+"S":"")):"P0D"}var qe=jy.prototype;qe.isValid=pde;qe.abs=Gpe;qe.add=Ype;qe.subtract=Kpe;qe.as=Xpe;qe.asMilliseconds=Zpe;qe.asSeconds=ege;qe.asMinutes=tge;qe.asHours=nge;qe.asDays=rge;qe.asWeeks=ige;qe.asMonths=sge;qe.asQuarters=oge;qe.asYears=age;qe.valueOf=Jpe;qe._bubble=Qpe;qe.clone=uge;qe.get=lge;qe.milliseconds=cge;qe.seconds=hge;qe.minutes=fge;qe.hours=dge;qe.days=pge;qe.weeks=_ge;qe.months=gge;qe.years=mge;qe.humanize=Sge;qe.toISOString=zy;qe.toString=zy;qe.toJSON=zy;qe.locale=u6;qe.localeData=c6;qe.toIsoString=ci("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",zy);qe.lang=l6;me("X",0,0,"unix");me("x",0,0,"valueOf");ce("x",Fy);ce("X",zhe);ut("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});ut("x",function(t,e,n){n._d=new Date(Ue(t))});//! moment.js
ae.version="2.29.4";The(St);ae.fn=ee;ae.min=cde;ae.max=hde;ae.now=fde;ae.utc=hs;ae.unix=Vpe;ae.months=jpe;ae.isDate=Jd;ae.locale=ea;ae.invalid=xy;ae.duration=Fi;ae.isMoment=Mi;ae.weekdays=zpe;ae.parseZone=Wpe;ae.localeData=so;ae.isDuration=um;ae.monthsShort=Bpe;ae.weekdaysMin=qpe;ae.defineLocale=gA;ae.updateLocale=Wfe;ae.locales=jfe;ae.weekdaysShort=Hpe;ae.normalizeUnits=hi;ae.relativeTimeRounding=wge;ae.relativeTimeThreshold=Ege;ae.calendarFormat=Ude;ae.prototype=ee;ae.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const Tge="Pyf",Ige="i-p",Cge="F2M",Rge="_2Sx",kg={message:Tge,owner:Ige,content:Cge,info:Rge};var Age=function(e){var n=e.text,r=e.senderId,i=e.createdAt,s=e.imgUrl,o=yr(function(h){return h.user}),u=o.chat,l=o.user;return Qe("div",{className:vu(kg.message,(l==null?void 0:l.uid)===r&&kg.owner),children:[Qe("div",{className:kg.info,children:[Z("img",{alt:"avatar",src:(l==null?void 0:l.uid)===r?l.avatarUrl:u==null?void 0:u.interlocutorInfo.avatarUrl}),Z("span",{children:ae(i).format("LT")})]}),Qe("div",{className:kg.content,children:[s&&Z("img",{alt:"attached",src:s}),n&&Z("p",{children:n})]})]})};const Pge="_6GP",kge={container:Pge};function bge(t,e){return Dge(t)||xge(t,e)||Nge(t,e)||Oge()}function Oge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nge(t,e){if(t){if(typeof t=="string")return nL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nL(t,e)}}function nL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,u=[],l=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(f){h=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function Dge(t){if(Array.isArray(t))return t}var Lge=function(){var e=yr(function(l){return l.user}),n=e.chat,r=X.useState([]),i=bge(r,2),s=i[0],o=i[1],u=X.useRef(null);return X.useEffect(function(){o([]);var l=er(JC(),"".concat(yt.Chats,"/").concat(n==null?void 0:n.chatUid,"/").concat(yt.Messages)),h=K$(l,function(f){if(Vs.isObject(f.val())){var p=Object.values(f.val());o(p)}Vs.isNull(f.val())&&o([])});return function(){h()}},[n==null?void 0:n.chatUid]),X.useEffect(function(){if(u.current){var l;(l=u.current.lastElementChild)===null||l===void 0||l.scrollIntoView({behavior:"smooth"})}},[s]),Z("div",{ref:u,className:kge.container,children:Vs.map(s,function(l){return Z(Age,{...l},l.id)})})};const Mge="zsV",Uge="LJZ",Fge="rML",$ge="bff",Rh={container:Mge,logo:Uge,opened:Fge,user:$ge};var Vge=function(){var e=Tu(),n=yr(function(u){return u.user}),r=n.user,i=yr(function(u){return u.cache}),s=i.isChatOpened,o=function(){e(He.actions.logout())};return Qe("div",{className:Rh.container,children:[Qe(Dv,{className:vu(Rh.logo,s&&Rh.opened),to:En.Root,children:[Z("img",{alt:"logo",src:"./logo.png"}),"Chat"]}),Qe("div",{className:vu(Rh.user,s&&Rh.opened),children:[Z("img",{alt:"avatar",src:r==null?void 0:r.avatarUrl}),Z("span",{children:r==null?void 0:r.nickname}),Z("button",{onClick:o,children:"logout"})]})]})},Wge=function(e){var n=e.children,r=yr(function(s){return s.user}),i=r.user;return i!=null&&i.uid?n:Z(MK,{to:"".concat(En.Root).concat(En.Login)})};const jge="AAI",Bge="DfR",zge="jvh",Hge="_0Pa",bg={container:jge,chat:Bge,chatInfo:zge,username:Hge};function rL(t,e){return Kge(t)||Yge(t,e)||Gge(t,e)||qge()}function qge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gge(t,e){if(t){if(typeof t=="string")return iL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iL(t,e)}}function iL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,u=[],l=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(f){h=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function Kge(t){if(Array.isArray(t))return t}var Qge=function(){var e=X.useState(""),n=rL(e,2),r=n[0],i=n[1],s=X.useState(""),o=rL(s,2),u=o[0],l=o[1],h=Tu(),f=yr(function(E){return E.user}),p=f.searchedUsers,g=function(C){if(C==null||C.preventDefault(),i(u),u===""){h(He.actions.clearSearchedUser());return}r!==u&&u!==""&&h(He.actions.searchUser(u))},v=function(C){l(C.target.value)};return DI(function(){h(He.actions.clearSearchedUser())}),Qe("form",{className:bg.container,onSubmit:g,children:[Z("input",{placeholder:"Find a user",type:"text",value:u,onChange:v}),Vs.map(p,function(E){var C=function(){l(""),i(""),h(He.actions.getInterlocutor(E)),h(He.actions.clearSearchedUser())};return Qe("button",{className:bg.chat,onClick:C,children:[Z("img",{alt:"avatar",src:E.avatarUrl}),Z("div",{className:bg.chatInfo,children:Z("span",{className:bg.username,children:E.nickname})})]},E.uid)})]})};const Xge="eGh",Jge="FKL",Zge="QCC",JE={container:Xge,hide:Jge,content:Zge};var eme=function(){var e=yr(function(r){return r.cache}),n=e.isChatOpened;return Qe("div",{className:vu(JE.container,n&&JE.hide),children:[Z(Vge,{}),Qe("div",{className:JE.content,children:[Z(Qge,{}),Z(hhe,{})]})]})};const tme="PhY",nme="xxr",rme="uJq",ime="BZ4",Og={chat:tme,active:nme,chatInfo:rme,username:ime};var sme=function(e){var n=e.chatInfo,r=e.isActive,i=Tu(),s=function(){i(He.actions.getInterlocutor(Vs.clone(n.interlocutorInfo))),i(He.actions.clearSearchedUser())};return Qe("button",{className:vu(Og.chat,r&&Og.active),onClick:s,children:[Z("img",{alt:"avatar",src:n.interlocutorInfo.avatarUrl}),Qe("div",{className:Og.chatInfo,children:[Z("span",{className:Og.username,children:n.interlocutorInfo.alias||n.interlocutorInfo.nickname}),n.lastUpdate&&Z("span",{children:ae(n.lastUpdate).fromNow()}),Z("p",{children:n.lastMessage})]})]},n.interlocutorInfo.uid)},ome=X.memo(sme);const ame="Rbz",ume="ZJj",sL={container:ame,closed:ume};var lme=function(){var e=wd(),n=Tu(),r=X.useMemo(function(){return!!e.pathname.match(/\/.+/g)},[e.pathname]);return X.useEffect(function(){n(_U.actions.setIsChatOpened(r))},[r]),Qe("div",{className:vu(sL.container,!r&&sL.closed),children:[Z(eme,{}),Z(oU,{})]})};const cme="YEy",hme="nrP",fme="EIi",dme="_1Wn",pme="DjV",gme="Cim",tl={container:cme,title:hme,subtitle:fme,form:dme,error:pme,login:gme};function TT(t){return TT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TT(t)}function IT(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */IT=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(I,_,w){I[_]=w.value},i=typeof Symbol=="function"?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(I,_,w){return Object.defineProperty(I,_,{value:w,enumerable:!0,configurable:!0,writable:!0}),I[_]}try{l({},"")}catch{l=function(w,N,D){return w[N]=D}}function h(I,_,w,N){var D=_&&_.prototype instanceof g?_:g,O=Object.create(D.prototype),M=new ie(N||[]);return r(O,"_invoke",{value:F(I,w,M)}),O}function f(I,_,w){try{return{type:"normal",arg:I.call(_,w)}}catch(N){return{type:"throw",arg:N}}}t.wrap=h;var p={};function g(){}function v(){}function E(){}var C={};l(C,s,function(){return this});var R=Object.getPrototypeOf,S=R&&R(R(re([])));S&&S!==e&&n.call(S,s)&&(C=S);var T=E.prototype=g.prototype=Object.create(C);function k(I){["next","throw","return"].forEach(function(_){l(I,_,function(w){return this._invoke(_,w)})})}function b(I,_){function w(D,O,M,B){var H=f(I[D],I,O);if(H.type!=="throw"){var ue=H.arg,fe=ue.value;return fe&&TT(fe)=="object"&&n.call(fe,"__await")?_.resolve(fe.__await).then(function(Se){w("next",Se,M,B)},function(Se){w("throw",Se,M,B)}):_.resolve(fe).then(function(Se){ue.value=Se,M(ue)},function(Se){return w("throw",Se,M,B)})}B(H.arg)}var N;r(this,"_invoke",{value:function(O,M){function B(){return new _(function(H,ue){w(O,M,H,ue)})}return N=N?N.then(B,B):B()}})}function F(I,_,w){var N="suspendedStart";return function(D,O){if(N==="executing")throw new Error("Generator is already running");if(N==="completed"){if(D==="throw")throw O;return Ne()}for(w.method=D,w.arg=O;;){var M=w.delegate;if(M){var B=V(M,w);if(B){if(B===p)continue;return B}}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(N==="suspendedStart")throw N="completed",w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);N="executing";var H=f(I,_,w);if(H.type==="normal"){if(N=w.done?"completed":"suspendedYield",H.arg===p)continue;return{value:H.arg,done:w.done}}H.type==="throw"&&(N="completed",w.method="throw",w.arg=H.arg)}}}function V(I,_){var w=_.method,N=I.iterator[w];if(N===void 0)return _.delegate=null,w==="throw"&&I.iterator.return&&(_.method="return",_.arg=void 0,V(I,_),_.method==="throw")||w!=="return"&&(_.method="throw",_.arg=new TypeError("The iterator does not provide a '"+w+"' method")),p;var D=f(N,I.iterator,_.arg);if(D.type==="throw")return _.method="throw",_.arg=D.arg,_.delegate=null,p;var O=D.arg;return O?O.done?(_[I.resultName]=O.value,_.next=I.nextLoc,_.method!=="return"&&(_.method="next",_.arg=void 0),_.delegate=null,p):O:(_.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,p)}function W(I){var _={tryLoc:I[0]};1 in I&&(_.catchLoc=I[1]),2 in I&&(_.finallyLoc=I[2],_.afterLoc=I[3]),this.tryEntries.push(_)}function G(I){var _=I.completion||{};_.type="normal",delete _.arg,I.completion=_}function ie(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(W,this),this.reset(!0)}function re(I){if(I){var _=I[s];if(_)return _.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var w=-1,N=function D(){for(;++w<I.length;)if(n.call(I,w))return D.value=I[w],D.done=!1,D;return D.value=void 0,D.done=!0,D};return N.next=N}}return{next:Ne}}function Ne(){return{value:void 0,done:!0}}return v.prototype=E,r(T,"constructor",{value:E,configurable:!0}),r(E,"constructor",{value:v,configurable:!0}),v.displayName=l(E,u,"GeneratorFunction"),t.isGeneratorFunction=function(I){var _=typeof I=="function"&&I.constructor;return!!_&&(_===v||(_.displayName||_.name)==="GeneratorFunction")},t.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,E):(I.__proto__=E,l(I,u,"GeneratorFunction")),I.prototype=Object.create(T),I},t.awrap=function(I){return{__await:I}},k(b.prototype),l(b.prototype,o,function(){return this}),t.AsyncIterator=b,t.async=function(I,_,w,N,D){D===void 0&&(D=Promise);var O=new b(h(I,_,w,N),D);return t.isGeneratorFunction(_)?O:O.next().then(function(M){return M.done?M.value:O.next()})},k(T),l(T,u,"Generator"),l(T,s,function(){return this}),l(T,"toString",function(){return"[object Generator]"}),t.keys=function(I){var _=Object(I),w=[];for(var N in _)w.push(N);return w.reverse(),function D(){for(;w.length;){var O=w.pop();if(O in _)return D.value=O,D.done=!1,D}return D.done=!0,D}},t.values=re,ie.prototype={constructor:ie,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(G),!_)for(var w in this)w.charAt(0)==="t"&&n.call(this,w)&&!isNaN(+w.slice(1))&&(this[w]=void 0)},stop:function(){this.done=!0;var _=this.tryEntries[0].completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var w=this;function N(ue,fe){return M.type="throw",M.arg=_,w.next=ue,fe&&(w.method="next",w.arg=void 0),!!fe}for(var D=this.tryEntries.length-1;D>=0;--D){var O=this.tryEntries[D],M=O.completion;if(O.tryLoc==="root")return N("end");if(O.tryLoc<=this.prev){var B=n.call(O,"catchLoc"),H=n.call(O,"finallyLoc");if(B&&H){if(this.prev<O.catchLoc)return N(O.catchLoc,!0);if(this.prev<O.finallyLoc)return N(O.finallyLoc)}else if(B){if(this.prev<O.catchLoc)return N(O.catchLoc,!0)}else{if(!H)throw new Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return N(O.finallyLoc)}}}},abrupt:function(_,w){for(var N=this.tryEntries.length-1;N>=0;--N){var D=this.tryEntries[N];if(D.tryLoc<=this.prev&&n.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var O=D;break}}O&&(_==="break"||_==="continue")&&O.tryLoc<=w&&w<=O.finallyLoc&&(O=null);var M=O?O.completion:{};return M.type=_,M.arg=w,O?(this.method="next",this.next=O.finallyLoc,p):this.complete(M)},complete:function(_,w){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&w&&(this.next=w),p},finish:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.finallyLoc===_)return this.complete(N.completion,N.afterLoc),G(N),p}},catch:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.tryLoc===_){var D=N.completion;if(D.type==="throw"){var O=D.arg;G(N)}return O}}throw new Error("illegal catch attempt")},delegateYield:function(_,w,N){return this.delegate={iterator:re(_),resultName:w,nextLoc:N},this.method==="next"&&(this.arg=void 0),p}},t}function oL(t,e,n,r,i,s,o){try{var u=t[s](o),l=u.value}catch(h){n(h);return}u.done?e(l):Promise.resolve(l).then(r,i)}function mme(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(l){oL(s,r,i,o,u,"next",l)}function u(l){oL(s,r,i,o,u,"throw",l)}o(void 0)})}}var _me=function(){var e=VM(),n=e.t,r=Tu(),i=yr(function(h){return h.app}),s=i.errors.loginUser,o=i.loading.isLoginUser,u=function(){var h=mme(IT().mark(function f(p){var g,v,E;return IT().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:p.preventDefault(),g=p.target,v=g.email,E=g.password,r(He.actions.loginUser({email:v.value,password:E.value}));case 3:case"end":return R.stop()}},f)}));return function(p){return h.apply(this,arguments)}}(),l=function(){r(zI.actions.resetErrors())};return Qe("div",{className:tl.container,children:[Z("h2",{className:tl.title,children:"Chat"}),Z("h3",{className:tl.subtitle,children:"Login"}),Qe("form",{className:tl.form,onSubmit:u,children:[Z("input",{required:!0,name:Mo.Email,placeholder:"email@mail.com",type:"email"}),Z("input",{required:!0,name:Mo.Password,placeholder:"password",type:"password"}),s&&Z("p",{className:tl.error,children:n(s)}),Z("button",{disabled:o,type:"submit",children:"Sign in"})]}),Qe("p",{className:tl.login,children:["Don't have an account?"," ",Z(Dv,{to:"".concat(En.Root).concat(En.Register),onClick:l,children:"Register"})]})]})};function dd(t){return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function vme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E6(r.key),r)}}function yme(t,e,n){return e&&aL(t.prototype,e),n&&aL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wme(t,e,n){return e=E6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E6(t){var e=Eme(t,"string");return dd(e)==="symbol"?e:String(e)}function Eme(t,e){if(dd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $c=function(){function t(){vme(this,t)}return yme(t,null,[{key:"navigate",value:function(n,r){this.navigator&&(typeof n=="number"?this.navigator(n):this.navigator(n,r))}}]),t}();wme($c,"navigator",null);var Sme=function(){return $c.navigator=xI(),null};const Tme="jS7",Ime="oSO",Cme="rMO",Rme="myD",Ng={container:Tme,title:Ime,loading:Cme,loadingDots:Rme};var uL=function(){return DI(function(){setTimeout(function(){$c.navigate(En.Root)},3e3)}),Qe("div",{className:Ng.container,children:[Z("p",{className:Ng.title,children:"This page doesn't exist."}),Qe("p",{className:Ng.loading,children:["Redirecting to the homepage",Z(She,{className:Ng.loadingDots})]})]})};const Ame="Kv-",Pme="Sx9",kme="ldd",bme="-ft",Ome="jUq",Nme="LLm",nl={container:Ame,title:Pme,subtitle:kme,form:bme,error:Ome,login:Nme};var Mo;(function(t){t.Nickname="nickname",t.Email="email",t.Password="password",t.File="file"})(Mo||(Mo={}));function CT(t){return CT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CT(t)}function RT(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */RT=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(I,_,w){I[_]=w.value},i=typeof Symbol=="function"?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(I,_,w){return Object.defineProperty(I,_,{value:w,enumerable:!0,configurable:!0,writable:!0}),I[_]}try{l({},"")}catch{l=function(w,N,D){return w[N]=D}}function h(I,_,w,N){var D=_&&_.prototype instanceof g?_:g,O=Object.create(D.prototype),M=new ie(N||[]);return r(O,"_invoke",{value:F(I,w,M)}),O}function f(I,_,w){try{return{type:"normal",arg:I.call(_,w)}}catch(N){return{type:"throw",arg:N}}}t.wrap=h;var p={};function g(){}function v(){}function E(){}var C={};l(C,s,function(){return this});var R=Object.getPrototypeOf,S=R&&R(R(re([])));S&&S!==e&&n.call(S,s)&&(C=S);var T=E.prototype=g.prototype=Object.create(C);function k(I){["next","throw","return"].forEach(function(_){l(I,_,function(w){return this._invoke(_,w)})})}function b(I,_){function w(D,O,M,B){var H=f(I[D],I,O);if(H.type!=="throw"){var ue=H.arg,fe=ue.value;return fe&&CT(fe)=="object"&&n.call(fe,"__await")?_.resolve(fe.__await).then(function(Se){w("next",Se,M,B)},function(Se){w("throw",Se,M,B)}):_.resolve(fe).then(function(Se){ue.value=Se,M(ue)},function(Se){return w("throw",Se,M,B)})}B(H.arg)}var N;r(this,"_invoke",{value:function(O,M){function B(){return new _(function(H,ue){w(O,M,H,ue)})}return N=N?N.then(B,B):B()}})}function F(I,_,w){var N="suspendedStart";return function(D,O){if(N==="executing")throw new Error("Generator is already running");if(N==="completed"){if(D==="throw")throw O;return Ne()}for(w.method=D,w.arg=O;;){var M=w.delegate;if(M){var B=V(M,w);if(B){if(B===p)continue;return B}}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(N==="suspendedStart")throw N="completed",w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);N="executing";var H=f(I,_,w);if(H.type==="normal"){if(N=w.done?"completed":"suspendedYield",H.arg===p)continue;return{value:H.arg,done:w.done}}H.type==="throw"&&(N="completed",w.method="throw",w.arg=H.arg)}}}function V(I,_){var w=_.method,N=I.iterator[w];if(N===void 0)return _.delegate=null,w==="throw"&&I.iterator.return&&(_.method="return",_.arg=void 0,V(I,_),_.method==="throw")||w!=="return"&&(_.method="throw",_.arg=new TypeError("The iterator does not provide a '"+w+"' method")),p;var D=f(N,I.iterator,_.arg);if(D.type==="throw")return _.method="throw",_.arg=D.arg,_.delegate=null,p;var O=D.arg;return O?O.done?(_[I.resultName]=O.value,_.next=I.nextLoc,_.method!=="return"&&(_.method="next",_.arg=void 0),_.delegate=null,p):O:(_.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,p)}function W(I){var _={tryLoc:I[0]};1 in I&&(_.catchLoc=I[1]),2 in I&&(_.finallyLoc=I[2],_.afterLoc=I[3]),this.tryEntries.push(_)}function G(I){var _=I.completion||{};_.type="normal",delete _.arg,I.completion=_}function ie(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(W,this),this.reset(!0)}function re(I){if(I){var _=I[s];if(_)return _.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var w=-1,N=function D(){for(;++w<I.length;)if(n.call(I,w))return D.value=I[w],D.done=!1,D;return D.value=void 0,D.done=!0,D};return N.next=N}}return{next:Ne}}function Ne(){return{value:void 0,done:!0}}return v.prototype=E,r(T,"constructor",{value:E,configurable:!0}),r(E,"constructor",{value:v,configurable:!0}),v.displayName=l(E,u,"GeneratorFunction"),t.isGeneratorFunction=function(I){var _=typeof I=="function"&&I.constructor;return!!_&&(_===v||(_.displayName||_.name)==="GeneratorFunction")},t.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,E):(I.__proto__=E,l(I,u,"GeneratorFunction")),I.prototype=Object.create(T),I},t.awrap=function(I){return{__await:I}},k(b.prototype),l(b.prototype,o,function(){return this}),t.AsyncIterator=b,t.async=function(I,_,w,N,D){D===void 0&&(D=Promise);var O=new b(h(I,_,w,N),D);return t.isGeneratorFunction(_)?O:O.next().then(function(M){return M.done?M.value:O.next()})},k(T),l(T,u,"Generator"),l(T,s,function(){return this}),l(T,"toString",function(){return"[object Generator]"}),t.keys=function(I){var _=Object(I),w=[];for(var N in _)w.push(N);return w.reverse(),function D(){for(;w.length;){var O=w.pop();if(O in _)return D.value=O,D.done=!1,D}return D.done=!0,D}},t.values=re,ie.prototype={constructor:ie,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(G),!_)for(var w in this)w.charAt(0)==="t"&&n.call(this,w)&&!isNaN(+w.slice(1))&&(this[w]=void 0)},stop:function(){this.done=!0;var _=this.tryEntries[0].completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var w=this;function N(ue,fe){return M.type="throw",M.arg=_,w.next=ue,fe&&(w.method="next",w.arg=void 0),!!fe}for(var D=this.tryEntries.length-1;D>=0;--D){var O=this.tryEntries[D],M=O.completion;if(O.tryLoc==="root")return N("end");if(O.tryLoc<=this.prev){var B=n.call(O,"catchLoc"),H=n.call(O,"finallyLoc");if(B&&H){if(this.prev<O.catchLoc)return N(O.catchLoc,!0);if(this.prev<O.finallyLoc)return N(O.finallyLoc)}else if(B){if(this.prev<O.catchLoc)return N(O.catchLoc,!0)}else{if(!H)throw new Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return N(O.finallyLoc)}}}},abrupt:function(_,w){for(var N=this.tryEntries.length-1;N>=0;--N){var D=this.tryEntries[N];if(D.tryLoc<=this.prev&&n.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var O=D;break}}O&&(_==="break"||_==="continue")&&O.tryLoc<=w&&w<=O.finallyLoc&&(O=null);var M=O?O.completion:{};return M.type=_,M.arg=w,O?(this.method="next",this.next=O.finallyLoc,p):this.complete(M)},complete:function(_,w){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&w&&(this.next=w),p},finish:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.finallyLoc===_)return this.complete(N.completion,N.afterLoc),G(N),p}},catch:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.tryLoc===_){var D=N.completion;if(D.type==="throw"){var O=D.arg;G(N)}return O}}throw new Error("illegal catch attempt")},delegateYield:function(_,w,N){return this.delegate={iterator:re(_),resultName:w,nextLoc:N},this.method==="next"&&(this.arg=void 0),p}},t}function lL(t,e,n,r,i,s,o){try{var u=t[s](o),l=u.value}catch(h){n(h);return}u.done?e(l):Promise.resolve(l).then(r,i)}function xme(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(l){lL(s,r,i,o,u,"next",l)}function u(l){lL(s,r,i,o,u,"throw",l)}o(void 0)})}}function Dme(t,e){return Fme(t)||Ume(t,e)||Mme(t,e)||Lme()}function Lme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mme(t,e){if(t){if(typeof t=="string")return cL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cL(t,e)}}function cL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ume(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,u=[],l=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(f){h=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function Fme(t){if(Array.isArray(t))return t}var $me=function(){var e=X.useState(""),n=Dme(e,2),r=n[0],i=n[1],s=VM(),o=s.t,u=Tu(),l=yr(function(E){return E.app}),h=l.errors.registerUser,f=l.loading.isRegisterUser,p=function(C){if(C.target.files){var R=C.target.files[0],S=new FileReader;S.onload=function(){S.readyState===2&&typeof S.result=="string"&&i(S.result)},R&&S.readAsDataURL(R)}},g=function(){var E=xme(RT().mark(function C(R){var S,T,k,b,F;return RT().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:R.preventDefault(),S=R.target,T=S.nickname,k=S.email,b=S.password,F=S.file,u(He.actions.registerUser({nickname:T.value,email:k.value,password:b.value,avatar:F.files&&F.files[0]}));case 3:case"end":return W.stop()}},C)}));return function(R){return E.apply(this,arguments)}}(),v=function(){u(zI.actions.resetErrors())};return Qe("div",{className:nl.container,children:[Z("h2",{className:nl.title,children:"Chat"}),Z("h3",{className:nl.subtitle,children:"Register"}),Qe("form",{className:nl.form,onSubmit:g,children:[Z("input",{required:!0,name:Mo.Nickname,placeholder:"Nickname",type:"text"}),Z("input",{required:!0,name:Mo.Email,placeholder:"email@mail.com",type:"email"}),Z("input",{required:!0,minLength:6,name:Mo.Password,placeholder:"password",type:"password"}),Qe("label",{htmlFor:"file",children:[Z("input",{hidden:!0,accept:"image/*",id:"file",name:Mo.File,type:"file",onChange:p}),Z(Lv.AddAvatar,{}),r?Z("img",{alt:"avatar",src:r}):Z("span",{children:"Add an avatar"})]}),h&&Z("p",{className:nl.error,children:o(h)}),Z("button",{disabled:f,type:"submit",children:"Sign up"})]}),Qe("p",{className:nl.login,children:["Do you already have an account?"," ",Z(Dv,{to:"".concat(En.Root).concat(En.Login),onClick:v,children:"Login"})]})]})},Vme=function(){return Qe(BK,{children:[Z(Sme,{}),Qe(FK,{children:[Qe(xa,{element:Z(yhe,{}),errorElement:Z(uL,{}),path:En.Root,children:[Z(xa,{element:Z(Wge,{children:Z(lme,{})}),path:En.Root,children:Z(xa,{element:Z(XK,{}),path:":".concat(lS.ChatId)})}),Z(xa,{element:Z(_me,{}),path:En.Login}),Z(xa,{element:Z($me,{}),path:En.Register})]}),Z(xa,{element:Z(uL,{}),path:"*"})]})]})},IA="persist:",S6="persist/FLUSH",CA="persist/REHYDRATE",T6="persist/PAUSE",I6="persist/PERSIST",C6="persist/PURGE",R6="persist/REGISTER",Wme=-1;function cm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cm=function(n){return typeof n}:cm=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},cm(t)}function hL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jme(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hL(n,!0).forEach(function(r){Bme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hL(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bme(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zme(t,e,n,r){r.debug;var i=jme({},n);return t&&cm(t)==="object"&&Object.keys(t).forEach(function(s){s!=="_persist"&&e[s]===n[s]&&(i[s]=t[s])}),i}function Hme(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,s="".concat(t.keyPrefix!==void 0?t.keyPrefix:IA).concat(t.key),o=t.storage,u;t.serialize===!1?u=function(F){return F}:typeof t.serialize=="function"?u=t.serialize:u=qme;var l=t.writeFailHandler||null,h={},f={},p=[],g=null,v=null,E=function(F){Object.keys(F).forEach(function(V){S(V)&&h[V]!==F[V]&&p.indexOf(V)===-1&&p.push(V)}),Object.keys(h).forEach(function(V){F[V]===void 0&&S(V)&&p.indexOf(V)===-1&&h[V]!==void 0&&p.push(V)}),g===null&&(g=setInterval(C,i)),h=F};function C(){if(p.length===0){g&&clearInterval(g),g=null;return}var b=p.shift(),F=r.reduce(function(V,W){return W.in(V,b,h)},h[b]);if(F!==void 0)try{f[b]=u(F)}catch(V){console.error("redux-persist/createPersistoid: error serializing state",V)}else delete f[b];p.length===0&&R()}function R(){Object.keys(f).forEach(function(b){h[b]===void 0&&delete f[b]}),v=o.setItem(s,u(f)).catch(T)}function S(b){return!(n&&n.indexOf(b)===-1&&b!=="_persist"||e&&e.indexOf(b)!==-1)}function T(b){l&&l(b)}var k=function(){for(;p.length!==0;)C();return v||Promise.resolve()};return{update:E,flush:k}}function qme(t){return JSON.stringify(t)}function Gme(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:IA).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(o){return o}:typeof t.deserialize=="function"?i=t.deserialize:i=Yme,r.getItem(n).then(function(s){if(s)try{var o={},u=i(s);return Object.keys(u).forEach(function(l){o[l]=e.reduceRight(function(h,f){return f.out(h,l,u)},i(u[l]))}),o}catch(l){throw l}else return})}function Yme(t){return JSON.parse(t)}function Kme(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:IA).concat(t.key);return e.removeItem(n,Qme)}function Qme(t){}function fL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fL(n,!0).forEach(function(r){Xme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fL(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xme(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jme(t,e){if(t==null)return{};var n=Zme(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zme(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var e_e=5e3;function t_e(t,e){var n=t.version!==void 0?t.version:Wme;t.debug;var r=t.stateReconciler===void 0?zme:t.stateReconciler,i=t.getStoredState||Gme,s=t.timeout!==void 0?t.timeout:e_e,o=null,u=!1,l=!0,h=function(p){return p._persist.rehydrated&&o&&!l&&o.update(p),p};return function(f,p){var g=f||{},v=g._persist,E=Jme(g,["_persist"]),C=E;if(p.type===I6){var R=!1,S=function(G,ie){R||(p.rehydrate(t.key,G,ie),R=!0)};if(s&&setTimeout(function(){!R&&S(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},s),l=!1,o||(o=Hme(t)),v)return Cs({},e(C,p),{_persist:v});if(typeof p.rehydrate!="function"||typeof p.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return p.register(t.key),i(t).then(function(W){var G=t.migrate||function(ie,re){return Promise.resolve(ie)};G(W,n).then(function(ie){S(ie)},function(ie){S(void 0,ie)})},function(W){S(void 0,W)}),Cs({},e(C,p),{_persist:{version:n,rehydrated:!1}})}else{if(p.type===C6)return u=!0,p.result(Kme(t)),Cs({},e(C,p),{_persist:v});if(p.type===S6)return p.result(o&&o.flush()),Cs({},e(C,p),{_persist:v});if(p.type===T6)l=!0;else if(p.type===CA){if(u)return Cs({},C,{_persist:Cs({},v,{rehydrated:!0})});if(p.key===t.key){var T=e(C,p),k=p.payload,b=r!==!1&&k!==void 0?r(k,f,T,t):T,F=Cs({},b,{_persist:Cs({},v,{rehydrated:!0})});return h(F)}}}if(!v)return e(f,p);var V=e(C,p);return V===C?f:h(Cs({},V,{_persist:v}))}}function dL(t){return i_e(t)||r_e(t)||n_e()}function n_e(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function r_e(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function i_e(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function pL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pL(n,!0).forEach(function(r){s_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pL(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s_e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var A6={registry:[],bootstrapped:!1},o_e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A6,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case R6:return AT({},e,{registry:[].concat(dL(e.registry),[n.key])});case CA:var r=e.registry.indexOf(n.key),i=dL(e.registry);return i.splice(r,1),AT({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function a_e(t,e,n){var r=n||!1,i=WI(o_e,A6,e&&e.enhancer?e.enhancer:void 0),s=function(h){i.dispatch({type:R6,key:h})},o=function(h,f,p){var g={type:CA,payload:f,err:p,key:h};t.dispatch(g),i.dispatch(g),r&&u.getState().bootstrapped&&(r(),r=!1)},u=AT({},i,{purge:function(){var h=[];return t.dispatch({type:C6,result:function(p){h.push(p)}}),Promise.all(h)},flush:function(){var h=[];return t.dispatch({type:S6,result:function(p){h.push(p)}}),Promise.all(h)},pause:function(){t.dispatch({type:T6})},persist:function(){t.dispatch({type:I6,register:s,rehydrate:o})}});return e&&e.manualPersist||u.persist(),u}var RA={},AA={};AA.__esModule=!0;AA.default=c_e;function hm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hm=function(n){return typeof n}:hm=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},hm(t)}function ZE(){}var u_e={getItem:ZE,setItem:ZE,removeItem:ZE};function l_e(t){if((typeof self>"u"?"undefined":hm(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function c_e(t){var e="".concat(t,"Storage");return l_e(e)?self[e]:u_e}RA.__esModule=!0;RA.default=d_e;var h_e=f_e(AA);function f_e(t){return t&&t.__esModule?t:{default:t}}function d_e(t){var e=(0,h_e.default)(t);return{getItem:function(r){return new Promise(function(i,s){i(e.getItem(r))})},setItem:function(r,i){return new Promise(function(s,o){s(e.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,s){i(e.removeItem(r))})}}}var P6=void 0,p_e=g_e(RA);function g_e(t){return t&&t.__esModule?t:{default:t}}var m_e=(0,p_e.default)("local");P6=m_e;var $i=function(e){return"@@redux-saga/"+e},__e=$i("CANCEL_PROMISE"),k6=$i("CHANNEL_END"),b6=$i("IO"),gL=$i("MATCH"),O6=$i("MULTICAST"),N6=$i("SAGA_ACTION"),x6=$i("SELF_CANCELLATION"),v_e=$i("TASK"),Hl=$i("TASK_CANCEL"),D6=$i("TERMINATE"),y_e=$i("LOCATION"),L6=function(e){return e==null},fm=function(e){return e!=null},wr=function(e){return typeof e=="function"},PA=function(e){return typeof e=="string"},wa=Array.isArray,Hy=function(e){return e&&wr(e.then)},kA=function(e){return e&&wr(e.next)&&wr(e.throw)},mL=function t(e){return e&&(PA(e)||U6(e)||wr(e)||wa(e)&&e.every(t))},bA=function(e){return e&&wr(e.take)&&wr(e.close)},M6=function(e){return wr(e)&&e.hasOwnProperty("toString")},U6=function(e){return Boolean(e)&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype},w_e=function(e){return bA(e)&&e[O6]},E_e=function(e){return function(){return e}},S_e=E_e(!0),Zn=function(){},T_e=function(e){return e},OA=function(e,n){jm(e,n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(n).forEach(function(r){e[r]=n[r]})},I_e=function(e,n){var r;return(r=[]).concat.apply(r,n.map(e))};function qy(t,e){var n=t.indexOf(e);n>=0&&t.splice(n,1)}function C_e(t){var e=!1;return function(){e||(e=!0,t())}}var R_e=function(e){throw e},A_e=function(e){return{value:e,done:!0}};function PT(t,e,n){e===void 0&&(e=R_e),n===void 0&&(n="iterator");var r={meta:{name:n},next:t,throw:e,return:A_e,isSagaIterator:!0};return typeof Symbol<"u"&&(r[Symbol.iterator]=function(){return r}),r}function P_e(t,e){var n=e.sagaStack;console.error(t),console.error(n)}var F6=function(e){return Array.apply(null,new Array(e))},k_e=function(e){return function(n){return e(Object.defineProperty(n,N6,{value:!0}))}},$6=function(e){return e===D6},V6=function(e){return e===Hl},W6=function(e){return $6(e)||V6(e)};function j6(t,e){var n=Object.keys(t),r=n.length,i=0,s,o=wa(t)?F6(r):{},u={};function l(){i===r&&(s=!0,e(o))}return n.forEach(function(h){var f=function(g,v){s||(v||W6(g)?(e.cancel(),e(g,v)):(o[h]=g,i++,l()))};f.cancel=Zn,u[h]=f}),e.cancel=function(){s||(s=!0,n.forEach(function(h){return u[h].cancel()}))},u}function NA(t){return{name:t.name||"anonymous",location:B6(t)}}function B6(t){return t[y_e]}var b_e="Channel's Buffer overflow!",O_e=1,N_e=3,z6=4;function x_e(t,e){t===void 0&&(t=10);var n=new Array(t),r=0,i=0,s=0,o=function(f){n[i]=f,i=(i+1)%t,r++},u=function(){if(r!=0){var f=n[s];return n[s]=null,r--,s=(s+1)%t,f}},l=function(){for(var f=[];r;)f.push(u());return f};return{isEmpty:function(){return r==0},put:function(f){if(r<t)o(f);else{var p;switch(e){case O_e:throw new Error(b_e);case N_e:n[i]=f,i=(i+1)%t,s=i;break;case z6:p=2*t,n=l(),r=n.length,i=n.length,s=0,n.length=p,t=p,o(f);break}}},take:u,flush:l}}var D_e=function(e){return x_e(e,z6)},dm="TAKE",H6="PUT",q6="ALL",L_e="RACE",G6="CALL",M_e="CPS",Y6="FORK",U_e="JOIN",K6="CANCEL",F_e="SELECT",$_e="ACTION_CHANNEL",V_e="CANCELLED",W_e="FLUSH",j_e="GET_CONTEXT",B_e="SET_CONTEXT",ta=function(e,n){var r;return r={},r[b6]=!0,r.combinator=!1,r.type=e,r.payload=n,r};function z_e(t,e){if(t===void 0&&(t="*"),mL(t))return fm(e)&&console.warn("take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types"),ta(dm,{pattern:t});if(w_e(t)&&fm(e)&&mL(e))return ta(dm,{channel:t,pattern:e});if(bA(t))return fm(e)&&console.warn("take(channel) takes one argument but two were provided. Second argument is ignored."),ta(dm,{channel:t})}function da(t,e){return L6(e)&&(e=t,t=void 0),ta(H6,{channel:t,action:e})}function H_e(t){var e=ta(q6,t);return e.combinator=!0,e}function Q6(t,e){var n=null,r;return wr(t)?r=t:(wa(t)?(n=t[0],r=t[1]):(n=t.context,r=t.fn),n&&PA(r)&&wr(n[r])&&(r=n[r])),{context:n,fn:r,args:e}}function Gy(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return ta(G6,Q6(t,n))}function X6(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return ta(Y6,Q6(t,n))}function q_e(t){return t===void 0&&(t=x6),ta(K6,t)}function G_e(){var t={};return t.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),t}var J6=[],Yy=0;function Y_e(t){try{xA(),t()}finally{tW()}}function Z6(t){J6.push(t),Yy||(xA(),nW())}function eW(t){try{return xA(),t()}finally{nW()}}function xA(){Yy++}function tW(){Yy--}function nW(){tW();for(var t;!Yy&&(t=J6.shift())!==void 0;)Y_e(t)}var K_e=function(e){return function(n){return e.some(function(r){return DA(r)(n)})}},Q_e=function(e){return function(n){return e(n)}},_L=function(e){return function(n){return n.type===String(e)}},X_e=function(e){return function(n){return n.type===e}},rW=function(){return S_e};function DA(t){var e=t==="*"?rW:PA(t)?_L:wa(t)?K_e:M6(t)?_L:wr(t)?Q_e:U6(t)?X_e:null;if(e===null)throw new Error("invalid pattern: "+t);return e(t)}var ff={type:k6},LA=function(e){return e&&e.type===k6};function J_e(t){t===void 0&&(t=D_e());var e=!1,n=[];function r(u){if(!e){if(n.length===0)return t.put(u);var l=n.shift();l(u)}}function i(u){e&&t.isEmpty()?u(ff):t.isEmpty()?(n.push(u),u.cancel=function(){qy(n,u)}):u(t.take())}function s(u){if(e&&t.isEmpty()){u(ff);return}u(t.flush())}function o(){if(!e){e=!0;var u=n;n=[];for(var l=0,h=u.length;l<h;l++){var f=u[l];f(ff)}}}return{take:i,put:r,flush:s,close:o}}function Z_e(){var t,e=!1,n=[],r=n,i=function(){r===n&&(r=n.slice())},s=function(){e=!0;var u=n=r;r=[],u.forEach(function(l){l(ff)})};return t={},t[O6]=!0,t.put=function(u){if(!e){if(LA(u)){s();return}for(var l=n=r,h=0,f=l.length;h<f;h++){var p=l[h];p[gL](u)&&(p.cancel(),p(u))}}},t.take=function(u,l){if(l===void 0&&(l=rW),e){u(ff);return}u[gL]=l,i(),r.push(u),u.cancel=C_e(function(){i(),qy(r,u)})},t.close=s,t}function iW(){var t=Z_e(),e=t.put;return t.put=function(n){if(n[N6]){e(n);return}Z6(function(){e(n)})},t}var Fa=0,bs=1,pm=2,sW=3;function MA(t,e){var n=t[__e];wr(n)&&(e.cancel=n),t.then(e,function(r){e(r,!0)})}var np=0,oW=function(){return++np},pn;function eve(t,e){return t.isSagaIterator?{name:t.meta.name}:NA(e)}function tve(t){var e=t.context,n=t.fn,r=t.args;try{var i=n.apply(e,r);if(kA(i))return i;var s=!1,o=function(l){return s?{value:l,done:!0}:(s=!0,{value:i,done:!Hy(i)})};return PT(o)}catch(u){return PT(function(){throw u})}}function nve(t,e,n){var r=e.channel,i=e.action,s=e.resolve;Z6(function(){var o;try{o=(r?r.put:t.dispatch)(i)}catch(u){n(u,!0);return}s&&Hy(o)?MA(o,n):n(o)})}function rve(t,e,n){var r=e.channel,i=r===void 0?t.channel:r,s=e.pattern,o=e.maybe,u=function(h){if(h instanceof Error){n(h,!0);return}if(LA(h)&&!o){n(D6);return}n(h)};try{i.take(u,fm(s)?DA(s):null)}catch(l){n(l,!0);return}n.cancel=u.cancel}function ive(t,e,n,r){var i=e.context,s=e.fn,o=e.args,u=r.task;try{var l=s.apply(i,o);if(Hy(l)){MA(l,n);return}if(kA(l)){Ky(t,l,u.context,np,NA(s),!1,n);return}n(l)}catch(h){n(h,!0)}}function sve(t,e,n){var r=e.context,i=e.fn,s=e.args;try{var o=function(l,h){L6(l)?n(h):n(l,!0)};i.apply(r,s.concat(o)),o.cancel&&(n.cancel=o.cancel)}catch(u){n(u,!0)}}function ove(t,e,n,r){var i=e.context,s=e.fn,o=e.args,u=e.detached,l=r.task,h=tve({context:i,fn:s,args:o}),f=eve(h,s);eW(function(){var p=Ky(t,h,l.context,np,f,u,void 0);u?n(p):p.isRunning()?(l.queue.addTask(p),n(p)):p.isAborted()?l.queue.abort(p.error()):n(p)})}function ave(t,e,n,r){var i=r.task,s=function(l,h){if(l.isRunning()){var f={task:i,cb:h};h.cancel=function(){l.isRunning()&&qy(l.joiners,f)},l.joiners.push(f)}else l.isAborted()?h(l.error(),!0):h(l.result())};if(wa(e)){if(e.length===0){n([]);return}var o=j6(e,n);e.forEach(function(u,l){s(u,o[l])})}else s(e,n)}function e1(t){t.isRunning()&&t.cancel()}function uve(t,e,n,r){var i=r.task;e===x6?e1(i):wa(e)?e.forEach(e1):e1(e),n()}function lve(t,e,n,r){var i=r.digestEffect,s=np,o=Object.keys(e);if(o.length===0){n(wa(e)?[]:{});return}var u=j6(e,n);o.forEach(function(l){i(e[l],s,u[l],l)})}function cve(t,e,n,r){var i=r.digestEffect,s=np,o=Object.keys(e),u=wa(e)?F6(o.length):{},l={},h=!1;o.forEach(function(f){var p=function(v,E){h||(E||W6(v)?(n.cancel(),n(v,E)):(n.cancel(),h=!0,u[f]=v,n(u)))};p.cancel=Zn,l[f]=p}),n.cancel=function(){h||(h=!0,o.forEach(function(f){return l[f].cancel()}))},o.forEach(function(f){h||i(e[f],s,l[f],f)})}function hve(t,e,n){var r=e.selector,i=e.args;try{var s=r.apply(void 0,[t.getState()].concat(i));n(s)}catch(o){n(o,!0)}}function fve(t,e,n){var r=e.pattern,i=e.buffer,s=J_e(i),o=DA(r),u=function h(f){LA(f)||t.channel.take(h,o),s.put(f)},l=s.close;s.close=function(){u.cancel(),l()},t.channel.take(u,o),n(s)}function dve(t,e,n,r){var i=r.task;n(i.isCancelled())}function pve(t,e,n){e.flush(n)}function gve(t,e,n,r){var i=r.task;n(i.context[e])}function mve(t,e,n,r){var i=r.task;OA(i.context,e),n()}var _ve=(pn={},pn[dm]=rve,pn[H6]=nve,pn[q6]=lve,pn[L_e]=cve,pn[G6]=ive,pn[M_e]=sve,pn[Y6]=ove,pn[U_e]=ave,pn[K6]=uve,pn[F_e]=hve,pn[$_e]=fve,pn[V_e]=dve,pn[W_e]=pve,pn[j_e]=gve,pn[B_e]=mve,pn);function vve(t,e,n){var r=[],i,s=!1;l(t);var o=function(){return r};function u(f){e(),h(),n(f,!0)}function l(f){r.push(f),f.cont=function(p,g){s||(qy(r,f),f.cont=Zn,g?u(p):(f===t&&(i=p),r.length||(s=!0,n(i))))}}function h(){s||(s=!0,r.forEach(function(f){f.cont=Zn,f.cancel()}),r=[])}return{addTask:l,cancelAll:h,abort:u,getTasks:o}}function aW(t,e){return t+"?"+e}function yve(t){var e=B6(t);if(e){var n=e.code,r=e.fileName,i=e.lineNumber,s=n+"  "+aW(r,i);return s}return""}function vL(t){var e=t.name,n=t.location;return n?e+"  "+aW(n.fileName,n.lineNumber):e}function wve(t){var e=I_e(function(n){return n.cancelledTasks},t);return e.length?["Tasks cancelled due to error:"].concat(e).join(`
`):""}var UA=null,df=[],Eve=function(e){e.crashedEffect=UA,df.push(e)},uW=function(){UA=null,df.length=0},Sve=function(e){UA=e},Tve=function(){var e=df[0],n=df.slice(1),r=e.crashedEffect?yve(e.crashedEffect):null,i="The above error occurred in task "+vL(e.meta)+(r?` 
 when executing effect `+r:"");return[i].concat(n.map(function(s){return"    created by "+vL(s.meta)}),[wve(df)]).join(`
`)};function Ive(t,e,n,r,i,s,o){var u;o===void 0&&(o=Zn);var l=Fa,h,f,p=null,g=[],v=Object.create(n),E=vve(e,function(){g.push.apply(g,E.getTasks().map(function(F){return F.meta.name}))},R);function C(){l===Fa&&(l=bs,E.cancelAll(),R(Hl,!1))}function R(b,F){if(!F)b===Hl?l=bs:l!==bs&&(l=sW),h=b,p&&p.resolve(b);else{if(l=pm,Eve({meta:i,cancelledTasks:g}),k.isRoot){var V=Tve();uW(),t.onError(b,{sagaStack:V})}f=b,p&&p.reject(b)}k.cont(b,F),k.joiners.forEach(function(W){W.cb(b,F)}),k.joiners=null}function S(b){OA(v,b)}function T(){return p||(p=G_e(),l===pm?p.reject(f):l!==Fa&&p.resolve(h)),p.promise}var k=(u={},u[v_e]=!0,u.id=r,u.meta=i,u.isRoot=s,u.context=v,u.joiners=[],u.queue=E,u.cancel=C,u.cont=o,u.end=R,u.setContext=S,u.toPromise=T,u.isRunning=function(){return l===Fa},u.isCancelled=function(){return l===bs||l===Fa&&e.status===bs},u.isAborted=function(){return l===pm},u.result=function(){return h},u.error=function(){return f},u);return k}function Ky(t,e,n,r,i,s,o){var u=t.finalizeRunEffect(v);g.cancel=Zn;var l={meta:i,cancel:p,status:Fa},h=Ive(t,l,n,r,i,s,o),f={task:h,digestEffect:E};function p(){l.status===Fa&&(l.status=bs,g(Hl))}return o&&(o.cancel=h.cancel),g(),h;function g(C,R){try{var S;R?(S=e.throw(C),uW()):V6(C)?(l.status=bs,g.cancel(),S=wr(e.return)?e.return(Hl):{done:!0,value:Hl}):$6(C)?S=wr(e.return)?e.return():{done:!0}:S=e.next(C),S.done?(l.status!==bs&&(l.status=sW),l.cont(S.value)):E(S.value,r,g)}catch(T){if(l.status===bs)throw T;l.status=pm,l.cont(T,!0)}}function v(C,R,S){if(Hy(C))MA(C,S);else if(kA(C))Ky(t,C,h.context,R,i,!1,S);else if(C&&C[b6]){var T=_ve[C.type];T(t,C.payload,S,f)}else S(C)}function E(C,R,S,T){T===void 0&&(T="");var k=oW();t.sagaMonitor&&t.sagaMonitor.effectTriggered({effectId:k,parentEffectId:R,label:T,effect:C});var b;function F(V,W){b||(b=!0,S.cancel=Zn,t.sagaMonitor&&(W?t.sagaMonitor.effectRejected(k,V):t.sagaMonitor.effectResolved(k,V)),W&&Sve(C),S(V,W))}F.cancel=Zn,S.cancel=function(){b||(b=!0,F.cancel(),F.cancel=Zn,t.sagaMonitor&&t.sagaMonitor.effectCancelled(k))},u(C,k,F)}}function Cve(t,e){for(var n=t.channel,r=n===void 0?iW():n,i=t.dispatch,s=t.getState,o=t.context,u=o===void 0?{}:o,l=t.sagaMonitor,h=t.effectMiddlewares,f=t.onError,p=f===void 0?P_e:f,g=arguments.length,v=new Array(g>2?g-2:0),E=2;E<g;E++)v[E-2]=arguments[E];var C=e.apply(void 0,v),R=oW();l&&(l.rootSagaStarted=l.rootSagaStarted||Zn,l.effectTriggered=l.effectTriggered||Zn,l.effectResolved=l.effectResolved||Zn,l.effectRejected=l.effectRejected||Zn,l.effectCancelled=l.effectCancelled||Zn,l.actionDispatched=l.actionDispatched||Zn,l.rootSagaStarted({effectId:R,saga:e,args:v}));var S;if(h){var T=Lf.apply(void 0,h);S=function(F){return function(V,W,G){var ie=function(Ne){return F(Ne,W,G)};return T(ie)(V)}}}else S=T_e;var k={channel:r,dispatch:k_e(i),getState:s,sagaMonitor:l,onError:p,finalizeRunEffect:S};return eW(function(){var b=Ky(k,C,u,R,NA(e),!0,void 0);return l&&l.effectResolved(R,b),b})}function Rve(t){var e=t===void 0?{}:t,n=e.context,r=n===void 0?{}:n,i=e.channel,s=i===void 0?iW():i,o=e.sagaMonitor,u=_Y(e,["context","channel","sagaMonitor"]),l;function h(f){var p=f.getState,g=f.dispatch;return l=Cve.bind(null,jm({},u,{context:r,channel:s,dispatch:g,getState:p,sagaMonitor:o})),function(v){return function(E){o&&o.actionDispatched&&o.actionDispatched(E);var C=v(E);return s.put(E),C}}}return h.run=function(){return l.apply(void 0,arguments)},h.setContext=function(f){OA(r,f)},h}var yL=function(e){return{done:!0,value:e}},t1={};function Ave(t){return bA(t)?"channel":M6(t)?String(t):wr(t)?t.name:String(t)}function Pve(t,e,n){var r,i,s,o=e;function u(l,h){if(o===t1)return yL(l);if(h&&!i)throw o=t1,h;r&&r(l);var f=h?t[i](h):t[o]();return o=f.nextState,s=f.effect,r=f.stateUpdater,i=f.errorState,o===t1?yL(l):s}return PT(u,function(l){return u(null,l)},n)}function kve(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s={done:!1,value:z_e(t)},o=function(v){return{done:!1,value:X6.apply(void 0,[e].concat(r,[v]))}},u=function(v){return{done:!1,value:q_e(v)}},l,h,f=function(v){return l=v},p=function(v){return h=v};return Pve({q1:function(){return{nextState:"q2",effect:s,stateUpdater:p}},q2:function(){return l?{nextState:"q3",effect:u(l)}:{nextState:"q1",effect:o(h),stateUpdater:f}},q3:function(){return{nextState:"q1",effect:o(h),stateUpdater:f}}},"q1","takeLatest("+Ave(t)+", "+e.name+")")}function xg(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return X6.apply(void 0,[kve,t,e].concat(r))}function kT(t){return kT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kT(t)}var bve=Ui().mark(lW);function Ui(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ui=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(I,_,w){I[_]=w.value},i=typeof Symbol=="function"?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(I,_,w){return Object.defineProperty(I,_,{value:w,enumerable:!0,configurable:!0,writable:!0}),I[_]}try{l({},"")}catch{l=function(w,N,D){return w[N]=D}}function h(I,_,w,N){var D=_&&_.prototype instanceof g?_:g,O=Object.create(D.prototype),M=new ie(N||[]);return r(O,"_invoke",{value:F(I,w,M)}),O}function f(I,_,w){try{return{type:"normal",arg:I.call(_,w)}}catch(N){return{type:"throw",arg:N}}}t.wrap=h;var p={};function g(){}function v(){}function E(){}var C={};l(C,s,function(){return this});var R=Object.getPrototypeOf,S=R&&R(R(re([])));S&&S!==e&&n.call(S,s)&&(C=S);var T=E.prototype=g.prototype=Object.create(C);function k(I){["next","throw","return"].forEach(function(_){l(I,_,function(w){return this._invoke(_,w)})})}function b(I,_){function w(D,O,M,B){var H=f(I[D],I,O);if(H.type!=="throw"){var ue=H.arg,fe=ue.value;return fe&&kT(fe)=="object"&&n.call(fe,"__await")?_.resolve(fe.__await).then(function(Se){w("next",Se,M,B)},function(Se){w("throw",Se,M,B)}):_.resolve(fe).then(function(Se){ue.value=Se,M(ue)},function(Se){return w("throw",Se,M,B)})}B(H.arg)}var N;r(this,"_invoke",{value:function(O,M){function B(){return new _(function(H,ue){w(O,M,H,ue)})}return N=N?N.then(B,B):B()}})}function F(I,_,w){var N="suspendedStart";return function(D,O){if(N==="executing")throw new Error("Generator is already running");if(N==="completed"){if(D==="throw")throw O;return Ne()}for(w.method=D,w.arg=O;;){var M=w.delegate;if(M){var B=V(M,w);if(B){if(B===p)continue;return B}}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(N==="suspendedStart")throw N="completed",w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);N="executing";var H=f(I,_,w);if(H.type==="normal"){if(N=w.done?"completed":"suspendedYield",H.arg===p)continue;return{value:H.arg,done:w.done}}H.type==="throw"&&(N="completed",w.method="throw",w.arg=H.arg)}}}function V(I,_){var w=_.method,N=I.iterator[w];if(N===void 0)return _.delegate=null,w==="throw"&&I.iterator.return&&(_.method="return",_.arg=void 0,V(I,_),_.method==="throw")||w!=="return"&&(_.method="throw",_.arg=new TypeError("The iterator does not provide a '"+w+"' method")),p;var D=f(N,I.iterator,_.arg);if(D.type==="throw")return _.method="throw",_.arg=D.arg,_.delegate=null,p;var O=D.arg;return O?O.done?(_[I.resultName]=O.value,_.next=I.nextLoc,_.method!=="return"&&(_.method="next",_.arg=void 0),_.delegate=null,p):O:(_.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,p)}function W(I){var _={tryLoc:I[0]};1 in I&&(_.catchLoc=I[1]),2 in I&&(_.finallyLoc=I[2],_.afterLoc=I[3]),this.tryEntries.push(_)}function G(I){var _=I.completion||{};_.type="normal",delete _.arg,I.completion=_}function ie(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(W,this),this.reset(!0)}function re(I){if(I){var _=I[s];if(_)return _.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var w=-1,N=function D(){for(;++w<I.length;)if(n.call(I,w))return D.value=I[w],D.done=!1,D;return D.value=void 0,D.done=!0,D};return N.next=N}}return{next:Ne}}function Ne(){return{value:void 0,done:!0}}return v.prototype=E,r(T,"constructor",{value:E,configurable:!0}),r(E,"constructor",{value:v,configurable:!0}),v.displayName=l(E,u,"GeneratorFunction"),t.isGeneratorFunction=function(I){var _=typeof I=="function"&&I.constructor;return!!_&&(_===v||(_.displayName||_.name)==="GeneratorFunction")},t.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,E):(I.__proto__=E,l(I,u,"GeneratorFunction")),I.prototype=Object.create(T),I},t.awrap=function(I){return{__await:I}},k(b.prototype),l(b.prototype,o,function(){return this}),t.AsyncIterator=b,t.async=function(I,_,w,N,D){D===void 0&&(D=Promise);var O=new b(h(I,_,w,N),D);return t.isGeneratorFunction(_)?O:O.next().then(function(M){return M.done?M.value:O.next()})},k(T),l(T,u,"Generator"),l(T,s,function(){return this}),l(T,"toString",function(){return"[object Generator]"}),t.keys=function(I){var _=Object(I),w=[];for(var N in _)w.push(N);return w.reverse(),function D(){for(;w.length;){var O=w.pop();if(O in _)return D.value=O,D.done=!1,D}return D.done=!0,D}},t.values=re,ie.prototype={constructor:ie,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(G),!_)for(var w in this)w.charAt(0)==="t"&&n.call(this,w)&&!isNaN(+w.slice(1))&&(this[w]=void 0)},stop:function(){this.done=!0;var _=this.tryEntries[0].completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var w=this;function N(ue,fe){return M.type="throw",M.arg=_,w.next=ue,fe&&(w.method="next",w.arg=void 0),!!fe}for(var D=this.tryEntries.length-1;D>=0;--D){var O=this.tryEntries[D],M=O.completion;if(O.tryLoc==="root")return N("end");if(O.tryLoc<=this.prev){var B=n.call(O,"catchLoc"),H=n.call(O,"finallyLoc");if(B&&H){if(this.prev<O.catchLoc)return N(O.catchLoc,!0);if(this.prev<O.finallyLoc)return N(O.finallyLoc)}else if(B){if(this.prev<O.catchLoc)return N(O.catchLoc,!0)}else{if(!H)throw new Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return N(O.finallyLoc)}}}},abrupt:function(_,w){for(var N=this.tryEntries.length-1;N>=0;--N){var D=this.tryEntries[N];if(D.tryLoc<=this.prev&&n.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var O=D;break}}O&&(_==="break"||_==="continue")&&O.tryLoc<=w&&w<=O.finallyLoc&&(O=null);var M=O?O.completion:{};return M.type=_,M.arg=w,O?(this.method="next",this.next=O.finallyLoc,p):this.complete(M)},complete:function(_,w){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&w&&(this.next=w),p},finish:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.finallyLoc===_)return this.complete(N.completion,N.afterLoc),G(N),p}},catch:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.tryLoc===_){var D=N.completion;if(D.type==="throw"){var O=D.arg;G(N)}return O}}throw new Error("illegal catch attempt")},delegateYield:function(_,w,N){return this.delegate={iterator:re(_),resultName:w,nextLoc:N},this.method==="next"&&(this.arg=void 0),p}},t}function Ove(t){var e=t.payload;return Ui().mark(function n(){var r,i,s,o,u;return Ui().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,Gy(_u.firebase.registerUser,e);case 2:if(r=h.sent,!(!r.error&&r.user)){h.next=8;break}return u={avatarUrl:(i=r.user.photoURL)!==null&&i!==void 0?i:"",email:(s=r.user.email)!==null&&s!==void 0?s:"",nickname:(o=r.user.displayName)!==null&&o!==void 0?o:"",uid:r.user.uid},h.next=7,da(He.actions.registerUserSuccess(u));case 7:$c.navigate(En.Root);case 8:if(!r.error){h.next=11;break}return h.next=11,da(He.actions.registerUserError(r.error));case 11:case"end":return h.stop()}},n)})()}function Nve(t){var e=t.payload;return Ui().mark(function n(){var r,i,s,o,u;return Ui().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,Gy(_u.firebase.loginUser,e);case 2:if(r=h.sent,!(!r.error&&r.user)){h.next=8;break}return u={avatarUrl:(i=r.user.photoURL)!==null&&i!==void 0?i:"",email:(s=r.user.email)!==null&&s!==void 0?s:"",nickname:(o=r.user.displayName)!==null&&o!==void 0?o:"",uid:r.user.uid},h.next=7,da(He.actions.loginUserSuccess(u));case 7:$c.navigate(En.Root);case 8:if(!r.error){h.next=11;break}return h.next=11,da(He.actions.loginUserError(r.error));case 11:case"end":return h.stop()}},n)})()}function xve(t){var e=t.payload;return Ui().mark(function n(){var r;return Ui().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Gy(_u.firebase.searchUser,e);case 2:if(r=s.sent,!(!r.error&&r.users)){s.next=6;break}return s.next=6,da(He.actions.searchUserSuccess(r.users));case 6:if(!r.error){s.next=9;break}return s.next=9,da(He.actions.searchUserError(r.error));case 9:case"end":return s.stop()}},n)})()}function Dve(t){var e=t.payload;return Ui().mark(function n(){var r;return Ui().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Gy(_u.firebase.getUserChat,e);case 2:if(r=s.sent,!(!r.error&&r.chat)){s.next=7;break}return s.next=6,da(He.actions.getInterlocutorSuccess(r.chat));case 6:$c.navigate("".concat(r.chat.chatUid));case 7:if(!r.error){s.next=10;break}return s.next=10,da(He.actions.getInterlocutorError(r.error));case 10:case"end":return s.stop()}},n)})()}function lW(){return Ui().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xg(He.actions.registerUser,Ove);case 2:return e.next=4,xg(He.actions.loginUser,Nve);case 4:return e.next=6,xg(He.actions.searchUser,xve);case 6:return e.next=8,xg(He.actions.getInterlocutor,Dve);case 8:case"end":return e.stop()}},bve)}function bT(t){return bT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bT(t)}function FA(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */FA=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(I,_,w){I[_]=w.value},i=typeof Symbol=="function"?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(I,_,w){return Object.defineProperty(I,_,{value:w,enumerable:!0,configurable:!0,writable:!0}),I[_]}try{l({},"")}catch{l=function(w,N,D){return w[N]=D}}function h(I,_,w,N){var D=_&&_.prototype instanceof g?_:g,O=Object.create(D.prototype),M=new ie(N||[]);return r(O,"_invoke",{value:F(I,w,M)}),O}function f(I,_,w){try{return{type:"normal",arg:I.call(_,w)}}catch(N){return{type:"throw",arg:N}}}t.wrap=h;var p={};function g(){}function v(){}function E(){}var C={};l(C,s,function(){return this});var R=Object.getPrototypeOf,S=R&&R(R(re([])));S&&S!==e&&n.call(S,s)&&(C=S);var T=E.prototype=g.prototype=Object.create(C);function k(I){["next","throw","return"].forEach(function(_){l(I,_,function(w){return this._invoke(_,w)})})}function b(I,_){function w(D,O,M,B){var H=f(I[D],I,O);if(H.type!=="throw"){var ue=H.arg,fe=ue.value;return fe&&bT(fe)=="object"&&n.call(fe,"__await")?_.resolve(fe.__await).then(function(Se){w("next",Se,M,B)},function(Se){w("throw",Se,M,B)}):_.resolve(fe).then(function(Se){ue.value=Se,M(ue)},function(Se){return w("throw",Se,M,B)})}B(H.arg)}var N;r(this,"_invoke",{value:function(O,M){function B(){return new _(function(H,ue){w(O,M,H,ue)})}return N=N?N.then(B,B):B()}})}function F(I,_,w){var N="suspendedStart";return function(D,O){if(N==="executing")throw new Error("Generator is already running");if(N==="completed"){if(D==="throw")throw O;return Ne()}for(w.method=D,w.arg=O;;){var M=w.delegate;if(M){var B=V(M,w);if(B){if(B===p)continue;return B}}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(N==="suspendedStart")throw N="completed",w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);N="executing";var H=f(I,_,w);if(H.type==="normal"){if(N=w.done?"completed":"suspendedYield",H.arg===p)continue;return{value:H.arg,done:w.done}}H.type==="throw"&&(N="completed",w.method="throw",w.arg=H.arg)}}}function V(I,_){var w=_.method,N=I.iterator[w];if(N===void 0)return _.delegate=null,w==="throw"&&I.iterator.return&&(_.method="return",_.arg=void 0,V(I,_),_.method==="throw")||w!=="return"&&(_.method="throw",_.arg=new TypeError("The iterator does not provide a '"+w+"' method")),p;var D=f(N,I.iterator,_.arg);if(D.type==="throw")return _.method="throw",_.arg=D.arg,_.delegate=null,p;var O=D.arg;return O?O.done?(_[I.resultName]=O.value,_.next=I.nextLoc,_.method!=="return"&&(_.method="next",_.arg=void 0),_.delegate=null,p):O:(_.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,p)}function W(I){var _={tryLoc:I[0]};1 in I&&(_.catchLoc=I[1]),2 in I&&(_.finallyLoc=I[2],_.afterLoc=I[3]),this.tryEntries.push(_)}function G(I){var _=I.completion||{};_.type="normal",delete _.arg,I.completion=_}function ie(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(W,this),this.reset(!0)}function re(I){if(I){var _=I[s];if(_)return _.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var w=-1,N=function D(){for(;++w<I.length;)if(n.call(I,w))return D.value=I[w],D.done=!1,D;return D.value=void 0,D.done=!0,D};return N.next=N}}return{next:Ne}}function Ne(){return{value:void 0,done:!0}}return v.prototype=E,r(T,"constructor",{value:E,configurable:!0}),r(E,"constructor",{value:v,configurable:!0}),v.displayName=l(E,u,"GeneratorFunction"),t.isGeneratorFunction=function(I){var _=typeof I=="function"&&I.constructor;return!!_&&(_===v||(_.displayName||_.name)==="GeneratorFunction")},t.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,E):(I.__proto__=E,l(I,u,"GeneratorFunction")),I.prototype=Object.create(T),I},t.awrap=function(I){return{__await:I}},k(b.prototype),l(b.prototype,o,function(){return this}),t.AsyncIterator=b,t.async=function(I,_,w,N,D){D===void 0&&(D=Promise);var O=new b(h(I,_,w,N),D);return t.isGeneratorFunction(_)?O:O.next().then(function(M){return M.done?M.value:O.next()})},k(T),l(T,u,"Generator"),l(T,s,function(){return this}),l(T,"toString",function(){return"[object Generator]"}),t.keys=function(I){var _=Object(I),w=[];for(var N in _)w.push(N);return w.reverse(),function D(){for(;w.length;){var O=w.pop();if(O in _)return D.value=O,D.done=!1,D}return D.done=!0,D}},t.values=re,ie.prototype={constructor:ie,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(G),!_)for(var w in this)w.charAt(0)==="t"&&n.call(this,w)&&!isNaN(+w.slice(1))&&(this[w]=void 0)},stop:function(){this.done=!0;var _=this.tryEntries[0].completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var w=this;function N(ue,fe){return M.type="throw",M.arg=_,w.next=ue,fe&&(w.method="next",w.arg=void 0),!!fe}for(var D=this.tryEntries.length-1;D>=0;--D){var O=this.tryEntries[D],M=O.completion;if(O.tryLoc==="root")return N("end");if(O.tryLoc<=this.prev){var B=n.call(O,"catchLoc"),H=n.call(O,"finallyLoc");if(B&&H){if(this.prev<O.catchLoc)return N(O.catchLoc,!0);if(this.prev<O.finallyLoc)return N(O.finallyLoc)}else if(B){if(this.prev<O.catchLoc)return N(O.catchLoc,!0)}else{if(!H)throw new Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return N(O.finallyLoc)}}}},abrupt:function(_,w){for(var N=this.tryEntries.length-1;N>=0;--N){var D=this.tryEntries[N];if(D.tryLoc<=this.prev&&n.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var O=D;break}}O&&(_==="break"||_==="continue")&&O.tryLoc<=w&&w<=O.finallyLoc&&(O=null);var M=O?O.completion:{};return M.type=_,M.arg=w,O?(this.method="next",this.next=O.finallyLoc,p):this.complete(M)},complete:function(_,w){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&w&&(this.next=w),p},finish:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.finallyLoc===_)return this.complete(N.completion,N.afterLoc),G(N),p}},catch:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.tryLoc===_){var D=N.completion;if(D.type==="throw"){var O=D.arg;G(N)}return O}}throw new Error("illegal catch attempt")},delegateYield:function(_,w,N){return this.delegate={iterator:re(_),resultName:w,nextLoc:N},this.method==="next"&&(this.arg=void 0),p}},t}var Lve=FA().mark(cW);function cW(){return FA().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H_e([lW()]);case 2:case"end":return e.stop()}},Lve)}var Mve=fU({app:zI.reducer,user:He.reducer,cache:_U.reducer}),Uve={key:"root",storage:P6},Fve=t_e(Uve,Mve),hW=Rve(),$ve=[dU(hW)],fW=PQ({reducer:Fve,enhancers:$ve,middleware:function(e){return e({thunk:!1,serializableCheck:!1})}});hW.run(cW);var Vve=a_e(fW);const Wve={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class z_{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||Wve,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new z_(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new z_(this.logger,e)}}var Zi=new z_;class Qy{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]=this.observers[r]||[],this.observers[r].push(n)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e]=this.observers[e].filter(r=>r!==n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[e]&&[].concat(this.observers[e]).forEach(o=>{o(...r)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(o=>{o.apply(o,[e,...r])})}}function Ah(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function wL(t){return t==null?"":""+t}function jve(t,e,n){t.forEach(r=>{e[r]&&(n[r]=e[r])})}function $A(t,e,n){function r(o){return o&&o.indexOf("###")>-1?o.replace(/###/g,"."):o}function i(){return!t||typeof t=="string"}const s=typeof e!="string"?[].concat(e):e.split(".");for(;s.length>1;){if(i())return{};const o=r(s.shift());!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={}}return i()?{}:{obj:t,k:r(s.shift())}}function EL(t,e,n){const{obj:r,k:i}=$A(t,e,Object);r[i]=n}function Bve(t,e,n,r){const{obj:i,k:s}=$A(t,e,Object);i[s]=i[s]||[],r&&(i[s]=i[s].concat(n)),r||i[s].push(n)}function H_(t,e){const{obj:n,k:r}=$A(t,e);if(n)return n[r]}function zve(t,e,n){const r=H_(t,n);return r!==void 0?r:H_(e,n)}function dW(t,e,n){for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):dW(t[r],e[r],n):t[r]=e[r]);return t}function rl(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Hve={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function qve(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,e=>Hve[e]):t}const Gve=[" ",",","?","!",";"];function Yve(t,e,n){e=e||"",n=n||"";const r=Gve.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const i=new RegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!i.test(t);if(!s){const o=t.indexOf(n);o>0&&!i.test(t.substring(0,o))&&(s=!0)}return s}function q_(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(n);let i=t;for(let s=0;s<r.length;++s){if(!i||typeof i[r[s]]=="string"&&s+1<r.length)return;if(i[r[s]]===void 0){let o=2,u=r.slice(s,s+o).join(n),l=i[u];for(;l===void 0&&r.length>s+o;)o++,u=r.slice(s,s+o).join(n),l=i[u];if(l===void 0)return;if(l===null)return null;if(e.endsWith(u)){if(typeof l=="string")return l;if(u&&typeof l[u]=="string")return l[u]}const h=r.slice(s+o).join(n);return h?q_(l,h,n):void 0}i=i[r[s]]}return i}function G_(t){return t&&t.indexOf("_")>0?t.replace("_","-"):t}class SL extends Qy{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let u=[e,n];r&&typeof r!="string"&&(u=u.concat(r)),r&&typeof r=="string"&&(u=u.concat(s?r.split(s):r)),e.indexOf(".")>-1&&(u=e.split("."));const l=H_(this.data,u);return l||!o||typeof r!="string"?l:q_(this.data&&this.data[e]&&this.data[e][n],r,s)}addResource(e,n,r,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let u=[e,n];r&&(u=u.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(u=e.split("."),i=n,n=u[1]),this.addNamespaces(n),EL(this.data,u,i),s.silent||this.emit("added",e,n,r,i)}addResources(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in r)(typeof r[s]=="string"||Object.prototype.toString.apply(r[s])==="[object Array]")&&this.addResource(e,n,s,r[s],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},u=[e,n];e.indexOf(".")>-1&&(u=e.split("."),i=r,r=n,n=u[1]),this.addNamespaces(n);let l=H_(this.data,u)||{};i?dW(l,r,s):l={...l,...r},EL(this.data,u,l),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var pW={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(s=>{this.processors[s]&&(e=this.processors[s].process(e,n,r,i))}),e}};const TL={};class Y_ extends Qy{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),jve(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Zi.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,n);return r&&r.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,u=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Yve(e,r,i);if(o&&!u){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:s};const h=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(h[0])>-1)&&(s=h.shift()),e=h.join(i)}return typeof s=="string"&&(s=[s]),{key:e,namespaces:s}}translate(e,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:u}=this.extractFromKey(e[e.length-1],n),l=u[u.length-1],h=n.lng||this.language,f=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h&&h.toLowerCase()==="cimode"){if(f){const b=n.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${b}${o}`,usedKey:o,exactUsedKey:o,usedLng:h,usedNS:l}:`${l}${b}${o}`}return i?{res:o,usedKey:o,exactUsedKey:o,usedLng:h,usedNS:l}:o}const p=this.resolve(e,n);let g=p&&p.res;const v=p&&p.usedKey||o,E=p&&p.exactUsedKey||o,C=Object.prototype.toString.apply(g),R=["[object Number]","[object Function]","[object RegExp]"],S=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,T=!this.i18nFormat||this.i18nFormat.handleAsObject;if(T&&g&&(typeof g!="string"&&typeof g!="boolean"&&typeof g!="number")&&R.indexOf(C)<0&&!(typeof S=="string"&&C==="[object Array]")){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const b=this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,g,{...n,ns:u}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(p.res=b,p):b}if(s){const b=C==="[object Array]",F=b?[]:{},V=b?E:v;for(const W in g)if(Object.prototype.hasOwnProperty.call(g,W)){const G=`${V}${s}${W}`;F[W]=this.translate(G,{...n,joinArrays:!1,ns:u}),F[W]===G&&(F[W]=g[W])}g=F}}else if(T&&typeof S=="string"&&C==="[object Array]")g=g.join(S),g&&(g=this.extendTranslation(g,e,n,r));else{let b=!1,F=!1;const V=n.count!==void 0&&typeof n.count!="string",W=Y_.hasDefaultValue(n),G=V?this.pluralResolver.getSuffix(h,n.count,n):"",ie=n.ordinal&&V?this.pluralResolver.getSuffix(h,n.count,{ordinal:!1}):"",re=n[`defaultValue${G}`]||n[`defaultValue${ie}`]||n.defaultValue;!this.isValidLookup(g)&&W&&(b=!0,g=re),this.isValidLookup(g)||(F=!0,g=o);const I=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&F?void 0:g,_=W&&re!==g&&this.options.updateMissing;if(F||b||_){if(this.logger.log(_?"updateKey":"missingKey",h,l,o,_?re:g),s){const O=this.resolve(o,{...n,keySeparator:!1});O&&O.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let w=[];const N=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&N&&N[0])for(let O=0;O<N.length;O++)w.push(N[O]);else this.options.saveMissingTo==="all"?w=this.languageUtils.toResolveHierarchy(n.lng||this.language):w.push(n.lng||this.language);const D=(O,M,B)=>{const H=W&&B!==g?B:I;this.options.missingKeyHandler?this.options.missingKeyHandler(O,l,M,H,_,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(O,l,M,H,_,n),this.emit("missingKey",O,l,M,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&V?w.forEach(O=>{this.pluralResolver.getSuffixes(O,n).forEach(M=>{D([O],o+M,n[`defaultValue${M}`]||re)})}):D(w,o,re))}g=this.extendTranslation(g,e,n,p,r),F&&g===o&&this.options.appendNamespaceToMissingKey&&(g=`${l}:${o}`),(F||b)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${o}`:o,b?g:void 0):g=this.options.parseMissingKeyHandler(g))}return i?(p.res=g,p):g}extendTranslation(e,n,r,i,s){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const h=typeof e=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(h){const g=e.match(this.interpolator.nestingRegexp);f=g&&g.length}let p=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,r.lng||this.language,r),h){const g=e.match(this.interpolator.nestingRegexp),v=g&&g.length;f<v&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var g=arguments.length,v=new Array(g),E=0;E<g;E++)v[E]=arguments[E];return s&&s[0]===v[0]&&!r.context?(o.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${n[0]}`),null):o.translate(...v,n)},r)),r.interpolation&&this.interpolator.reset()}const u=r.postProcess||this.options.postProcess,l=typeof u=="string"?[u]:u;return e!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(e=pW.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:i,...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,s,o,u;return typeof e=="string"&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const h=this.extractFromKey(l,n),f=h.key;i=f;let p=h.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));const g=n.count!==void 0&&typeof n.count!="string",v=g&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),E=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",C=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);p.forEach(R=>{this.isValidLookup(r)||(u=R,!TL[`${C[0]}-${R}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(u)&&(TL[`${C[0]}-${R}`]=!0,this.logger.warn(`key "${i}" for languages "${C.join(", ")}" won't get resolved as namespace "${u}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),C.forEach(S=>{if(this.isValidLookup(r))return;o=S;const T=[f];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(T,f,S,R,n);else{let b;g&&(b=this.pluralResolver.getSuffix(S,n.count,n));const F=`${this.options.pluralSeparator}zero`,V=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(g&&(T.push(f+b),n.ordinal&&b.indexOf(V)===0&&T.push(f+b.replace(V,this.options.pluralSeparator)),v&&T.push(f+F)),E){const W=`${f}${this.options.contextSeparator}${n.context}`;T.push(W),g&&(T.push(W+b),n.ordinal&&b.indexOf(V)===0&&T.push(W+b.replace(V,this.options.pluralSeparator)),v&&T.push(W+F))}}let k;for(;k=T.pop();)this.isValidLookup(r)||(s=k,r=this.getResource(S,R,k,n))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:u}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}function n1(t){return t.charAt(0).toUpperCase()+t.slice(1)}class IL{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Zi.create("languageUtils")}getScriptPartFromCode(e){if(e=G_(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=G_(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=n1(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=n1(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=n1(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(s=>{if(s===i)return s;if(!(s.indexOf("-")<0&&i.indexOf("-")<0)&&s.indexOf(i)===0)return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),typeof e=="string"&&(e=[e]),Object.prototype.toString.apply(e)==="[object Array]")return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),i=[],s=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):typeof e=="string"&&s(this.formatLanguageCode(e)),r.forEach(o=>{i.indexOf(o)<0&&s(this.formatLanguageCode(o))}),i}}let Kve=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Qve={1:function(t){return Number(t>1)},2:function(t){return Number(t!=1)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(t==1?0:t>=2&&t<=4?1:2)},7:function(t){return Number(t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(t==1?0:t==2?1:t!=8&&t!=11?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(t==1?0:t==2?1:t<7?2:t<11?3:4)},11:function(t){return Number(t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(t!==0)},14:function(t){return Number(t==1?0:t==2?1:t==3?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:t!==0?1:2)},17:function(t){return Number(t==1||t%10==1&&t%100!=11?0:1)},18:function(t){return Number(t==0?0:t==1?1:2)},19:function(t){return Number(t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(t==1?0:t==0||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3)}};const Xve=["v1","v2","v3"],Jve=["v4"],CL={zero:0,one:1,two:2,few:3,many:4,other:5};function Zve(){const t={};return Kve.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:Qve[e.fc]}})}),t}class eye{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=Zi.create("pluralResolver"),(!this.options.compatibilityJSON||Jve.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Zve()}addRule(e,n){this.rules[e]=n}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(G_(e),{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,s)=>CL[i]-CL[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(e,i,n)):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:this.getSuffixRetroCompatible(i,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const r=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let i=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const s=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?s():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!Xve.includes(this.options.compatibilityJSON)}}function RL(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=zve(t,e,n);return!s&&i&&typeof n=="string"&&(s=q_(t,n,r),s===void 0&&(s=q_(e,n,r))),s}class tye{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Zi.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const n=e.interpolation;this.escape=n.escape!==void 0?n.escape:qve,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?rl(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?rl(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?rl(n.nestingPrefix):n.nestingPrefixEscaped||rl("$t("),this.nestingSuffix=n.nestingSuffix?rl(n.nestingSuffix):n.nestingSuffixEscaped||rl(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=`${this.prefix}(.+?)${this.suffix}`;this.regexp=new RegExp(e,"g");const n=`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;this.regexpUnescape=new RegExp(n,"g");const r=`${this.nestingPrefix}(.+?)${this.nestingSuffix}`;this.nestingRegexp=new RegExp(r,"g")}interpolate(e,n,r,i){let s,o,u;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function h(E){return E.replace(/\$/g,"$$$$")}const f=E=>{if(E.indexOf(this.formatSeparator)<0){const T=RL(n,l,E,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(T,void 0,r,{...i,...n,interpolationkey:E}):T}const C=E.split(this.formatSeparator),R=C.shift().trim(),S=C.join(this.formatSeparator).trim();return this.format(RL(n,l,R,this.options.keySeparator,this.options.ignoreJSONStructure),S,r,{...i,...n,interpolationkey:R})};this.resetRegExp();const p=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,g=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:E=>h(E)},{regex:this.regexp,safeValue:E=>this.escapeValue?h(this.escape(E)):h(E)}].forEach(E=>{for(u=0;s=E.regex.exec(e);){const C=s[1].trim();if(o=f(C),o===void 0)if(typeof p=="function"){const S=p(e,s,i);o=typeof S=="string"?S:""}else if(i&&Object.prototype.hasOwnProperty.call(i,C))o="";else if(g){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${C} for interpolating ${e}`),o="";else typeof o!="string"&&!this.useRawValueToEscape&&(o=wL(o));const R=E.safeValue(o);if(e=e.replace(s[0],R),g?(E.regex.lastIndex+=o.length,E.regex.lastIndex-=s[0].length):E.regex.lastIndex=0,u++,u>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,s,o;function u(l,h){const f=this.nestingOptionsSeparator;if(l.indexOf(f)<0)return l;const p=l.split(new RegExp(`${f}[ ]*{`));let g=`{${p[1]}`;l=p[0],g=this.interpolate(g,o);const v=g.match(/'/g),E=g.match(/"/g);(v&&v.length%2===0&&!E||E.length%2!==0)&&(g=g.replace(/'/g,'"'));try{o=JSON.parse(g),h&&(o={...h,...o})}catch(C){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,C),`${l}${f}${g}`}return delete o.defaultValue,l}for(;i=this.nestingRegexp.exec(e);){let l=[];o={...r},o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let h=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const f=i[1].split(this.formatSeparator).map(p=>p.trim());i[1]=f.shift(),l=f,h=!0}if(s=n(u.call(this,i[1].trim(),o),o),s&&i[0]===e&&typeof s!="string")return s;typeof s!="string"&&(s=wL(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),h&&(s=l.reduce((f,p)=>this.format(f,p,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}function nye(t){let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(o=>{if(!o)return;const[u,...l]=o.split(":"),h=l.join(":").trim().replace(/^'+|'+$/g,"");n[u.trim()]||(n[u.trim()]=h),h==="false"&&(n[u.trim()]=!1),h==="true"&&(n[u.trim()]=!0),isNaN(h)||(n[u.trim()]=parseInt(h,10))})}return{formatName:e,formatOptions:n}}function il(t){const e={};return function(r,i,s){const o=i+JSON.stringify(s);let u=e[o];return u||(u=t(G_(i),s),e[o]=u),u(r)}}class rye{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Zi.create("formatter"),this.options=e,this.formats={number:il((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return s=>i.format(s)}),currency:il((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return s=>i.format(s)}),datetime:il((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return s=>i.format(s)}),relativetime:il((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return s=>i.format(s,r.range||"day")}),list:il((n,r)=>{const i=new Intl.ListFormat(n,{...r});return s=>i.format(s)})},this.init(e)}init(e){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=il(n)}format(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return n.split(this.formatSeparator).reduce((u,l)=>{const{formatName:h,formatOptions:f}=nye(l);if(this.formats[h]){let p=u;try{const g=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},v=g.locale||g.lng||i.locale||i.lng||r;p=this.formats[h](u,v,{...f,...i,...g})}catch(g){this.logger.warn(g)}return p}else this.logger.warn(`there was no format function for ${h}`);return u},e)}}function iye(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}class sye extends Qy{constructor(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Zi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(e,n,r,i){const s={},o={},u={},l={};return e.forEach(h=>{let f=!0;n.forEach(p=>{const g=`${h}|${p}`;!r.reload&&this.store.hasResourceBundle(h,p)?this.state[g]=2:this.state[g]<0||(this.state[g]===1?o[g]===void 0&&(o[g]=!0):(this.state[g]=1,f=!1,o[g]===void 0&&(o[g]=!0),s[g]===void 0&&(s[g]=!0),l[p]===void 0&&(l[p]=!0)))}),f||(u[h]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(u),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const i=e.split("|"),s=i[0],o=i[1];n&&this.emit("failedLoading",s,o,n),r&&this.store.addResourceBundle(s,o,r),this.state[e]=n?-1:2;const u={};this.queue.forEach(l=>{Bve(l.loaded,[s],o),iye(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(h=>{u[h]||(u[h]={});const f=l.loaded[h];f.length&&f.forEach(p=>{u[h][p]===void 0&&(u[h][p]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:s,callback:o});return}this.readingCalls++;const u=(h,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(h&&f&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,s*2,o)},s);return}o(h,f)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const h=l(e,n);h&&typeof h.then=="function"?h.then(f=>u(null,f)).catch(u):u(null,h)}catch(h){u(h)}return}return l(e,n,u)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof n=="string"&&(n=[n]);const s=this.queueLoad(e,n,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(o,u)=>{o&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,o),!o&&u&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,u),this.loaded(e,o,u)})}saveMissing(e,n,r,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},u=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:s},h=this.backend.create.bind(this.backend);if(h.length<6)try{let f;h.length===5?f=h(e,n,r,i,l):f=h(e,n,r,i),f&&typeof f.then=="function"?f.then(p=>u(null,p)).catch(u):u(null,f)}catch(f){u(f)}else h(e,n,r,i,u,l)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}function AL(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let n={};if(typeof e[1]=="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(i=>{n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:(t,e,n,r)=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function PL(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function Dg(){}function oye(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}class pd extends Qy{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=PL(e),this.services={},this.logger=Zi,this.modules={external:[]},oye(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=AL();this.options={...i,...this.options,...PL(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);function s(f){return f?typeof f=="function"?new f:f:null}if(!this.options.isClone){this.modules.logger?Zi.init(s(this.modules.logger),this.options):Zi.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:typeof Intl<"u"&&(f=rye);const p=new IL(this.options);this.store=new SL(this.options.resources,this.options);const g=this.services;g.logger=Zi,g.resourceStore=this.store,g.languageUtils=p,g.pluralResolver=new eye(p,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),f&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(g.formatter=s(f),g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new tye(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new sye(s(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",function(v){for(var E=arguments.length,C=new Array(E>1?E-1:0),R=1;R<E;R++)C[R-1]=arguments[R];e.emit(v,...C)}),this.modules.languageDetector&&(g.languageDetector=s(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=s(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new Y_(this.services,this.options),this.translator.on("*",function(v){for(var E=arguments.length,C=new Array(E>1?E-1:0),R=1;R<E;R++)C[R-1]=arguments[R];e.emit(v,...C)}),this.modules.external.forEach(v=>{v.init&&v.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Dg),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=function(){return e.store[f](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=function(){return e.store[f](...arguments),e}});const l=Ah(),h=()=>{const f=(p,g)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(g),r(p,g)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initImmediate?h():setTimeout(h,0),l}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Dg;const i=typeof e=="string"?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode")return r();const s=[],o=u=>{if(!u)return;this.services.languageUtils.toResolveHierarchy(u).forEach(h=>{s.indexOf(h)<0&&s.push(h)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(u=>o(u)),this.services.backendConnector.load(s,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(u)})}else r(null)}reloadResources(e,n,r){const i=Ah();return e||(e=this.languages),n||(n=this.options.ns),r||(r=Dg),this.services.backendConnector.reload(e,n,s=>{i.resolve(),r(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&pW.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const i=Ah();this.emit("languageChanging",e);const s=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,h)=>{h?(s(h),this.translator.changeLanguage(h),this.isLanguageChangingTo=void 0,this.emit("languageChanged",h),this.logger.log("languageChanged",h)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},u=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const h=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);h&&(this.language||s(h),this.translator.language||this.translator.changeLanguage(h),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(h)),this.loadResources(h,f=>{o(f,h)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),i}getFixedT(e,n,r){var i=this;const s=function(o,u){let l;if(typeof u!="object"){for(var h=arguments.length,f=new Array(h>2?h-2:0),p=2;p<h;p++)f[p-2]=arguments[p];l=i.options.overloadTranslationOptionHandler([o,u].concat(f))}else l={...u};l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix=l.keyPrefix||r||s.keyPrefix;const g=i.options.keySeparator||".";let v;return l.keyPrefix&&Array.isArray(o)?v=o.map(E=>`${l.keyPrefix}${g}${E}`):v=l.keyPrefix?`${l.keyPrefix}${g}${o}`:o,i.t(v,l)};return typeof e=="string"?s.lng=e:s.lngs=e,s.ns=n,s.keyPrefix=r,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(u,l)=>{const h=this.services.backendConnector.state[`${u}|${l}`];return h===-1||h===2};if(n.precheck){const u=n.precheck(this,o);if(u!==void 0)return u}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!i||o(s,e)))}loadNamespaces(e,n){const r=Ah();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Ah();typeof e=="string"&&(e=[e]);const i=this.options.preload||[],s=e.filter(o=>i.indexOf(o)<0);return s.length?(this.options.preload=i.concat(s),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new IL(AL());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new pd(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Dg;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new pd(i);return(e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(u=>{s[u]=this[u]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r&&(s.store=new SL(this.store.data,i),s.services.resourceStore=s.store),s.translator=new Y_(s.services,i),s.translator.on("*",function(u){for(var l=arguments.length,h=new Array(l>1?l-1:0),f=1;f<l;f++)h[f-1]=arguments[f];s.emit(u,...h)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Rn=pd.createInstance();Rn.createInstance=pd.createInstance;Rn.createInstance;Rn.dir;Rn.init;Rn.loadResources;Rn.reloadResources;Rn.use;Rn.changeLanguage;Rn.getFixedT;Rn.t;Rn.exists;Rn.setDefaultNamespace;Rn.hasLoadedNamespace;Rn.loadNamespaces;Rn.loadLanguages;var aye={auth:{email_already_in_use:"This email address is already in use!",user_not_found:"User is not found!",wrong_password:"Wrong password!",weak_password:"Password should be at least 6 characters"}};Rn.use(V7).init({resources:{en:{translation:aye}},lng:"en"});var uye=function(){return Z(LT.StrictMode,{children:Z(B7,{i18n:Rn,children:Z(xY,{store:fW,children:Z(XM,{persistor:Vve,children:Z(Vme,{})})})})})};i1.createRoot(document.getElementById("root")).render(Z(uye,{}))});export default lye();
