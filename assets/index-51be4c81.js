var J8=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var lye=J8((_ye,mm)=>{function Z8(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function eq(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _m={},tq={get exports(){return _m},set exports(t){_m=t}},K_={},X={},nq={get exports(){return X},set exports(t){X=t}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gd=Symbol.for("react.element"),rq=Symbol.for("react.portal"),iq=Symbol.for("react.fragment"),sq=Symbol.for("react.strict_mode"),oq=Symbol.for("react.profiler"),aq=Symbol.for("react.provider"),uq=Symbol.for("react.context"),lq=Symbol.for("react.forward_ref"),cq=Symbol.for("react.suspense"),hq=Symbol.for("react.memo"),fq=Symbol.for("react.lazy"),vb=Symbol.iterator;function dq(t){return t===null||typeof t!="object"?null:(t=vb&&t[vb]||t["@@iterator"],typeof t=="function"?t:null)}var PL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kL=Object.assign,bL={};function _c(t,e,n){this.props=t,this.context=e,this.refs=bL,this.updater=n||PL}_c.prototype.isReactComponent={};_c.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_c.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function OL(){}OL.prototype=_c.prototype;function bT(t,e,n){this.props=t,this.context=e,this.refs=bL,this.updater=n||PL}var OT=bT.prototype=new OL;OT.constructor=bT;kL(OT,_c.prototype);OT.isPureReactComponent=!0;var yb=Array.isArray,NL=Object.prototype.hasOwnProperty,NT={current:null},xL={key:!0,ref:!0,__self:!0,__source:!0};function DL(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)NL.call(e,r)&&!xL.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var l=Array(u),h=0;h<u;h++)l[h]=arguments[h+2];i.children=l}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:gd,type:t,key:s,ref:o,props:i,_owner:NT.current}}function pq(t,e){return{$$typeof:gd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xT(t){return typeof t=="object"&&t!==null&&t.$$typeof===gd}function gq(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var wb=/\/+/g;function vw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gq(""+t.key):e.toString(36)}function Mg(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case gd:case rq:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+vw(o,0):r,yb(i)?(n="",t!=null&&(n=t.replace(wb,"$&/")+"/"),Mg(i,e,n,"",function(h){return h})):i!=null&&(xT(i)&&(i=pq(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(wb,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",yb(t))for(var u=0;u<t.length;u++){s=t[u];var l=r+vw(s,u);o+=Mg(s,e,n,l,i)}else if(l=dq(t),typeof l=="function")for(t=l.call(t),u=0;!(s=t.next()).done;)s=s.value,l=r+vw(s,u++),o+=Mg(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Yp(t,e,n){if(t==null)return t;var r=[],i=0;return Mg(t,r,"","",function(s){return e.call(n,s,i++)}),r}function mq(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var or={current:null},Ug={transition:null},_q={ReactCurrentDispatcher:or,ReactCurrentBatchConfig:Ug,ReactCurrentOwner:NT};je.Children={map:Yp,forEach:function(t,e,n){Yp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yp(t,function(){e++}),e},toArray:function(t){return Yp(t,function(e){return e})||[]},only:function(t){if(!xT(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=_c;je.Fragment=iq;je.Profiler=oq;je.PureComponent=bT;je.StrictMode=sq;je.Suspense=cq;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_q;je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=kL({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=NT.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(l in e)NL.call(e,l)&&!xL.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&u!==void 0?u[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){u=Array(l);for(var h=0;h<l;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:gd,type:t.type,key:i,ref:s,props:r,_owner:o}};je.createContext=function(t){return t={$$typeof:uq,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:aq,_context:t},t.Consumer=t};je.createElement=DL;je.createFactory=function(t){var e=DL.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:lq,render:t}};je.isValidElement=xT;je.lazy=function(t){return{$$typeof:fq,_payload:{_status:-1,_result:t},_init:mq}};je.memo=function(t,e){return{$$typeof:hq,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=Ug.transition;Ug.transition={};try{t()}finally{Ug.transition=e}};je.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};je.useCallback=function(t,e){return or.current.useCallback(t,e)};je.useContext=function(t){return or.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return or.current.useDeferredValue(t)};je.useEffect=function(t,e){return or.current.useEffect(t,e)};je.useId=function(){return or.current.useId()};je.useImperativeHandle=function(t,e,n){return or.current.useImperativeHandle(t,e,n)};je.useInsertionEffect=function(t,e){return or.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return or.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return or.current.useMemo(t,e)};je.useReducer=function(t,e,n){return or.current.useReducer(t,e,n)};je.useRef=function(t){return or.current.useRef(t)};je.useState=function(t){return or.current.useState(t)};je.useSyncExternalStore=function(t,e,n){return or.current.useSyncExternalStore(t,e,n)};je.useTransition=function(){return or.current.useTransition()};je.version="18.2.0";(function(t){t.exports=je})(nq);const DT=eq(X),r1=Z8({__proto__:null,default:DT},[X]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vq=X,yq=Symbol.for("react.element"),wq=Symbol.for("react.fragment"),Eq=Object.prototype.hasOwnProperty,Sq=vq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tq={key:!0,ref:!0,__self:!0,__source:!0};function LL(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Eq.call(e,r)&&!Tq.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:yq,type:t,key:s,ref:o,props:i,_owner:Sq.current}}K_.Fragment=wq;K_.jsx=LL;K_.jsxs=LL;(function(t){t.exports=K_})(tq);const te=_m.jsx,Qe=_m.jsxs;var i1={},vm={},Iq={get exports(){return vm},set exports(t){vm=t}},Mr={},s1={},Cq={get exports(){return s1},set exports(t){s1=t}},ML={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,B){var H=M.length;M.push(B);e:for(;0<H;){var ue=H-1>>>1,fe=M[ue];if(0<i(fe,B))M[ue]=B,M[H]=fe,H=ue;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var B=M[0],H=M.pop();if(H!==B){M[0]=H;e:for(var ue=0,fe=M.length,Se=fe>>>1;ue<Se;){var ps=2*(ue+1)-1,Vi=M[ps],Wr=ps+1,Nu=M[Wr];if(0>i(Vi,H))Wr<fe&&0>i(Nu,Vi)?(M[ue]=Nu,M[Wr]=H,ue=Wr):(M[ue]=Vi,M[ps]=H,ue=ps);else if(Wr<fe&&0>i(Nu,H))M[ue]=Nu,M[Wr]=H,ue=Wr;else break e}}return B}function i(M,B){var H=M.sortIndex-B.sortIndex;return H!==0?H:M.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var l=[],h=[],f=1,p=null,g=3,v=!1,E=!1,C=!1,A=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(M){for(var B=n(h);B!==null;){if(B.callback===null)r(h);else if(B.startTime<=M)r(h),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(h)}}function b(M){if(C=!1,k(M),!E)if(n(l)!==null)E=!0,D(F);else{var B=n(h);B!==null&&O(b,B.startTime-M)}}function F(M,B){E=!1,C&&(C=!1,S(G),G=-1),v=!0;var H=g;try{for(k(B),p=n(l);p!==null&&(!(p.expirationTime>B)||M&&!Ne());){var ue=p.callback;if(typeof ue=="function"){p.callback=null,g=p.priorityLevel;var fe=ue(p.expirationTime<=B);B=t.unstable_now(),typeof fe=="function"?p.callback=fe:p===n(l)&&r(l),k(B)}else r(l);p=n(l)}if(p!==null)var Se=!0;else{var ps=n(h);ps!==null&&O(b,ps.startTime-B),Se=!1}return Se}finally{p=null,g=H,v=!1}}var V=!1,W=null,G=-1,ie=5,re=-1;function Ne(){return!(t.unstable_now()-re<ie)}function I(){if(W!==null){var M=t.unstable_now();re=M;var B=!0;try{B=W(!0,M)}finally{B?_():(V=!1,W=null)}}else V=!1}var _;if(typeof T=="function")_=function(){T(I)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,N=w.port2;w.port1.onmessage=I,_=function(){N.postMessage(null)}}else _=function(){A(I,0)};function D(M){W=M,V||(V=!0,_())}function O(M,B){G=A(function(){M(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){E||v||(E=!0,D(F))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(g){case 1:case 2:case 3:var B=3;break;default:B=g}var H=g;g=B;try{return M()}finally{g=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,B){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var H=g;g=M;try{return B()}finally{g=H}},t.unstable_scheduleCallback=function(M,B,H){var ue=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ue+H:ue):H=ue,M){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=H+fe,M={id:f++,callback:B,priorityLevel:M,startTime:H,expirationTime:fe,sortIndex:-1},H>ue?(M.sortIndex=H,e(h,M),n(l)===null&&M===n(h)&&(C?(S(G),G=-1):C=!0,O(b,H-ue))):(M.sortIndex=fe,e(l,M),E||v||(E=!0,D(F))),M},t.unstable_shouldYield=Ne,t.unstable_wrapCallback=function(M){var B=g;return function(){var H=g;g=B;try{return M.apply(this,arguments)}finally{g=H}}}})(ML);(function(t){t.exports=ML})(Cq);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UL=X,xr=s1;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var FL=new Set,pf={};function vu(t,e){ql(t,e),ql(t+"Capture",e)}function ql(t,e){for(pf[t]=e,t=0;t<e.length;t++)FL.add(e[t])}var zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),o1=Object.prototype.hasOwnProperty,Rq=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Eb={},Sb={};function Aq(t){return o1.call(Sb,t)?!0:o1.call(Eb,t)?!1:Rq.test(t)?Sb[t]=!0:(Eb[t]=!0,!1)}function Pq(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kq(t,e,n,r){if(e===null||typeof e>"u"||Pq(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ar(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var In={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){In[t]=new ar(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];In[e]=new ar(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){In[t]=new ar(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){In[t]=new ar(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){In[t]=new ar(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){In[t]=new ar(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){In[t]=new ar(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){In[t]=new ar(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){In[t]=new ar(t,5,!1,t.toLowerCase(),null,!1,!1)});var LT=/[\-:]([a-z])/g;function MT(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(LT,MT);In[e]=new ar(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(LT,MT);In[e]=new ar(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(LT,MT);In[e]=new ar(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){In[t]=new ar(t,1,!1,t.toLowerCase(),null,!1,!1)});In.xlinkHref=new ar("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){In[t]=new ar(t,1,!1,t.toLowerCase(),null,!0,!0)});function UT(t,e,n,r){var i=In.hasOwnProperty(e)?In[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kq(e,n,i,r)&&(n=null),r||i===null?Aq(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ro=UL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kp=Symbol.for("react.element"),al=Symbol.for("react.portal"),ul=Symbol.for("react.fragment"),FT=Symbol.for("react.strict_mode"),a1=Symbol.for("react.profiler"),$L=Symbol.for("react.provider"),VL=Symbol.for("react.context"),$T=Symbol.for("react.forward_ref"),u1=Symbol.for("react.suspense"),l1=Symbol.for("react.suspense_list"),VT=Symbol.for("react.memo"),vo=Symbol.for("react.lazy"),WL=Symbol.for("react.offscreen"),Tb=Symbol.iterator;function ch(t){return t===null||typeof t!="object"?null:(t=Tb&&t[Tb]||t["@@iterator"],typeof t=="function"?t:null)}var Ot=Object.assign,yw;function Ph(t){if(yw===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);yw=e&&e[1]||""}return`
`+yw+t}var ww=!1;function Ew(t,e){if(!t||ww)return"";ww=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,u=s.length-1;1<=o&&0<=u&&i[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==s[u]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=u);break}}}finally{ww=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ph(t):""}function bq(t){switch(t.tag){case 5:return Ph(t.type);case 16:return Ph("Lazy");case 13:return Ph("Suspense");case 19:return Ph("SuspenseList");case 0:case 2:case 15:return t=Ew(t.type,!1),t;case 11:return t=Ew(t.type.render,!1),t;case 1:return t=Ew(t.type,!0),t;default:return""}}function c1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ul:return"Fragment";case al:return"Portal";case a1:return"Profiler";case FT:return"StrictMode";case u1:return"Suspense";case l1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case VL:return(t.displayName||"Context")+".Consumer";case $L:return(t._context.displayName||"Context")+".Provider";case $T:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case VT:return e=t.displayName||null,e!==null?e:c1(t.type)||"Memo";case vo:e=t._payload,t=t._init;try{return c1(t(e))}catch{}}return null}function Oq(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return c1(e);case 8:return e===FT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ta(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jL(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Nq(t){var e=jL(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qp(t){t._valueTracker||(t._valueTracker=Nq(t))}function BL(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=jL(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ym(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function h1(t,e){var n=e.checked;return Ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ib(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ta(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function zL(t,e){e=e.checked,e!=null&&UT(t,"checked",e,!1)}function f1(t,e){zL(t,e);var n=ta(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?d1(t,e.type,n):e.hasOwnProperty("defaultValue")&&d1(t,e.type,ta(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Cb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function d1(t,e,n){(e!=="number"||ym(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var kh=Array.isArray;function Tl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ta(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function p1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return Ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Rb(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(kh(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ta(n)}}function HL(t,e){var n=ta(e.value),r=ta(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ab(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function qL(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function g1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?qL(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xp,GL=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xp=Xp||document.createElement("div"),Xp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function gf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xq=["Webkit","ms","Moz","O"];Object.keys(Wh).forEach(function(t){xq.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wh[e]=Wh[t]})});function YL(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wh.hasOwnProperty(t)&&Wh[t]?(""+e).trim():e+"px"}function KL(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=YL(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Dq=Ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function m1(t,e){if(e){if(Dq[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function _1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var v1=null;function WT(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var y1=null,Il=null,Cl=null;function Pb(t){if(t=vd(t)){if(typeof y1!="function")throw Error(J(280));var e=t.stateNode;e&&(e=ev(e),y1(t.stateNode,t.type,e))}}function QL(t){Il?Cl?Cl.push(t):Cl=[t]:Il=t}function XL(){if(Il){var t=Il,e=Cl;if(Cl=Il=null,Pb(t),e)for(t=0;t<e.length;t++)Pb(e[t])}}function JL(t,e){return t(e)}function ZL(){}var Sw=!1;function e2(t,e,n){if(Sw)return t(e,n);Sw=!0;try{return JL(t,e,n)}finally{Sw=!1,(Il!==null||Cl!==null)&&(ZL(),XL())}}function mf(t,e){var n=t.stateNode;if(n===null)return null;var r=ev(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var w1=!1;if(zs)try{var hh={};Object.defineProperty(hh,"passive",{get:function(){w1=!0}}),window.addEventListener("test",hh,hh),window.removeEventListener("test",hh,hh)}catch{w1=!1}function Lq(t,e,n,r,i,s,o,u,l){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(f){this.onError(f)}}var jh=!1,wm=null,Em=!1,E1=null,Mq={onError:function(t){jh=!0,wm=t}};function Uq(t,e,n,r,i,s,o,u,l){jh=!1,wm=null,Lq.apply(Mq,arguments)}function Fq(t,e,n,r,i,s,o,u,l){if(Uq.apply(this,arguments),jh){if(jh){var h=wm;jh=!1,wm=null}else throw Error(J(198));Em||(Em=!0,E1=h)}}function yu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function t2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function kb(t){if(yu(t)!==t)throw Error(J(188))}function $q(t){var e=t.alternate;if(!e){if(e=yu(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return kb(i),t;if(s===r)return kb(i),e;s=s.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=s;break}if(u===r){o=!0,r=i,n=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===n){o=!0,n=s,r=i;break}if(u===r){o=!0,r=s,n=i;break}u=u.sibling}if(!o)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function n2(t){return t=$q(t),t!==null?r2(t):null}function r2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=r2(t);if(e!==null)return e;t=t.sibling}return null}var i2=xr.unstable_scheduleCallback,bb=xr.unstable_cancelCallback,Vq=xr.unstable_shouldYield,Wq=xr.unstable_requestPaint,Bt=xr.unstable_now,jq=xr.unstable_getCurrentPriorityLevel,jT=xr.unstable_ImmediatePriority,s2=xr.unstable_UserBlockingPriority,Sm=xr.unstable_NormalPriority,Bq=xr.unstable_LowPriority,o2=xr.unstable_IdlePriority,Q_=null,es=null;function zq(t){if(es&&typeof es.onCommitFiberRoot=="function")try{es.onCommitFiberRoot(Q_,t,void 0,(t.current.flags&128)===128)}catch{}}var Ai=Math.clz32?Math.clz32:Gq,Hq=Math.log,qq=Math.LN2;function Gq(t){return t>>>=0,t===0?32:31-(Hq(t)/qq|0)|0}var Jp=64,Zp=4194304;function bh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Tm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var u=o&~i;u!==0?r=bh(u):(s&=o,s!==0&&(r=bh(s)))}else o=n&~i,o!==0?r=bh(o):s!==0&&(r=bh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ai(e),i=1<<n,r|=t[n],e&=~i;return r}function Yq(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kq(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ai(s),u=1<<o,l=i[o];l===-1?(!(u&n)||u&r)&&(i[o]=Yq(u,e)):l<=e&&(t.expiredLanes|=u),s&=~u}}function S1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function a2(){var t=Jp;return Jp<<=1,!(Jp&4194240)&&(Jp=64),t}function Tw(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function md(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ai(e),t[e]=n}function Qq(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ai(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function BT(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ai(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var rt=0;function u2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var l2,zT,c2,h2,f2,T1=!1,eg=[],Mo=null,Uo=null,Fo=null,_f=new Map,vf=new Map,wo=[],Xq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ob(t,e){switch(t){case"focusin":case"focusout":Mo=null;break;case"dragenter":case"dragleave":Uo=null;break;case"mouseover":case"mouseout":Fo=null;break;case"pointerover":case"pointerout":_f.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vf.delete(e.pointerId)}}function fh(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=vd(e),e!==null&&zT(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Jq(t,e,n,r,i){switch(e){case"focusin":return Mo=fh(Mo,t,e,n,r,i),!0;case"dragenter":return Uo=fh(Uo,t,e,n,r,i),!0;case"mouseover":return Fo=fh(Fo,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return _f.set(s,fh(_f.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,vf.set(s,fh(vf.get(s)||null,t,e,n,r,i)),!0}return!1}function d2(t){var e=Fa(t.target);if(e!==null){var n=yu(e);if(n!==null){if(e=n.tag,e===13){if(e=t2(n),e!==null){t.blockedOn=e,f2(t.priority,function(){c2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=I1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);v1=r,n.target.dispatchEvent(r),v1=null}else return e=vd(n),e!==null&&zT(e),t.blockedOn=n,!1;e.shift()}return!0}function Nb(t,e,n){Fg(t)&&n.delete(e)}function Zq(){T1=!1,Mo!==null&&Fg(Mo)&&(Mo=null),Uo!==null&&Fg(Uo)&&(Uo=null),Fo!==null&&Fg(Fo)&&(Fo=null),_f.forEach(Nb),vf.forEach(Nb)}function dh(t,e){t.blockedOn===e&&(t.blockedOn=null,T1||(T1=!0,xr.unstable_scheduleCallback(xr.unstable_NormalPriority,Zq)))}function yf(t){function e(i){return dh(i,t)}if(0<eg.length){dh(eg[0],t);for(var n=1;n<eg.length;n++){var r=eg[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Mo!==null&&dh(Mo,t),Uo!==null&&dh(Uo,t),Fo!==null&&dh(Fo,t),_f.forEach(e),vf.forEach(e),n=0;n<wo.length;n++)r=wo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<wo.length&&(n=wo[0],n.blockedOn===null);)d2(n),n.blockedOn===null&&wo.shift()}var Rl=ro.ReactCurrentBatchConfig,Im=!0;function eG(t,e,n,r){var i=rt,s=Rl.transition;Rl.transition=null;try{rt=1,HT(t,e,n,r)}finally{rt=i,Rl.transition=s}}function tG(t,e,n,r){var i=rt,s=Rl.transition;Rl.transition=null;try{rt=4,HT(t,e,n,r)}finally{rt=i,Rl.transition=s}}function HT(t,e,n,r){if(Im){var i=I1(t,e,n,r);if(i===null)xw(t,e,r,Cm,n),Ob(t,r);else if(Jq(i,t,e,n,r))r.stopPropagation();else if(Ob(t,r),e&4&&-1<Xq.indexOf(t)){for(;i!==null;){var s=vd(i);if(s!==null&&l2(s),s=I1(t,e,n,r),s===null&&xw(t,e,r,Cm,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else xw(t,e,r,null,n)}}var Cm=null;function I1(t,e,n,r){if(Cm=null,t=WT(r),t=Fa(t),t!==null)if(e=yu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=t2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Cm=t,null}function p2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jq()){case jT:return 1;case s2:return 4;case Sm:case Bq:return 16;case o2:return 536870912;default:return 16}default:return 16}}var Po=null,qT=null,$g=null;function g2(){if($g)return $g;var t,e=qT,n=e.length,r,i="value"in Po?Po.value:Po.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return $g=i.slice(t,1<r?1-r:void 0)}function Vg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function tg(){return!0}function xb(){return!1}function Ur(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?tg:xb,this.isPropagationStopped=xb,this}return Ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=tg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=tg)},persist:function(){},isPersistent:tg}),e}var vc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},GT=Ur(vc),_d=Ot({},vc,{view:0,detail:0}),nG=Ur(_d),Iw,Cw,ph,X_=Ot({},_d,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:YT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ph&&(ph&&t.type==="mousemove"?(Iw=t.screenX-ph.screenX,Cw=t.screenY-ph.screenY):Cw=Iw=0,ph=t),Iw)},movementY:function(t){return"movementY"in t?t.movementY:Cw}}),Db=Ur(X_),rG=Ot({},X_,{dataTransfer:0}),iG=Ur(rG),sG=Ot({},_d,{relatedTarget:0}),Rw=Ur(sG),oG=Ot({},vc,{animationName:0,elapsedTime:0,pseudoElement:0}),aG=Ur(oG),uG=Ot({},vc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lG=Ur(uG),cG=Ot({},vc,{data:0}),Lb=Ur(cG),hG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dG={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pG(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=dG[t])?!!e[t]:!1}function YT(){return pG}var gG=Ot({},_d,{key:function(t){if(t.key){var e=hG[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fG[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:YT,charCode:function(t){return t.type==="keypress"?Vg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mG=Ur(gG),_G=Ot({},X_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mb=Ur(_G),vG=Ot({},_d,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:YT}),yG=Ur(vG),wG=Ot({},vc,{propertyName:0,elapsedTime:0,pseudoElement:0}),EG=Ur(wG),SG=Ot({},X_,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),TG=Ur(SG),IG=[9,13,27,32],KT=zs&&"CompositionEvent"in window,Bh=null;zs&&"documentMode"in document&&(Bh=document.documentMode);var CG=zs&&"TextEvent"in window&&!Bh,m2=zs&&(!KT||Bh&&8<Bh&&11>=Bh),Ub=String.fromCharCode(32),Fb=!1;function _2(t,e){switch(t){case"keyup":return IG.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function v2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ll=!1;function RG(t,e){switch(t){case"compositionend":return v2(e);case"keypress":return e.which!==32?null:(Fb=!0,Ub);case"textInput":return t=e.data,t===Ub&&Fb?null:t;default:return null}}function AG(t,e){if(ll)return t==="compositionend"||!KT&&_2(t,e)?(t=g2(),$g=qT=Po=null,ll=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return m2&&e.locale!=="ko"?null:e.data;default:return null}}var PG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $b(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!PG[t.type]:e==="textarea"}function y2(t,e,n,r){QL(r),e=Rm(e,"onChange"),0<e.length&&(n=new GT("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var zh=null,wf=null;function kG(t){b2(t,0)}function J_(t){var e=fl(t);if(BL(e))return t}function bG(t,e){if(t==="change")return e}var w2=!1;if(zs){var Aw;if(zs){var Pw="oninput"in document;if(!Pw){var Vb=document.createElement("div");Vb.setAttribute("oninput","return;"),Pw=typeof Vb.oninput=="function"}Aw=Pw}else Aw=!1;w2=Aw&&(!document.documentMode||9<document.documentMode)}function Wb(){zh&&(zh.detachEvent("onpropertychange",E2),wf=zh=null)}function E2(t){if(t.propertyName==="value"&&J_(wf)){var e=[];y2(e,wf,t,WT(t)),e2(kG,e)}}function OG(t,e,n){t==="focusin"?(Wb(),zh=e,wf=n,zh.attachEvent("onpropertychange",E2)):t==="focusout"&&Wb()}function NG(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return J_(wf)}function xG(t,e){if(t==="click")return J_(e)}function DG(t,e){if(t==="input"||t==="change")return J_(e)}function LG(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bi=typeof Object.is=="function"?Object.is:LG;function Ef(t,e){if(bi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!o1.call(e,i)||!bi(t[i],e[i]))return!1}return!0}function jb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bb(t,e){var n=jb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jb(n)}}function S2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?S2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function T2(){for(var t=window,e=ym();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ym(t.document)}return e}function QT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function MG(t){var e=T2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&S2(n.ownerDocument.documentElement,n)){if(r!==null&&QT(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Bb(n,s);var o=Bb(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var UG=zs&&"documentMode"in document&&11>=document.documentMode,cl=null,C1=null,Hh=null,R1=!1;function zb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;R1||cl==null||cl!==ym(r)||(r=cl,"selectionStart"in r&&QT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hh&&Ef(Hh,r)||(Hh=r,r=Rm(C1,"onSelect"),0<r.length&&(e=new GT("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=cl)))}function ng(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var hl={animationend:ng("Animation","AnimationEnd"),animationiteration:ng("Animation","AnimationIteration"),animationstart:ng("Animation","AnimationStart"),transitionend:ng("Transition","TransitionEnd")},kw={},I2={};zs&&(I2=document.createElement("div").style,"AnimationEvent"in window||(delete hl.animationend.animation,delete hl.animationiteration.animation,delete hl.animationstart.animation),"TransitionEvent"in window||delete hl.transitionend.transition);function Z_(t){if(kw[t])return kw[t];if(!hl[t])return t;var e=hl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in I2)return kw[t]=e[n];return t}var C2=Z_("animationend"),R2=Z_("animationiteration"),A2=Z_("animationstart"),P2=Z_("transitionend"),k2=new Map,Hb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function da(t,e){k2.set(t,e),vu(e,[t])}for(var bw=0;bw<Hb.length;bw++){var Ow=Hb[bw],FG=Ow.toLowerCase(),$G=Ow[0].toUpperCase()+Ow.slice(1);da(FG,"on"+$G)}da(C2,"onAnimationEnd");da(R2,"onAnimationIteration");da(A2,"onAnimationStart");da("dblclick","onDoubleClick");da("focusin","onFocus");da("focusout","onBlur");da(P2,"onTransitionEnd");ql("onMouseEnter",["mouseout","mouseover"]);ql("onMouseLeave",["mouseout","mouseover"]);ql("onPointerEnter",["pointerout","pointerover"]);ql("onPointerLeave",["pointerout","pointerover"]);vu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vu("onBeforeInput",["compositionend","keypress","textInput","paste"]);vu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VG=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oh));function qb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Fq(r,e,void 0,t),t.currentTarget=null}function b2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var u=r[o],l=u.instance,h=u.currentTarget;if(u=u.listener,l!==s&&i.isPropagationStopped())break e;qb(i,u,h),s=l}else for(o=0;o<r.length;o++){if(u=r[o],l=u.instance,h=u.currentTarget,u=u.listener,l!==s&&i.isPropagationStopped())break e;qb(i,u,h),s=l}}}if(Em)throw t=E1,Em=!1,E1=null,t}function mt(t,e){var n=e[O1];n===void 0&&(n=e[O1]=new Set);var r=t+"__bubble";n.has(r)||(O2(e,t,2,!1),n.add(r))}function Nw(t,e,n){var r=0;e&&(r|=4),O2(n,t,r,e)}var rg="_reactListening"+Math.random().toString(36).slice(2);function Sf(t){if(!t[rg]){t[rg]=!0,FL.forEach(function(n){n!=="selectionchange"&&(VG.has(n)||Nw(n,!1,t),Nw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rg]||(e[rg]=!0,Nw("selectionchange",!1,e))}}function O2(t,e,n,r){switch(p2(e)){case 1:var i=eG;break;case 4:i=tG;break;default:i=HT}n=i.bind(null,e,n,t),i=void 0,!w1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function xw(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;u!==null;){if(o=Fa(u),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}u=u.parentNode}}r=r.return}e2(function(){var h=s,f=WT(n),p=[];e:{var g=k2.get(t);if(g!==void 0){var v=GT,E=t;switch(t){case"keypress":if(Vg(n)===0)break e;case"keydown":case"keyup":v=mG;break;case"focusin":E="focus",v=Rw;break;case"focusout":E="blur",v=Rw;break;case"beforeblur":case"afterblur":v=Rw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Db;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=iG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=yG;break;case C2:case R2:case A2:v=aG;break;case P2:v=EG;break;case"scroll":v=nG;break;case"wheel":v=TG;break;case"copy":case"cut":case"paste":v=lG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Mb}var C=(e&4)!==0,A=!C&&t==="scroll",S=C?g!==null?g+"Capture":null:g;C=[];for(var T=h,k;T!==null;){k=T;var b=k.stateNode;if(k.tag===5&&b!==null&&(k=b,S!==null&&(b=mf(T,S),b!=null&&C.push(Tf(T,b,k)))),A)break;T=T.return}0<C.length&&(g=new v(g,E,null,n,f),p.push({event:g,listeners:C}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",g&&n!==v1&&(E=n.relatedTarget||n.fromElement)&&(Fa(E)||E[Hs]))break e;if((v||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,v?(E=n.relatedTarget||n.toElement,v=h,E=E?Fa(E):null,E!==null&&(A=yu(E),E!==A||E.tag!==5&&E.tag!==6)&&(E=null)):(v=null,E=h),v!==E)){if(C=Db,b="onMouseLeave",S="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(C=Mb,b="onPointerLeave",S="onPointerEnter",T="pointer"),A=v==null?g:fl(v),k=E==null?g:fl(E),g=new C(b,T+"leave",v,n,f),g.target=A,g.relatedTarget=k,b=null,Fa(f)===h&&(C=new C(S,T+"enter",E,n,f),C.target=k,C.relatedTarget=A,b=C),A=b,v&&E)t:{for(C=v,S=E,T=0,k=C;k;k=Yu(k))T++;for(k=0,b=S;b;b=Yu(b))k++;for(;0<T-k;)C=Yu(C),T--;for(;0<k-T;)S=Yu(S),k--;for(;T--;){if(C===S||S!==null&&C===S.alternate)break t;C=Yu(C),S=Yu(S)}C=null}else C=null;v!==null&&Gb(p,g,v,C,!1),E!==null&&A!==null&&Gb(p,A,E,C,!0)}}e:{if(g=h?fl(h):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var F=bG;else if($b(g))if(w2)F=DG;else{F=NG;var V=OG}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(F=xG);if(F&&(F=F(t,h))){y2(p,F,n,f);break e}V&&V(t,g,h),t==="focusout"&&(V=g._wrapperState)&&V.controlled&&g.type==="number"&&d1(g,"number",g.value)}switch(V=h?fl(h):window,t){case"focusin":($b(V)||V.contentEditable==="true")&&(cl=V,C1=h,Hh=null);break;case"focusout":Hh=C1=cl=null;break;case"mousedown":R1=!0;break;case"contextmenu":case"mouseup":case"dragend":R1=!1,zb(p,n,f);break;case"selectionchange":if(UG)break;case"keydown":case"keyup":zb(p,n,f)}var W;if(KT)e:{switch(t){case"compositionstart":var G="onCompositionStart";break e;case"compositionend":G="onCompositionEnd";break e;case"compositionupdate":G="onCompositionUpdate";break e}G=void 0}else ll?_2(t,n)&&(G="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(G="onCompositionStart");G&&(m2&&n.locale!=="ko"&&(ll||G!=="onCompositionStart"?G==="onCompositionEnd"&&ll&&(W=g2()):(Po=f,qT="value"in Po?Po.value:Po.textContent,ll=!0)),V=Rm(h,G),0<V.length&&(G=new Lb(G,t,null,n,f),p.push({event:G,listeners:V}),W?G.data=W:(W=v2(n),W!==null&&(G.data=W)))),(W=CG?RG(t,n):AG(t,n))&&(h=Rm(h,"onBeforeInput"),0<h.length&&(f=new Lb("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:h}),f.data=W))}b2(p,e)})}function Tf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Rm(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=mf(t,n),s!=null&&r.unshift(Tf(t,s,i)),s=mf(t,e),s!=null&&r.push(Tf(t,s,i))),t=t.return}return r}function Yu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gb(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var u=n,l=u.alternate,h=u.stateNode;if(l!==null&&l===r)break;u.tag===5&&h!==null&&(u=h,i?(l=mf(n,s),l!=null&&o.unshift(Tf(n,l,u))):i||(l=mf(n,s),l!=null&&o.push(Tf(n,l,u)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var WG=/\r\n?/g,jG=/\u0000|\uFFFD/g;function Yb(t){return(typeof t=="string"?t:""+t).replace(WG,`
`).replace(jG,"")}function ig(t,e,n){if(e=Yb(e),Yb(t)!==e&&n)throw Error(J(425))}function Am(){}var A1=null,P1=null;function k1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var b1=typeof setTimeout=="function"?setTimeout:void 0,BG=typeof clearTimeout=="function"?clearTimeout:void 0,Kb=typeof Promise=="function"?Promise:void 0,zG=typeof queueMicrotask=="function"?queueMicrotask:typeof Kb<"u"?function(t){return Kb.resolve(null).then(t).catch(HG)}:b1;function HG(t){setTimeout(function(){throw t})}function Dw(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),yf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);yf(e)}function $o(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Qb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yc=Math.random().toString(36).slice(2),qi="__reactFiber$"+yc,If="__reactProps$"+yc,Hs="__reactContainer$"+yc,O1="__reactEvents$"+yc,qG="__reactListeners$"+yc,GG="__reactHandles$"+yc;function Fa(t){var e=t[qi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Hs]||n[qi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Qb(t);t!==null;){if(n=t[qi])return n;t=Qb(t)}return e}t=n,n=t.parentNode}return null}function vd(t){return t=t[qi]||t[Hs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function ev(t){return t[If]||null}var N1=[],dl=-1;function pa(t){return{current:t}}function wt(t){0>dl||(t.current=N1[dl],N1[dl]=null,dl--)}function pt(t,e){dl++,N1[dl]=t.current,t.current=e}var na={},Bn=pa(na),mr=pa(!1),eu=na;function Gl(t,e){var n=t.type.contextTypes;if(!n)return na;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function _r(t){return t=t.childContextTypes,t!=null}function Pm(){wt(mr),wt(Bn)}function Xb(t,e,n){if(Bn.current!==na)throw Error(J(168));pt(Bn,e),pt(mr,n)}function N2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,Oq(t)||"Unknown",i));return Ot({},n,r)}function km(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||na,eu=Bn.current,pt(Bn,t),pt(mr,mr.current),!0}function Jb(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=N2(t,e,eu),r.__reactInternalMemoizedMergedChildContext=t,wt(mr),wt(Bn),pt(Bn,t)):wt(mr),pt(mr,n)}var ks=null,tv=!1,Lw=!1;function x2(t){ks===null?ks=[t]:ks.push(t)}function YG(t){tv=!0,x2(t)}function ga(){if(!Lw&&ks!==null){Lw=!0;var t=0,e=rt;try{var n=ks;for(rt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ks=null,tv=!1}catch(i){throw ks!==null&&(ks=ks.slice(t+1)),i2(jT,ga),i}finally{rt=e,Lw=!1}}return null}var pl=[],gl=0,bm=null,Om=0,Qr=[],Xr=0,tu=null,Ns=1,xs="";function ba(t,e){pl[gl++]=Om,pl[gl++]=bm,bm=t,Om=e}function D2(t,e,n){Qr[Xr++]=Ns,Qr[Xr++]=xs,Qr[Xr++]=tu,tu=t;var r=Ns;t=xs;var i=32-Ai(r)-1;r&=~(1<<i),n+=1;var s=32-Ai(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ns=1<<32-Ai(e)+i|n<<i|r,xs=s+t}else Ns=1<<s|n<<i|r,xs=t}function XT(t){t.return!==null&&(ba(t,1),D2(t,1,0))}function JT(t){for(;t===bm;)bm=pl[--gl],pl[gl]=null,Om=pl[--gl],pl[gl]=null;for(;t===tu;)tu=Qr[--Xr],Qr[Xr]=null,xs=Qr[--Xr],Qr[Xr]=null,Ns=Qr[--Xr],Qr[Xr]=null}var Or=null,br=null,At=!1,Ei=null;function L2(t,e){var n=ni(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Zb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Or=t,br=$o(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Or=t,br=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=tu!==null?{id:Ns,overflow:xs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ni(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Or=t,br=null,!0):!1;default:return!1}}function x1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function D1(t){if(At){var e=br;if(e){var n=e;if(!Zb(t,e)){if(x1(t))throw Error(J(418));e=$o(n.nextSibling);var r=Or;e&&Zb(t,e)?L2(r,n):(t.flags=t.flags&-4097|2,At=!1,Or=t)}}else{if(x1(t))throw Error(J(418));t.flags=t.flags&-4097|2,At=!1,Or=t}}}function eO(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Or=t}function sg(t){if(t!==Or)return!1;if(!At)return eO(t),At=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!k1(t.type,t.memoizedProps)),e&&(e=br)){if(x1(t))throw M2(),Error(J(418));for(;e;)L2(t,e),e=$o(e.nextSibling)}if(eO(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){br=$o(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}br=null}}else br=Or?$o(t.stateNode.nextSibling):null;return!0}function M2(){for(var t=br;t;)t=$o(t.nextSibling)}function Yl(){br=Or=null,At=!1}function ZT(t){Ei===null?Ei=[t]:Ei.push(t)}var KG=ro.ReactCurrentBatchConfig;function yi(t,e){if(t&&t.defaultProps){e=Ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Nm=pa(null),xm=null,ml=null,eI=null;function tI(){eI=ml=xm=null}function nI(t){var e=Nm.current;wt(Nm),t._currentValue=e}function L1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Al(t,e){xm=t,eI=ml=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gr=!0),t.firstContext=null)}function oi(t){var e=t._currentValue;if(eI!==t)if(t={context:t,memoizedValue:e,next:null},ml===null){if(xm===null)throw Error(J(308));ml=t,xm.dependencies={lanes:0,firstContext:t}}else ml=ml.next=t;return e}var $a=null;function rI(t){$a===null?$a=[t]:$a.push(t)}function U2(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,rI(e)):(n.next=i.next,i.next=n),e.interleaved=n,qs(t,r)}function qs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var yo=!1;function iI(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function F2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ye&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,qs(t,n)}return i=r.interleaved,i===null?(e.next=e,rI(r)):(e.next=i.next,i.next=e),r.interleaved=e,qs(t,n)}function Wg(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,BT(t,n)}}function tO(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Dm(t,e,n,r){var i=t.updateQueue;yo=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var l=u,h=l.next;l.next=null,o===null?s=h:o.next=h,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==o&&(u===null?f.firstBaseUpdate=h:u.next=h,f.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;o=0,f=h=l=null,u=s;do{var g=u.lane,v=u.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:v,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var E=t,C=u;switch(g=e,v=n,C.tag){case 1:if(E=C.payload,typeof E=="function"){p=E.call(v,p,g);break e}p=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=C.payload,g=typeof E=="function"?E.call(v,p,g):E,g==null)break e;p=Ot({},p,g);break e;case 2:yo=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[u]:g.push(u))}else v={eventTime:v,lane:g,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(h=f=v,l=p):f=f.next=v,o|=g;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;g=u,u=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(1);if(f===null&&(l=p),i.baseState=l,i.firstBaseUpdate=h,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ru|=o,t.lanes=o,t.memoizedState=p}}function nO(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var $2=new UL.Component().refs;function M1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nv={isMounted:function(t){return(t=t._reactInternals)?yu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=rr(),i=jo(t),s=Vs(r,i);s.payload=e,n!=null&&(s.callback=n),e=Vo(t,s,i),e!==null&&(Pi(e,t,i,r),Wg(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=rr(),i=jo(t),s=Vs(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Vo(t,s,i),e!==null&&(Pi(e,t,i,r),Wg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rr(),r=jo(t),i=Vs(n,r);i.tag=2,e!=null&&(i.callback=e),e=Vo(t,i,r),e!==null&&(Pi(e,t,r,n),Wg(e,t,r))}};function rO(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ef(n,r)||!Ef(i,s):!0}function V2(t,e,n){var r=!1,i=na,s=e.contextType;return typeof s=="object"&&s!==null?s=oi(s):(i=_r(e)?eu:Bn.current,r=e.contextTypes,s=(r=r!=null)?Gl(t,i):na),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function iO(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&nv.enqueueReplaceState(e,e.state,null)}function U1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=$2,iI(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=oi(s):(s=_r(e)?eu:Bn.current,i.context=Gl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(M1(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&nv.enqueueReplaceState(i,i.state,null),Dm(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function gh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var u=i.refs;u===$2&&(u=i.refs={}),o===null?delete u[s]:u[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function og(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sO(t){var e=t._init;return e(t._payload)}function W2(t){function e(S,T){if(t){var k=S.deletions;k===null?(S.deletions=[T],S.flags|=16):k.push(T)}}function n(S,T){if(!t)return null;for(;T!==null;)e(S,T),T=T.sibling;return null}function r(S,T){for(S=new Map;T!==null;)T.key!==null?S.set(T.key,T):S.set(T.index,T),T=T.sibling;return S}function i(S,T){return S=Bo(S,T),S.index=0,S.sibling=null,S}function s(S,T,k){return S.index=k,t?(k=S.alternate,k!==null?(k=k.index,k<T?(S.flags|=2,T):k):(S.flags|=2,T)):(S.flags|=1048576,T)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function u(S,T,k,b){return T===null||T.tag!==6?(T=jw(k,S.mode,b),T.return=S,T):(T=i(T,k),T.return=S,T)}function l(S,T,k,b){var F=k.type;return F===ul?f(S,T,k.props.children,b,k.key):T!==null&&(T.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===vo&&sO(F)===T.type)?(b=i(T,k.props),b.ref=gh(S,T,k),b.return=S,b):(b=Gg(k.type,k.key,k.props,null,S.mode,b),b.ref=gh(S,T,k),b.return=S,b)}function h(S,T,k,b){return T===null||T.tag!==4||T.stateNode.containerInfo!==k.containerInfo||T.stateNode.implementation!==k.implementation?(T=Bw(k,S.mode,b),T.return=S,T):(T=i(T,k.children||[]),T.return=S,T)}function f(S,T,k,b,F){return T===null||T.tag!==7?(T=Ya(k,S.mode,b,F),T.return=S,T):(T=i(T,k),T.return=S,T)}function p(S,T,k){if(typeof T=="string"&&T!==""||typeof T=="number")return T=jw(""+T,S.mode,k),T.return=S,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Kp:return k=Gg(T.type,T.key,T.props,null,S.mode,k),k.ref=gh(S,null,T),k.return=S,k;case al:return T=Bw(T,S.mode,k),T.return=S,T;case vo:var b=T._init;return p(S,b(T._payload),k)}if(kh(T)||ch(T))return T=Ya(T,S.mode,k,null),T.return=S,T;og(S,T)}return null}function g(S,T,k,b){var F=T!==null?T.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return F!==null?null:u(S,T,""+k,b);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Kp:return k.key===F?l(S,T,k,b):null;case al:return k.key===F?h(S,T,k,b):null;case vo:return F=k._init,g(S,T,F(k._payload),b)}if(kh(k)||ch(k))return F!==null?null:f(S,T,k,b,null);og(S,k)}return null}function v(S,T,k,b,F){if(typeof b=="string"&&b!==""||typeof b=="number")return S=S.get(k)||null,u(T,S,""+b,F);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Kp:return S=S.get(b.key===null?k:b.key)||null,l(T,S,b,F);case al:return S=S.get(b.key===null?k:b.key)||null,h(T,S,b,F);case vo:var V=b._init;return v(S,T,k,V(b._payload),F)}if(kh(b)||ch(b))return S=S.get(k)||null,f(T,S,b,F,null);og(T,b)}return null}function E(S,T,k,b){for(var F=null,V=null,W=T,G=T=0,ie=null;W!==null&&G<k.length;G++){W.index>G?(ie=W,W=null):ie=W.sibling;var re=g(S,W,k[G],b);if(re===null){W===null&&(W=ie);break}t&&W&&re.alternate===null&&e(S,W),T=s(re,T,G),V===null?F=re:V.sibling=re,V=re,W=ie}if(G===k.length)return n(S,W),At&&ba(S,G),F;if(W===null){for(;G<k.length;G++)W=p(S,k[G],b),W!==null&&(T=s(W,T,G),V===null?F=W:V.sibling=W,V=W);return At&&ba(S,G),F}for(W=r(S,W);G<k.length;G++)ie=v(W,S,G,k[G],b),ie!==null&&(t&&ie.alternate!==null&&W.delete(ie.key===null?G:ie.key),T=s(ie,T,G),V===null?F=ie:V.sibling=ie,V=ie);return t&&W.forEach(function(Ne){return e(S,Ne)}),At&&ba(S,G),F}function C(S,T,k,b){var F=ch(k);if(typeof F!="function")throw Error(J(150));if(k=F.call(k),k==null)throw Error(J(151));for(var V=F=null,W=T,G=T=0,ie=null,re=k.next();W!==null&&!re.done;G++,re=k.next()){W.index>G?(ie=W,W=null):ie=W.sibling;var Ne=g(S,W,re.value,b);if(Ne===null){W===null&&(W=ie);break}t&&W&&Ne.alternate===null&&e(S,W),T=s(Ne,T,G),V===null?F=Ne:V.sibling=Ne,V=Ne,W=ie}if(re.done)return n(S,W),At&&ba(S,G),F;if(W===null){for(;!re.done;G++,re=k.next())re=p(S,re.value,b),re!==null&&(T=s(re,T,G),V===null?F=re:V.sibling=re,V=re);return At&&ba(S,G),F}for(W=r(S,W);!re.done;G++,re=k.next())re=v(W,S,G,re.value,b),re!==null&&(t&&re.alternate!==null&&W.delete(re.key===null?G:re.key),T=s(re,T,G),V===null?F=re:V.sibling=re,V=re);return t&&W.forEach(function(I){return e(S,I)}),At&&ba(S,G),F}function A(S,T,k,b){if(typeof k=="object"&&k!==null&&k.type===ul&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Kp:e:{for(var F=k.key,V=T;V!==null;){if(V.key===F){if(F=k.type,F===ul){if(V.tag===7){n(S,V.sibling),T=i(V,k.props.children),T.return=S,S=T;break e}}else if(V.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===vo&&sO(F)===V.type){n(S,V.sibling),T=i(V,k.props),T.ref=gh(S,V,k),T.return=S,S=T;break e}n(S,V);break}else e(S,V);V=V.sibling}k.type===ul?(T=Ya(k.props.children,S.mode,b,k.key),T.return=S,S=T):(b=Gg(k.type,k.key,k.props,null,S.mode,b),b.ref=gh(S,T,k),b.return=S,S=b)}return o(S);case al:e:{for(V=k.key;T!==null;){if(T.key===V)if(T.tag===4&&T.stateNode.containerInfo===k.containerInfo&&T.stateNode.implementation===k.implementation){n(S,T.sibling),T=i(T,k.children||[]),T.return=S,S=T;break e}else{n(S,T);break}else e(S,T);T=T.sibling}T=Bw(k,S.mode,b),T.return=S,S=T}return o(S);case vo:return V=k._init,A(S,T,V(k._payload),b)}if(kh(k))return E(S,T,k,b);if(ch(k))return C(S,T,k,b);og(S,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,T!==null&&T.tag===6?(n(S,T.sibling),T=i(T,k),T.return=S,S=T):(n(S,T),T=jw(k,S.mode,b),T.return=S,S=T),o(S)):n(S,T)}return A}var Kl=W2(!0),j2=W2(!1),yd={},ts=pa(yd),Cf=pa(yd),Rf=pa(yd);function Va(t){if(t===yd)throw Error(J(174));return t}function sI(t,e){switch(pt(Rf,e),pt(Cf,t),pt(ts,yd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:g1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=g1(e,t)}wt(ts),pt(ts,e)}function Ql(){wt(ts),wt(Cf),wt(Rf)}function B2(t){Va(Rf.current);var e=Va(ts.current),n=g1(e,t.type);e!==n&&(pt(Cf,t),pt(ts,n))}function oI(t){Cf.current===t&&(wt(ts),wt(Cf))}var kt=pa(0);function Lm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mw=[];function aI(){for(var t=0;t<Mw.length;t++)Mw[t]._workInProgressVersionPrimary=null;Mw.length=0}var jg=ro.ReactCurrentDispatcher,Uw=ro.ReactCurrentBatchConfig,nu=0,bt=null,Xt=null,an=null,Mm=!1,qh=!1,Af=0,QG=0;function kn(){throw Error(J(321))}function uI(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bi(t[n],e[n]))return!1;return!0}function lI(t,e,n,r,i,s){if(nu=s,bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,jg.current=t===null||t.memoizedState===null?e7:t7,t=n(r,i),qh){s=0;do{if(qh=!1,Af=0,25<=s)throw Error(J(301));s+=1,an=Xt=null,e.updateQueue=null,jg.current=n7,t=n(r,i)}while(qh)}if(jg.current=Um,e=Xt!==null&&Xt.next!==null,nu=0,an=Xt=bt=null,Mm=!1,e)throw Error(J(300));return t}function cI(){var t=Af!==0;return Af=0,t}function Hi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?bt.memoizedState=an=t:an=an.next=t,an}function ai(){if(Xt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var e=an===null?bt.memoizedState:an.next;if(e!==null)an=e,Xt=t;else{if(t===null)throw Error(J(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},an===null?bt.memoizedState=an=t:an=an.next=t}return an}function Pf(t,e){return typeof e=="function"?e(t):e}function Fw(t){var e=ai(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=Xt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var u=o=null,l=null,h=s;do{var f=h.lane;if((nu&f)===f)l!==null&&(l=l.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var p={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};l===null?(u=l=p,o=r):l=l.next=p,bt.lanes|=f,ru|=f}h=h.next}while(h!==null&&h!==s);l===null?o=r:l.next=u,bi(r,e.memoizedState)||(gr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,bt.lanes|=s,ru|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $w(t){var e=ai(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);bi(s,e.memoizedState)||(gr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function z2(){}function H2(t,e){var n=bt,r=ai(),i=e(),s=!bi(r.memoizedState,i);if(s&&(r.memoizedState=i,gr=!0),r=r.queue,hI(Y2.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||an!==null&&an.memoizedState.tag&1){if(n.flags|=2048,kf(9,G2.bind(null,n,r,i,e),void 0,null),un===null)throw Error(J(349));nu&30||q2(n,e,i)}return i}function q2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function G2(t,e,n,r){e.value=n,e.getSnapshot=r,K2(e)&&Q2(t)}function Y2(t,e,n){return n(function(){K2(e)&&Q2(t)})}function K2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bi(t,n)}catch{return!0}}function Q2(t){var e=qs(t,1);e!==null&&Pi(e,t,1,-1)}function oO(t){var e=Hi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pf,lastRenderedState:t},e.queue=t,t=t.dispatch=ZG.bind(null,bt,t),[e.memoizedState,t]}function kf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function X2(){return ai().memoizedState}function Bg(t,e,n,r){var i=Hi();bt.flags|=t,i.memoizedState=kf(1|e,n,void 0,r===void 0?null:r)}function rv(t,e,n,r){var i=ai();r=r===void 0?null:r;var s=void 0;if(Xt!==null){var o=Xt.memoizedState;if(s=o.destroy,r!==null&&uI(r,o.deps)){i.memoizedState=kf(e,n,s,r);return}}bt.flags|=t,i.memoizedState=kf(1|e,n,s,r)}function aO(t,e){return Bg(8390656,8,t,e)}function hI(t,e){return rv(2048,8,t,e)}function J2(t,e){return rv(4,2,t,e)}function Z2(t,e){return rv(4,4,t,e)}function eM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function tM(t,e,n){return n=n!=null?n.concat([t]):null,rv(4,4,eM.bind(null,e,t),n)}function fI(){}function nM(t,e){var n=ai();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&uI(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function rM(t,e){var n=ai();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&uI(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function iM(t,e,n){return nu&21?(bi(n,e)||(n=a2(),bt.lanes|=n,ru|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gr=!0),t.memoizedState=n)}function XG(t,e){var n=rt;rt=n!==0&&4>n?n:4,t(!0);var r=Uw.transition;Uw.transition={};try{t(!1),e()}finally{rt=n,Uw.transition=r}}function sM(){return ai().memoizedState}function JG(t,e,n){var r=jo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},oM(t))aM(e,n);else if(n=U2(t,e,n,r),n!==null){var i=rr();Pi(n,t,r,i),uM(n,e,r)}}function ZG(t,e,n){var r=jo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(oM(t))aM(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,u=s(o,n);if(i.hasEagerState=!0,i.eagerState=u,bi(u,o)){var l=e.interleaved;l===null?(i.next=i,rI(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=U2(t,e,i,r),n!==null&&(i=rr(),Pi(n,t,r,i),uM(n,e,r))}}function oM(t){var e=t.alternate;return t===bt||e!==null&&e===bt}function aM(t,e){qh=Mm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function uM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,BT(t,n)}}var Um={readContext:oi,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useInsertionEffect:kn,useLayoutEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useMutableSource:kn,useSyncExternalStore:kn,useId:kn,unstable_isNewReconciler:!1},e7={readContext:oi,useCallback:function(t,e){return Hi().memoizedState=[t,e===void 0?null:e],t},useContext:oi,useEffect:aO,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Bg(4194308,4,eM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Bg(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bg(4,2,t,e)},useMemo:function(t,e){var n=Hi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Hi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=JG.bind(null,bt,t),[r.memoizedState,t]},useRef:function(t){var e=Hi();return t={current:t},e.memoizedState=t},useState:oO,useDebugValue:fI,useDeferredValue:function(t){return Hi().memoizedState=t},useTransition:function(){var t=oO(!1),e=t[0];return t=XG.bind(null,t[1]),Hi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=bt,i=Hi();if(At){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),un===null)throw Error(J(349));nu&30||q2(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,aO(Y2.bind(null,r,s,t),[t]),r.flags|=2048,kf(9,G2.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Hi(),e=un.identifierPrefix;if(At){var n=xs,r=Ns;n=(r&~(1<<32-Ai(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Af++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=QG++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},t7={readContext:oi,useCallback:nM,useContext:oi,useEffect:hI,useImperativeHandle:tM,useInsertionEffect:J2,useLayoutEffect:Z2,useMemo:rM,useReducer:Fw,useRef:X2,useState:function(){return Fw(Pf)},useDebugValue:fI,useDeferredValue:function(t){var e=ai();return iM(e,Xt.memoizedState,t)},useTransition:function(){var t=Fw(Pf)[0],e=ai().memoizedState;return[t,e]},useMutableSource:z2,useSyncExternalStore:H2,useId:sM,unstable_isNewReconciler:!1},n7={readContext:oi,useCallback:nM,useContext:oi,useEffect:hI,useImperativeHandle:tM,useInsertionEffect:J2,useLayoutEffect:Z2,useMemo:rM,useReducer:$w,useRef:X2,useState:function(){return $w(Pf)},useDebugValue:fI,useDeferredValue:function(t){var e=ai();return Xt===null?e.memoizedState=t:iM(e,Xt.memoizedState,t)},useTransition:function(){var t=$w(Pf)[0],e=ai().memoizedState;return[t,e]},useMutableSource:z2,useSyncExternalStore:H2,useId:sM,unstable_isNewReconciler:!1};function Xl(t,e){try{var n="",r=e;do n+=bq(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Vw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function F1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var r7=typeof WeakMap=="function"?WeakMap:Map;function lM(t,e,n){n=Vs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$m||($m=!0,Y1=r),F1(t,e)},n}function cM(t,e,n){n=Vs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){F1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){F1(t,e),typeof r!="function"&&(Wo===null?Wo=new Set([this]):Wo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function uO(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new r7;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=_7.bind(null,t,e,n),e.then(t,t))}function lO(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cO(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Vs(-1,1),e.tag=2,Vo(n,e,1))),n.lanes|=1),t)}var i7=ro.ReactCurrentOwner,gr=!1;function Jn(t,e,n,r){e.child=t===null?j2(e,null,n,r):Kl(e,t.child,n,r)}function hO(t,e,n,r,i){n=n.render;var s=e.ref;return Al(e,i),r=lI(t,e,n,r,s,i),n=cI(),t!==null&&!gr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gs(t,e,i)):(At&&n&&XT(e),e.flags|=1,Jn(t,e,r,i),e.child)}function fO(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!wI(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,hM(t,e,s,r,i)):(t=Gg(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ef,n(o,r)&&t.ref===e.ref)return Gs(t,e,i)}return e.flags|=1,t=Bo(s,r),t.ref=e.ref,t.return=e,e.child=t}function hM(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ef(s,r)&&t.ref===e.ref)if(gr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(gr=!0);else return e.lanes=t.lanes,Gs(t,e,i)}return $1(t,e,n,r,i)}function fM(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(vl,Ar),Ar|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pt(vl,Ar),Ar|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,pt(vl,Ar),Ar|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,pt(vl,Ar),Ar|=r;return Jn(t,e,i,n),e.child}function dM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function $1(t,e,n,r,i){var s=_r(n)?eu:Bn.current;return s=Gl(e,s),Al(e,i),n=lI(t,e,n,r,s,i),r=cI(),t!==null&&!gr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gs(t,e,i)):(At&&r&&XT(e),e.flags|=1,Jn(t,e,n,i),e.child)}function dO(t,e,n,r,i){if(_r(n)){var s=!0;km(e)}else s=!1;if(Al(e,i),e.stateNode===null)zg(t,e),V2(e,n,r),U1(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var l=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=oi(h):(h=_r(n)?eu:Bn.current,h=Gl(e,h));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||l!==h)&&iO(e,o,r,h),yo=!1;var g=e.memoizedState;o.state=g,Dm(e,r,o,i),l=e.memoizedState,u!==r||g!==l||mr.current||yo?(typeof f=="function"&&(M1(e,n,f,r),l=e.memoizedState),(u=yo||rO(e,n,u,r,g,l,h))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=h,r=u):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,F2(t,e),u=e.memoizedProps,h=e.type===e.elementType?u:yi(e.type,u),o.props=h,p=e.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=oi(l):(l=_r(n)?eu:Bn.current,l=Gl(e,l));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==p||g!==l)&&iO(e,o,r,l),yo=!1,g=e.memoizedState,o.state=g,Dm(e,r,o,i);var E=e.memoizedState;u!==p||g!==E||mr.current||yo?(typeof v=="function"&&(M1(e,n,v,r),E=e.memoizedState),(h=yo||rO(e,n,h,r,g,E,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=h):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return V1(t,e,n,r,s,i)}function V1(t,e,n,r,i,s){dM(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Jb(e,n,!1),Gs(t,e,s);r=e.stateNode,i7.current=e;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Kl(e,t.child,null,s),e.child=Kl(e,null,u,s)):Jn(t,e,u,s),e.memoizedState=r.state,i&&Jb(e,n,!0),e.child}function pM(t){var e=t.stateNode;e.pendingContext?Xb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Xb(t,e.context,!1),sI(t,e.containerInfo)}function pO(t,e,n,r,i){return Yl(),ZT(i),e.flags|=256,Jn(t,e,n,r),e.child}var W1={dehydrated:null,treeContext:null,retryLane:0};function j1(t){return{baseLanes:t,cachePool:null,transitions:null}}function gM(t,e,n){var r=e.pendingProps,i=kt.current,s=!1,o=(e.flags&128)!==0,u;if((u=o)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),pt(kt,i&1),t===null)return D1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ov(o,r,0,null),t=Ya(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=j1(n),e.memoizedState=W1,t):dI(e,o));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return s7(t,e,o,r,u,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,u=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Bo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=Bo(u,s):(s=Ya(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?j1(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=W1,r}return s=t.child,t=s.sibling,r=Bo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function dI(t,e){return e=ov({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ag(t,e,n,r){return r!==null&&ZT(r),Kl(e,t.child,null,n),t=dI(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function s7(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Vw(Error(J(422))),ag(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ov({mode:"visible",children:r.children},i,0,null),s=Ya(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Kl(e,t.child,null,o),e.child.memoizedState=j1(o),e.memoizedState=W1,s);if(!(e.mode&1))return ag(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(J(419)),r=Vw(s,r,void 0),ag(t,e,o,r)}if(u=(o&t.childLanes)!==0,gr||u){if(r=un,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,qs(t,i),Pi(r,t,i,-1))}return yI(),r=Vw(Error(J(421))),ag(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=v7.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,br=$o(i.nextSibling),Or=e,At=!0,Ei=null,t!==null&&(Qr[Xr++]=Ns,Qr[Xr++]=xs,Qr[Xr++]=tu,Ns=t.id,xs=t.overflow,tu=e),e=dI(e,r.children),e.flags|=4096,e)}function gO(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),L1(t.return,e,n)}function Ww(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function mM(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Jn(t,e,r.children,n),r=kt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gO(t,n,e);else if(t.tag===19)gO(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(pt(kt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Lm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ww(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Lm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ww(e,!0,n,null,s);break;case"together":Ww(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Gs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ru|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=Bo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function o7(t,e,n){switch(e.tag){case 3:pM(e),Yl();break;case 5:B2(e);break;case 1:_r(e.type)&&km(e);break;case 4:sI(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;pt(Nm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(pt(kt,kt.current&1),e.flags|=128,null):n&e.child.childLanes?gM(t,e,n):(pt(kt,kt.current&1),t=Gs(t,e,n),t!==null?t.sibling:null);pt(kt,kt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return mM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pt(kt,kt.current),r)break;return null;case 22:case 23:return e.lanes=0,fM(t,e,n)}return Gs(t,e,n)}var _M,B1,vM,yM;_M=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};B1=function(){};vM=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Va(ts.current);var s=null;switch(n){case"input":i=h1(t,i),r=h1(t,r),s=[];break;case"select":i=Ot({},i,{value:void 0}),r=Ot({},r,{value:void 0}),s=[];break;case"textarea":i=p1(t,i),r=p1(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Am)}m1(n,r);var o;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var u=i[h];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(pf.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var l=r[h];if(u=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&l!==u&&(l!=null||u!=null))if(h==="style")if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(h,n)),n=l;else h==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,u=u?u.__html:void 0,l!=null&&u!==l&&(s=s||[]).push(h,l)):h==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(h,""+l):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(pf.hasOwnProperty(h)?(l!=null&&h==="onScroll"&&mt("scroll",t),s||u===l||(s=[])):(s=s||[]).push(h,l))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};yM=function(t,e,n,r){n!==r&&(e.flags|=4)};function mh(t,e){if(!At)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function bn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function a7(t,e,n){var r=e.pendingProps;switch(JT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bn(e),null;case 1:return _r(e.type)&&Pm(),bn(e),null;case 3:return r=e.stateNode,Ql(),wt(mr),wt(Bn),aI(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(sg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ei!==null&&(X1(Ei),Ei=null))),B1(t,e),bn(e),null;case 5:oI(e);var i=Va(Rf.current);if(n=e.type,t!==null&&e.stateNode!=null)vM(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return bn(e),null}if(t=Va(ts.current),sg(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[qi]=e,r[If]=s,t=(e.mode&1)!==0,n){case"dialog":mt("cancel",r),mt("close",r);break;case"iframe":case"object":case"embed":mt("load",r);break;case"video":case"audio":for(i=0;i<Oh.length;i++)mt(Oh[i],r);break;case"source":mt("error",r);break;case"img":case"image":case"link":mt("error",r),mt("load",r);break;case"details":mt("toggle",r);break;case"input":Ib(r,s),mt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},mt("invalid",r);break;case"textarea":Rb(r,s),mt("invalid",r)}m1(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&ig(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&ig(r.textContent,u,t),i=["children",""+u]):pf.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&mt("scroll",r)}switch(n){case"input":Qp(r),Cb(r,s,!0);break;case"textarea":Qp(r),Ab(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Am)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qL(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[qi]=e,t[If]=r,_M(t,e,!1,!1),e.stateNode=t;e:{switch(o=_1(n,r),n){case"dialog":mt("cancel",t),mt("close",t),i=r;break;case"iframe":case"object":case"embed":mt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Oh.length;i++)mt(Oh[i],t);i=r;break;case"source":mt("error",t),i=r;break;case"img":case"image":case"link":mt("error",t),mt("load",t),i=r;break;case"details":mt("toggle",t),i=r;break;case"input":Ib(t,r),i=h1(t,r),mt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ot({},r,{value:void 0}),mt("invalid",t);break;case"textarea":Rb(t,r),i=p1(t,r),mt("invalid",t);break;default:i=r}m1(n,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var l=u[s];s==="style"?KL(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&GL(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&gf(t,l):typeof l=="number"&&gf(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(pf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&mt("scroll",t):l!=null&&UT(t,s,l,o))}switch(n){case"input":Qp(t),Cb(t,r,!1);break;case"textarea":Qp(t),Ab(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ta(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Tl(t,!!r.multiple,s,!1):r.defaultValue!=null&&Tl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Am)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return bn(e),null;case 6:if(t&&e.stateNode!=null)yM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=Va(Rf.current),Va(ts.current),sg(e)){if(r=e.stateNode,n=e.memoizedProps,r[qi]=e,(s=r.nodeValue!==n)&&(t=Or,t!==null))switch(t.tag){case 3:ig(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ig(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qi]=e,e.stateNode=r}return bn(e),null;case 13:if(wt(kt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(At&&br!==null&&e.mode&1&&!(e.flags&128))M2(),Yl(),e.flags|=98560,s=!1;else if(s=sg(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(J(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(J(317));s[qi]=e}else Yl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bn(e),s=!1}else Ei!==null&&(X1(Ei),Ei=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||kt.current&1?en===0&&(en=3):yI())),e.updateQueue!==null&&(e.flags|=4),bn(e),null);case 4:return Ql(),B1(t,e),t===null&&Sf(e.stateNode.containerInfo),bn(e),null;case 10:return nI(e.type._context),bn(e),null;case 17:return _r(e.type)&&Pm(),bn(e),null;case 19:if(wt(kt),s=e.memoizedState,s===null)return bn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)mh(s,!1);else{if(en!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Lm(t),o!==null){for(e.flags|=128,mh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return pt(kt,kt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Bt()>Jl&&(e.flags|=128,r=!0,mh(s,!1),e.lanes=4194304)}else{if(!r)if(t=Lm(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),mh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!At)return bn(e),null}else 2*Bt()-s.renderingStartTime>Jl&&n!==1073741824&&(e.flags|=128,r=!0,mh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Bt(),e.sibling=null,n=kt.current,pt(kt,r?n&1|2:n&1),e):(bn(e),null);case 22:case 23:return vI(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ar&1073741824&&(bn(e),e.subtreeFlags&6&&(e.flags|=8192)):bn(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function u7(t,e){switch(JT(e),e.tag){case 1:return _r(e.type)&&Pm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ql(),wt(mr),wt(Bn),aI(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return oI(e),null;case 13:if(wt(kt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Yl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return wt(kt),null;case 4:return Ql(),null;case 10:return nI(e.type._context),null;case 22:case 23:return vI(),null;case 24:return null;default:return null}}var ug=!1,Mn=!1,l7=typeof WeakSet=="function"?WeakSet:Set,he=null;function _l(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Dt(t,e,r)}else n.current=null}function z1(t,e,n){try{n()}catch(r){Dt(t,e,r)}}var mO=!1;function c7(t,e){if(A1=Im,t=T2(),QT(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,u=-1,l=-1,h=0,f=0,p=t,g=null;t:for(;;){for(var v;p!==n||i!==0&&p.nodeType!==3||(u=o+i),p!==s||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(v=p.firstChild)!==null;)g=p,p=v;for(;;){if(p===t)break t;if(g===n&&++h===i&&(u=o),g===s&&++f===r&&(l=o),(v=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=v}n=u===-1||l===-1?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(P1={focusedElem:t,selectionRange:n},Im=!1,he=e;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var C=E.memoizedProps,A=E.memoizedState,S=e.stateNode,T=S.getSnapshotBeforeUpdate(e.elementType===e.type?C:yi(e.type,C),A);S.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(b){Dt(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return E=mO,mO=!1,E}function Gh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&z1(e,n,s)}i=i.next}while(i!==r)}}function iv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function H1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function wM(t){var e=t.alternate;e!==null&&(t.alternate=null,wM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qi],delete e[If],delete e[O1],delete e[qG],delete e[GG])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function EM(t){return t.tag===5||t.tag===3||t.tag===4}function _O(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||EM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function q1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Am));else if(r!==4&&(t=t.child,t!==null))for(q1(t,e,n),t=t.sibling;t!==null;)q1(t,e,n),t=t.sibling}function G1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(G1(t,e,n),t=t.sibling;t!==null;)G1(t,e,n),t=t.sibling}var mn=null,wi=!1;function mo(t,e,n){for(n=n.child;n!==null;)SM(t,e,n),n=n.sibling}function SM(t,e,n){if(es&&typeof es.onCommitFiberUnmount=="function")try{es.onCommitFiberUnmount(Q_,n)}catch{}switch(n.tag){case 5:Mn||_l(n,e);case 6:var r=mn,i=wi;mn=null,mo(t,e,n),mn=r,wi=i,mn!==null&&(wi?(t=mn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):mn.removeChild(n.stateNode));break;case 18:mn!==null&&(wi?(t=mn,n=n.stateNode,t.nodeType===8?Dw(t.parentNode,n):t.nodeType===1&&Dw(t,n),yf(t)):Dw(mn,n.stateNode));break;case 4:r=mn,i=wi,mn=n.stateNode.containerInfo,wi=!0,mo(t,e,n),mn=r,wi=i;break;case 0:case 11:case 14:case 15:if(!Mn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&z1(n,e,o),i=i.next}while(i!==r)}mo(t,e,n);break;case 1:if(!Mn&&(_l(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Dt(n,e,u)}mo(t,e,n);break;case 21:mo(t,e,n);break;case 22:n.mode&1?(Mn=(r=Mn)||n.memoizedState!==null,mo(t,e,n),Mn=r):mo(t,e,n);break;default:mo(t,e,n)}}function vO(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new l7),e.forEach(function(r){var i=y7.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function vi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,u=o;e:for(;u!==null;){switch(u.tag){case 5:mn=u.stateNode,wi=!1;break e;case 3:mn=u.stateNode.containerInfo,wi=!0;break e;case 4:mn=u.stateNode.containerInfo,wi=!0;break e}u=u.return}if(mn===null)throw Error(J(160));SM(s,o,i),mn=null,wi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(h){Dt(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)TM(e,t),e=e.sibling}function TM(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vi(e,t),zi(t),r&4){try{Gh(3,t,t.return),iv(3,t)}catch(C){Dt(t,t.return,C)}try{Gh(5,t,t.return)}catch(C){Dt(t,t.return,C)}}break;case 1:vi(e,t),zi(t),r&512&&n!==null&&_l(n,n.return);break;case 5:if(vi(e,t),zi(t),r&512&&n!==null&&_l(n,n.return),t.flags&32){var i=t.stateNode;try{gf(i,"")}catch(C){Dt(t,t.return,C)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,u=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&zL(i,s),_1(u,o);var h=_1(u,s);for(o=0;o<l.length;o+=2){var f=l[o],p=l[o+1];f==="style"?KL(i,p):f==="dangerouslySetInnerHTML"?GL(i,p):f==="children"?gf(i,p):UT(i,f,p,h)}switch(u){case"input":f1(i,s);break;case"textarea":HL(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Tl(i,!!s.multiple,v,!1):g!==!!s.multiple&&(s.defaultValue!=null?Tl(i,!!s.multiple,s.defaultValue,!0):Tl(i,!!s.multiple,s.multiple?[]:"",!1))}i[If]=s}catch(C){Dt(t,t.return,C)}}break;case 6:if(vi(e,t),zi(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(C){Dt(t,t.return,C)}}break;case 3:if(vi(e,t),zi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yf(e.containerInfo)}catch(C){Dt(t,t.return,C)}break;case 4:vi(e,t),zi(t);break;case 13:vi(e,t),zi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(mI=Bt())),r&4&&vO(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Mn=(h=Mn)||f,vi(e,t),Mn=h):vi(e,t),zi(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(he=t,f=t.child;f!==null;){for(p=he=f;he!==null;){switch(g=he,v=g.child,g.tag){case 0:case 11:case 14:case 15:Gh(4,g,g.return);break;case 1:_l(g,g.return);var E=g.stateNode;if(typeof E.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(C){Dt(r,n,C)}}break;case 5:_l(g,g.return);break;case 22:if(g.memoizedState!==null){wO(p);continue}}v!==null?(v.return=g,he=v):wO(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,u.style.display=YL("display",o))}catch(C){Dt(t,t.return,C)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(C){Dt(t,t.return,C)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:vi(e,t),zi(t),r&4&&vO(t);break;case 21:break;default:vi(e,t),zi(t)}}function zi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(EM(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(gf(i,""),r.flags&=-33);var s=_O(t);G1(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,u=_O(t);q1(t,u,o);break;default:throw Error(J(161))}}catch(l){Dt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function h7(t,e,n){he=t,IM(t)}function IM(t,e,n){for(var r=(t.mode&1)!==0;he!==null;){var i=he,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ug;if(!o){var u=i.alternate,l=u!==null&&u.memoizedState!==null||Mn;u=ug;var h=Mn;if(ug=o,(Mn=l)&&!h)for(he=i;he!==null;)o=he,l=o.child,o.tag===22&&o.memoizedState!==null?EO(i):l!==null?(l.return=o,he=l):EO(i);for(;s!==null;)he=s,IM(s),s=s.sibling;he=i,ug=u,Mn=h}yO(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,he=s):yO(t)}}function yO(t){for(;he!==null;){var e=he;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Mn||iv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Mn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:yi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&nO(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}nO(e,o,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&yf(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Mn||e.flags&512&&H1(e)}catch(g){Dt(e,e.return,g)}}if(e===t){he=null;break}if(n=e.sibling,n!==null){n.return=e.return,he=n;break}he=e.return}}function wO(t){for(;he!==null;){var e=he;if(e===t){he=null;break}var n=e.sibling;if(n!==null){n.return=e.return,he=n;break}he=e.return}}function EO(t){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{iv(4,e)}catch(l){Dt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Dt(e,i,l)}}var s=e.return;try{H1(e)}catch(l){Dt(e,s,l)}break;case 5:var o=e.return;try{H1(e)}catch(l){Dt(e,o,l)}}}catch(l){Dt(e,e.return,l)}if(e===t){he=null;break}var u=e.sibling;if(u!==null){u.return=e.return,he=u;break}he=e.return}}var f7=Math.ceil,Fm=ro.ReactCurrentDispatcher,pI=ro.ReactCurrentOwner,ii=ro.ReactCurrentBatchConfig,Ye=0,un=null,qt=null,Sn=0,Ar=0,vl=pa(0),en=0,bf=null,ru=0,sv=0,gI=0,Yh=null,dr=null,mI=0,Jl=1/0,As=null,$m=!1,Y1=null,Wo=null,lg=!1,ko=null,Vm=0,Kh=0,K1=null,Hg=-1,qg=0;function rr(){return Ye&6?Bt():Hg!==-1?Hg:Hg=Bt()}function jo(t){return t.mode&1?Ye&2&&Sn!==0?Sn&-Sn:KG.transition!==null?(qg===0&&(qg=a2()),qg):(t=rt,t!==0||(t=window.event,t=t===void 0?16:p2(t.type)),t):1}function Pi(t,e,n,r){if(50<Kh)throw Kh=0,K1=null,Error(J(185));md(t,n,r),(!(Ye&2)||t!==un)&&(t===un&&(!(Ye&2)&&(sv|=n),en===4&&Eo(t,Sn)),vr(t,r),n===1&&Ye===0&&!(e.mode&1)&&(Jl=Bt()+500,tv&&ga()))}function vr(t,e){var n=t.callbackNode;Kq(t,e);var r=Tm(t,t===un?Sn:0);if(r===0)n!==null&&bb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&bb(n),e===1)t.tag===0?YG(SO.bind(null,t)):x2(SO.bind(null,t)),zG(function(){!(Ye&6)&&ga()}),n=null;else{switch(u2(r)){case 1:n=jT;break;case 4:n=s2;break;case 16:n=Sm;break;case 536870912:n=o2;break;default:n=Sm}n=NM(n,CM.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function CM(t,e){if(Hg=-1,qg=0,Ye&6)throw Error(J(327));var n=t.callbackNode;if(Pl()&&t.callbackNode!==n)return null;var r=Tm(t,t===un?Sn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Wm(t,r);else{e=r;var i=Ye;Ye|=2;var s=AM();(un!==t||Sn!==e)&&(As=null,Jl=Bt()+500,Ga(t,e));do try{g7();break}catch(u){RM(t,u)}while(1);tI(),Fm.current=s,Ye=i,qt!==null?e=0:(un=null,Sn=0,e=en)}if(e!==0){if(e===2&&(i=S1(t),i!==0&&(r=i,e=Q1(t,i))),e===1)throw n=bf,Ga(t,0),Eo(t,r),vr(t,Bt()),n;if(e===6)Eo(t,r);else{if(i=t.current.alternate,!(r&30)&&!d7(i)&&(e=Wm(t,r),e===2&&(s=S1(t),s!==0&&(r=s,e=Q1(t,s))),e===1))throw n=bf,Ga(t,0),Eo(t,r),vr(t,Bt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:Oa(t,dr,As);break;case 3:if(Eo(t,r),(r&130023424)===r&&(e=mI+500-Bt(),10<e)){if(Tm(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){rr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=b1(Oa.bind(null,t,dr,As),e);break}Oa(t,dr,As);break;case 4:if(Eo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ai(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Bt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*f7(r/1960))-r,10<r){t.timeoutHandle=b1(Oa.bind(null,t,dr,As),r);break}Oa(t,dr,As);break;case 5:Oa(t,dr,As);break;default:throw Error(J(329))}}}return vr(t,Bt()),t.callbackNode===n?CM.bind(null,t):null}function Q1(t,e){var n=Yh;return t.current.memoizedState.isDehydrated&&(Ga(t,e).flags|=256),t=Wm(t,e),t!==2&&(e=dr,dr=n,e!==null&&X1(e)),t}function X1(t){dr===null?dr=t:dr.push.apply(dr,t)}function d7(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!bi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Eo(t,e){for(e&=~gI,e&=~sv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ai(e),r=1<<n;t[n]=-1,e&=~r}}function SO(t){if(Ye&6)throw Error(J(327));Pl();var e=Tm(t,0);if(!(e&1))return vr(t,Bt()),null;var n=Wm(t,e);if(t.tag!==0&&n===2){var r=S1(t);r!==0&&(e=r,n=Q1(t,r))}if(n===1)throw n=bf,Ga(t,0),Eo(t,e),vr(t,Bt()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Oa(t,dr,As),vr(t,Bt()),null}function _I(t,e){var n=Ye;Ye|=1;try{return t(e)}finally{Ye=n,Ye===0&&(Jl=Bt()+500,tv&&ga())}}function iu(t){ko!==null&&ko.tag===0&&!(Ye&6)&&Pl();var e=Ye;Ye|=1;var n=ii.transition,r=rt;try{if(ii.transition=null,rt=1,t)return t()}finally{rt=r,ii.transition=n,Ye=e,!(Ye&6)&&ga()}}function vI(){Ar=vl.current,wt(vl)}function Ga(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,BG(n)),qt!==null)for(n=qt.return;n!==null;){var r=n;switch(JT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pm();break;case 3:Ql(),wt(mr),wt(Bn),aI();break;case 5:oI(r);break;case 4:Ql();break;case 13:wt(kt);break;case 19:wt(kt);break;case 10:nI(r.type._context);break;case 22:case 23:vI()}n=n.return}if(un=t,qt=t=Bo(t.current,null),Sn=Ar=e,en=0,bf=null,gI=sv=ru=0,dr=Yh=null,$a!==null){for(e=0;e<$a.length;e++)if(n=$a[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}$a=null}return t}function RM(t,e){do{var n=qt;try{if(tI(),jg.current=Um,Mm){for(var r=bt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Mm=!1}if(nu=0,an=Xt=bt=null,qh=!1,Af=0,pI.current=null,n===null||n.return===null){en=1,bf=e,qt=null;break}e:{var s=t,o=n.return,u=n,l=e;if(e=Sn,u.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=l,f=u,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=lO(o);if(v!==null){v.flags&=-257,cO(v,o,u,s,e),v.mode&1&&uO(s,h,e),e=v,l=h;var E=e.updateQueue;if(E===null){var C=new Set;C.add(l),e.updateQueue=C}else E.add(l);break e}else{if(!(e&1)){uO(s,h,e),yI();break e}l=Error(J(426))}}else if(At&&u.mode&1){var A=lO(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),cO(A,o,u,s,e),ZT(Xl(l,u));break e}}s=l=Xl(l,u),en!==4&&(en=2),Yh===null?Yh=[s]:Yh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=lM(s,l,e);tO(s,S);break e;case 1:u=l;var T=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof T.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Wo===null||!Wo.has(k)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=cM(s,u,e);tO(s,b);break e}}s=s.return}while(s!==null)}kM(n)}catch(F){e=F,qt===n&&n!==null&&(qt=n=n.return);continue}break}while(1)}function AM(){var t=Fm.current;return Fm.current=Um,t===null?Um:t}function yI(){(en===0||en===3||en===2)&&(en=4),un===null||!(ru&268435455)&&!(sv&268435455)||Eo(un,Sn)}function Wm(t,e){var n=Ye;Ye|=2;var r=AM();(un!==t||Sn!==e)&&(As=null,Ga(t,e));do try{p7();break}catch(i){RM(t,i)}while(1);if(tI(),Ye=n,Fm.current=r,qt!==null)throw Error(J(261));return un=null,Sn=0,en}function p7(){for(;qt!==null;)PM(qt)}function g7(){for(;qt!==null&&!Vq();)PM(qt)}function PM(t){var e=OM(t.alternate,t,Ar);t.memoizedProps=t.pendingProps,e===null?kM(t):qt=e,pI.current=null}function kM(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=u7(n,e),n!==null){n.flags&=32767,qt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{en=6,qt=null;return}}else if(n=a7(n,e,Ar),n!==null){qt=n;return}if(e=e.sibling,e!==null){qt=e;return}qt=e=t}while(e!==null);en===0&&(en=5)}function Oa(t,e,n){var r=rt,i=ii.transition;try{ii.transition=null,rt=1,m7(t,e,n,r)}finally{ii.transition=i,rt=r}return null}function m7(t,e,n,r){do Pl();while(ko!==null);if(Ye&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Qq(t,s),t===un&&(qt=un=null,Sn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||lg||(lg=!0,NM(Sm,function(){return Pl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ii.transition,ii.transition=null;var o=rt;rt=1;var u=Ye;Ye|=4,pI.current=null,c7(t,n),TM(n,t),MG(P1),Im=!!A1,P1=A1=null,t.current=n,h7(n),Wq(),Ye=u,rt=o,ii.transition=s}else t.current=n;if(lg&&(lg=!1,ko=t,Vm=i),s=t.pendingLanes,s===0&&(Wo=null),zq(n.stateNode),vr(t,Bt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($m)throw $m=!1,t=Y1,Y1=null,t;return Vm&1&&t.tag!==0&&Pl(),s=t.pendingLanes,s&1?t===K1?Kh++:(Kh=0,K1=t):Kh=0,ga(),null}function Pl(){if(ko!==null){var t=u2(Vm),e=ii.transition,n=rt;try{if(ii.transition=null,rt=16>t?16:t,ko===null)var r=!1;else{if(t=ko,ko=null,Vm=0,Ye&6)throw Error(J(331));var i=Ye;for(Ye|=4,he=t.current;he!==null;){var s=he,o=s.child;if(he.flags&16){var u=s.deletions;if(u!==null){for(var l=0;l<u.length;l++){var h=u[l];for(he=h;he!==null;){var f=he;switch(f.tag){case 0:case 11:case 15:Gh(8,f,s)}var p=f.child;if(p!==null)p.return=f,he=p;else for(;he!==null;){f=he;var g=f.sibling,v=f.return;if(wM(f),f===h){he=null;break}if(g!==null){g.return=v,he=g;break}he=v}}}var E=s.alternate;if(E!==null){var C=E.child;if(C!==null){E.child=null;do{var A=C.sibling;C.sibling=null,C=A}while(C!==null)}}he=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,he=o;else e:for(;he!==null;){if(s=he,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Gh(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,he=S;break e}he=s.return}}var T=t.current;for(he=T;he!==null;){o=he;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,he=k;else e:for(o=T;he!==null;){if(u=he,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:iv(9,u)}}catch(F){Dt(u,u.return,F)}if(u===o){he=null;break e}var b=u.sibling;if(b!==null){b.return=u.return,he=b;break e}he=u.return}}if(Ye=i,ga(),es&&typeof es.onPostCommitFiberRoot=="function")try{es.onPostCommitFiberRoot(Q_,t)}catch{}r=!0}return r}finally{rt=n,ii.transition=e}}return!1}function TO(t,e,n){e=Xl(n,e),e=lM(t,e,1),t=Vo(t,e,1),e=rr(),t!==null&&(md(t,1,e),vr(t,e))}function Dt(t,e,n){if(t.tag===3)TO(t,t,n);else for(;e!==null;){if(e.tag===3){TO(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wo===null||!Wo.has(r))){t=Xl(n,t),t=cM(e,t,1),e=Vo(e,t,1),t=rr(),e!==null&&(md(e,1,t),vr(e,t));break}}e=e.return}}function _7(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=rr(),t.pingedLanes|=t.suspendedLanes&n,un===t&&(Sn&n)===n&&(en===4||en===3&&(Sn&130023424)===Sn&&500>Bt()-mI?Ga(t,0):gI|=n),vr(t,e)}function bM(t,e){e===0&&(t.mode&1?(e=Zp,Zp<<=1,!(Zp&130023424)&&(Zp=4194304)):e=1);var n=rr();t=qs(t,e),t!==null&&(md(t,e,n),vr(t,n))}function v7(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),bM(t,n)}function y7(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),bM(t,n)}var OM;OM=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||mr.current)gr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return gr=!1,o7(t,e,n);gr=!!(t.flags&131072)}else gr=!1,At&&e.flags&1048576&&D2(e,Om,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;zg(t,e),t=e.pendingProps;var i=Gl(e,Bn.current);Al(e,n),i=lI(null,e,r,t,i,n);var s=cI();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_r(r)?(s=!0,km(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,iI(e),i.updater=nv,e.stateNode=i,i._reactInternals=e,U1(e,r,t,n),e=V1(null,e,r,!0,s,n)):(e.tag=0,At&&s&&XT(e),Jn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(zg(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=E7(r),t=yi(r,t),i){case 0:e=$1(null,e,r,t,n);break e;case 1:e=dO(null,e,r,t,n);break e;case 11:e=hO(null,e,r,t,n);break e;case 14:e=fO(null,e,r,yi(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yi(r,i),$1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yi(r,i),dO(t,e,r,i,n);case 3:e:{if(pM(e),t===null)throw Error(J(387));r=e.pendingProps,s=e.memoizedState,i=s.element,F2(t,e),Dm(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Xl(Error(J(423)),e),e=pO(t,e,r,n,i);break e}else if(r!==i){i=Xl(Error(J(424)),e),e=pO(t,e,r,n,i);break e}else for(br=$o(e.stateNode.containerInfo.firstChild),Or=e,At=!0,Ei=null,n=j2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yl(),r===i){e=Gs(t,e,n);break e}Jn(t,e,r,n)}e=e.child}return e;case 5:return B2(e),t===null&&D1(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,k1(r,i)?o=null:s!==null&&k1(r,s)&&(e.flags|=32),dM(t,e),Jn(t,e,o,n),e.child;case 6:return t===null&&D1(e),null;case 13:return gM(t,e,n);case 4:return sI(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Kl(e,null,r,n):Jn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yi(r,i),hO(t,e,r,i,n);case 7:return Jn(t,e,e.pendingProps,n),e.child;case 8:return Jn(t,e,e.pendingProps.children,n),e.child;case 12:return Jn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,pt(Nm,r._currentValue),r._currentValue=o,s!==null)if(bi(s.value,o)){if(s.children===i.children&&!mr.current){e=Gs(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){o=s.child;for(var l=u.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Vs(-1,n&-n),l.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?l.next=l:(l.next=f.next,f.next=l),h.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),L1(s.return,n,e),u.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(J(341));o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),L1(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Jn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Al(e,n),i=oi(i),r=r(i),e.flags|=1,Jn(t,e,r,n),e.child;case 14:return r=e.type,i=yi(r,e.pendingProps),i=yi(r.type,i),fO(t,e,r,i,n);case 15:return hM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yi(r,i),zg(t,e),e.tag=1,_r(r)?(t=!0,km(e)):t=!1,Al(e,n),V2(e,r,i),U1(e,r,i,n),V1(null,e,r,!0,t,n);case 19:return mM(t,e,n);case 22:return fM(t,e,n)}throw Error(J(156,e.tag))};function NM(t,e){return i2(t,e)}function w7(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(t,e,n,r){return new w7(t,e,n,r)}function wI(t){return t=t.prototype,!(!t||!t.isReactComponent)}function E7(t){if(typeof t=="function")return wI(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$T)return 11;if(t===VT)return 14}return 2}function Bo(t,e){var n=t.alternate;return n===null?(n=ni(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Gg(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")wI(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ul:return Ya(n.children,i,s,e);case FT:o=8,i|=8;break;case a1:return t=ni(12,n,e,i|2),t.elementType=a1,t.lanes=s,t;case u1:return t=ni(13,n,e,i),t.elementType=u1,t.lanes=s,t;case l1:return t=ni(19,n,e,i),t.elementType=l1,t.lanes=s,t;case WL:return ov(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $L:o=10;break e;case VL:o=9;break e;case $T:o=11;break e;case VT:o=14;break e;case vo:o=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=ni(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ya(t,e,n,r){return t=ni(7,t,r,e),t.lanes=n,t}function ov(t,e,n,r){return t=ni(22,t,r,e),t.elementType=WL,t.lanes=n,t.stateNode={isHidden:!1},t}function jw(t,e,n){return t=ni(6,t,null,e),t.lanes=n,t}function Bw(t,e,n){return e=ni(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function S7(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tw(0),this.expirationTimes=Tw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function EI(t,e,n,r,i,s,o,u,l){return t=new S7(t,e,n,u,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ni(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},iI(s),t}function T7(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:al,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function xM(t){if(!t)return na;t=t._reactInternals;e:{if(yu(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_r(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(_r(n))return N2(t,n,e)}return e}function DM(t,e,n,r,i,s,o,u,l){return t=EI(n,r,!0,t,i,s,o,u,l),t.context=xM(null),n=t.current,r=rr(),i=jo(n),s=Vs(r,i),s.callback=e??null,Vo(n,s,i),t.current.lanes=i,md(t,i,r),vr(t,r),t}function av(t,e,n,r){var i=e.current,s=rr(),o=jo(i);return n=xM(n),e.context===null?e.context=n:e.pendingContext=n,e=Vs(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Vo(i,e,o),t!==null&&(Pi(t,i,o,s),Wg(t,i,o)),o}function jm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function IO(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function SI(t,e){IO(t,e),(t=t.alternate)&&IO(t,e)}function I7(){return null}var LM=typeof reportError=="function"?reportError:function(t){console.error(t)};function TI(t){this._internalRoot=t}uv.prototype.render=TI.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));av(t,e,null,null)};uv.prototype.unmount=TI.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;iu(function(){av(null,t,null,null)}),e[Hs]=null}};function uv(t){this._internalRoot=t}uv.prototype.unstable_scheduleHydration=function(t){if(t){var e=h2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wo.length&&e!==0&&e<wo[n].priority;n++);wo.splice(n,0,t),n===0&&d2(t)}};function II(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function CO(){}function C7(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=jm(o);s.call(h)}}var o=DM(e,r,t,0,null,!1,!1,"",CO);return t._reactRootContainer=o,t[Hs]=o.current,Sf(t.nodeType===8?t.parentNode:t),iu(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var h=jm(l);u.call(h)}}var l=EI(t,0,!1,null,null,!1,!1,"",CO);return t._reactRootContainer=l,t[Hs]=l.current,Sf(t.nodeType===8?t.parentNode:t),iu(function(){av(e,l,n,r)}),l}function cv(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var u=i;i=function(){var l=jm(o);u.call(l)}}av(e,o,t,i)}else o=C7(n,e,t,i,r);return jm(o)}l2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=bh(e.pendingLanes);n!==0&&(BT(e,n|1),vr(e,Bt()),!(Ye&6)&&(Jl=Bt()+500,ga()))}break;case 13:iu(function(){var r=qs(t,1);if(r!==null){var i=rr();Pi(r,t,1,i)}}),SI(t,1)}};zT=function(t){if(t.tag===13){var e=qs(t,134217728);if(e!==null){var n=rr();Pi(e,t,134217728,n)}SI(t,134217728)}};c2=function(t){if(t.tag===13){var e=jo(t),n=qs(t,e);if(n!==null){var r=rr();Pi(n,t,e,r)}SI(t,e)}};h2=function(){return rt};f2=function(t,e){var n=rt;try{return rt=t,e()}finally{rt=n}};y1=function(t,e,n){switch(e){case"input":if(f1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ev(r);if(!i)throw Error(J(90));BL(r),f1(r,i)}}}break;case"textarea":HL(t,n);break;case"select":e=n.value,e!=null&&Tl(t,!!n.multiple,e,!1)}};JL=_I;ZL=iu;var R7={usingClientEntryPoint:!1,Events:[vd,fl,ev,QL,XL,_I]},_h={findFiberByHostInstance:Fa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},A7={bundleType:_h.bundleType,version:_h.version,rendererPackageName:_h.rendererPackageName,rendererConfig:_h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ro.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=n2(t),t===null?null:t.stateNode},findFiberByHostInstance:_h.findFiberByHostInstance||I7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cg.isDisabled&&cg.supportsFiber)try{Q_=cg.inject(A7),es=cg}catch{}}Mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R7;Mr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!II(e))throw Error(J(200));return T7(t,e,null,n)};Mr.createRoot=function(t,e){if(!II(t))throw Error(J(299));var n=!1,r="",i=LM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=EI(t,1,!1,null,null,n,!1,r,i),t[Hs]=e.current,Sf(t.nodeType===8?t.parentNode:t),new TI(e)};Mr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=n2(e),t=t===null?null:t.stateNode,t};Mr.flushSync=function(t){return iu(t)};Mr.hydrate=function(t,e,n){if(!lv(e))throw Error(J(200));return cv(null,t,e,!0,n)};Mr.hydrateRoot=function(t,e,n){if(!II(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=LM;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=DM(e,null,t,1,n??null,i,!1,s,o),t[Hs]=e.current,Sf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new uv(e)};Mr.render=function(t,e,n){if(!lv(e))throw Error(J(200));return cv(null,t,e,!1,n)};Mr.unmountComponentAtNode=function(t){if(!lv(t))throw Error(J(40));return t._reactRootContainer?(iu(function(){cv(null,null,t,!1,function(){t._reactRootContainer=null,t[Hs]=null})}),!0):!1};Mr.unstable_batchedUpdates=_I;Mr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!lv(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return cv(t,e,n,!1,r)};Mr.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Mr})(Iq);var RO=vm;i1.createRoot=RO.createRoot,i1.hydrateRoot=RO.hydrateRoot;function P7(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const AO={};function J1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&AO[e[0]]||(typeof e[0]=="string"&&(AO[e[0]]=new Date),P7(...e))}const MM=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}};function PO(t,e,n){t.loadNamespaces(e,MM(t,n))}function kO(t,e,n,r){typeof n=="string"&&(n=[n]),n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,MM(t,r))}function k7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=e.languages[0],i=e.options?e.options.fallbackLng:!1,s=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(u,l)=>{const h=e.services.backendConnector.state[`${u}|${l}`];return h===-1||h===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(r,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(r,t)&&(!i||o(s,t)))}function b7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(J1("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:n.lng,precheck:(i,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!s(i.isLanguageChangingTo,t))return!1}}):k7(t,e,n)}const O7=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,N7={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},x7=t=>N7[t],D7=t=>t.replace(O7,x7);let Z1={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:D7};function L7(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Z1={...Z1,...t}}function M7(){return Z1}let UM;function U7(t){UM=t}function F7(){return UM}const $7={type:"3rdParty",init(t){L7(t.options.react),U7(t)}},FM=X.createContext();class V7{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const W7=(t,e)=>{const n=X.useRef();return X.useEffect(()=>{n.current=e?n.current:t},[t,e]),n.current};function $M(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=e,{i18n:r,defaultNS:i}=X.useContext(FM)||{},s=n||r||F7();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new V7),!s){J1("You will need to pass in an i18next instance by using initReactI18next");const k=(F,V)=>typeof V=="string"?V:V&&typeof V=="object"&&typeof V.defaultValue=="string"?V.defaultValue:Array.isArray(F)?F[F.length-1]:F,b=[k,{},!1];return b.t=k,b.i18n={},b.ready=!1,b}s.options.react&&s.options.react.wait!==void 0&&J1("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...M7(),...s.options.react,...e},{useSuspense:u,keyPrefix:l}=o;let h=t||i||s.options&&s.options.defaultNS;h=typeof h=="string"?[h]:h||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(h);const f=(s.isInitialized||s.initializedStoreOnce)&&h.every(k=>b7(k,s,o));function p(){return s.getFixedT(e.lng||null,o.nsMode==="fallback"?h:h[0],l)}const[g,v]=X.useState(p);let E=h.join();e.lng&&(E=`${e.lng}${E}`);const C=W7(E),A=X.useRef(!0);X.useEffect(()=>{const{bindI18n:k,bindI18nStore:b}=o;A.current=!0,!f&&!u&&(e.lng?kO(s,e.lng,h,()=>{A.current&&v(p)}):PO(s,h,()=>{A.current&&v(p)})),f&&C&&C!==E&&A.current&&v(p);function F(){A.current&&v(p)}return k&&s&&s.on(k,F),b&&s&&s.store.on(b,F),()=>{A.current=!1,k&&s&&k.split(" ").forEach(V=>s.off(V,F)),b&&s&&b.split(" ").forEach(V=>s.store.off(V,F))}},[s,E]);const S=X.useRef(!0);X.useEffect(()=>{A.current&&!S.current&&v(p),S.current=!1},[s,l]);const T=[g,s,f];if(T.t=g,T.i18n=s,T.ready=f,f||!f&&!u)return T;throw new Promise(k=>{e.lng?kO(s,e.lng,h,()=>k()):PO(s,h,()=>k())})}function j7(t){let{i18n:e,defaultNS:n,children:r}=t;const i=X.useMemo(()=>({i18n:e,defaultNS:n}),[e,n]);return X.createElement(FM.Provider,{value:i},r)}var eS={},B7={get exports(){return eS},set exports(t){eS=t}},VM={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zl=X;function z7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var H7=typeof Object.is=="function"?Object.is:z7,q7=Zl.useState,G7=Zl.useEffect,Y7=Zl.useLayoutEffect,K7=Zl.useDebugValue;function Q7(t,e){var n=e(),r=q7({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return Y7(function(){i.value=n,i.getSnapshot=e,zw(i)&&s({inst:i})},[t,n,e]),G7(function(){return zw(i)&&s({inst:i}),t(function(){zw(i)&&s({inst:i})})},[t]),K7(n),n}function zw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!H7(t,n)}catch{return!0}}function X7(t,e){return e()}var J7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?X7:Q7;VM.useSyncExternalStore=Zl.useSyncExternalStore!==void 0?Zl.useSyncExternalStore:J7;(function(t){t.exports=VM})(B7);var tS={},Z7={get exports(){return tS},set exports(t){tS=t}},WM={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv=X,eY=eS;function tY(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nY=typeof Object.is=="function"?Object.is:tY,rY=eY.useSyncExternalStore,iY=hv.useRef,sY=hv.useEffect,oY=hv.useMemo,aY=hv.useDebugValue;WM.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=iY(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=oY(function(){function l(v){if(!h){if(h=!0,f=v,v=r(v),i!==void 0&&o.hasValue){var E=o.value;if(i(E,v))return p=E}return p=v}if(E=p,nY(f,v))return E;var C=r(v);return i!==void 0&&i(E,C)?E:(f=v,p=C)}var h=!1,f,p,g=n===void 0?null:n;return[function(){return l(e())},g===null?void 0:function(){return l(g())}]},[e,n,r,i]);var u=rY(t,s[0],s[1]);return sY(function(){o.hasValue=!0,o.value=u},[u]),aY(u),u};(function(t){t.exports=WM})(Z7);function uY(t){t()}let jM=uY;const lY=t=>jM=t,cY=()=>jM,ra=X.createContext(null);function BM(){return X.useContext(ra)}const hY=()=>{throw new Error("uSES not initialized!")};let zM=hY;const fY=t=>{zM=t},dY=(t,e)=>t===e;function pY(t=ra){const e=t===ra?BM:()=>X.useContext(t);return function(r,i=dY){const{store:s,subscription:o,getServerState:u}=e(),l=zM(o.addNestedSub,s.getState,u||s.getState,r,i);return X.useDebugValue(l),l}}const gY=pY();function Bm(){return Bm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bm.apply(this,arguments)}function mY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var nS={},_Y={get exports(){return nS},set exports(t){nS=t}},st={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cn=typeof Symbol=="function"&&Symbol.for,CI=cn?Symbol.for("react.element"):60103,RI=cn?Symbol.for("react.portal"):60106,fv=cn?Symbol.for("react.fragment"):60107,dv=cn?Symbol.for("react.strict_mode"):60108,pv=cn?Symbol.for("react.profiler"):60114,gv=cn?Symbol.for("react.provider"):60109,mv=cn?Symbol.for("react.context"):60110,AI=cn?Symbol.for("react.async_mode"):60111,_v=cn?Symbol.for("react.concurrent_mode"):60111,vv=cn?Symbol.for("react.forward_ref"):60112,yv=cn?Symbol.for("react.suspense"):60113,vY=cn?Symbol.for("react.suspense_list"):60120,wv=cn?Symbol.for("react.memo"):60115,Ev=cn?Symbol.for("react.lazy"):60116,yY=cn?Symbol.for("react.block"):60121,wY=cn?Symbol.for("react.fundamental"):60117,EY=cn?Symbol.for("react.responder"):60118,SY=cn?Symbol.for("react.scope"):60119;function Fr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case CI:switch(t=t.type,t){case AI:case _v:case fv:case pv:case dv:case yv:return t;default:switch(t=t&&t.$$typeof,t){case mv:case vv:case Ev:case wv:case gv:return t;default:return e}}case RI:return e}}}function HM(t){return Fr(t)===_v}st.AsyncMode=AI;st.ConcurrentMode=_v;st.ContextConsumer=mv;st.ContextProvider=gv;st.Element=CI;st.ForwardRef=vv;st.Fragment=fv;st.Lazy=Ev;st.Memo=wv;st.Portal=RI;st.Profiler=pv;st.StrictMode=dv;st.Suspense=yv;st.isAsyncMode=function(t){return HM(t)||Fr(t)===AI};st.isConcurrentMode=HM;st.isContextConsumer=function(t){return Fr(t)===mv};st.isContextProvider=function(t){return Fr(t)===gv};st.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===CI};st.isForwardRef=function(t){return Fr(t)===vv};st.isFragment=function(t){return Fr(t)===fv};st.isLazy=function(t){return Fr(t)===Ev};st.isMemo=function(t){return Fr(t)===wv};st.isPortal=function(t){return Fr(t)===RI};st.isProfiler=function(t){return Fr(t)===pv};st.isStrictMode=function(t){return Fr(t)===dv};st.isSuspense=function(t){return Fr(t)===yv};st.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===fv||t===_v||t===pv||t===dv||t===yv||t===vY||typeof t=="object"&&t!==null&&(t.$$typeof===Ev||t.$$typeof===wv||t.$$typeof===gv||t.$$typeof===mv||t.$$typeof===vv||t.$$typeof===wY||t.$$typeof===EY||t.$$typeof===SY||t.$$typeof===yY)};st.typeOf=Fr;(function(t){t.exports=st})(_Y);var qM=nS,TY={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},IY={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},GM={};GM[qM.ForwardRef]=TY;GM[qM.Memo]=IY;var bO={},CY={get exports(){return bO},set exports(t){bO=t}},ot={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PI=Symbol.for("react.element"),kI=Symbol.for("react.portal"),Sv=Symbol.for("react.fragment"),Tv=Symbol.for("react.strict_mode"),Iv=Symbol.for("react.profiler"),Cv=Symbol.for("react.provider"),Rv=Symbol.for("react.context"),RY=Symbol.for("react.server_context"),Av=Symbol.for("react.forward_ref"),Pv=Symbol.for("react.suspense"),kv=Symbol.for("react.suspense_list"),bv=Symbol.for("react.memo"),Ov=Symbol.for("react.lazy"),AY=Symbol.for("react.offscreen"),YM;YM=Symbol.for("react.module.reference");function li(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case PI:switch(t=t.type,t){case Sv:case Iv:case Tv:case Pv:case kv:return t;default:switch(t=t&&t.$$typeof,t){case RY:case Rv:case Av:case Ov:case bv:case Cv:return t;default:return e}}case kI:return e}}}ot.ContextConsumer=Rv;ot.ContextProvider=Cv;ot.Element=PI;ot.ForwardRef=Av;ot.Fragment=Sv;ot.Lazy=Ov;ot.Memo=bv;ot.Portal=kI;ot.Profiler=Iv;ot.StrictMode=Tv;ot.Suspense=Pv;ot.SuspenseList=kv;ot.isAsyncMode=function(){return!1};ot.isConcurrentMode=function(){return!1};ot.isContextConsumer=function(t){return li(t)===Rv};ot.isContextProvider=function(t){return li(t)===Cv};ot.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===PI};ot.isForwardRef=function(t){return li(t)===Av};ot.isFragment=function(t){return li(t)===Sv};ot.isLazy=function(t){return li(t)===Ov};ot.isMemo=function(t){return li(t)===bv};ot.isPortal=function(t){return li(t)===kI};ot.isProfiler=function(t){return li(t)===Iv};ot.isStrictMode=function(t){return li(t)===Tv};ot.isSuspense=function(t){return li(t)===Pv};ot.isSuspenseList=function(t){return li(t)===kv};ot.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Sv||t===Iv||t===Tv||t===Pv||t===kv||t===AY||typeof t=="object"&&t!==null&&(t.$$typeof===Ov||t.$$typeof===bv||t.$$typeof===Cv||t.$$typeof===Rv||t.$$typeof===Av||t.$$typeof===YM||t.getModuleId!==void 0)};ot.typeOf=li;(function(t){t.exports=ot})(CY);function PY(){const t=cY();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const OO={notify(){},get:()=>[]};function kY(t,e){let n,r=OO;function i(p){return l(),r.subscribe(p)}function s(){r.notify()}function o(){f.onStateChange&&f.onStateChange()}function u(){return Boolean(n)}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=PY())}function h(){n&&(n(),n=void 0,r.clear(),r=OO)}const f={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:u,trySubscribe:l,tryUnsubscribe:h,getListeners:()=>r};return f}const bY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OY=bY?X.useLayoutEffect:X.useEffect;function NY({store:t,context:e,children:n,serverState:r}){const i=X.useMemo(()=>{const u=kY(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0}},[t,r]),s=X.useMemo(()=>t.getState(),[t]);OY(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,s]);const o=e||ra;return DT.createElement(o.Provider,{value:i},n)}function KM(t=ra){const e=t===ra?BM:()=>X.useContext(t);return function(){const{store:r}=e();return r}}const xY=KM();function DY(t=ra){const e=t===ra?xY:KM(t);return function(){return e().dispatch}}const LY=DY();fY(tS.useSyncExternalStoreWithSelector);lY(vm.unstable_batchedUpdates);function Yg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yg=function(n){return typeof n}:Yg=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Yg(t)}function MY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function UY(t,e,n){return e&&NO(t.prototype,e),n&&NO(t,n),t}function FY(t,e){return e&&(Yg(e)==="object"||typeof e=="function")?e:Kg(t)}function rS(t){return rS=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},rS(t)}function Kg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $Y(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&iS(t,e)}function iS(t,e){return iS=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},iS(t,e)}function Qg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var QM=function(t){$Y(e,t);function e(){var n,r;MY(this,e);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=FY(this,(n=rS(e)).call.apply(n,[this].concat(s))),Qg(Kg(r),"state",{bootstrapped:!1}),Qg(Kg(r),"_unsubscribe",void 0),Qg(Kg(r),"handlePersistorState",function(){var u=r.props.persistor,l=u.getState(),h=l.bootstrapped;h&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return UY(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(X.PureComponent);Qg(QM,"defaultProps",{children:null,loading:null});/**
 * @remix-run/router v1.3.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Of(){return Of=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Of.apply(this,arguments)}var bo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bo||(bo={}));const xO="popstate";function VY(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:u="",hash:l=""}=wu(i.location.hash.substr(1));return sS("",{pathname:o,search:u,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),u="";if(o&&o.getAttribute("href")){let l=i.location.href,h=l.indexOf("#");u=h===-1?l:l.slice(0,h)}return u+"#"+(typeof s=="string"?s:zm(s))}function r(i,s){WY(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return BY(e,n,r,t)}function Yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function WY(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jY(){return Math.random().toString(36).substr(2,8)}function DO(t,e){return{usr:t.state,key:t.key,idx:e}}function sS(t,e,n,r){return n===void 0&&(n=null),Of({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?wu(e):e,{state:n,key:e&&e.key||r||jY()})}function zm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function wu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function BY(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,u=bo.Pop,l=null,h=f();h==null&&(h=0,o.replaceState(Of({},o.state,{idx:h}),""));function f(){return(o.state||{idx:null}).idx}function p(){u=bo.Pop;let A=f(),S=A==null?null:A-h;h=A,l&&l({action:u,location:C.location,delta:S})}function g(A,S){u=bo.Push;let T=sS(C.location,A,S);n&&n(T,A),h=f()+1;let k=DO(T,h),b=C.createHref(T);try{o.pushState(k,"",b)}catch{i.location.assign(b)}s&&l&&l({action:u,location:C.location,delta:1})}function v(A,S){u=bo.Replace;let T=sS(C.location,A,S);n&&n(T,A),h=f();let k=DO(T,h),b=C.createHref(T);o.replaceState(k,"",b),s&&l&&l({action:u,location:C.location,delta:0})}function E(A){let S=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof A=="string"?A:zm(A);return Yt(S,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,S)}let C={get action(){return u},get location(){return t(i,o)},listen(A){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(xO,p),l=A,()=>{i.removeEventListener(xO,p),l=null}},createHref(A){return e(i,A)},createURL:E,encodeLocation(A){let S=E(A);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:v,go(A){return o.go(A)}};return C}var LO;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(LO||(LO={}));function zY(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?wu(e):e,i=ZM(r.pathname||"/",n);if(i==null)return null;let s=XM(t);HY(s);let o=null;for(let u=0;o==null&&u<s.length;++u)o=eK(s[u],rK(i));return o}function XM(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,u)=>{let l={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Yt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let h=zo([r,l.relativePath]),f=n.concat(l);s.children&&s.children.length>0&&(Yt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),XM(s.children,e,f,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:JY(h,s.index),routesMeta:f})};return t.forEach((s,o)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,o);else for(let l of JM(s.path))i(s,o,l)}),e}function JM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=JM(r.join("/")),u=[];return u.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&u.push(...o),u.map(l=>t.startsWith("/")&&l===""?"/":l)}function HY(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ZY(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const qY=/^:\w+$/,GY=3,YY=2,KY=1,QY=10,XY=-2,MO=t=>t==="*";function JY(t,e){let n=t.split("/"),r=n.length;return n.some(MO)&&(r+=XY),e&&(r+=YY),n.filter(i=>!MO(i)).reduce((i,s)=>i+(qY.test(s)?GY:s===""?KY:QY),r)}function ZY(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function eK(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let u=n[o],l=o===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=tK({path:u.relativePath,caseSensitive:u.caseSensitive,end:l},h);if(!f)return null;Object.assign(r,f.params);let p=u.route;s.push({params:r,pathname:zo([i,f.pathname]),pathnameBase:aK(zo([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=zo([i,f.pathnameBase]))}return s}function tK(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=nK(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,f,p)=>{if(f==="*"){let g=u[p]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}return h[f]=iK(u[p]||"",f),h},{}),pathname:s,pathnameBase:o,pattern:t}}function nK(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),bI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,u)=>(r.push(u),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function rK(t){try{return decodeURI(t)}catch(e){return bI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function iK(t,e){try{return decodeURIComponent(t)}catch(n){return bI(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function ZM(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function bI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sK(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?wu(t):t;return{pathname:n?n.startsWith("/")?n:oK(n,e):e,search:uK(r),hash:lK(i)}}function oK(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Hw(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eU(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function tU(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=wu(t):(i=Of({},t),Yt(!i.pathname||!i.pathname.includes("?"),Hw("?","pathname","search",i)),Yt(!i.pathname||!i.pathname.includes("#"),Hw("#","pathname","hash",i)),Yt(!i.search||!i.search.includes("#"),Hw("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,u;if(r||o==null)u=n;else{let p=e.length-1;if(o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}u=p>=0?e[p]:"/"}let l=sK(i,u),h=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(h||f)&&(l.pathname+="/"),l}const zo=t=>t.join("/").replace(/\/\/+/g,"/"),aK=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uK=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lK=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cK(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const hK=["post","put","patch","delete"];[...hK];/**
 * React Router v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oS(){return oS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oS.apply(this,arguments)}function fK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const dK=typeof Object.is=="function"?Object.is:fK,{useState:pK,useEffect:gK,useLayoutEffect:mK,useDebugValue:_K}=r1;function vK(t,e,n){const r=e(),[{inst:i},s]=pK({inst:{value:r,getSnapshot:e}});return mK(()=>{i.value=r,i.getSnapshot=e,qw(i)&&s({inst:i})},[t,r,e]),gK(()=>(qw(i)&&s({inst:i}),t(()=>{qw(i)&&s({inst:i})})),[t]),_K(r),r}function qw(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!dK(n,r)}catch{return!0}}function yK(t,e,n){return e()}const wK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",EK=!wK,SK=EK?yK:vK;"useSyncExternalStore"in r1&&(t=>t.useSyncExternalStore)(r1);const nU=X.createContext(null),OI=X.createContext(null),Nv=X.createContext(null),xv=X.createContext(null),Eu=X.createContext({outlet:null,matches:[]}),rU=X.createContext(null);function TK(t,e){let{relative:n}=e===void 0?{}:e;wc()||Yt(!1);let{basename:r,navigator:i}=X.useContext(Nv),{hash:s,pathname:o,search:u}=iU(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:zo([r,o])),i.createHref({pathname:l,search:u,hash:s})}function wc(){return X.useContext(xv)!=null}function wd(){return wc()||Yt(!1),X.useContext(xv).location}function NI(){wc()||Yt(!1);let{basename:t,navigator:e}=X.useContext(Nv),{matches:n}=X.useContext(Eu),{pathname:r}=wd(),i=JSON.stringify(eU(n).map(u=>u.pathnameBase)),s=X.useRef(!1);return X.useEffect(()=>{s.current=!0}),X.useCallback(function(u,l){if(l===void 0&&(l={}),!s.current)return;if(typeof u=="number"){e.go(u);return}let h=tU(u,JSON.parse(i),r,l.relative==="path");t!=="/"&&(h.pathname=h.pathname==="/"?t:zo([t,h.pathname])),(l.replace?e.replace:e.push)(h,l.state,l)},[t,e,i,r])}const IK=X.createContext(null);function CK(t){let e=X.useContext(Eu).outlet;return e&&X.createElement(IK.Provider,{value:t},e)}function iU(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=X.useContext(Eu),{pathname:i}=wd(),s=JSON.stringify(eU(r).map(o=>o.pathnameBase));return X.useMemo(()=>tU(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function RK(t,e){wc()||Yt(!1);let{navigator:n}=X.useContext(Nv),r=X.useContext(OI),{matches:i}=X.useContext(Eu),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let l=wd(),h;if(e){var f;let C=typeof e=="string"?wu(e):e;u==="/"||(f=C.pathname)!=null&&f.startsWith(u)||Yt(!1),h=C}else h=l;let p=h.pathname||"/",g=u==="/"?p:p.slice(u.length)||"/",v=zY(t,{pathname:g}),E=bK(v&&v.map(C=>Object.assign({},C,{params:Object.assign({},o,C.params),pathname:zo([u,n.encodeLocation?n.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?u:zo([u,n.encodeLocation?n.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),i,r||void 0);return e&&E?X.createElement(xv.Provider,{value:{location:oS({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:bo.Pop}},E):E}function AK(){let t=DK(),e=cK(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),n?X.createElement("pre",{style:i},n):null,s)}class PK extends X.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?X.createElement(Eu.Provider,{value:this.props.routeContext},X.createElement(rU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kK(t){let{routeContext:e,match:n,children:r}=t,i=X.useContext(nU);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),X.createElement(Eu.Provider,{value:e},r)}function bK(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Yt(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,u)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,h=n?o.route.errorElement||X.createElement(AK,null):null,f=e.concat(r.slice(0,u+1)),p=()=>X.createElement(kK,{match:o,routeContext:{outlet:s,matches:f}},l?h:o.route.element!==void 0?o.route.element:s);return n&&(o.route.errorElement||u===0)?X.createElement(PK,{location:n.location,component:h,error:l,children:p(),routeContext:{outlet:null,matches:f}}):p()},null)}var UO;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(UO||(UO={}));var Hm;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Hm||(Hm={}));function OK(t){let e=X.useContext(OI);return e||Yt(!1),e}function NK(t){let e=X.useContext(Eu);return e||Yt(!1),e}function xK(t){let e=NK(),n=e.matches[e.matches.length-1];return n.route.id||Yt(!1),n.route.id}function DK(){var t;let e=X.useContext(rU),n=OK(Hm.UseRouteError),r=xK(Hm.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function LK(t){let{to:e,replace:n,state:r,relative:i}=t;wc()||Yt(!1);let s=X.useContext(OI),o=NI();return X.useEffect(()=>{s&&s.navigation.state!=="idle"||o(e,{replace:n,state:r,relative:i})}),null}function sU(t){return CK(t.context)}function Na(t){Yt(!1)}function MK(t){let{basename:e="/",children:n=null,location:r,navigationType:i=bo.Pop,navigator:s,static:o=!1}=t;wc()&&Yt(!1);let u=e.replace(/^\/*/,"/"),l=X.useMemo(()=>({basename:u,navigator:s,static:o}),[u,s,o]);typeof r=="string"&&(r=wu(r));let{pathname:h="/",search:f="",hash:p="",state:g=null,key:v="default"}=r,E=X.useMemo(()=>{let C=ZM(h,u);return C==null?null:{pathname:C,search:f,hash:p,state:g,key:v}},[u,h,f,p,g,v]);return E==null?null:X.createElement(Nv.Provider,{value:l},X.createElement(xv.Provider,{children:n,value:{location:E,navigationType:i}}))}function UK(t){let{children:e,location:n}=t,r=X.useContext(nU),i=r&&!e?r.router.routes:aS(e);return RK(i,n)}var FO;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(FO||(FO={}));new Promise(()=>{});function aS(t,e){e===void 0&&(e=[]);let n=[];return X.Children.forEach(t,(r,i)=>{if(!X.isValidElement(r))return;if(r.type===X.Fragment){n.push.apply(n,aS(r.props.children,e));return}r.type!==Na&&Yt(!1),!r.props.index||!r.props.children||Yt(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=aS(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uS(){return uS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uS.apply(this,arguments)}function FK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function $K(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function VK(t,e){return t.button===0&&(!e||e==="_self")&&!$K(t)}const WK=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function jK(t){let{basename:e,children:n,window:r}=t,i=X.useRef();i.current==null&&(i.current=VY({window:r,v5Compat:!0}));let s=i.current,[o,u]=X.useState({action:s.action,location:s.location});return X.useLayoutEffect(()=>s.listen(u),[s]),X.createElement(MK,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}const BK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Dv=X.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:u,target:l,to:h,preventScrollReset:f}=e,p=FK(e,WK),g,v=!1;if(BK&&typeof h=="string"&&/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(h)){g=h;let S=new URL(window.location.href),T=h.startsWith("//")?new URL(S.protocol+h):new URL(h);T.origin===S.origin?h=T.pathname+T.search+T.hash:v=!0}let E=TK(h,{relative:i}),C=zK(h,{replace:o,state:u,target:l,preventScrollReset:f,relative:i});function A(S){r&&r(S),S.defaultPrevented||C(S)}return X.createElement("a",uS({},p,{href:g||E,onClick:v||s?r:A,ref:n,target:l}))});var $O;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})($O||($O={}));var VO;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(VO||(VO={}));function zK(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,u=NI(),l=wd(),h=iU(t,{relative:o});return X.useCallback(f=>{if(VK(f,n)){f.preventDefault();let p=r!==void 0?r:zm(l)===zm(h);u(t,{replace:p,state:i,preventScrollReset:s,relative:o})}},[l,u,h,r,i,n,t,s,o])}var HK=function(e){var n=e.width,r=n===void 0?36:n,i=e.height,s=i===void 0?36:i;return te("svg",{height:s,viewBox:"0 0 24 24",width:r,children:te("g",{children:te("path",{d:"M23 4v2h-3v3h-2V6h-3V4h3V1h2v3h3zm-8.5 7c.828 0 1.5-.672 1.5-1.5S15.328 8 14.5 8 13 8.672 13 9.5s.672 1.5 1.5 1.5zm3.5 3.234l-.513-.57c-.794-.885-2.18-.885-2.976 0l-.655.73L9 9l-3 3.333V6h7V4H6c-1.105 0-2 .895-2 2v12c0 1.105.895 2 2 2h12c1.105 0 2-.895 2-2v-7h-2v3.234z",fill:"#8da4f1"})})})},qK=function(e){var n=e.width,r=n===void 0?24:n,i=e.height,s=i===void 0?24:i,o=e.color,u=o===void 0?"#ddddf7":o;return te("svg",{fill:u,height:s,viewBox:"0 0 26.676 26.676",width:r,children:te("path",{d:"M26.105,21.891c-0.229,0-0.439-0.131-0.529-0.346l0,0c-0.066-0.156-1.716-3.857-7.885-4.59 c-1.285-0.156-2.824-0.236-4.693-0.25v4.613c0,0.213-0.115,0.406-0.304,0.508c-0.188,0.098-0.413,0.084-0.588-0.033L0.254,13.815 C0.094,13.708,0,13.528,0,13.339c0-0.191,0.094-0.365,0.254-0.477l11.857-7.979c0.175-0.121,0.398-0.129,0.588-0.029 c0.19,0.102,0.303,0.295,0.303,0.502v4.293c2.578,0.336,13.674,2.33,13.674,11.674c0,0.271-0.191,0.508-0.459,0.562 C26.18,21.891,26.141,21.891,26.105,21.891z"})})},GK=function(e){var n=e.width,r=n===void 0?24:n,i=e.height,s=i===void 0?24:i,o=e.color,u=o===void 0?"#ddddf7":o;return te("svg",{fill:u,height:s,viewBox:"0 0 32 32",width:r,children:te("path",{d:"M12.15 28.012v-0.85c0.019-0.069 0.050-0.131 0.063-0.2 0.275-1.788 1.762-3.2 3.506-3.319 1.95-0.137 3.6 0.975 4.137 2.787 0.069 0.238 0.119 0.488 0.181 0.731v0.85c-0.019 0.056-0.050 0.106-0.056 0.169-0.269 1.65-1.456 2.906-3.081 3.262-0.125 0.025-0.25 0.063-0.375 0.094h-0.85c-0.056-0.019-0.113-0.050-0.169-0.056-1.625-0.262-2.862-1.419-3.237-3.025-0.037-0.156-0.081-0.3-0.119-0.444zM20.038 3.988l-0 0.85c-0.019 0.069-0.050 0.131-0.056 0.2-0.281 1.8-1.775 3.206-3.538 3.319-1.944 0.125-3.588-1-4.119-2.819-0.069-0.231-0.119-0.469-0.175-0.7v-0.85c0.019-0.056 0.050-0.106 0.063-0.162 0.3-1.625 1.244-2.688 2.819-3.194 0.206-0.069 0.425-0.106 0.637-0.162h0.85c0.056 0.019 0.113 0.050 0.169 0.056 1.631 0.269 2.863 1.419 3.238 3.025 0.038 0.15 0.075 0.294 0.113 0.437zM20.037 15.575v0.85c-0.019 0.069-0.050 0.131-0.063 0.2-0.281 1.794-1.831 3.238-3.581 3.313-1.969 0.087-3.637-1.1-4.106-2.931-0.050-0.194-0.094-0.387-0.137-0.581v-0.85c0.019-0.069 0.050-0.131 0.063-0.2 0.275-1.794 1.831-3.238 3.581-3.319 1.969-0.094 3.637 1.1 4.106 2.931 0.050 0.2 0.094 0.394 0.137 0.588z"})})},Lv={AddAvatar:HK,BackArrow:qK,Options:GK},Su=function(){return LY()},yr=gY,xI=function(e){return X.useEffect(e,[])},En;(function(t){t.Root="/",t.Chat="chat",t.Login="login",t.Register="register"})(En||(En={}));var lS;(function(t){t.ChatId="chatId"})(lS||(lS={}));const YK="IBm",KK="IxK",WO={container:YK,info:KK};var QK=function(){var e=yr(function(r){return r.user}),n=e.chat;return Qe("div",{className:WO.container,children:[Qe("div",{className:WO.info,children:[te(Dv,{to:En.Root,children:te(Lv.BackArrow,{})}),te("span",{children:(n==null?void 0:n.interlocutorInfo.alias)||(n==null?void 0:n.interlocutorInfo.nickname)}),te(rhe,{})]}),te(Lge,{}),te(vhe,{})]})};function Si(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ia(t){return!!t&&!!t[Rt]}function Ys(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===sQ}(t)||Array.isArray(t)||!!t[YO]||!!(!((e=t.constructor)===null||e===void 0)&&e[YO])||DI(t)||LI(t))}function su(t,e,n){n===void 0&&(n=!1),Ec(t)===0?(n?Object.keys:bl)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function Ec(t){var e=t[Rt];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:DI(t)?2:LI(t)?3:0}function kl(t,e){return Ec(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function XK(t,e){return Ec(t)===2?t.get(e):t[e]}function oU(t,e,n){var r=Ec(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function aU(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function DI(t){return rQ&&t instanceof Map}function LI(t){return iQ&&t instanceof Set}function xa(t){return t.o||t.t}function MI(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=lU(t);delete e[Rt];for(var n=bl(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function UI(t,e){return e===void 0&&(e=!1),FI(t)||ia(t)||!Ys(t)||(Ec(t)>1&&(t.set=t.add=t.clear=t.delete=JK),Object.freeze(t),e&&su(t,function(n,r){return UI(r,!0)},!0)),t}function JK(){Si(2)}function FI(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function ns(t){var e=dS[t];return e||Si(18,t),e}function ZK(t,e){dS[t]||(dS[t]=e)}function cS(){return Nf}function Gw(t,e){e&&(ns("Patches"),t.u=[],t.s=[],t.v=e)}function qm(t){hS(t),t.p.forEach(eQ),t.p=null}function hS(t){t===Nf&&(Nf=t.l)}function jO(t){return Nf={p:[],l:Nf,h:t,m:!0,_:0}}function eQ(t){var e=t[Rt];e.i===0||e.i===1?e.j():e.O=!0}function Yw(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.g||ns("ES5").S(e,t,r),r?(n[Rt].P&&(qm(e),Si(4)),Ys(t)&&(t=Gm(e,t),e.l||Ym(e,t)),e.u&&ns("Patches").M(n[Rt].t,t,e.u,e.s)):t=Gm(e,n,[]),qm(e),e.u&&e.v(e.u,e.s),t!==uU?t:void 0}function Gm(t,e,n){if(FI(e))return e;var r=e[Rt];if(!r)return su(e,function(u,l){return BO(t,r,e,u,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Ym(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=MI(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),su(s,function(u,l){return BO(t,r,i,u,l,n,o)}),Ym(t,i,!1),n&&t.u&&ns("Patches").N(r,n,t.u,t.s)}return r.o}function BO(t,e,n,r,i,s,o){if(ia(i)){var u=Gm(t,i,s&&e&&e.i!==3&&!kl(e.R,r)?s.concat(r):void 0);if(oU(n,r,u),!ia(u))return;t.m=!1}else o&&n.add(i);if(Ys(i)&&!FI(i)){if(!t.h.D&&t._<1)return;Gm(t,i),e&&e.A.l||Ym(t,i)}}function Ym(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&UI(e,n)}function Kw(t,e){var n=t[Rt];return(n?xa(n):t)[e]}function zO(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function So(t){t.P||(t.P=!0,t.l&&So(t.l))}function Qw(t){t.o||(t.o=MI(t.t))}function fS(t,e,n){var r=DI(e)?ns("MapSet").F(e,n):LI(e)?ns("MapSet").T(e,n):t.g?function(i,s){var o=Array.isArray(i),u={i:o?1:0,A:s?s.A:cS(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=u,h=xf;o&&(l=[u],h=Nh);var f=Proxy.revocable(l,h),p=f.revoke,g=f.proxy;return u.k=g,u.j=p,g}(e,n):ns("ES5").J(e,n);return(n?n.A:cS()).p.push(r),r}function tQ(t){return ia(t)||Si(22,t),function e(n){if(!Ys(n))return n;var r,i=n[Rt],s=Ec(n);if(i){if(!i.P&&(i.i<4||!ns("ES5").K(i)))return i.t;i.I=!0,r=HO(n,s),i.I=!1}else r=HO(n,s);return su(r,function(o,u){i&&XK(i.t,o)===u||oU(r,o,e(u))}),s===3?new Set(r):r}(t)}function HO(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return MI(t)}function nQ(){function t(s,o){var u=i[s];return u?u.enumerable=o:i[s]=u={configurable:!0,enumerable:o,get:function(){var l=this[Rt];return xf.get(l,s)},set:function(l){var h=this[Rt];xf.set(h,s,l)}},u}function e(s){for(var o=s.length-1;o>=0;o--){var u=s[o][Rt];if(!u.P)switch(u.i){case 5:r(u)&&So(u);break;case 4:n(u)&&So(u)}}}function n(s){for(var o=s.t,u=s.k,l=bl(u),h=l.length-1;h>=0;h--){var f=l[h];if(f!==Rt){var p=o[f];if(p===void 0&&!kl(o,f))return!0;var g=u[f],v=g&&g[Rt];if(v?v.t!==p:!aU(g,p))return!0}}var E=!!o[Rt];return l.length!==bl(o).length+(E?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var u=Object.getOwnPropertyDescriptor(o,o.length-1);if(u&&!u.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};ZK("ES5",{J:function(s,o){var u=Array.isArray(s),l=function(f,p){if(f){for(var g=Array(p.length),v=0;v<p.length;v++)Object.defineProperty(g,""+v,t(v,!0));return g}var E=lU(p);delete E[Rt];for(var C=bl(E),A=0;A<C.length;A++){var S=C[A];E[S]=t(S,f||!!E[S].enumerable)}return Object.create(Object.getPrototypeOf(p),E)}(u,s),h={i:u?5:4,A:o?o.A:cS(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,O:!1,C:!1};return Object.defineProperty(l,Rt,{value:h,writable:!0}),l},S:function(s,o,u){u?ia(o)&&o[Rt].A===s&&e(s.p):(s.u&&function l(h){if(h&&typeof h=="object"){var f=h[Rt];if(f){var p=f.t,g=f.k,v=f.R,E=f.i;if(E===4)su(g,function(k){k!==Rt&&(p[k]!==void 0||kl(p,k)?v[k]||l(g[k]):(v[k]=!0,So(f)))}),su(p,function(k){g[k]!==void 0||kl(g,k)||(v[k]=!1,So(f))});else if(E===5){if(r(f)&&(So(f),v.length=!0),g.length<p.length)for(var C=g.length;C<p.length;C++)v[C]=!1;else for(var A=p.length;A<g.length;A++)v[A]=!0;for(var S=Math.min(g.length,p.length),T=0;T<S;T++)g.hasOwnProperty(T)||(v[T]=!0),v[T]===void 0&&l(g[T])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var qO,Nf,$I=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",rQ=typeof Map<"u",iQ=typeof Set<"u",GO=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",uU=$I?Symbol.for("immer-nothing"):((qO={})["immer-nothing"]=!0,qO),YO=$I?Symbol.for("immer-draftable"):"__$immer_draftable",Rt=$I?Symbol.for("immer-state"):"__$immer_state",sQ=""+Object.prototype.constructor,bl=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,lU=Object.getOwnPropertyDescriptors||function(t){var e={};return bl(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},dS={},xf={get:function(t,e){if(e===Rt)return t;var n=xa(t);if(!kl(n,e))return function(i,s,o){var u,l=zO(s,o);return l?"value"in l?l.value:(u=l.get)===null||u===void 0?void 0:u.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!Ys(r)?r:r===Kw(t.t,e)?(Qw(t),t.o[e]=fS(t.A.h,r,t)):r},has:function(t,e){return e in xa(t)},ownKeys:function(t){return Reflect.ownKeys(xa(t))},set:function(t,e,n){var r=zO(xa(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=Kw(xa(t),e),s=i==null?void 0:i[Rt];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(aU(n,i)&&(n!==void 0||kl(t.t,e)))return!0;Qw(t),So(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Kw(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Qw(t),So(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=xa(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){Si(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Si(12)}},Nh={};su(xf,function(t,e){Nh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Nh.deleteProperty=function(t,e){return Nh.set.call(this,t,e,void 0)},Nh.set=function(t,e,n){return xf.set.call(this,t[0],e,n,t[0])};var oQ=function(){function t(n){var r=this;this.g=GO,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var u=s;s=i;var l=r;return function(C){var A=this;C===void 0&&(C=u);for(var S=arguments.length,T=Array(S>1?S-1:0),k=1;k<S;k++)T[k-1]=arguments[k];return l.produce(C,function(b){var F;return(F=s).call.apply(F,[A,b].concat(T))})}}var h;if(typeof s!="function"&&Si(6),o!==void 0&&typeof o!="function"&&Si(7),Ys(i)){var f=jO(r),p=fS(r,i,void 0),g=!0;try{h=s(p),g=!1}finally{g?qm(f):hS(f)}return typeof Promise<"u"&&h instanceof Promise?h.then(function(C){return Gw(f,o),Yw(C,f)},function(C){throw qm(f),C}):(Gw(f,o),Yw(h,f))}if(!i||typeof i!="object"){if((h=s(i))===void 0&&(h=i),h===uU&&(h=void 0),r.D&&UI(h,!0),o){var v=[],E=[];ns("Patches").M(i,h,v,E),o(v,E)}return h}Si(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(h){for(var f=arguments.length,p=Array(f>1?f-1:0),g=1;g<f;g++)p[g-1]=arguments[g];return r.produceWithPatches(h,function(v){return i.apply(void 0,[v].concat(p))})};var o,u,l=r.produce(i,s,function(h,f){o=h,u=f});return typeof Promise<"u"&&l instanceof Promise?l.then(function(h){return[h,o,u]}):[l,o,u]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Ys(n)||Si(8),ia(n)&&(n=tQ(n));var r=jO(this),i=fS(this,n,void 0);return i[Rt].C=!0,hS(r),i},e.finishDraft=function(n,r){var i=n&&n[Rt],s=i.A;return Gw(s,r),Yw(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!GO&&Si(20),this.g=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=ns("Patches").$;return ia(n)?o(n,r):this.produce(n,function(u){return o(u,r)})},t}(),Dr=new oQ,cU=Dr.produce;Dr.produceWithPatches.bind(Dr);Dr.setAutoFreeze.bind(Dr);Dr.setUseProxies.bind(Dr);Dr.applyPatches.bind(Dr);Dr.createDraft.bind(Dr);Dr.finishDraft.bind(Dr);function Df(t){return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function aQ(t,e){if(Df(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Df(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uQ(t){var e=aQ(t,"string");return Df(e)==="symbol"?e:String(e)}function lQ(t,e,n){return e=uQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(n),!0).forEach(function(r){lQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dn(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var XO=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Xw=function(){return Math.random().toString(36).substring(7).split("").join(".")},Km={INIT:"@@redux/INIT"+Xw(),REPLACE:"@@redux/REPLACE"+Xw(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Xw()}};function cQ(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function VI(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Dn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Dn(1));return n(VI)(t,e)}if(typeof t!="function")throw new Error(Dn(2));var i=t,s=e,o=[],u=o,l=!1;function h(){u===o&&(u=o.slice())}function f(){if(l)throw new Error(Dn(3));return s}function p(C){if(typeof C!="function")throw new Error(Dn(4));if(l)throw new Error(Dn(5));var A=!0;return h(),u.push(C),function(){if(A){if(l)throw new Error(Dn(6));A=!1,h();var T=u.indexOf(C);u.splice(T,1),o=null}}}function g(C){if(!cQ(C))throw new Error(Dn(7));if(typeof C.type>"u")throw new Error(Dn(8));if(l)throw new Error(Dn(9));try{l=!0,s=i(s,C)}finally{l=!1}for(var A=o=u,S=0;S<A.length;S++){var T=A[S];T()}return C}function v(C){if(typeof C!="function")throw new Error(Dn(10));i=C,g({type:Km.REPLACE})}function E(){var C,A=p;return C={subscribe:function(T){if(typeof T!="object"||T===null)throw new Error(Dn(11));function k(){T.next&&T.next(f())}k();var b=A(k);return{unsubscribe:b}}},C[XO]=function(){return this},C}return g({type:Km.INIT}),r={dispatch:g,subscribe:p,getState:f,replaceReducer:v},r[XO]=E,r}function hQ(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Km.INIT});if(typeof r>"u")throw new Error(Dn(12));if(typeof n(void 0,{type:Km.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Dn(13))})}function hU(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{hQ(n)}catch(u){o=u}return function(l,h){if(l===void 0&&(l={}),o)throw o;for(var f=!1,p={},g=0;g<s.length;g++){var v=s[g],E=n[v],C=l[v],A=E(C,h);if(typeof A>"u")throw h&&h.type,new Error(Dn(14));p[v]=A,f=f||A!==C}return f=f||s.length!==Object.keys(l).length,f?p:l}}function Lf(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function fU(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Dn(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},u=e.map(function(l){return l(o)});return s=Lf.apply(void 0,u)(i.dispatch),QO(QO({},i),{},{dispatch:s})}}}function dU(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(u){return typeof u=="function"?u(i,s,t):o(u)}}};return e}var pU=dU();pU.withExtraArgument=dU;const JO=pU;var fQ=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),dQ=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(h){return function(f){return l([h,f])}}function l(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(f){h=[6,f],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Qm=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},pQ=Object.defineProperty,gQ=Object.defineProperties,mQ=Object.getOwnPropertyDescriptors,ZO=Object.getOwnPropertySymbols,_Q=Object.prototype.hasOwnProperty,vQ=Object.prototype.propertyIsEnumerable,eN=function(t,e,n){return e in t?pQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Ho=function(t,e){for(var n in e||(e={}))_Q.call(e,n)&&eN(t,n,e[n]);if(ZO)for(var r=0,i=ZO(e);r<i.length;r++){var n=i[r];vQ.call(e,n)&&eN(t,n,e[n])}return t},Jw=function(t,e){return gQ(t,mQ(e))},yQ=function(t,e,n){return new Promise(function(r,i){var s=function(l){try{u(n.next(l))}catch(h){i(h)}},o=function(l){try{u(n.throw(l))}catch(h){i(h)}},u=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};u((n=n.apply(t,e)).next())})},wQ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Lf:Lf.apply(null,arguments)};function EQ(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var SQ=function(t){fQ(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Qm([void 0],n[0].concat(this)))):new(e.bind.apply(e,Qm([void 0],n.concat(this))))},e}(Array);function pS(t){return Ys(t)?cU(t,function(){}):t}function TQ(t){return typeof t=="boolean"}function IQ(){return function(e){return CQ(e)}}function CQ(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new SQ;return n&&(TQ(n)?r.push(JO):r.push(JO.withExtraArgument(n.extraArgument))),r}var RQ=!0;function AQ(t){var e=IQ(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,u=n.devTools,l=u===void 0?!0:u,h=n.preloadedState,f=h===void 0?void 0:h,p=n.enhancers,g=p===void 0?void 0:p,v;if(typeof i=="function")v=i;else if(EQ(i))v=hU(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var E=o;typeof E=="function"&&(E=E(e));var C=fU.apply(void 0,E),A=Lf;l&&(A=wQ(Ho({trace:!RQ},typeof l=="object"&&l)));var S=[C];Array.isArray(g)?S=Qm([C],g):typeof g=="function"&&(S=g(S));var T=A.apply(void 0,S);return VI(v,f,T)}function qo(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Ho(Ho({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function gU(t){var e={},n=[],r,i={addCase:function(s,o){var u=typeof s=="string"?s:s.type;if(u in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[u]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function PQ(t){return typeof t=="function"}function kQ(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?gU(e):[e,n,r],s=i[0],o=i[1],u=i[2],l;if(PQ(t))l=function(){return pS(t())};else{var h=pS(t);l=function(){return h}}function f(p,g){p===void 0&&(p=l());var v=Qm([s[g.type]],o.filter(function(E){var C=E.matcher;return C(g)}).map(function(E){var C=E.reducer;return C}));return v.filter(function(E){return!!E}).length===0&&(v=[u]),v.reduce(function(E,C){if(C)if(ia(E)){var A=E,S=C(A,g);return S===void 0?E:S}else{if(Ys(E))return cU(E,function(T){return C(T,g)});var S=C(E,g);if(S===void 0){if(E===null)return E;throw Error("A case reducer on a non-draftable value must not return undefined")}return S}return E},p)}return f.getInitialState=l,f}function bQ(t,e){return t+"/"+e}function WI(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:pS(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},u={};i.forEach(function(f){var p=r[f],g=bQ(e,f),v,E;"reducer"in p?(v=p.reducer,E=p.prepare):v=p,s[f]=v,o[g]=v,u[f]=E?qo(g,E):qo(g)});function l(){var f=typeof t.extraReducers=="function"?gU(t.extraReducers):[t.extraReducers],p=f[0],g=p===void 0?{}:p,v=f[1],E=v===void 0?[]:v,C=f[2],A=C===void 0?void 0:C,S=Ho(Ho({},g),o);return kQ(n,function(T){for(var k in S)T.addCase(k,S[k]);for(var b=0,F=E;b<F.length;b++){var V=F[b];T.addMatcher(V.matcher,V.reducer)}A&&T.addDefaultCase(A)})}var h;return{name:e,reducer:function(f,p){return h||(h=l()),h(f,p)},actions:u,caseReducers:s,getInitialState:function(){return h||(h=l()),h.getInitialState()}}}var OQ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",NQ=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=OQ[Math.random()*64|0];return e},xQ=["name","message","stack","code"],Zw=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),tN=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),DQ=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=xQ;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,n,r){var i=qo(e+"/fulfilled",function(h,f,p,g){return{payload:h,meta:Jw(Ho({},g||{}),{arg:p,requestId:f,requestStatus:"fulfilled"})}}),s=qo(e+"/pending",function(h,f,p){return{payload:void 0,meta:Jw(Ho({},p||{}),{arg:f,requestId:h,requestStatus:"pending"})}}),o=qo(e+"/rejected",function(h,f,p,g,v){return{payload:g,error:(r&&r.serializeError||DQ)(h||"Rejected"),meta:Jw(Ho({},v||{}),{arg:p,requestId:f,rejectedWithValue:!!g,requestStatus:"rejected",aborted:(h==null?void 0:h.name)==="AbortError",condition:(h==null?void 0:h.name)==="ConditionError"})}}),u=typeof AbortController<"u"?AbortController:function(){function h(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return h.prototype.abort=function(){},h}();function l(h){return function(f,p,g){var v=r!=null&&r.idGenerator?r.idGenerator(h):NQ(),E=new u,C;function A(T){C=T,E.abort()}var S=function(){return yQ(this,null,function(){var T,k,b,F,V,W,G;return dQ(this,function(ie){switch(ie.label){case 0:return ie.trys.push([0,4,,5]),F=(T=r==null?void 0:r.condition)==null?void 0:T.call(r,h,{getState:p,extra:g}),MQ(F)?[4,F]:[3,2];case 1:F=ie.sent(),ie.label=2;case 2:if(F===!1||E.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return V=new Promise(function(re,Ne){return E.signal.addEventListener("abort",function(){return Ne({name:"AbortError",message:C||"Aborted"})})}),f(s(v,h,(k=r==null?void 0:r.getPendingMeta)==null?void 0:k.call(r,{requestId:v,arg:h},{getState:p,extra:g}))),[4,Promise.race([V,Promise.resolve(n(h,{dispatch:f,getState:p,extra:g,requestId:v,signal:E.signal,abort:A,rejectWithValue:function(re,Ne){return new Zw(re,Ne)},fulfillWithValue:function(re,Ne){return new tN(re,Ne)}})).then(function(re){if(re instanceof Zw)throw re;return re instanceof tN?i(re.payload,v,h,re.meta):i(re,v,h)})])];case 3:return b=ie.sent(),[3,5];case 4:return W=ie.sent(),b=W instanceof Zw?o(null,v,h,W.payload,W.meta):o(W,v,h),[3,5];case 5:return G=r&&!r.dispatchConditionRejection&&o.match(b)&&b.meta.condition,G||f(b),[2,b]}})})}();return Object.assign(S,{abort:A,requestId:v,arg:h,unwrap:function(){return S.then(LQ)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function LQ(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function MQ(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var jI="listenerMiddleware";qo(jI+"/add");qo(jI+"/removeAll");qo(jI+"/remove");var nN;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);nQ();var Xm={},UQ={get exports(){return Xm},set exports(t){Xm=t}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",u="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",h=500,f="__lodash_placeholder__",p=1,g=2,v=4,E=1,C=2,A=1,S=2,T=4,k=8,b=16,F=32,V=64,W=128,G=256,ie=512,re=30,Ne="...",I=800,_=16,w=1,N=2,D=3,O=1/0,M=9007199254740991,B=17976931348623157e292,H=0/0,ue=4294967295,fe=ue-1,Se=ue>>>1,ps=[["ary",W],["bind",A],["bindKey",S],["curry",k],["curryRight",b],["flip",ie],["partial",F],["partialRight",V],["rearg",G]],Vi="[object Arguments]",Wr="[object Array]",Nu="[object AsyncFunction]",Wc="[object Boolean]",jc="[object Date]",pW="[object DOMException]",rp="[object Error]",ip="[object Function]",WA="[object GeneratorFunction]",fi="[object Map]",Bc="[object Number]",gW="[object Null]",gs="[object Object]",jA="[object Promise]",mW="[object Proxy]",zc="[object RegExp]",di="[object Set]",Hc="[object String]",sp="[object Symbol]",_W="[object Undefined]",qc="[object WeakMap]",vW="[object WeakSet]",Gc="[object ArrayBuffer]",xu="[object DataView]",Xy="[object Float32Array]",Jy="[object Float64Array]",Zy="[object Int8Array]",e0="[object Int16Array]",t0="[object Int32Array]",n0="[object Uint8Array]",r0="[object Uint8ClampedArray]",i0="[object Uint16Array]",s0="[object Uint32Array]",yW=/\b__p \+= '';/g,wW=/\b(__p \+=) '' \+/g,EW=/(__e\(.*?\)|\b__t\)) \+\n'';/g,BA=/&(?:amp|lt|gt|quot|#39);/g,zA=/[&<>"']/g,SW=RegExp(BA.source),TW=RegExp(zA.source),IW=/<%-([\s\S]+?)%>/g,CW=/<%([\s\S]+?)%>/g,HA=/<%=([\s\S]+?)%>/g,RW=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,AW=/^\w*$/,PW=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o0=/[\\^$.*+?()[\]{}|]/g,kW=RegExp(o0.source),a0=/^\s+/,bW=/\s/,OW=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,NW=/\{\n\/\* \[wrapped with (.+)\] \*/,xW=/,? & /,DW=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,LW=/[()=,{}\[\]\/\s]/,MW=/\\(\\)?/g,UW=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qA=/\w*$/,FW=/^[-+]0x[0-9a-f]+$/i,$W=/^0b[01]+$/i,VW=/^\[object .+?Constructor\]$/,WW=/^0o[0-7]+$/i,jW=/^(?:0|[1-9]\d*)$/,BW=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,op=/($^)/,zW=/['\n\r\u2028\u2029\\]/g,ap="\\ud800-\\udfff",HW="\\u0300-\\u036f",qW="\\ufe20-\\ufe2f",GW="\\u20d0-\\u20ff",GA=HW+qW+GW,YA="\\u2700-\\u27bf",KA="a-z\\xdf-\\xf6\\xf8-\\xff",YW="\\xac\\xb1\\xd7\\xf7",KW="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",QW="\\u2000-\\u206f",XW=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",QA="A-Z\\xc0-\\xd6\\xd8-\\xde",XA="\\ufe0e\\ufe0f",JA=YW+KW+QW+XW,u0="['’]",JW="["+ap+"]",ZA="["+JA+"]",up="["+GA+"]",eP="\\d+",ZW="["+YA+"]",tP="["+KA+"]",nP="[^"+ap+JA+eP+YA+KA+QA+"]",l0="\\ud83c[\\udffb-\\udfff]",ej="(?:"+up+"|"+l0+")",rP="[^"+ap+"]",c0="(?:\\ud83c[\\udde6-\\uddff]){2}",h0="[\\ud800-\\udbff][\\udc00-\\udfff]",Du="["+QA+"]",iP="\\u200d",sP="(?:"+tP+"|"+nP+")",tj="(?:"+Du+"|"+nP+")",oP="(?:"+u0+"(?:d|ll|m|re|s|t|ve))?",aP="(?:"+u0+"(?:D|LL|M|RE|S|T|VE))?",uP=ej+"?",lP="["+XA+"]?",nj="(?:"+iP+"(?:"+[rP,c0,h0].join("|")+")"+lP+uP+")*",rj="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ij="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",cP=lP+uP+nj,sj="(?:"+[ZW,c0,h0].join("|")+")"+cP,oj="(?:"+[rP+up+"?",up,c0,h0,JW].join("|")+")",aj=RegExp(u0,"g"),uj=RegExp(up,"g"),f0=RegExp(l0+"(?="+l0+")|"+oj+cP,"g"),lj=RegExp([Du+"?"+tP+"+"+oP+"(?="+[ZA,Du,"$"].join("|")+")",tj+"+"+aP+"(?="+[ZA,Du+sP,"$"].join("|")+")",Du+"?"+sP+"+"+oP,Du+"+"+aP,ij,rj,eP,sj].join("|"),"g"),cj=RegExp("["+iP+ap+GA+XA+"]"),hj=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,fj=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],dj=-1,gt={};gt[Xy]=gt[Jy]=gt[Zy]=gt[e0]=gt[t0]=gt[n0]=gt[r0]=gt[i0]=gt[s0]=!0,gt[Vi]=gt[Wr]=gt[Gc]=gt[Wc]=gt[xu]=gt[jc]=gt[rp]=gt[ip]=gt[fi]=gt[Bc]=gt[gs]=gt[zc]=gt[di]=gt[Hc]=gt[qc]=!1;var ht={};ht[Vi]=ht[Wr]=ht[Gc]=ht[xu]=ht[Wc]=ht[jc]=ht[Xy]=ht[Jy]=ht[Zy]=ht[e0]=ht[t0]=ht[fi]=ht[Bc]=ht[gs]=ht[zc]=ht[di]=ht[Hc]=ht[sp]=ht[n0]=ht[r0]=ht[i0]=ht[s0]=!0,ht[rp]=ht[ip]=ht[qc]=!1;var pj={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},gj={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},mj={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},_j={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},vj=parseFloat,yj=parseInt,hP=typeof lh=="object"&&lh&&lh.Object===Object&&lh,wj=typeof self=="object"&&self&&self.Object===Object&&self,fn=hP||wj||Function("return this")(),d0=e&&!e.nodeType&&e,wa=d0&&!0&&t&&!t.nodeType&&t,fP=wa&&wa.exports===d0,p0=fP&&hP.process,jr=function(){try{var U=wa&&wa.require&&wa.require("util").types;return U||p0&&p0.binding&&p0.binding("util")}catch{}}(),dP=jr&&jr.isArrayBuffer,pP=jr&&jr.isDate,gP=jr&&jr.isMap,mP=jr&&jr.isRegExp,_P=jr&&jr.isSet,vP=jr&&jr.isTypedArray;function Er(U,z,j){switch(j.length){case 0:return U.call(z);case 1:return U.call(z,j[0]);case 2:return U.call(z,j[0],j[1]);case 3:return U.call(z,j[0],j[1],j[2])}return U.apply(z,j)}function Ej(U,z,j,le){for(var Re=-1,Ze=U==null?0:U.length;++Re<Ze;){var Kt=U[Re];z(le,Kt,j(Kt),U)}return le}function Br(U,z){for(var j=-1,le=U==null?0:U.length;++j<le&&z(U[j],j,U)!==!1;);return U}function Sj(U,z){for(var j=U==null?0:U.length;j--&&z(U[j],j,U)!==!1;);return U}function yP(U,z){for(var j=-1,le=U==null?0:U.length;++j<le;)if(!z(U[j],j,U))return!1;return!0}function oo(U,z){for(var j=-1,le=U==null?0:U.length,Re=0,Ze=[];++j<le;){var Kt=U[j];z(Kt,j,U)&&(Ze[Re++]=Kt)}return Ze}function lp(U,z){var j=U==null?0:U.length;return!!j&&Lu(U,z,0)>-1}function g0(U,z,j){for(var le=-1,Re=U==null?0:U.length;++le<Re;)if(j(z,U[le]))return!0;return!1}function It(U,z){for(var j=-1,le=U==null?0:U.length,Re=Array(le);++j<le;)Re[j]=z(U[j],j,U);return Re}function ao(U,z){for(var j=-1,le=z.length,Re=U.length;++j<le;)U[Re+j]=z[j];return U}function m0(U,z,j,le){var Re=-1,Ze=U==null?0:U.length;for(le&&Ze&&(j=U[++Re]);++Re<Ze;)j=z(j,U[Re],Re,U);return j}function Tj(U,z,j,le){var Re=U==null?0:U.length;for(le&&Re&&(j=U[--Re]);Re--;)j=z(j,U[Re],Re,U);return j}function _0(U,z){for(var j=-1,le=U==null?0:U.length;++j<le;)if(z(U[j],j,U))return!0;return!1}var Ij=v0("length");function Cj(U){return U.split("")}function Rj(U){return U.match(DW)||[]}function wP(U,z,j){var le;return j(U,function(Re,Ze,Kt){if(z(Re,Ze,Kt))return le=Ze,!1}),le}function cp(U,z,j,le){for(var Re=U.length,Ze=j+(le?1:-1);le?Ze--:++Ze<Re;)if(z(U[Ze],Ze,U))return Ze;return-1}function Lu(U,z,j){return z===z?Fj(U,z,j):cp(U,EP,j)}function Aj(U,z,j,le){for(var Re=j-1,Ze=U.length;++Re<Ze;)if(le(U[Re],z))return Re;return-1}function EP(U){return U!==U}function SP(U,z){var j=U==null?0:U.length;return j?w0(U,z)/j:H}function v0(U){return function(z){return z==null?n:z[U]}}function y0(U){return function(z){return U==null?n:U[z]}}function TP(U,z,j,le,Re){return Re(U,function(Ze,Kt,lt){j=le?(le=!1,Ze):z(j,Ze,Kt,lt)}),j}function Pj(U,z){var j=U.length;for(U.sort(z);j--;)U[j]=U[j].value;return U}function w0(U,z){for(var j,le=-1,Re=U.length;++le<Re;){var Ze=z(U[le]);Ze!==n&&(j=j===n?Ze:j+Ze)}return j}function E0(U,z){for(var j=-1,le=Array(U);++j<U;)le[j]=z(j);return le}function kj(U,z){return It(z,function(j){return[j,U[j]]})}function IP(U){return U&&U.slice(0,PP(U)+1).replace(a0,"")}function Sr(U){return function(z){return U(z)}}function S0(U,z){return It(z,function(j){return U[j]})}function Yc(U,z){return U.has(z)}function CP(U,z){for(var j=-1,le=U.length;++j<le&&Lu(z,U[j],0)>-1;);return j}function RP(U,z){for(var j=U.length;j--&&Lu(z,U[j],0)>-1;);return j}function bj(U,z){for(var j=U.length,le=0;j--;)U[j]===z&&++le;return le}var Oj=y0(pj),Nj=y0(gj);function xj(U){return"\\"+_j[U]}function Dj(U,z){return U==null?n:U[z]}function Mu(U){return cj.test(U)}function Lj(U){return hj.test(U)}function Mj(U){for(var z,j=[];!(z=U.next()).done;)j.push(z.value);return j}function T0(U){var z=-1,j=Array(U.size);return U.forEach(function(le,Re){j[++z]=[Re,le]}),j}function AP(U,z){return function(j){return U(z(j))}}function uo(U,z){for(var j=-1,le=U.length,Re=0,Ze=[];++j<le;){var Kt=U[j];(Kt===z||Kt===f)&&(U[j]=f,Ze[Re++]=j)}return Ze}function hp(U){var z=-1,j=Array(U.size);return U.forEach(function(le){j[++z]=le}),j}function Uj(U){var z=-1,j=Array(U.size);return U.forEach(function(le){j[++z]=[le,le]}),j}function Fj(U,z,j){for(var le=j-1,Re=U.length;++le<Re;)if(U[le]===z)return le;return-1}function $j(U,z,j){for(var le=j+1;le--;)if(U[le]===z)return le;return le}function Uu(U){return Mu(U)?Wj(U):Ij(U)}function pi(U){return Mu(U)?jj(U):Cj(U)}function PP(U){for(var z=U.length;z--&&bW.test(U.charAt(z)););return z}var Vj=y0(mj);function Wj(U){for(var z=f0.lastIndex=0;f0.test(U);)++z;return z}function jj(U){return U.match(f0)||[]}function Bj(U){return U.match(lj)||[]}var zj=function U(z){z=z==null?fn:Fu.defaults(fn.Object(),z,Fu.pick(fn,fj));var j=z.Array,le=z.Date,Re=z.Error,Ze=z.Function,Kt=z.Math,lt=z.Object,I0=z.RegExp,Hj=z.String,zr=z.TypeError,fp=j.prototype,qj=Ze.prototype,$u=lt.prototype,dp=z["__core-js_shared__"],pp=qj.toString,nt=$u.hasOwnProperty,Gj=0,kP=function(){var a=/[^.]+$/.exec(dp&&dp.keys&&dp.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),gp=$u.toString,Yj=pp.call(lt),Kj=fn._,Qj=I0("^"+pp.call(nt).replace(o0,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mp=fP?z.Buffer:n,lo=z.Symbol,_p=z.Uint8Array,bP=mp?mp.allocUnsafe:n,vp=AP(lt.getPrototypeOf,lt),OP=lt.create,NP=$u.propertyIsEnumerable,yp=fp.splice,xP=lo?lo.isConcatSpreadable:n,Kc=lo?lo.iterator:n,Ea=lo?lo.toStringTag:n,wp=function(){try{var a=Ra(lt,"defineProperty");return a({},"",{}),a}catch{}}(),Xj=z.clearTimeout!==fn.clearTimeout&&z.clearTimeout,Jj=le&&le.now!==fn.Date.now&&le.now,Zj=z.setTimeout!==fn.setTimeout&&z.setTimeout,Ep=Kt.ceil,Sp=Kt.floor,C0=lt.getOwnPropertySymbols,e9=mp?mp.isBuffer:n,DP=z.isFinite,t9=fp.join,n9=AP(lt.keys,lt),Qt=Kt.max,An=Kt.min,r9=le.now,i9=z.parseInt,LP=Kt.random,s9=fp.reverse,R0=Ra(z,"DataView"),Qc=Ra(z,"Map"),A0=Ra(z,"Promise"),Vu=Ra(z,"Set"),Xc=Ra(z,"WeakMap"),Jc=Ra(lt,"create"),Tp=Xc&&new Xc,Wu={},o9=Aa(R0),a9=Aa(Qc),u9=Aa(A0),l9=Aa(Vu),c9=Aa(Xc),Ip=lo?lo.prototype:n,Zc=Ip?Ip.valueOf:n,MP=Ip?Ip.toString:n;function R(a){if(xt(a)&&!Pe(a)&&!(a instanceof Ve)){if(a instanceof Hr)return a;if(nt.call(a,"__wrapped__"))return Uk(a)}return new Hr(a)}var ju=function(){function a(){}return function(c){if(!Pt(c))return{};if(OP)return OP(c);a.prototype=c;var d=new a;return a.prototype=n,d}}();function Cp(){}function Hr(a,c){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=n}R.templateSettings={escape:IW,evaluate:CW,interpolate:HA,variable:"",imports:{_:R}},R.prototype=Cp.prototype,R.prototype.constructor=R,Hr.prototype=ju(Cp.prototype),Hr.prototype.constructor=Hr;function Ve(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ue,this.__views__=[]}function h9(){var a=new Ve(this.__wrapped__);return a.__actions__=ur(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=ur(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=ur(this.__views__),a}function f9(){if(this.__filtered__){var a=new Ve(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function d9(){var a=this.__wrapped__.value(),c=this.__dir__,d=Pe(a),m=c<0,y=d?a.length:0,P=CB(0,y,this.__views__),x=P.start,L=P.end,$=L-x,q=m?L:x-1,Y=this.__iteratees__,Q=Y.length,se=0,pe=An($,this.__takeCount__);if(!d||!m&&y==$&&pe==$)return ok(a,this.__actions__);var ye=[];e:for(;$--&&se<pe;){q+=c;for(var xe=-1,we=a[q];++xe<Q;){var Fe=Y[xe],Be=Fe.iteratee,Cr=Fe.type,Qn=Be(we);if(Cr==N)we=Qn;else if(!Qn){if(Cr==w)continue e;break e}}ye[se++]=we}return ye}Ve.prototype=ju(Cp.prototype),Ve.prototype.constructor=Ve;function Sa(a){var c=-1,d=a==null?0:a.length;for(this.clear();++c<d;){var m=a[c];this.set(m[0],m[1])}}function p9(){this.__data__=Jc?Jc(null):{},this.size=0}function g9(a){var c=this.has(a)&&delete this.__data__[a];return this.size-=c?1:0,c}function m9(a){var c=this.__data__;if(Jc){var d=c[a];return d===l?n:d}return nt.call(c,a)?c[a]:n}function _9(a){var c=this.__data__;return Jc?c[a]!==n:nt.call(c,a)}function v9(a,c){var d=this.__data__;return this.size+=this.has(a)?0:1,d[a]=Jc&&c===n?l:c,this}Sa.prototype.clear=p9,Sa.prototype.delete=g9,Sa.prototype.get=m9,Sa.prototype.has=_9,Sa.prototype.set=v9;function ms(a){var c=-1,d=a==null?0:a.length;for(this.clear();++c<d;){var m=a[c];this.set(m[0],m[1])}}function y9(){this.__data__=[],this.size=0}function w9(a){var c=this.__data__,d=Rp(c,a);if(d<0)return!1;var m=c.length-1;return d==m?c.pop():yp.call(c,d,1),--this.size,!0}function E9(a){var c=this.__data__,d=Rp(c,a);return d<0?n:c[d][1]}function S9(a){return Rp(this.__data__,a)>-1}function T9(a,c){var d=this.__data__,m=Rp(d,a);return m<0?(++this.size,d.push([a,c])):d[m][1]=c,this}ms.prototype.clear=y9,ms.prototype.delete=w9,ms.prototype.get=E9,ms.prototype.has=S9,ms.prototype.set=T9;function _s(a){var c=-1,d=a==null?0:a.length;for(this.clear();++c<d;){var m=a[c];this.set(m[0],m[1])}}function I9(){this.size=0,this.__data__={hash:new Sa,map:new(Qc||ms),string:new Sa}}function C9(a){var c=Fp(this,a).delete(a);return this.size-=c?1:0,c}function R9(a){return Fp(this,a).get(a)}function A9(a){return Fp(this,a).has(a)}function P9(a,c){var d=Fp(this,a),m=d.size;return d.set(a,c),this.size+=d.size==m?0:1,this}_s.prototype.clear=I9,_s.prototype.delete=C9,_s.prototype.get=R9,_s.prototype.has=A9,_s.prototype.set=P9;function Ta(a){var c=-1,d=a==null?0:a.length;for(this.__data__=new _s;++c<d;)this.add(a[c])}function k9(a){return this.__data__.set(a,l),this}function b9(a){return this.__data__.has(a)}Ta.prototype.add=Ta.prototype.push=k9,Ta.prototype.has=b9;function gi(a){var c=this.__data__=new ms(a);this.size=c.size}function O9(){this.__data__=new ms,this.size=0}function N9(a){var c=this.__data__,d=c.delete(a);return this.size=c.size,d}function x9(a){return this.__data__.get(a)}function D9(a){return this.__data__.has(a)}function L9(a,c){var d=this.__data__;if(d instanceof ms){var m=d.__data__;if(!Qc||m.length<i-1)return m.push([a,c]),this.size=++d.size,this;d=this.__data__=new _s(m)}return d.set(a,c),this.size=d.size,this}gi.prototype.clear=O9,gi.prototype.delete=N9,gi.prototype.get=x9,gi.prototype.has=D9,gi.prototype.set=L9;function UP(a,c){var d=Pe(a),m=!d&&Pa(a),y=!d&&!m&&go(a),P=!d&&!m&&!y&&qu(a),x=d||m||y||P,L=x?E0(a.length,Hj):[],$=L.length;for(var q in a)(c||nt.call(a,q))&&!(x&&(q=="length"||y&&(q=="offset"||q=="parent")||P&&(q=="buffer"||q=="byteLength"||q=="byteOffset")||Es(q,$)))&&L.push(q);return L}function FP(a){var c=a.length;return c?a[F0(0,c-1)]:n}function M9(a,c){return $p(ur(a),Ia(c,0,a.length))}function U9(a){return $p(ur(a))}function P0(a,c,d){(d!==n&&!mi(a[c],d)||d===n&&!(c in a))&&vs(a,c,d)}function eh(a,c,d){var m=a[c];(!(nt.call(a,c)&&mi(m,d))||d===n&&!(c in a))&&vs(a,c,d)}function Rp(a,c){for(var d=a.length;d--;)if(mi(a[d][0],c))return d;return-1}function F9(a,c,d,m){return co(a,function(y,P,x){c(m,y,d(y),x)}),m}function $P(a,c){return a&&ji(c,rn(c),a)}function $9(a,c){return a&&ji(c,cr(c),a)}function vs(a,c,d){c=="__proto__"&&wp?wp(a,c,{configurable:!0,enumerable:!0,value:d,writable:!0}):a[c]=d}function k0(a,c){for(var d=-1,m=c.length,y=j(m),P=a==null;++d<m;)y[d]=P?n:lw(a,c[d]);return y}function Ia(a,c,d){return a===a&&(d!==n&&(a=a<=d?a:d),c!==n&&(a=a>=c?a:c)),a}function qr(a,c,d,m,y,P){var x,L=c&p,$=c&g,q=c&v;if(d&&(x=y?d(a,m,y,P):d(a)),x!==n)return x;if(!Pt(a))return a;var Y=Pe(a);if(Y){if(x=AB(a),!L)return ur(a,x)}else{var Q=Pn(a),se=Q==ip||Q==WA;if(go(a))return lk(a,L);if(Q==gs||Q==Vi||se&&!y){if(x=$||se?{}:Pk(a),!L)return $?mB(a,$9(x,a)):gB(a,$P(x,a))}else{if(!ht[Q])return y?a:{};x=PB(a,Q,L)}}P||(P=new gi);var pe=P.get(a);if(pe)return pe;P.set(a,x),rb(a)?a.forEach(function(we){x.add(qr(we,c,d,we,a,P))}):tb(a)&&a.forEach(function(we,Fe){x.set(Fe,qr(we,c,d,Fe,a,P))});var ye=q?$?K0:Y0:$?cr:rn,xe=Y?n:ye(a);return Br(xe||a,function(we,Fe){xe&&(Fe=we,we=a[Fe]),eh(x,Fe,qr(we,c,d,Fe,a,P))}),x}function V9(a){var c=rn(a);return function(d){return VP(d,a,c)}}function VP(a,c,d){var m=d.length;if(a==null)return!m;for(a=lt(a);m--;){var y=d[m],P=c[y],x=a[y];if(x===n&&!(y in a)||!P(x))return!1}return!0}function WP(a,c,d){if(typeof a!="function")throw new zr(o);return ah(function(){a.apply(n,d)},c)}function th(a,c,d,m){var y=-1,P=lp,x=!0,L=a.length,$=[],q=c.length;if(!L)return $;d&&(c=It(c,Sr(d))),m?(P=g0,x=!1):c.length>=i&&(P=Yc,x=!1,c=new Ta(c));e:for(;++y<L;){var Y=a[y],Q=d==null?Y:d(Y);if(Y=m||Y!==0?Y:0,x&&Q===Q){for(var se=q;se--;)if(c[se]===Q)continue e;$.push(Y)}else P(c,Q,m)||$.push(Y)}return $}var co=pk(Wi),jP=pk(O0,!0);function W9(a,c){var d=!0;return co(a,function(m,y,P){return d=!!c(m,y,P),d}),d}function Ap(a,c,d){for(var m=-1,y=a.length;++m<y;){var P=a[m],x=c(P);if(x!=null&&(L===n?x===x&&!Ir(x):d(x,L)))var L=x,$=P}return $}function j9(a,c,d,m){var y=a.length;for(d=be(d),d<0&&(d=-d>y?0:y+d),m=m===n||m>y?y:be(m),m<0&&(m+=y),m=d>m?0:sb(m);d<m;)a[d++]=c;return a}function BP(a,c){var d=[];return co(a,function(m,y,P){c(m,y,P)&&d.push(m)}),d}function dn(a,c,d,m,y){var P=-1,x=a.length;for(d||(d=bB),y||(y=[]);++P<x;){var L=a[P];c>0&&d(L)?c>1?dn(L,c-1,d,m,y):ao(y,L):m||(y[y.length]=L)}return y}var b0=gk(),zP=gk(!0);function Wi(a,c){return a&&b0(a,c,rn)}function O0(a,c){return a&&zP(a,c,rn)}function Pp(a,c){return oo(c,function(d){return Ss(a[d])})}function Ca(a,c){c=fo(c,a);for(var d=0,m=c.length;a!=null&&d<m;)a=a[Bi(c[d++])];return d&&d==m?a:n}function HP(a,c,d){var m=c(a);return Pe(a)?m:ao(m,d(a))}function Yn(a){return a==null?a===n?_W:gW:Ea&&Ea in lt(a)?IB(a):UB(a)}function N0(a,c){return a>c}function B9(a,c){return a!=null&&nt.call(a,c)}function z9(a,c){return a!=null&&c in lt(a)}function H9(a,c,d){return a>=An(c,d)&&a<Qt(c,d)}function x0(a,c,d){for(var m=d?g0:lp,y=a[0].length,P=a.length,x=P,L=j(P),$=1/0,q=[];x--;){var Y=a[x];x&&c&&(Y=It(Y,Sr(c))),$=An(Y.length,$),L[x]=!d&&(c||y>=120&&Y.length>=120)?new Ta(x&&Y):n}Y=a[0];var Q=-1,se=L[0];e:for(;++Q<y&&q.length<$;){var pe=Y[Q],ye=c?c(pe):pe;if(pe=d||pe!==0?pe:0,!(se?Yc(se,ye):m(q,ye,d))){for(x=P;--x;){var xe=L[x];if(!(xe?Yc(xe,ye):m(a[x],ye,d)))continue e}se&&se.push(ye),q.push(pe)}}return q}function q9(a,c,d,m){return Wi(a,function(y,P,x){c(m,d(y),P,x)}),m}function nh(a,c,d){c=fo(c,a),a=Nk(a,c);var m=a==null?a:a[Bi(Yr(c))];return m==null?n:Er(m,a,d)}function qP(a){return xt(a)&&Yn(a)==Vi}function G9(a){return xt(a)&&Yn(a)==Gc}function Y9(a){return xt(a)&&Yn(a)==jc}function rh(a,c,d,m,y){return a===c?!0:a==null||c==null||!xt(a)&&!xt(c)?a!==a&&c!==c:K9(a,c,d,m,rh,y)}function K9(a,c,d,m,y,P){var x=Pe(a),L=Pe(c),$=x?Wr:Pn(a),q=L?Wr:Pn(c);$=$==Vi?gs:$,q=q==Vi?gs:q;var Y=$==gs,Q=q==gs,se=$==q;if(se&&go(a)){if(!go(c))return!1;x=!0,Y=!1}if(se&&!Y)return P||(P=new gi),x||qu(a)?Ck(a,c,d,m,y,P):SB(a,c,$,d,m,y,P);if(!(d&E)){var pe=Y&&nt.call(a,"__wrapped__"),ye=Q&&nt.call(c,"__wrapped__");if(pe||ye){var xe=pe?a.value():a,we=ye?c.value():c;return P||(P=new gi),y(xe,we,d,m,P)}}return se?(P||(P=new gi),TB(a,c,d,m,y,P)):!1}function Q9(a){return xt(a)&&Pn(a)==fi}function D0(a,c,d,m){var y=d.length,P=y,x=!m;if(a==null)return!P;for(a=lt(a);y--;){var L=d[y];if(x&&L[2]?L[1]!==a[L[0]]:!(L[0]in a))return!1}for(;++y<P;){L=d[y];var $=L[0],q=a[$],Y=L[1];if(x&&L[2]){if(q===n&&!($ in a))return!1}else{var Q=new gi;if(m)var se=m(q,Y,$,a,c,Q);if(!(se===n?rh(Y,q,E|C,m,Q):se))return!1}}return!0}function GP(a){if(!Pt(a)||NB(a))return!1;var c=Ss(a)?Qj:VW;return c.test(Aa(a))}function X9(a){return xt(a)&&Yn(a)==zc}function J9(a){return xt(a)&&Pn(a)==di}function Z9(a){return xt(a)&&Hp(a.length)&&!!gt[Yn(a)]}function YP(a){return typeof a=="function"?a:a==null?hr:typeof a=="object"?Pe(a)?XP(a[0],a[1]):QP(a):mb(a)}function L0(a){if(!oh(a))return n9(a);var c=[];for(var d in lt(a))nt.call(a,d)&&d!="constructor"&&c.push(d);return c}function eB(a){if(!Pt(a))return MB(a);var c=oh(a),d=[];for(var m in a)m=="constructor"&&(c||!nt.call(a,m))||d.push(m);return d}function M0(a,c){return a<c}function KP(a,c){var d=-1,m=lr(a)?j(a.length):[];return co(a,function(y,P,x){m[++d]=c(y,P,x)}),m}function QP(a){var c=X0(a);return c.length==1&&c[0][2]?bk(c[0][0],c[0][1]):function(d){return d===a||D0(d,a,c)}}function XP(a,c){return Z0(a)&&kk(c)?bk(Bi(a),c):function(d){var m=lw(d,a);return m===n&&m===c?cw(d,a):rh(c,m,E|C)}}function kp(a,c,d,m,y){a!==c&&b0(c,function(P,x){if(y||(y=new gi),Pt(P))tB(a,c,x,d,kp,m,y);else{var L=m?m(tw(a,x),P,x+"",a,c,y):n;L===n&&(L=P),P0(a,x,L)}},cr)}function tB(a,c,d,m,y,P,x){var L=tw(a,d),$=tw(c,d),q=x.get($);if(q){P0(a,d,q);return}var Y=P?P(L,$,d+"",a,c,x):n,Q=Y===n;if(Q){var se=Pe($),pe=!se&&go($),ye=!se&&!pe&&qu($);Y=$,se||pe||ye?Pe(L)?Y=L:Vt(L)?Y=ur(L):pe?(Q=!1,Y=lk($,!0)):ye?(Q=!1,Y=ck($,!0)):Y=[]:uh($)||Pa($)?(Y=L,Pa(L)?Y=ob(L):(!Pt(L)||Ss(L))&&(Y=Pk($))):Q=!1}Q&&(x.set($,Y),y(Y,$,m,P,x),x.delete($)),P0(a,d,Y)}function JP(a,c){var d=a.length;if(d)return c+=c<0?d:0,Es(c,d)?a[c]:n}function ZP(a,c,d){c.length?c=It(c,function(P){return Pe(P)?function(x){return Ca(x,P.length===1?P[0]:P)}:P}):c=[hr];var m=-1;c=It(c,Sr(ve()));var y=KP(a,function(P,x,L){var $=It(c,function(q){return q(P)});return{criteria:$,index:++m,value:P}});return Pj(y,function(P,x){return pB(P,x,d)})}function nB(a,c){return ek(a,c,function(d,m){return cw(a,m)})}function ek(a,c,d){for(var m=-1,y=c.length,P={};++m<y;){var x=c[m],L=Ca(a,x);d(L,x)&&ih(P,fo(x,a),L)}return P}function rB(a){return function(c){return Ca(c,a)}}function U0(a,c,d,m){var y=m?Aj:Lu,P=-1,x=c.length,L=a;for(a===c&&(c=ur(c)),d&&(L=It(a,Sr(d)));++P<x;)for(var $=0,q=c[P],Y=d?d(q):q;($=y(L,Y,$,m))>-1;)L!==a&&yp.call(L,$,1),yp.call(a,$,1);return a}function tk(a,c){for(var d=a?c.length:0,m=d-1;d--;){var y=c[d];if(d==m||y!==P){var P=y;Es(y)?yp.call(a,y,1):W0(a,y)}}return a}function F0(a,c){return a+Sp(LP()*(c-a+1))}function iB(a,c,d,m){for(var y=-1,P=Qt(Ep((c-a)/(d||1)),0),x=j(P);P--;)x[m?P:++y]=a,a+=d;return x}function $0(a,c){var d="";if(!a||c<1||c>M)return d;do c%2&&(d+=a),c=Sp(c/2),c&&(a+=a);while(c);return d}function De(a,c){return nw(Ok(a,c,hr),a+"")}function sB(a){return FP(Gu(a))}function oB(a,c){var d=Gu(a);return $p(d,Ia(c,0,d.length))}function ih(a,c,d,m){if(!Pt(a))return a;c=fo(c,a);for(var y=-1,P=c.length,x=P-1,L=a;L!=null&&++y<P;){var $=Bi(c[y]),q=d;if($==="__proto__"||$==="constructor"||$==="prototype")return a;if(y!=x){var Y=L[$];q=m?m(Y,$,L):n,q===n&&(q=Pt(Y)?Y:Es(c[y+1])?[]:{})}eh(L,$,q),L=L[$]}return a}var nk=Tp?function(a,c){return Tp.set(a,c),a}:hr,aB=wp?function(a,c){return wp(a,"toString",{configurable:!0,enumerable:!1,value:fw(c),writable:!0})}:hr;function uB(a){return $p(Gu(a))}function Gr(a,c,d){var m=-1,y=a.length;c<0&&(c=-c>y?0:y+c),d=d>y?y:d,d<0&&(d+=y),y=c>d?0:d-c>>>0,c>>>=0;for(var P=j(y);++m<y;)P[m]=a[m+c];return P}function lB(a,c){var d;return co(a,function(m,y,P){return d=c(m,y,P),!d}),!!d}function bp(a,c,d){var m=0,y=a==null?m:a.length;if(typeof c=="number"&&c===c&&y<=Se){for(;m<y;){var P=m+y>>>1,x=a[P];x!==null&&!Ir(x)&&(d?x<=c:x<c)?m=P+1:y=P}return y}return V0(a,c,hr,d)}function V0(a,c,d,m){var y=0,P=a==null?0:a.length;if(P===0)return 0;c=d(c);for(var x=c!==c,L=c===null,$=Ir(c),q=c===n;y<P;){var Y=Sp((y+P)/2),Q=d(a[Y]),se=Q!==n,pe=Q===null,ye=Q===Q,xe=Ir(Q);if(x)var we=m||ye;else q?we=ye&&(m||se):L?we=ye&&se&&(m||!pe):$?we=ye&&se&&!pe&&(m||!xe):pe||xe?we=!1:we=m?Q<=c:Q<c;we?y=Y+1:P=Y}return An(P,fe)}function rk(a,c){for(var d=-1,m=a.length,y=0,P=[];++d<m;){var x=a[d],L=c?c(x):x;if(!d||!mi(L,$)){var $=L;P[y++]=x===0?0:x}}return P}function ik(a){return typeof a=="number"?a:Ir(a)?H:+a}function Tr(a){if(typeof a=="string")return a;if(Pe(a))return It(a,Tr)+"";if(Ir(a))return MP?MP.call(a):"";var c=a+"";return c=="0"&&1/a==-O?"-0":c}function ho(a,c,d){var m=-1,y=lp,P=a.length,x=!0,L=[],$=L;if(d)x=!1,y=g0;else if(P>=i){var q=c?null:wB(a);if(q)return hp(q);x=!1,y=Yc,$=new Ta}else $=c?[]:L;e:for(;++m<P;){var Y=a[m],Q=c?c(Y):Y;if(Y=d||Y!==0?Y:0,x&&Q===Q){for(var se=$.length;se--;)if($[se]===Q)continue e;c&&$.push(Q),L.push(Y)}else y($,Q,d)||($!==L&&$.push(Q),L.push(Y))}return L}function W0(a,c){return c=fo(c,a),a=Nk(a,c),a==null||delete a[Bi(Yr(c))]}function sk(a,c,d,m){return ih(a,c,d(Ca(a,c)),m)}function Op(a,c,d,m){for(var y=a.length,P=m?y:-1;(m?P--:++P<y)&&c(a[P],P,a););return d?Gr(a,m?0:P,m?P+1:y):Gr(a,m?P+1:0,m?y:P)}function ok(a,c){var d=a;return d instanceof Ve&&(d=d.value()),m0(c,function(m,y){return y.func.apply(y.thisArg,ao([m],y.args))},d)}function j0(a,c,d){var m=a.length;if(m<2)return m?ho(a[0]):[];for(var y=-1,P=j(m);++y<m;)for(var x=a[y],L=-1;++L<m;)L!=y&&(P[y]=th(P[y]||x,a[L],c,d));return ho(dn(P,1),c,d)}function ak(a,c,d){for(var m=-1,y=a.length,P=c.length,x={};++m<y;){var L=m<P?c[m]:n;d(x,a[m],L)}return x}function B0(a){return Vt(a)?a:[]}function z0(a){return typeof a=="function"?a:hr}function fo(a,c){return Pe(a)?a:Z0(a,c)?[a]:Mk(tt(a))}var cB=De;function po(a,c,d){var m=a.length;return d=d===n?m:d,!c&&d>=m?a:Gr(a,c,d)}var uk=Xj||function(a){return fn.clearTimeout(a)};function lk(a,c){if(c)return a.slice();var d=a.length,m=bP?bP(d):new a.constructor(d);return a.copy(m),m}function H0(a){var c=new a.constructor(a.byteLength);return new _p(c).set(new _p(a)),c}function hB(a,c){var d=c?H0(a.buffer):a.buffer;return new a.constructor(d,a.byteOffset,a.byteLength)}function fB(a){var c=new a.constructor(a.source,qA.exec(a));return c.lastIndex=a.lastIndex,c}function dB(a){return Zc?lt(Zc.call(a)):{}}function ck(a,c){var d=c?H0(a.buffer):a.buffer;return new a.constructor(d,a.byteOffset,a.length)}function hk(a,c){if(a!==c){var d=a!==n,m=a===null,y=a===a,P=Ir(a),x=c!==n,L=c===null,$=c===c,q=Ir(c);if(!L&&!q&&!P&&a>c||P&&x&&$&&!L&&!q||m&&x&&$||!d&&$||!y)return 1;if(!m&&!P&&!q&&a<c||q&&d&&y&&!m&&!P||L&&d&&y||!x&&y||!$)return-1}return 0}function pB(a,c,d){for(var m=-1,y=a.criteria,P=c.criteria,x=y.length,L=d.length;++m<x;){var $=hk(y[m],P[m]);if($){if(m>=L)return $;var q=d[m];return $*(q=="desc"?-1:1)}}return a.index-c.index}function fk(a,c,d,m){for(var y=-1,P=a.length,x=d.length,L=-1,$=c.length,q=Qt(P-x,0),Y=j($+q),Q=!m;++L<$;)Y[L]=c[L];for(;++y<x;)(Q||y<P)&&(Y[d[y]]=a[y]);for(;q--;)Y[L++]=a[y++];return Y}function dk(a,c,d,m){for(var y=-1,P=a.length,x=-1,L=d.length,$=-1,q=c.length,Y=Qt(P-L,0),Q=j(Y+q),se=!m;++y<Y;)Q[y]=a[y];for(var pe=y;++$<q;)Q[pe+$]=c[$];for(;++x<L;)(se||y<P)&&(Q[pe+d[x]]=a[y++]);return Q}function ur(a,c){var d=-1,m=a.length;for(c||(c=j(m));++d<m;)c[d]=a[d];return c}function ji(a,c,d,m){var y=!d;d||(d={});for(var P=-1,x=c.length;++P<x;){var L=c[P],$=m?m(d[L],a[L],L,d,a):n;$===n&&($=a[L]),y?vs(d,L,$):eh(d,L,$)}return d}function gB(a,c){return ji(a,J0(a),c)}function mB(a,c){return ji(a,Rk(a),c)}function Np(a,c){return function(d,m){var y=Pe(d)?Ej:F9,P=c?c():{};return y(d,a,ve(m,2),P)}}function Bu(a){return De(function(c,d){var m=-1,y=d.length,P=y>1?d[y-1]:n,x=y>2?d[2]:n;for(P=a.length>3&&typeof P=="function"?(y--,P):n,x&&Kn(d[0],d[1],x)&&(P=y<3?n:P,y=1),c=lt(c);++m<y;){var L=d[m];L&&a(c,L,m,P)}return c})}function pk(a,c){return function(d,m){if(d==null)return d;if(!lr(d))return a(d,m);for(var y=d.length,P=c?y:-1,x=lt(d);(c?P--:++P<y)&&m(x[P],P,x)!==!1;);return d}}function gk(a){return function(c,d,m){for(var y=-1,P=lt(c),x=m(c),L=x.length;L--;){var $=x[a?L:++y];if(d(P[$],$,P)===!1)break}return c}}function _B(a,c,d){var m=c&A,y=sh(a);function P(){var x=this&&this!==fn&&this instanceof P?y:a;return x.apply(m?d:this,arguments)}return P}function mk(a){return function(c){c=tt(c);var d=Mu(c)?pi(c):n,m=d?d[0]:c.charAt(0),y=d?po(d,1).join(""):c.slice(1);return m[a]()+y}}function zu(a){return function(c){return m0(pb(db(c).replace(aj,"")),a,"")}}function sh(a){return function(){var c=arguments;switch(c.length){case 0:return new a;case 1:return new a(c[0]);case 2:return new a(c[0],c[1]);case 3:return new a(c[0],c[1],c[2]);case 4:return new a(c[0],c[1],c[2],c[3]);case 5:return new a(c[0],c[1],c[2],c[3],c[4]);case 6:return new a(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new a(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var d=ju(a.prototype),m=a.apply(d,c);return Pt(m)?m:d}}function vB(a,c,d){var m=sh(a);function y(){for(var P=arguments.length,x=j(P),L=P,$=Hu(y);L--;)x[L]=arguments[L];var q=P<3&&x[0]!==$&&x[P-1]!==$?[]:uo(x,$);if(P-=q.length,P<d)return Ek(a,c,xp,y.placeholder,n,x,q,n,n,d-P);var Y=this&&this!==fn&&this instanceof y?m:a;return Er(Y,this,x)}return y}function _k(a){return function(c,d,m){var y=lt(c);if(!lr(c)){var P=ve(d,3);c=rn(c),d=function(L){return P(y[L],L,y)}}var x=a(c,d,m);return x>-1?y[P?c[x]:x]:n}}function vk(a){return ws(function(c){var d=c.length,m=d,y=Hr.prototype.thru;for(a&&c.reverse();m--;){var P=c[m];if(typeof P!="function")throw new zr(o);if(y&&!x&&Up(P)=="wrapper")var x=new Hr([],!0)}for(m=x?m:d;++m<d;){P=c[m];var L=Up(P),$=L=="wrapper"?Q0(P):n;$&&ew($[0])&&$[1]==(W|k|F|G)&&!$[4].length&&$[9]==1?x=x[Up($[0])].apply(x,$[3]):x=P.length==1&&ew(P)?x[L]():x.thru(P)}return function(){var q=arguments,Y=q[0];if(x&&q.length==1&&Pe(Y))return x.plant(Y).value();for(var Q=0,se=d?c[Q].apply(this,q):Y;++Q<d;)se=c[Q].call(this,se);return se}})}function xp(a,c,d,m,y,P,x,L,$,q){var Y=c&W,Q=c&A,se=c&S,pe=c&(k|b),ye=c&ie,xe=se?n:sh(a);function we(){for(var Fe=arguments.length,Be=j(Fe),Cr=Fe;Cr--;)Be[Cr]=arguments[Cr];if(pe)var Qn=Hu(we),Rr=bj(Be,Qn);if(m&&(Be=fk(Be,m,y,pe)),P&&(Be=dk(Be,P,x,pe)),Fe-=Rr,pe&&Fe<q){var Wt=uo(Be,Qn);return Ek(a,c,xp,we.placeholder,d,Be,Wt,L,$,q-Fe)}var _i=Q?d:this,Is=se?_i[a]:a;return Fe=Be.length,L?Be=FB(Be,L):ye&&Fe>1&&Be.reverse(),Y&&$<Fe&&(Be.length=$),this&&this!==fn&&this instanceof we&&(Is=xe||sh(Is)),Is.apply(_i,Be)}return we}function yk(a,c){return function(d,m){return q9(d,a,c(m),{})}}function Dp(a,c){return function(d,m){var y;if(d===n&&m===n)return c;if(d!==n&&(y=d),m!==n){if(y===n)return m;typeof d=="string"||typeof m=="string"?(d=Tr(d),m=Tr(m)):(d=ik(d),m=ik(m)),y=a(d,m)}return y}}function q0(a){return ws(function(c){return c=It(c,Sr(ve())),De(function(d){var m=this;return a(c,function(y){return Er(y,m,d)})})})}function Lp(a,c){c=c===n?" ":Tr(c);var d=c.length;if(d<2)return d?$0(c,a):c;var m=$0(c,Ep(a/Uu(c)));return Mu(c)?po(pi(m),0,a).join(""):m.slice(0,a)}function yB(a,c,d,m){var y=c&A,P=sh(a);function x(){for(var L=-1,$=arguments.length,q=-1,Y=m.length,Q=j(Y+$),se=this&&this!==fn&&this instanceof x?P:a;++q<Y;)Q[q]=m[q];for(;$--;)Q[q++]=arguments[++L];return Er(se,y?d:this,Q)}return x}function wk(a){return function(c,d,m){return m&&typeof m!="number"&&Kn(c,d,m)&&(d=m=n),c=Ts(c),d===n?(d=c,c=0):d=Ts(d),m=m===n?c<d?1:-1:Ts(m),iB(c,d,m,a)}}function Mp(a){return function(c,d){return typeof c=="string"&&typeof d=="string"||(c=Kr(c),d=Kr(d)),a(c,d)}}function Ek(a,c,d,m,y,P,x,L,$,q){var Y=c&k,Q=Y?x:n,se=Y?n:x,pe=Y?P:n,ye=Y?n:P;c|=Y?F:V,c&=~(Y?V:F),c&T||(c&=~(A|S));var xe=[a,c,y,pe,Q,ye,se,L,$,q],we=d.apply(n,xe);return ew(a)&&xk(we,xe),we.placeholder=m,Dk(we,a,c)}function G0(a){var c=Kt[a];return function(d,m){if(d=Kr(d),m=m==null?0:An(be(m),292),m&&DP(d)){var y=(tt(d)+"e").split("e"),P=c(y[0]+"e"+(+y[1]+m));return y=(tt(P)+"e").split("e"),+(y[0]+"e"+(+y[1]-m))}return c(d)}}var wB=Vu&&1/hp(new Vu([,-0]))[1]==O?function(a){return new Vu(a)}:gw;function Sk(a){return function(c){var d=Pn(c);return d==fi?T0(c):d==di?Uj(c):kj(c,a(c))}}function ys(a,c,d,m,y,P,x,L){var $=c&S;if(!$&&typeof a!="function")throw new zr(o);var q=m?m.length:0;if(q||(c&=~(F|V),m=y=n),x=x===n?x:Qt(be(x),0),L=L===n?L:be(L),q-=y?y.length:0,c&V){var Y=m,Q=y;m=y=n}var se=$?n:Q0(a),pe=[a,c,d,m,y,Y,Q,P,x,L];if(se&&LB(pe,se),a=pe[0],c=pe[1],d=pe[2],m=pe[3],y=pe[4],L=pe[9]=pe[9]===n?$?0:a.length:Qt(pe[9]-q,0),!L&&c&(k|b)&&(c&=~(k|b)),!c||c==A)var ye=_B(a,c,d);else c==k||c==b?ye=vB(a,c,L):(c==F||c==(A|F))&&!y.length?ye=yB(a,c,d,m):ye=xp.apply(n,pe);var xe=se?nk:xk;return Dk(xe(ye,pe),a,c)}function Tk(a,c,d,m){return a===n||mi(a,$u[d])&&!nt.call(m,d)?c:a}function Ik(a,c,d,m,y,P){return Pt(a)&&Pt(c)&&(P.set(c,a),kp(a,c,n,Ik,P),P.delete(c)),a}function EB(a){return uh(a)?n:a}function Ck(a,c,d,m,y,P){var x=d&E,L=a.length,$=c.length;if(L!=$&&!(x&&$>L))return!1;var q=P.get(a),Y=P.get(c);if(q&&Y)return q==c&&Y==a;var Q=-1,se=!0,pe=d&C?new Ta:n;for(P.set(a,c),P.set(c,a);++Q<L;){var ye=a[Q],xe=c[Q];if(m)var we=x?m(xe,ye,Q,c,a,P):m(ye,xe,Q,a,c,P);if(we!==n){if(we)continue;se=!1;break}if(pe){if(!_0(c,function(Fe,Be){if(!Yc(pe,Be)&&(ye===Fe||y(ye,Fe,d,m,P)))return pe.push(Be)})){se=!1;break}}else if(!(ye===xe||y(ye,xe,d,m,P))){se=!1;break}}return P.delete(a),P.delete(c),se}function SB(a,c,d,m,y,P,x){switch(d){case xu:if(a.byteLength!=c.byteLength||a.byteOffset!=c.byteOffset)return!1;a=a.buffer,c=c.buffer;case Gc:return!(a.byteLength!=c.byteLength||!P(new _p(a),new _p(c)));case Wc:case jc:case Bc:return mi(+a,+c);case rp:return a.name==c.name&&a.message==c.message;case zc:case Hc:return a==c+"";case fi:var L=T0;case di:var $=m&E;if(L||(L=hp),a.size!=c.size&&!$)return!1;var q=x.get(a);if(q)return q==c;m|=C,x.set(a,c);var Y=Ck(L(a),L(c),m,y,P,x);return x.delete(a),Y;case sp:if(Zc)return Zc.call(a)==Zc.call(c)}return!1}function TB(a,c,d,m,y,P){var x=d&E,L=Y0(a),$=L.length,q=Y0(c),Y=q.length;if($!=Y&&!x)return!1;for(var Q=$;Q--;){var se=L[Q];if(!(x?se in c:nt.call(c,se)))return!1}var pe=P.get(a),ye=P.get(c);if(pe&&ye)return pe==c&&ye==a;var xe=!0;P.set(a,c),P.set(c,a);for(var we=x;++Q<$;){se=L[Q];var Fe=a[se],Be=c[se];if(m)var Cr=x?m(Be,Fe,se,c,a,P):m(Fe,Be,se,a,c,P);if(!(Cr===n?Fe===Be||y(Fe,Be,d,m,P):Cr)){xe=!1;break}we||(we=se=="constructor")}if(xe&&!we){var Qn=a.constructor,Rr=c.constructor;Qn!=Rr&&"constructor"in a&&"constructor"in c&&!(typeof Qn=="function"&&Qn instanceof Qn&&typeof Rr=="function"&&Rr instanceof Rr)&&(xe=!1)}return P.delete(a),P.delete(c),xe}function ws(a){return nw(Ok(a,n,Vk),a+"")}function Y0(a){return HP(a,rn,J0)}function K0(a){return HP(a,cr,Rk)}var Q0=Tp?function(a){return Tp.get(a)}:gw;function Up(a){for(var c=a.name+"",d=Wu[c],m=nt.call(Wu,c)?d.length:0;m--;){var y=d[m],P=y.func;if(P==null||P==a)return y.name}return c}function Hu(a){var c=nt.call(R,"placeholder")?R:a;return c.placeholder}function ve(){var a=R.iteratee||dw;return a=a===dw?YP:a,arguments.length?a(arguments[0],arguments[1]):a}function Fp(a,c){var d=a.__data__;return OB(c)?d[typeof c=="string"?"string":"hash"]:d.map}function X0(a){for(var c=rn(a),d=c.length;d--;){var m=c[d],y=a[m];c[d]=[m,y,kk(y)]}return c}function Ra(a,c){var d=Dj(a,c);return GP(d)?d:n}function IB(a){var c=nt.call(a,Ea),d=a[Ea];try{a[Ea]=n;var m=!0}catch{}var y=gp.call(a);return m&&(c?a[Ea]=d:delete a[Ea]),y}var J0=C0?function(a){return a==null?[]:(a=lt(a),oo(C0(a),function(c){return NP.call(a,c)}))}:mw,Rk=C0?function(a){for(var c=[];a;)ao(c,J0(a)),a=vp(a);return c}:mw,Pn=Yn;(R0&&Pn(new R0(new ArrayBuffer(1)))!=xu||Qc&&Pn(new Qc)!=fi||A0&&Pn(A0.resolve())!=jA||Vu&&Pn(new Vu)!=di||Xc&&Pn(new Xc)!=qc)&&(Pn=function(a){var c=Yn(a),d=c==gs?a.constructor:n,m=d?Aa(d):"";if(m)switch(m){case o9:return xu;case a9:return fi;case u9:return jA;case l9:return di;case c9:return qc}return c});function CB(a,c,d){for(var m=-1,y=d.length;++m<y;){var P=d[m],x=P.size;switch(P.type){case"drop":a+=x;break;case"dropRight":c-=x;break;case"take":c=An(c,a+x);break;case"takeRight":a=Qt(a,c-x);break}}return{start:a,end:c}}function RB(a){var c=a.match(NW);return c?c[1].split(xW):[]}function Ak(a,c,d){c=fo(c,a);for(var m=-1,y=c.length,P=!1;++m<y;){var x=Bi(c[m]);if(!(P=a!=null&&d(a,x)))break;a=a[x]}return P||++m!=y?P:(y=a==null?0:a.length,!!y&&Hp(y)&&Es(x,y)&&(Pe(a)||Pa(a)))}function AB(a){var c=a.length,d=new a.constructor(c);return c&&typeof a[0]=="string"&&nt.call(a,"index")&&(d.index=a.index,d.input=a.input),d}function Pk(a){return typeof a.constructor=="function"&&!oh(a)?ju(vp(a)):{}}function PB(a,c,d){var m=a.constructor;switch(c){case Gc:return H0(a);case Wc:case jc:return new m(+a);case xu:return hB(a,d);case Xy:case Jy:case Zy:case e0:case t0:case n0:case r0:case i0:case s0:return ck(a,d);case fi:return new m;case Bc:case Hc:return new m(a);case zc:return fB(a);case di:return new m;case sp:return dB(a)}}function kB(a,c){var d=c.length;if(!d)return a;var m=d-1;return c[m]=(d>1?"& ":"")+c[m],c=c.join(d>2?", ":" "),a.replace(OW,`{
/* [wrapped with `+c+`] */
`)}function bB(a){return Pe(a)||Pa(a)||!!(xP&&a&&a[xP])}function Es(a,c){var d=typeof a;return c=c??M,!!c&&(d=="number"||d!="symbol"&&jW.test(a))&&a>-1&&a%1==0&&a<c}function Kn(a,c,d){if(!Pt(d))return!1;var m=typeof c;return(m=="number"?lr(d)&&Es(c,d.length):m=="string"&&c in d)?mi(d[c],a):!1}function Z0(a,c){if(Pe(a))return!1;var d=typeof a;return d=="number"||d=="symbol"||d=="boolean"||a==null||Ir(a)?!0:AW.test(a)||!RW.test(a)||c!=null&&a in lt(c)}function OB(a){var c=typeof a;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?a!=="__proto__":a===null}function ew(a){var c=Up(a),d=R[c];if(typeof d!="function"||!(c in Ve.prototype))return!1;if(a===d)return!0;var m=Q0(d);return!!m&&a===m[0]}function NB(a){return!!kP&&kP in a}var xB=dp?Ss:_w;function oh(a){var c=a&&a.constructor,d=typeof c=="function"&&c.prototype||$u;return a===d}function kk(a){return a===a&&!Pt(a)}function bk(a,c){return function(d){return d==null?!1:d[a]===c&&(c!==n||a in lt(d))}}function DB(a){var c=Bp(a,function(m){return d.size===h&&d.clear(),m}),d=c.cache;return c}function LB(a,c){var d=a[1],m=c[1],y=d|m,P=y<(A|S|W),x=m==W&&d==k||m==W&&d==G&&a[7].length<=c[8]||m==(W|G)&&c[7].length<=c[8]&&d==k;if(!(P||x))return a;m&A&&(a[2]=c[2],y|=d&A?0:T);var L=c[3];if(L){var $=a[3];a[3]=$?fk($,L,c[4]):L,a[4]=$?uo(a[3],f):c[4]}return L=c[5],L&&($=a[5],a[5]=$?dk($,L,c[6]):L,a[6]=$?uo(a[5],f):c[6]),L=c[7],L&&(a[7]=L),m&W&&(a[8]=a[8]==null?c[8]:An(a[8],c[8])),a[9]==null&&(a[9]=c[9]),a[0]=c[0],a[1]=y,a}function MB(a){var c=[];if(a!=null)for(var d in lt(a))c.push(d);return c}function UB(a){return gp.call(a)}function Ok(a,c,d){return c=Qt(c===n?a.length-1:c,0),function(){for(var m=arguments,y=-1,P=Qt(m.length-c,0),x=j(P);++y<P;)x[y]=m[c+y];y=-1;for(var L=j(c+1);++y<c;)L[y]=m[y];return L[c]=d(x),Er(a,this,L)}}function Nk(a,c){return c.length<2?a:Ca(a,Gr(c,0,-1))}function FB(a,c){for(var d=a.length,m=An(c.length,d),y=ur(a);m--;){var P=c[m];a[m]=Es(P,d)?y[P]:n}return a}function tw(a,c){if(!(c==="constructor"&&typeof a[c]=="function")&&c!="__proto__")return a[c]}var xk=Lk(nk),ah=Zj||function(a,c){return fn.setTimeout(a,c)},nw=Lk(aB);function Dk(a,c,d){var m=c+"";return nw(a,kB(m,$B(RB(m),d)))}function Lk(a){var c=0,d=0;return function(){var m=r9(),y=_-(m-d);if(d=m,y>0){if(++c>=I)return arguments[0]}else c=0;return a.apply(n,arguments)}}function $p(a,c){var d=-1,m=a.length,y=m-1;for(c=c===n?m:c;++d<c;){var P=F0(d,y),x=a[P];a[P]=a[d],a[d]=x}return a.length=c,a}var Mk=DB(function(a){var c=[];return a.charCodeAt(0)===46&&c.push(""),a.replace(PW,function(d,m,y,P){c.push(y?P.replace(MW,"$1"):m||d)}),c});function Bi(a){if(typeof a=="string"||Ir(a))return a;var c=a+"";return c=="0"&&1/a==-O?"-0":c}function Aa(a){if(a!=null){try{return pp.call(a)}catch{}try{return a+""}catch{}}return""}function $B(a,c){return Br(ps,function(d){var m="_."+d[0];c&d[1]&&!lp(a,m)&&a.push(m)}),a.sort()}function Uk(a){if(a instanceof Ve)return a.clone();var c=new Hr(a.__wrapped__,a.__chain__);return c.__actions__=ur(a.__actions__),c.__index__=a.__index__,c.__values__=a.__values__,c}function VB(a,c,d){(d?Kn(a,c,d):c===n)?c=1:c=Qt(be(c),0);var m=a==null?0:a.length;if(!m||c<1)return[];for(var y=0,P=0,x=j(Ep(m/c));y<m;)x[P++]=Gr(a,y,y+=c);return x}function WB(a){for(var c=-1,d=a==null?0:a.length,m=0,y=[];++c<d;){var P=a[c];P&&(y[m++]=P)}return y}function jB(){var a=arguments.length;if(!a)return[];for(var c=j(a-1),d=arguments[0],m=a;m--;)c[m-1]=arguments[m];return ao(Pe(d)?ur(d):[d],dn(c,1))}var BB=De(function(a,c){return Vt(a)?th(a,dn(c,1,Vt,!0)):[]}),zB=De(function(a,c){var d=Yr(c);return Vt(d)&&(d=n),Vt(a)?th(a,dn(c,1,Vt,!0),ve(d,2)):[]}),HB=De(function(a,c){var d=Yr(c);return Vt(d)&&(d=n),Vt(a)?th(a,dn(c,1,Vt,!0),n,d):[]});function qB(a,c,d){var m=a==null?0:a.length;return m?(c=d||c===n?1:be(c),Gr(a,c<0?0:c,m)):[]}function GB(a,c,d){var m=a==null?0:a.length;return m?(c=d||c===n?1:be(c),c=m-c,Gr(a,0,c<0?0:c)):[]}function YB(a,c){return a&&a.length?Op(a,ve(c,3),!0,!0):[]}function KB(a,c){return a&&a.length?Op(a,ve(c,3),!0):[]}function QB(a,c,d,m){var y=a==null?0:a.length;return y?(d&&typeof d!="number"&&Kn(a,c,d)&&(d=0,m=y),j9(a,c,d,m)):[]}function Fk(a,c,d){var m=a==null?0:a.length;if(!m)return-1;var y=d==null?0:be(d);return y<0&&(y=Qt(m+y,0)),cp(a,ve(c,3),y)}function $k(a,c,d){var m=a==null?0:a.length;if(!m)return-1;var y=m-1;return d!==n&&(y=be(d),y=d<0?Qt(m+y,0):An(y,m-1)),cp(a,ve(c,3),y,!0)}function Vk(a){var c=a==null?0:a.length;return c?dn(a,1):[]}function XB(a){var c=a==null?0:a.length;return c?dn(a,O):[]}function JB(a,c){var d=a==null?0:a.length;return d?(c=c===n?1:be(c),dn(a,c)):[]}function ZB(a){for(var c=-1,d=a==null?0:a.length,m={};++c<d;){var y=a[c];m[y[0]]=y[1]}return m}function Wk(a){return a&&a.length?a[0]:n}function e5(a,c,d){var m=a==null?0:a.length;if(!m)return-1;var y=d==null?0:be(d);return y<0&&(y=Qt(m+y,0)),Lu(a,c,y)}function t5(a){var c=a==null?0:a.length;return c?Gr(a,0,-1):[]}var n5=De(function(a){var c=It(a,B0);return c.length&&c[0]===a[0]?x0(c):[]}),r5=De(function(a){var c=Yr(a),d=It(a,B0);return c===Yr(d)?c=n:d.pop(),d.length&&d[0]===a[0]?x0(d,ve(c,2)):[]}),i5=De(function(a){var c=Yr(a),d=It(a,B0);return c=typeof c=="function"?c:n,c&&d.pop(),d.length&&d[0]===a[0]?x0(d,n,c):[]});function s5(a,c){return a==null?"":t9.call(a,c)}function Yr(a){var c=a==null?0:a.length;return c?a[c-1]:n}function o5(a,c,d){var m=a==null?0:a.length;if(!m)return-1;var y=m;return d!==n&&(y=be(d),y=y<0?Qt(m+y,0):An(y,m-1)),c===c?$j(a,c,y):cp(a,EP,y,!0)}function a5(a,c){return a&&a.length?JP(a,be(c)):n}var u5=De(jk);function jk(a,c){return a&&a.length&&c&&c.length?U0(a,c):a}function l5(a,c,d){return a&&a.length&&c&&c.length?U0(a,c,ve(d,2)):a}function c5(a,c,d){return a&&a.length&&c&&c.length?U0(a,c,n,d):a}var h5=ws(function(a,c){var d=a==null?0:a.length,m=k0(a,c);return tk(a,It(c,function(y){return Es(y,d)?+y:y}).sort(hk)),m});function f5(a,c){var d=[];if(!(a&&a.length))return d;var m=-1,y=[],P=a.length;for(c=ve(c,3);++m<P;){var x=a[m];c(x,m,a)&&(d.push(x),y.push(m))}return tk(a,y),d}function rw(a){return a==null?a:s9.call(a)}function d5(a,c,d){var m=a==null?0:a.length;return m?(d&&typeof d!="number"&&Kn(a,c,d)?(c=0,d=m):(c=c==null?0:be(c),d=d===n?m:be(d)),Gr(a,c,d)):[]}function p5(a,c){return bp(a,c)}function g5(a,c,d){return V0(a,c,ve(d,2))}function m5(a,c){var d=a==null?0:a.length;if(d){var m=bp(a,c);if(m<d&&mi(a[m],c))return m}return-1}function _5(a,c){return bp(a,c,!0)}function v5(a,c,d){return V0(a,c,ve(d,2),!0)}function y5(a,c){var d=a==null?0:a.length;if(d){var m=bp(a,c,!0)-1;if(mi(a[m],c))return m}return-1}function w5(a){return a&&a.length?rk(a):[]}function E5(a,c){return a&&a.length?rk(a,ve(c,2)):[]}function S5(a){var c=a==null?0:a.length;return c?Gr(a,1,c):[]}function T5(a,c,d){return a&&a.length?(c=d||c===n?1:be(c),Gr(a,0,c<0?0:c)):[]}function I5(a,c,d){var m=a==null?0:a.length;return m?(c=d||c===n?1:be(c),c=m-c,Gr(a,c<0?0:c,m)):[]}function C5(a,c){return a&&a.length?Op(a,ve(c,3),!1,!0):[]}function R5(a,c){return a&&a.length?Op(a,ve(c,3)):[]}var A5=De(function(a){return ho(dn(a,1,Vt,!0))}),P5=De(function(a){var c=Yr(a);return Vt(c)&&(c=n),ho(dn(a,1,Vt,!0),ve(c,2))}),k5=De(function(a){var c=Yr(a);return c=typeof c=="function"?c:n,ho(dn(a,1,Vt,!0),n,c)});function b5(a){return a&&a.length?ho(a):[]}function O5(a,c){return a&&a.length?ho(a,ve(c,2)):[]}function N5(a,c){return c=typeof c=="function"?c:n,a&&a.length?ho(a,n,c):[]}function iw(a){if(!(a&&a.length))return[];var c=0;return a=oo(a,function(d){if(Vt(d))return c=Qt(d.length,c),!0}),E0(c,function(d){return It(a,v0(d))})}function Bk(a,c){if(!(a&&a.length))return[];var d=iw(a);return c==null?d:It(d,function(m){return Er(c,n,m)})}var x5=De(function(a,c){return Vt(a)?th(a,c):[]}),D5=De(function(a){return j0(oo(a,Vt))}),L5=De(function(a){var c=Yr(a);return Vt(c)&&(c=n),j0(oo(a,Vt),ve(c,2))}),M5=De(function(a){var c=Yr(a);return c=typeof c=="function"?c:n,j0(oo(a,Vt),n,c)}),U5=De(iw);function F5(a,c){return ak(a||[],c||[],eh)}function $5(a,c){return ak(a||[],c||[],ih)}var V5=De(function(a){var c=a.length,d=c>1?a[c-1]:n;return d=typeof d=="function"?(a.pop(),d):n,Bk(a,d)});function zk(a){var c=R(a);return c.__chain__=!0,c}function W5(a,c){return c(a),a}function Vp(a,c){return c(a)}var j5=ws(function(a){var c=a.length,d=c?a[0]:0,m=this.__wrapped__,y=function(P){return k0(P,a)};return c>1||this.__actions__.length||!(m instanceof Ve)||!Es(d)?this.thru(y):(m=m.slice(d,+d+(c?1:0)),m.__actions__.push({func:Vp,args:[y],thisArg:n}),new Hr(m,this.__chain__).thru(function(P){return c&&!P.length&&P.push(n),P}))});function B5(){return zk(this)}function z5(){return new Hr(this.value(),this.__chain__)}function H5(){this.__values__===n&&(this.__values__=ib(this.value()));var a=this.__index__>=this.__values__.length,c=a?n:this.__values__[this.__index__++];return{done:a,value:c}}function q5(){return this}function G5(a){for(var c,d=this;d instanceof Cp;){var m=Uk(d);m.__index__=0,m.__values__=n,c?y.__wrapped__=m:c=m;var y=m;d=d.__wrapped__}return y.__wrapped__=a,c}function Y5(){var a=this.__wrapped__;if(a instanceof Ve){var c=a;return this.__actions__.length&&(c=new Ve(this)),c=c.reverse(),c.__actions__.push({func:Vp,args:[rw],thisArg:n}),new Hr(c,this.__chain__)}return this.thru(rw)}function K5(){return ok(this.__wrapped__,this.__actions__)}var Q5=Np(function(a,c,d){nt.call(a,d)?++a[d]:vs(a,d,1)});function X5(a,c,d){var m=Pe(a)?yP:W9;return d&&Kn(a,c,d)&&(c=n),m(a,ve(c,3))}function J5(a,c){var d=Pe(a)?oo:BP;return d(a,ve(c,3))}var Z5=_k(Fk),ez=_k($k);function tz(a,c){return dn(Wp(a,c),1)}function nz(a,c){return dn(Wp(a,c),O)}function rz(a,c,d){return d=d===n?1:be(d),dn(Wp(a,c),d)}function Hk(a,c){var d=Pe(a)?Br:co;return d(a,ve(c,3))}function qk(a,c){var d=Pe(a)?Sj:jP;return d(a,ve(c,3))}var iz=Np(function(a,c,d){nt.call(a,d)?a[d].push(c):vs(a,d,[c])});function sz(a,c,d,m){a=lr(a)?a:Gu(a),d=d&&!m?be(d):0;var y=a.length;return d<0&&(d=Qt(y+d,0)),qp(a)?d<=y&&a.indexOf(c,d)>-1:!!y&&Lu(a,c,d)>-1}var oz=De(function(a,c,d){var m=-1,y=typeof c=="function",P=lr(a)?j(a.length):[];return co(a,function(x){P[++m]=y?Er(c,x,d):nh(x,c,d)}),P}),az=Np(function(a,c,d){vs(a,d,c)});function Wp(a,c){var d=Pe(a)?It:KP;return d(a,ve(c,3))}function uz(a,c,d,m){return a==null?[]:(Pe(c)||(c=c==null?[]:[c]),d=m?n:d,Pe(d)||(d=d==null?[]:[d]),ZP(a,c,d))}var lz=Np(function(a,c,d){a[d?0:1].push(c)},function(){return[[],[]]});function cz(a,c,d){var m=Pe(a)?m0:TP,y=arguments.length<3;return m(a,ve(c,4),d,y,co)}function hz(a,c,d){var m=Pe(a)?Tj:TP,y=arguments.length<3;return m(a,ve(c,4),d,y,jP)}function fz(a,c){var d=Pe(a)?oo:BP;return d(a,zp(ve(c,3)))}function dz(a){var c=Pe(a)?FP:sB;return c(a)}function pz(a,c,d){(d?Kn(a,c,d):c===n)?c=1:c=be(c);var m=Pe(a)?M9:oB;return m(a,c)}function gz(a){var c=Pe(a)?U9:uB;return c(a)}function mz(a){if(a==null)return 0;if(lr(a))return qp(a)?Uu(a):a.length;var c=Pn(a);return c==fi||c==di?a.size:L0(a).length}function _z(a,c,d){var m=Pe(a)?_0:lB;return d&&Kn(a,c,d)&&(c=n),m(a,ve(c,3))}var vz=De(function(a,c){if(a==null)return[];var d=c.length;return d>1&&Kn(a,c[0],c[1])?c=[]:d>2&&Kn(c[0],c[1],c[2])&&(c=[c[0]]),ZP(a,dn(c,1),[])}),jp=Jj||function(){return fn.Date.now()};function yz(a,c){if(typeof c!="function")throw new zr(o);return a=be(a),function(){if(--a<1)return c.apply(this,arguments)}}function Gk(a,c,d){return c=d?n:c,c=a&&c==null?a.length:c,ys(a,W,n,n,n,n,c)}function Yk(a,c){var d;if(typeof c!="function")throw new zr(o);return a=be(a),function(){return--a>0&&(d=c.apply(this,arguments)),a<=1&&(c=n),d}}var sw=De(function(a,c,d){var m=A;if(d.length){var y=uo(d,Hu(sw));m|=F}return ys(a,m,c,d,y)}),Kk=De(function(a,c,d){var m=A|S;if(d.length){var y=uo(d,Hu(Kk));m|=F}return ys(c,m,a,d,y)});function Qk(a,c,d){c=d?n:c;var m=ys(a,k,n,n,n,n,n,c);return m.placeholder=Qk.placeholder,m}function Xk(a,c,d){c=d?n:c;var m=ys(a,b,n,n,n,n,n,c);return m.placeholder=Xk.placeholder,m}function Jk(a,c,d){var m,y,P,x,L,$,q=0,Y=!1,Q=!1,se=!0;if(typeof a!="function")throw new zr(o);c=Kr(c)||0,Pt(d)&&(Y=!!d.leading,Q="maxWait"in d,P=Q?Qt(Kr(d.maxWait)||0,c):P,se="trailing"in d?!!d.trailing:se);function pe(Wt){var _i=m,Is=y;return m=y=n,q=Wt,x=a.apply(Is,_i),x}function ye(Wt){return q=Wt,L=ah(Fe,c),Y?pe(Wt):x}function xe(Wt){var _i=Wt-$,Is=Wt-q,_b=c-_i;return Q?An(_b,P-Is):_b}function we(Wt){var _i=Wt-$,Is=Wt-q;return $===n||_i>=c||_i<0||Q&&Is>=P}function Fe(){var Wt=jp();if(we(Wt))return Be(Wt);L=ah(Fe,xe(Wt))}function Be(Wt){return L=n,se&&m?pe(Wt):(m=y=n,x)}function Cr(){L!==n&&uk(L),q=0,m=$=y=L=n}function Qn(){return L===n?x:Be(jp())}function Rr(){var Wt=jp(),_i=we(Wt);if(m=arguments,y=this,$=Wt,_i){if(L===n)return ye($);if(Q)return uk(L),L=ah(Fe,c),pe($)}return L===n&&(L=ah(Fe,c)),x}return Rr.cancel=Cr,Rr.flush=Qn,Rr}var wz=De(function(a,c){return WP(a,1,c)}),Ez=De(function(a,c,d){return WP(a,Kr(c)||0,d)});function Sz(a){return ys(a,ie)}function Bp(a,c){if(typeof a!="function"||c!=null&&typeof c!="function")throw new zr(o);var d=function(){var m=arguments,y=c?c.apply(this,m):m[0],P=d.cache;if(P.has(y))return P.get(y);var x=a.apply(this,m);return d.cache=P.set(y,x)||P,x};return d.cache=new(Bp.Cache||_s),d}Bp.Cache=_s;function zp(a){if(typeof a!="function")throw new zr(o);return function(){var c=arguments;switch(c.length){case 0:return!a.call(this);case 1:return!a.call(this,c[0]);case 2:return!a.call(this,c[0],c[1]);case 3:return!a.call(this,c[0],c[1],c[2])}return!a.apply(this,c)}}function Tz(a){return Yk(2,a)}var Iz=cB(function(a,c){c=c.length==1&&Pe(c[0])?It(c[0],Sr(ve())):It(dn(c,1),Sr(ve()));var d=c.length;return De(function(m){for(var y=-1,P=An(m.length,d);++y<P;)m[y]=c[y].call(this,m[y]);return Er(a,this,m)})}),ow=De(function(a,c){var d=uo(c,Hu(ow));return ys(a,F,n,c,d)}),Zk=De(function(a,c){var d=uo(c,Hu(Zk));return ys(a,V,n,c,d)}),Cz=ws(function(a,c){return ys(a,G,n,n,n,c)});function Rz(a,c){if(typeof a!="function")throw new zr(o);return c=c===n?c:be(c),De(a,c)}function Az(a,c){if(typeof a!="function")throw new zr(o);return c=c==null?0:Qt(be(c),0),De(function(d){var m=d[c],y=po(d,0,c);return m&&ao(y,m),Er(a,this,y)})}function Pz(a,c,d){var m=!0,y=!0;if(typeof a!="function")throw new zr(o);return Pt(d)&&(m="leading"in d?!!d.leading:m,y="trailing"in d?!!d.trailing:y),Jk(a,c,{leading:m,maxWait:c,trailing:y})}function kz(a){return Gk(a,1)}function bz(a,c){return ow(z0(c),a)}function Oz(){if(!arguments.length)return[];var a=arguments[0];return Pe(a)?a:[a]}function Nz(a){return qr(a,v)}function xz(a,c){return c=typeof c=="function"?c:n,qr(a,v,c)}function Dz(a){return qr(a,p|v)}function Lz(a,c){return c=typeof c=="function"?c:n,qr(a,p|v,c)}function Mz(a,c){return c==null||VP(a,c,rn(c))}function mi(a,c){return a===c||a!==a&&c!==c}var Uz=Mp(N0),Fz=Mp(function(a,c){return a>=c}),Pa=qP(function(){return arguments}())?qP:function(a){return xt(a)&&nt.call(a,"callee")&&!NP.call(a,"callee")},Pe=j.isArray,$z=dP?Sr(dP):G9;function lr(a){return a!=null&&Hp(a.length)&&!Ss(a)}function Vt(a){return xt(a)&&lr(a)}function Vz(a){return a===!0||a===!1||xt(a)&&Yn(a)==Wc}var go=e9||_w,Wz=pP?Sr(pP):Y9;function jz(a){return xt(a)&&a.nodeType===1&&!uh(a)}function Bz(a){if(a==null)return!0;if(lr(a)&&(Pe(a)||typeof a=="string"||typeof a.splice=="function"||go(a)||qu(a)||Pa(a)))return!a.length;var c=Pn(a);if(c==fi||c==di)return!a.size;if(oh(a))return!L0(a).length;for(var d in a)if(nt.call(a,d))return!1;return!0}function zz(a,c){return rh(a,c)}function Hz(a,c,d){d=typeof d=="function"?d:n;var m=d?d(a,c):n;return m===n?rh(a,c,n,d):!!m}function aw(a){if(!xt(a))return!1;var c=Yn(a);return c==rp||c==pW||typeof a.message=="string"&&typeof a.name=="string"&&!uh(a)}function qz(a){return typeof a=="number"&&DP(a)}function Ss(a){if(!Pt(a))return!1;var c=Yn(a);return c==ip||c==WA||c==Nu||c==mW}function eb(a){return typeof a=="number"&&a==be(a)}function Hp(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=M}function Pt(a){var c=typeof a;return a!=null&&(c=="object"||c=="function")}function xt(a){return a!=null&&typeof a=="object"}var tb=gP?Sr(gP):Q9;function Gz(a,c){return a===c||D0(a,c,X0(c))}function Yz(a,c,d){return d=typeof d=="function"?d:n,D0(a,c,X0(c),d)}function Kz(a){return nb(a)&&a!=+a}function Qz(a){if(xB(a))throw new Re(s);return GP(a)}function Xz(a){return a===null}function Jz(a){return a==null}function nb(a){return typeof a=="number"||xt(a)&&Yn(a)==Bc}function uh(a){if(!xt(a)||Yn(a)!=gs)return!1;var c=vp(a);if(c===null)return!0;var d=nt.call(c,"constructor")&&c.constructor;return typeof d=="function"&&d instanceof d&&pp.call(d)==Yj}var uw=mP?Sr(mP):X9;function Zz(a){return eb(a)&&a>=-M&&a<=M}var rb=_P?Sr(_P):J9;function qp(a){return typeof a=="string"||!Pe(a)&&xt(a)&&Yn(a)==Hc}function Ir(a){return typeof a=="symbol"||xt(a)&&Yn(a)==sp}var qu=vP?Sr(vP):Z9;function eH(a){return a===n}function tH(a){return xt(a)&&Pn(a)==qc}function nH(a){return xt(a)&&Yn(a)==vW}var rH=Mp(M0),iH=Mp(function(a,c){return a<=c});function ib(a){if(!a)return[];if(lr(a))return qp(a)?pi(a):ur(a);if(Kc&&a[Kc])return Mj(a[Kc]());var c=Pn(a),d=c==fi?T0:c==di?hp:Gu;return d(a)}function Ts(a){if(!a)return a===0?a:0;if(a=Kr(a),a===O||a===-O){var c=a<0?-1:1;return c*B}return a===a?a:0}function be(a){var c=Ts(a),d=c%1;return c===c?d?c-d:c:0}function sb(a){return a?Ia(be(a),0,ue):0}function Kr(a){if(typeof a=="number")return a;if(Ir(a))return H;if(Pt(a)){var c=typeof a.valueOf=="function"?a.valueOf():a;a=Pt(c)?c+"":c}if(typeof a!="string")return a===0?a:+a;a=IP(a);var d=$W.test(a);return d||WW.test(a)?yj(a.slice(2),d?2:8):FW.test(a)?H:+a}function ob(a){return ji(a,cr(a))}function sH(a){return a?Ia(be(a),-M,M):a===0?a:0}function tt(a){return a==null?"":Tr(a)}var oH=Bu(function(a,c){if(oh(c)||lr(c)){ji(c,rn(c),a);return}for(var d in c)nt.call(c,d)&&eh(a,d,c[d])}),ab=Bu(function(a,c){ji(c,cr(c),a)}),Gp=Bu(function(a,c,d,m){ji(c,cr(c),a,m)}),aH=Bu(function(a,c,d,m){ji(c,rn(c),a,m)}),uH=ws(k0);function lH(a,c){var d=ju(a);return c==null?d:$P(d,c)}var cH=De(function(a,c){a=lt(a);var d=-1,m=c.length,y=m>2?c[2]:n;for(y&&Kn(c[0],c[1],y)&&(m=1);++d<m;)for(var P=c[d],x=cr(P),L=-1,$=x.length;++L<$;){var q=x[L],Y=a[q];(Y===n||mi(Y,$u[q])&&!nt.call(a,q))&&(a[q]=P[q])}return a}),hH=De(function(a){return a.push(n,Ik),Er(ub,n,a)});function fH(a,c){return wP(a,ve(c,3),Wi)}function dH(a,c){return wP(a,ve(c,3),O0)}function pH(a,c){return a==null?a:b0(a,ve(c,3),cr)}function gH(a,c){return a==null?a:zP(a,ve(c,3),cr)}function mH(a,c){return a&&Wi(a,ve(c,3))}function _H(a,c){return a&&O0(a,ve(c,3))}function vH(a){return a==null?[]:Pp(a,rn(a))}function yH(a){return a==null?[]:Pp(a,cr(a))}function lw(a,c,d){var m=a==null?n:Ca(a,c);return m===n?d:m}function wH(a,c){return a!=null&&Ak(a,c,B9)}function cw(a,c){return a!=null&&Ak(a,c,z9)}var EH=yk(function(a,c,d){c!=null&&typeof c.toString!="function"&&(c=gp.call(c)),a[c]=d},fw(hr)),SH=yk(function(a,c,d){c!=null&&typeof c.toString!="function"&&(c=gp.call(c)),nt.call(a,c)?a[c].push(d):a[c]=[d]},ve),TH=De(nh);function rn(a){return lr(a)?UP(a):L0(a)}function cr(a){return lr(a)?UP(a,!0):eB(a)}function IH(a,c){var d={};return c=ve(c,3),Wi(a,function(m,y,P){vs(d,c(m,y,P),m)}),d}function CH(a,c){var d={};return c=ve(c,3),Wi(a,function(m,y,P){vs(d,y,c(m,y,P))}),d}var RH=Bu(function(a,c,d){kp(a,c,d)}),ub=Bu(function(a,c,d,m){kp(a,c,d,m)}),AH=ws(function(a,c){var d={};if(a==null)return d;var m=!1;c=It(c,function(P){return P=fo(P,a),m||(m=P.length>1),P}),ji(a,K0(a),d),m&&(d=qr(d,p|g|v,EB));for(var y=c.length;y--;)W0(d,c[y]);return d});function PH(a,c){return lb(a,zp(ve(c)))}var kH=ws(function(a,c){return a==null?{}:nB(a,c)});function lb(a,c){if(a==null)return{};var d=It(K0(a),function(m){return[m]});return c=ve(c),ek(a,d,function(m,y){return c(m,y[0])})}function bH(a,c,d){c=fo(c,a);var m=-1,y=c.length;for(y||(y=1,a=n);++m<y;){var P=a==null?n:a[Bi(c[m])];P===n&&(m=y,P=d),a=Ss(P)?P.call(a):P}return a}function OH(a,c,d){return a==null?a:ih(a,c,d)}function NH(a,c,d,m){return m=typeof m=="function"?m:n,a==null?a:ih(a,c,d,m)}var cb=Sk(rn),hb=Sk(cr);function xH(a,c,d){var m=Pe(a),y=m||go(a)||qu(a);if(c=ve(c,4),d==null){var P=a&&a.constructor;y?d=m?new P:[]:Pt(a)?d=Ss(P)?ju(vp(a)):{}:d={}}return(y?Br:Wi)(a,function(x,L,$){return c(d,x,L,$)}),d}function DH(a,c){return a==null?!0:W0(a,c)}function LH(a,c,d){return a==null?a:sk(a,c,z0(d))}function MH(a,c,d,m){return m=typeof m=="function"?m:n,a==null?a:sk(a,c,z0(d),m)}function Gu(a){return a==null?[]:S0(a,rn(a))}function UH(a){return a==null?[]:S0(a,cr(a))}function FH(a,c,d){return d===n&&(d=c,c=n),d!==n&&(d=Kr(d),d=d===d?d:0),c!==n&&(c=Kr(c),c=c===c?c:0),Ia(Kr(a),c,d)}function $H(a,c,d){return c=Ts(c),d===n?(d=c,c=0):d=Ts(d),a=Kr(a),H9(a,c,d)}function VH(a,c,d){if(d&&typeof d!="boolean"&&Kn(a,c,d)&&(c=d=n),d===n&&(typeof c=="boolean"?(d=c,c=n):typeof a=="boolean"&&(d=a,a=n)),a===n&&c===n?(a=0,c=1):(a=Ts(a),c===n?(c=a,a=0):c=Ts(c)),a>c){var m=a;a=c,c=m}if(d||a%1||c%1){var y=LP();return An(a+y*(c-a+vj("1e-"+((y+"").length-1))),c)}return F0(a,c)}var WH=zu(function(a,c,d){return c=c.toLowerCase(),a+(d?fb(c):c)});function fb(a){return hw(tt(a).toLowerCase())}function db(a){return a=tt(a),a&&a.replace(BW,Oj).replace(uj,"")}function jH(a,c,d){a=tt(a),c=Tr(c);var m=a.length;d=d===n?m:Ia(be(d),0,m);var y=d;return d-=c.length,d>=0&&a.slice(d,y)==c}function BH(a){return a=tt(a),a&&TW.test(a)?a.replace(zA,Nj):a}function zH(a){return a=tt(a),a&&kW.test(a)?a.replace(o0,"\\$&"):a}var HH=zu(function(a,c,d){return a+(d?"-":"")+c.toLowerCase()}),qH=zu(function(a,c,d){return a+(d?" ":"")+c.toLowerCase()}),GH=mk("toLowerCase");function YH(a,c,d){a=tt(a),c=be(c);var m=c?Uu(a):0;if(!c||m>=c)return a;var y=(c-m)/2;return Lp(Sp(y),d)+a+Lp(Ep(y),d)}function KH(a,c,d){a=tt(a),c=be(c);var m=c?Uu(a):0;return c&&m<c?a+Lp(c-m,d):a}function QH(a,c,d){a=tt(a),c=be(c);var m=c?Uu(a):0;return c&&m<c?Lp(c-m,d)+a:a}function XH(a,c,d){return d||c==null?c=0:c&&(c=+c),i9(tt(a).replace(a0,""),c||0)}function JH(a,c,d){return(d?Kn(a,c,d):c===n)?c=1:c=be(c),$0(tt(a),c)}function ZH(){var a=arguments,c=tt(a[0]);return a.length<3?c:c.replace(a[1],a[2])}var e8=zu(function(a,c,d){return a+(d?"_":"")+c.toLowerCase()});function t8(a,c,d){return d&&typeof d!="number"&&Kn(a,c,d)&&(c=d=n),d=d===n?ue:d>>>0,d?(a=tt(a),a&&(typeof c=="string"||c!=null&&!uw(c))&&(c=Tr(c),!c&&Mu(a))?po(pi(a),0,d):a.split(c,d)):[]}var n8=zu(function(a,c,d){return a+(d?" ":"")+hw(c)});function r8(a,c,d){return a=tt(a),d=d==null?0:Ia(be(d),0,a.length),c=Tr(c),a.slice(d,d+c.length)==c}function i8(a,c,d){var m=R.templateSettings;d&&Kn(a,c,d)&&(c=n),a=tt(a),c=Gp({},c,m,Tk);var y=Gp({},c.imports,m.imports,Tk),P=rn(y),x=S0(y,P),L,$,q=0,Y=c.interpolate||op,Q="__p += '",se=I0((c.escape||op).source+"|"+Y.source+"|"+(Y===HA?UW:op).source+"|"+(c.evaluate||op).source+"|$","g"),pe="//# sourceURL="+(nt.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++dj+"]")+`
`;a.replace(se,function(we,Fe,Be,Cr,Qn,Rr){return Be||(Be=Cr),Q+=a.slice(q,Rr).replace(zW,xj),Fe&&(L=!0,Q+=`' +
__e(`+Fe+`) +
'`),Qn&&($=!0,Q+=`';
`+Qn+`;
__p += '`),Be&&(Q+=`' +
((__t = (`+Be+`)) == null ? '' : __t) +
'`),q=Rr+we.length,we}),Q+=`';
`;var ye=nt.call(c,"variable")&&c.variable;if(!ye)Q=`with (obj) {
`+Q+`
}
`;else if(LW.test(ye))throw new Re(u);Q=($?Q.replace(yW,""):Q).replace(wW,"$1").replace(EW,"$1;"),Q="function("+(ye||"obj")+`) {
`+(ye?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(L?", __e = _.escape":"")+($?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Q+`return __p
}`;var xe=gb(function(){return Ze(P,pe+"return "+Q).apply(n,x)});if(xe.source=Q,aw(xe))throw xe;return xe}function s8(a){return tt(a).toLowerCase()}function o8(a){return tt(a).toUpperCase()}function a8(a,c,d){if(a=tt(a),a&&(d||c===n))return IP(a);if(!a||!(c=Tr(c)))return a;var m=pi(a),y=pi(c),P=CP(m,y),x=RP(m,y)+1;return po(m,P,x).join("")}function u8(a,c,d){if(a=tt(a),a&&(d||c===n))return a.slice(0,PP(a)+1);if(!a||!(c=Tr(c)))return a;var m=pi(a),y=RP(m,pi(c))+1;return po(m,0,y).join("")}function l8(a,c,d){if(a=tt(a),a&&(d||c===n))return a.replace(a0,"");if(!a||!(c=Tr(c)))return a;var m=pi(a),y=CP(m,pi(c));return po(m,y).join("")}function c8(a,c){var d=re,m=Ne;if(Pt(c)){var y="separator"in c?c.separator:y;d="length"in c?be(c.length):d,m="omission"in c?Tr(c.omission):m}a=tt(a);var P=a.length;if(Mu(a)){var x=pi(a);P=x.length}if(d>=P)return a;var L=d-Uu(m);if(L<1)return m;var $=x?po(x,0,L).join(""):a.slice(0,L);if(y===n)return $+m;if(x&&(L+=$.length-L),uw(y)){if(a.slice(L).search(y)){var q,Y=$;for(y.global||(y=I0(y.source,tt(qA.exec(y))+"g")),y.lastIndex=0;q=y.exec(Y);)var Q=q.index;$=$.slice(0,Q===n?L:Q)}}else if(a.indexOf(Tr(y),L)!=L){var se=$.lastIndexOf(y);se>-1&&($=$.slice(0,se))}return $+m}function h8(a){return a=tt(a),a&&SW.test(a)?a.replace(BA,Vj):a}var f8=zu(function(a,c,d){return a+(d?" ":"")+c.toUpperCase()}),hw=mk("toUpperCase");function pb(a,c,d){return a=tt(a),c=d?n:c,c===n?Lj(a)?Bj(a):Rj(a):a.match(c)||[]}var gb=De(function(a,c){try{return Er(a,n,c)}catch(d){return aw(d)?d:new Re(d)}}),d8=ws(function(a,c){return Br(c,function(d){d=Bi(d),vs(a,d,sw(a[d],a))}),a});function p8(a){var c=a==null?0:a.length,d=ve();return a=c?It(a,function(m){if(typeof m[1]!="function")throw new zr(o);return[d(m[0]),m[1]]}):[],De(function(m){for(var y=-1;++y<c;){var P=a[y];if(Er(P[0],this,m))return Er(P[1],this,m)}})}function g8(a){return V9(qr(a,p))}function fw(a){return function(){return a}}function m8(a,c){return a==null||a!==a?c:a}var _8=vk(),v8=vk(!0);function hr(a){return a}function dw(a){return YP(typeof a=="function"?a:qr(a,p))}function y8(a){return QP(qr(a,p))}function w8(a,c){return XP(a,qr(c,p))}var E8=De(function(a,c){return function(d){return nh(d,a,c)}}),S8=De(function(a,c){return function(d){return nh(a,d,c)}});function pw(a,c,d){var m=rn(c),y=Pp(c,m);d==null&&!(Pt(c)&&(y.length||!m.length))&&(d=c,c=a,a=this,y=Pp(c,rn(c)));var P=!(Pt(d)&&"chain"in d)||!!d.chain,x=Ss(a);return Br(y,function(L){var $=c[L];a[L]=$,x&&(a.prototype[L]=function(){var q=this.__chain__;if(P||q){var Y=a(this.__wrapped__),Q=Y.__actions__=ur(this.__actions__);return Q.push({func:$,args:arguments,thisArg:a}),Y.__chain__=q,Y}return $.apply(a,ao([this.value()],arguments))})}),a}function T8(){return fn._===this&&(fn._=Kj),this}function gw(){}function I8(a){return a=be(a),De(function(c){return JP(c,a)})}var C8=q0(It),R8=q0(yP),A8=q0(_0);function mb(a){return Z0(a)?v0(Bi(a)):rB(a)}function P8(a){return function(c){return a==null?n:Ca(a,c)}}var k8=wk(),b8=wk(!0);function mw(){return[]}function _w(){return!1}function O8(){return{}}function N8(){return""}function x8(){return!0}function D8(a,c){if(a=be(a),a<1||a>M)return[];var d=ue,m=An(a,ue);c=ve(c),a-=ue;for(var y=E0(m,c);++d<a;)c(d);return y}function L8(a){return Pe(a)?It(a,Bi):Ir(a)?[a]:ur(Mk(tt(a)))}function M8(a){var c=++Gj;return tt(a)+c}var U8=Dp(function(a,c){return a+c},0),F8=G0("ceil"),$8=Dp(function(a,c){return a/c},1),V8=G0("floor");function W8(a){return a&&a.length?Ap(a,hr,N0):n}function j8(a,c){return a&&a.length?Ap(a,ve(c,2),N0):n}function B8(a){return SP(a,hr)}function z8(a,c){return SP(a,ve(c,2))}function H8(a){return a&&a.length?Ap(a,hr,M0):n}function q8(a,c){return a&&a.length?Ap(a,ve(c,2),M0):n}var G8=Dp(function(a,c){return a*c},1),Y8=G0("round"),K8=Dp(function(a,c){return a-c},0);function Q8(a){return a&&a.length?w0(a,hr):0}function X8(a,c){return a&&a.length?w0(a,ve(c,2)):0}return R.after=yz,R.ary=Gk,R.assign=oH,R.assignIn=ab,R.assignInWith=Gp,R.assignWith=aH,R.at=uH,R.before=Yk,R.bind=sw,R.bindAll=d8,R.bindKey=Kk,R.castArray=Oz,R.chain=zk,R.chunk=VB,R.compact=WB,R.concat=jB,R.cond=p8,R.conforms=g8,R.constant=fw,R.countBy=Q5,R.create=lH,R.curry=Qk,R.curryRight=Xk,R.debounce=Jk,R.defaults=cH,R.defaultsDeep=hH,R.defer=wz,R.delay=Ez,R.difference=BB,R.differenceBy=zB,R.differenceWith=HB,R.drop=qB,R.dropRight=GB,R.dropRightWhile=YB,R.dropWhile=KB,R.fill=QB,R.filter=J5,R.flatMap=tz,R.flatMapDeep=nz,R.flatMapDepth=rz,R.flatten=Vk,R.flattenDeep=XB,R.flattenDepth=JB,R.flip=Sz,R.flow=_8,R.flowRight=v8,R.fromPairs=ZB,R.functions=vH,R.functionsIn=yH,R.groupBy=iz,R.initial=t5,R.intersection=n5,R.intersectionBy=r5,R.intersectionWith=i5,R.invert=EH,R.invertBy=SH,R.invokeMap=oz,R.iteratee=dw,R.keyBy=az,R.keys=rn,R.keysIn=cr,R.map=Wp,R.mapKeys=IH,R.mapValues=CH,R.matches=y8,R.matchesProperty=w8,R.memoize=Bp,R.merge=RH,R.mergeWith=ub,R.method=E8,R.methodOf=S8,R.mixin=pw,R.negate=zp,R.nthArg=I8,R.omit=AH,R.omitBy=PH,R.once=Tz,R.orderBy=uz,R.over=C8,R.overArgs=Iz,R.overEvery=R8,R.overSome=A8,R.partial=ow,R.partialRight=Zk,R.partition=lz,R.pick=kH,R.pickBy=lb,R.property=mb,R.propertyOf=P8,R.pull=u5,R.pullAll=jk,R.pullAllBy=l5,R.pullAllWith=c5,R.pullAt=h5,R.range=k8,R.rangeRight=b8,R.rearg=Cz,R.reject=fz,R.remove=f5,R.rest=Rz,R.reverse=rw,R.sampleSize=pz,R.set=OH,R.setWith=NH,R.shuffle=gz,R.slice=d5,R.sortBy=vz,R.sortedUniq=w5,R.sortedUniqBy=E5,R.split=t8,R.spread=Az,R.tail=S5,R.take=T5,R.takeRight=I5,R.takeRightWhile=C5,R.takeWhile=R5,R.tap=W5,R.throttle=Pz,R.thru=Vp,R.toArray=ib,R.toPairs=cb,R.toPairsIn=hb,R.toPath=L8,R.toPlainObject=ob,R.transform=xH,R.unary=kz,R.union=A5,R.unionBy=P5,R.unionWith=k5,R.uniq=b5,R.uniqBy=O5,R.uniqWith=N5,R.unset=DH,R.unzip=iw,R.unzipWith=Bk,R.update=LH,R.updateWith=MH,R.values=Gu,R.valuesIn=UH,R.without=x5,R.words=pb,R.wrap=bz,R.xor=D5,R.xorBy=L5,R.xorWith=M5,R.zip=U5,R.zipObject=F5,R.zipObjectDeep=$5,R.zipWith=V5,R.entries=cb,R.entriesIn=hb,R.extend=ab,R.extendWith=Gp,pw(R,R),R.add=U8,R.attempt=gb,R.camelCase=WH,R.capitalize=fb,R.ceil=F8,R.clamp=FH,R.clone=Nz,R.cloneDeep=Dz,R.cloneDeepWith=Lz,R.cloneWith=xz,R.conformsTo=Mz,R.deburr=db,R.defaultTo=m8,R.divide=$8,R.endsWith=jH,R.eq=mi,R.escape=BH,R.escapeRegExp=zH,R.every=X5,R.find=Z5,R.findIndex=Fk,R.findKey=fH,R.findLast=ez,R.findLastIndex=$k,R.findLastKey=dH,R.floor=V8,R.forEach=Hk,R.forEachRight=qk,R.forIn=pH,R.forInRight=gH,R.forOwn=mH,R.forOwnRight=_H,R.get=lw,R.gt=Uz,R.gte=Fz,R.has=wH,R.hasIn=cw,R.head=Wk,R.identity=hr,R.includes=sz,R.indexOf=e5,R.inRange=$H,R.invoke=TH,R.isArguments=Pa,R.isArray=Pe,R.isArrayBuffer=$z,R.isArrayLike=lr,R.isArrayLikeObject=Vt,R.isBoolean=Vz,R.isBuffer=go,R.isDate=Wz,R.isElement=jz,R.isEmpty=Bz,R.isEqual=zz,R.isEqualWith=Hz,R.isError=aw,R.isFinite=qz,R.isFunction=Ss,R.isInteger=eb,R.isLength=Hp,R.isMap=tb,R.isMatch=Gz,R.isMatchWith=Yz,R.isNaN=Kz,R.isNative=Qz,R.isNil=Jz,R.isNull=Xz,R.isNumber=nb,R.isObject=Pt,R.isObjectLike=xt,R.isPlainObject=uh,R.isRegExp=uw,R.isSafeInteger=Zz,R.isSet=rb,R.isString=qp,R.isSymbol=Ir,R.isTypedArray=qu,R.isUndefined=eH,R.isWeakMap=tH,R.isWeakSet=nH,R.join=s5,R.kebabCase=HH,R.last=Yr,R.lastIndexOf=o5,R.lowerCase=qH,R.lowerFirst=GH,R.lt=rH,R.lte=iH,R.max=W8,R.maxBy=j8,R.mean=B8,R.meanBy=z8,R.min=H8,R.minBy=q8,R.stubArray=mw,R.stubFalse=_w,R.stubObject=O8,R.stubString=N8,R.stubTrue=x8,R.multiply=G8,R.nth=a5,R.noConflict=T8,R.noop=gw,R.now=jp,R.pad=YH,R.padEnd=KH,R.padStart=QH,R.parseInt=XH,R.random=VH,R.reduce=cz,R.reduceRight=hz,R.repeat=JH,R.replace=ZH,R.result=bH,R.round=Y8,R.runInContext=U,R.sample=dz,R.size=mz,R.snakeCase=e8,R.some=_z,R.sortedIndex=p5,R.sortedIndexBy=g5,R.sortedIndexOf=m5,R.sortedLastIndex=_5,R.sortedLastIndexBy=v5,R.sortedLastIndexOf=y5,R.startCase=n8,R.startsWith=r8,R.subtract=K8,R.sum=Q8,R.sumBy=X8,R.template=i8,R.times=D8,R.toFinite=Ts,R.toInteger=be,R.toLength=sb,R.toLower=s8,R.toNumber=Kr,R.toSafeInteger=sH,R.toString=tt,R.toUpper=o8,R.trim=a8,R.trimEnd=u8,R.trimStart=l8,R.truncate=c8,R.unescape=h8,R.uniqueId=M8,R.upperCase=f8,R.upperFirst=hw,R.each=Hk,R.eachRight=qk,R.first=Wk,pw(R,function(){var a={};return Wi(R,function(c,d){nt.call(R.prototype,d)||(a[d]=c)}),a}(),{chain:!1}),R.VERSION=r,Br(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){R[a].placeholder=R}),Br(["drop","take"],function(a,c){Ve.prototype[a]=function(d){d=d===n?1:Qt(be(d),0);var m=this.__filtered__&&!c?new Ve(this):this.clone();return m.__filtered__?m.__takeCount__=An(d,m.__takeCount__):m.__views__.push({size:An(d,ue),type:a+(m.__dir__<0?"Right":"")}),m},Ve.prototype[a+"Right"]=function(d){return this.reverse()[a](d).reverse()}}),Br(["filter","map","takeWhile"],function(a,c){var d=c+1,m=d==w||d==D;Ve.prototype[a]=function(y){var P=this.clone();return P.__iteratees__.push({iteratee:ve(y,3),type:d}),P.__filtered__=P.__filtered__||m,P}}),Br(["head","last"],function(a,c){var d="take"+(c?"Right":"");Ve.prototype[a]=function(){return this[d](1).value()[0]}}),Br(["initial","tail"],function(a,c){var d="drop"+(c?"":"Right");Ve.prototype[a]=function(){return this.__filtered__?new Ve(this):this[d](1)}}),Ve.prototype.compact=function(){return this.filter(hr)},Ve.prototype.find=function(a){return this.filter(a).head()},Ve.prototype.findLast=function(a){return this.reverse().find(a)},Ve.prototype.invokeMap=De(function(a,c){return typeof a=="function"?new Ve(this):this.map(function(d){return nh(d,a,c)})}),Ve.prototype.reject=function(a){return this.filter(zp(ve(a)))},Ve.prototype.slice=function(a,c){a=be(a);var d=this;return d.__filtered__&&(a>0||c<0)?new Ve(d):(a<0?d=d.takeRight(-a):a&&(d=d.drop(a)),c!==n&&(c=be(c),d=c<0?d.dropRight(-c):d.take(c-a)),d)},Ve.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Ve.prototype.toArray=function(){return this.take(ue)},Wi(Ve.prototype,function(a,c){var d=/^(?:filter|find|map|reject)|While$/.test(c),m=/^(?:head|last)$/.test(c),y=R[m?"take"+(c=="last"?"Right":""):c],P=m||/^find/.test(c);y&&(R.prototype[c]=function(){var x=this.__wrapped__,L=m?[1]:arguments,$=x instanceof Ve,q=L[0],Y=$||Pe(x),Q=function(Fe){var Be=y.apply(R,ao([Fe],L));return m&&se?Be[0]:Be};Y&&d&&typeof q=="function"&&q.length!=1&&($=Y=!1);var se=this.__chain__,pe=!!this.__actions__.length,ye=P&&!se,xe=$&&!pe;if(!P&&Y){x=xe?x:new Ve(this);var we=a.apply(x,L);return we.__actions__.push({func:Vp,args:[Q],thisArg:n}),new Hr(we,se)}return ye&&xe?a.apply(this,L):(we=this.thru(Q),ye?m?we.value()[0]:we.value():we)})}),Br(["pop","push","shift","sort","splice","unshift"],function(a){var c=fp[a],d=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",m=/^(?:pop|shift)$/.test(a);R.prototype[a]=function(){var y=arguments;if(m&&!this.__chain__){var P=this.value();return c.apply(Pe(P)?P:[],y)}return this[d](function(x){return c.apply(Pe(x)?x:[],y)})}}),Wi(Ve.prototype,function(a,c){var d=R[c];if(d){var m=d.name+"";nt.call(Wu,m)||(Wu[m]=[]),Wu[m].push({name:c,func:d})}}),Wu[xp(n,S).name]=[{name:"wrapper",func:n}],Ve.prototype.clone=h9,Ve.prototype.reverse=f9,Ve.prototype.value=d9,R.prototype.at=j5,R.prototype.chain=B5,R.prototype.commit=z5,R.prototype.next=H5,R.prototype.plant=G5,R.prototype.reverse=Y5,R.prototype.toJSON=R.prototype.valueOf=R.prototype.value=K5,R.prototype.first=R.prototype.head,Kc&&(R.prototype[Kc]=q5),R},Fu=zj();wa?((wa.exports=Fu)._=Fu,d0._=Fu):fn._=Fu}).call(lh)})(UQ,Xm);const ou=Xm;var Qh;(function(t){t.loginUser="loginUser",t.registerUser="registerUser",t.searchUser="searchUser"})(Qh||(Qh={}));var Xh;(function(t){t.isLoginUser="isLoginUser",t.isRegisterUser="isRegisterUser",t.isSearchUser="isSearchUser"})(Xh||(Xh={}));var rN={user:null,searchedUsers:[],chat:null},Ge=WI({name:"user",initialState:rN,reducers:{loginUser:function(e,n){},loginUserSuccess:function(e,n){var r=n.payload;e.user=r},loginUserError:function(e,n){},registerUser:function(e,n){},registerUserSuccess:function(e,n){var r=n.payload;e.user=r},registerUserError:function(e,n){},searchUser:function(e,n){},searchUserSuccess:function(e,n){var r=n.payload;e.searchedUsers=r},searchUserError:function(e,n){},clearSearchedUser:function(e){e.searchedUsers=[]},getInterlocutor:function(e,n){},getInterlocutorSuccess:function(e,n){var r=n.payload;e.chat=r},getInterlocutorError:function(e,n){},logout:function(){return rN}}});function FQ(t,e){return jQ(t)||WQ(t,e)||VQ(t,e)||$Q()}function $Q(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VQ(t,e){if(t){if(typeof t=="string")return iN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iN(t,e)}}function iN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,u=[],l=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(f){h=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function jQ(t){if(Array.isArray(t))return t}var sN={loading:{isLoginUser:!1,isRegisterUser:!1,isSearchUser:!1},errors:{loginUser:null,registerUser:null,searchUser:null}},BI=WI({name:"app",initialState:sN,reducers:{setError:function(e,n){var r=n.payload,i=r.error,s=r.errorType;e.errors[s]=i},resetErrors:function(e){e.errors=ou.cloneDeep(sN.errors)}},extraReducers:function(e){var n=function(i,s,o){var u=FQ(i,3),l=u[0],h=u[1],f=u[2];e.addCase(l,function(p){p.loading[s]=!0,p.errors[o]=null}),e.addCase(h,function(p){p.loading[s]=!1}),e.addCase(f,function(p,g){p.loading[s]=!1,p.errors[o]=g.payload})};n([Ge.actions.loginUser,Ge.actions.loginUserSuccess,Ge.actions.loginUserError],Xh.isLoginUser,Qh.loginUser),n([Ge.actions.registerUser,Ge.actions.registerUserSuccess,Ge.actions.registerUserError],Xh.isRegisterUser,Qh.registerUser),n([Ge.actions.searchUser,Ge.actions.searchUserSuccess,Ge.actions.searchUserError],Xh.isSearchUser,Qh.searchUser)}}),BQ={isChatOpened:!1},mU=WI({name:"user",initialState:BQ,reducers:{setIsChatOpened:function(e,n){var r=n.payload;e.isChatOpened=r}}}),xn={},gS={},zQ={get exports(){return gS},set exports(t){gS=t}},Jm={},HQ={get exports(){return Jm},set exports(t){Jm=t}},_U=function(e,n){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return e.apply(n,i)}},qQ=_U,Tu=Object.prototype.toString;function zI(t){return Tu.call(t)==="[object Array]"}function mS(t){return typeof t>"u"}function GQ(t){return t!==null&&!mS(t)&&t.constructor!==null&&!mS(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function YQ(t){return Tu.call(t)==="[object ArrayBuffer]"}function KQ(t){return typeof FormData<"u"&&t instanceof FormData}function QQ(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function XQ(t){return typeof t=="string"}function JQ(t){return typeof t=="number"}function vU(t){return t!==null&&typeof t=="object"}function Xg(t){if(Tu.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function ZQ(t){return Tu.call(t)==="[object Date]"}function eX(t){return Tu.call(t)==="[object File]"}function tX(t){return Tu.call(t)==="[object Blob]"}function yU(t){return Tu.call(t)==="[object Function]"}function nX(t){return vU(t)&&yU(t.pipe)}function rX(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}function iX(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function sX(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function HI(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),zI(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function _S(){var t={};function e(i,s){Xg(t[s])&&Xg(i)?t[s]=_S(t[s],i):Xg(i)?t[s]=_S({},i):zI(i)?t[s]=i.slice():t[s]=i}for(var n=0,r=arguments.length;n<r;n++)HI(arguments[n],e);return t}function oX(t,e,n){return HI(e,function(i,s){n&&typeof i=="function"?t[s]=qQ(i,n):t[s]=i}),t}function aX(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var $r={isArray:zI,isArrayBuffer:YQ,isBuffer:GQ,isFormData:KQ,isArrayBufferView:QQ,isString:XQ,isNumber:JQ,isObject:vU,isPlainObject:Xg,isUndefined:mS,isDate:ZQ,isFile:eX,isBlob:tX,isFunction:yU,isStream:nX,isURLSearchParams:rX,isStandardBrowserEnv:sX,forEach:HI,merge:_S,extend:oX,trim:iX,stripBOM:aX},Ku=$r;function oN(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var wU=function(e,n,r){if(!n)return e;var i;if(r)i=r(n);else if(Ku.isURLSearchParams(n))i=n.toString();else{var s=[];Ku.forEach(n,function(l,h){l===null||typeof l>"u"||(Ku.isArray(l)?h=h+"[]":l=[l],Ku.forEach(l,function(p){Ku.isDate(p)?p=p.toISOString():Ku.isObject(p)&&(p=JSON.stringify(p)),s.push(oN(h)+"="+oN(p))}))}),i=s.join("&")}if(i){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},uX=$r;function Mv(){this.handlers=[]}Mv.prototype.use=function(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};Mv.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Mv.prototype.forEach=function(e){uX.forEach(this.handlers,function(r){r!==null&&e(r)})};var lX=Mv,cX=$r,hX=function(e,n){cX.forEach(e,function(i,s){s!==n&&s.toUpperCase()===n.toUpperCase()&&(e[n]=i,delete e[s])})},EU=function(e,n,r,i,s){return e.config=n,r&&(e.code=r),e.request=i,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e},eE,aN;function SU(){if(aN)return eE;aN=1;var t=EU;return eE=function(n,r,i,s,o){var u=new Error(n);return t(u,r,i,s,o)},eE}var tE,uN;function fX(){if(uN)return tE;uN=1;var t=SU();return tE=function(n,r,i){var s=i.config.validateStatus;!i.status||!s||s(i.status)?n(i):r(t("Request failed with status code "+i.status,i.config,null,i.request,i))},tE}var nE,lN;function dX(){if(lN)return nE;lN=1;var t=$r;return nE=t.isStandardBrowserEnv()?function(){return{write:function(r,i,s,o,u,l){var h=[];h.push(r+"="+encodeURIComponent(i)),t.isNumber(s)&&h.push("expires="+new Date(s).toGMTString()),t.isString(o)&&h.push("path="+o),t.isString(u)&&h.push("domain="+u),l===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(r){var i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),nE}var rE,cN;function pX(){return cN||(cN=1,rE=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}),rE}var iE,hN;function gX(){return hN||(hN=1,iE=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}),iE}var sE,fN;function mX(){if(fN)return sE;fN=1;var t=pX(),e=gX();return sE=function(r,i){return r&&!t(i)?e(r,i):i},sE}var oE,dN;function _X(){if(dN)return oE;dN=1;var t=$r,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return oE=function(r){var i={},s,o,u;return r&&t.forEach(r.split(`
`),function(h){if(u=h.indexOf(":"),s=t.trim(h.substr(0,u)).toLowerCase(),o=t.trim(h.substr(u+1)),s){if(i[s]&&e.indexOf(s)>=0)return;s==="set-cookie"?i[s]=(i[s]?i[s]:[]).concat([o]):i[s]=i[s]?i[s]+", "+o:o}}),i},oE}var aE,pN;function vX(){if(pN)return aE;pN=1;var t=$r;return aE=t.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i;function s(o){var u=o;return n&&(r.setAttribute("href",u),u=r.href),r.setAttribute("href",u),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=s(window.location.href),function(u){var l=t.isString(u)?s(u):u;return l.protocol===i.protocol&&l.host===i.host}}():function(){return function(){return!0}}(),aE}var uE,gN;function mN(){if(gN)return uE;gN=1;var t=$r,e=fX(),n=dX(),r=wU,i=mX(),s=_X(),o=vX(),u=SU();return uE=function(h){return new Promise(function(p,g){var v=h.data,E=h.headers,C=h.responseType;t.isFormData(v)&&delete E["Content-Type"];var A=new XMLHttpRequest;if(h.auth){var S=h.auth.username||"",T=h.auth.password?unescape(encodeURIComponent(h.auth.password)):"";E.Authorization="Basic "+btoa(S+":"+T)}var k=i(h.baseURL,h.url);A.open(h.method.toUpperCase(),r(k,h.params,h.paramsSerializer),!0),A.timeout=h.timeout;function b(){if(A){var V="getAllResponseHeaders"in A?s(A.getAllResponseHeaders()):null,W=!C||C==="text"||C==="json"?A.responseText:A.response,G={data:W,status:A.status,statusText:A.statusText,headers:V,config:h,request:A};e(p,g,G),A=null}}if("onloadend"in A?A.onloadend=b:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(b)},A.onabort=function(){A&&(g(u("Request aborted",h,"ECONNABORTED",A)),A=null)},A.onerror=function(){g(u("Network Error",h,null,A)),A=null},A.ontimeout=function(){var W="timeout of "+h.timeout+"ms exceeded";h.timeoutErrorMessage&&(W=h.timeoutErrorMessage),g(u(W,h,h.transitional&&h.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",A)),A=null},t.isStandardBrowserEnv()){var F=(h.withCredentials||o(k))&&h.xsrfCookieName?n.read(h.xsrfCookieName):void 0;F&&(E[h.xsrfHeaderName]=F)}"setRequestHeader"in A&&t.forEach(E,function(W,G){typeof v>"u"&&G.toLowerCase()==="content-type"?delete E[G]:A.setRequestHeader(G,W)}),t.isUndefined(h.withCredentials)||(A.withCredentials=!!h.withCredentials),C&&C!=="json"&&(A.responseType=h.responseType),typeof h.onDownloadProgress=="function"&&A.addEventListener("progress",h.onDownloadProgress),typeof h.onUploadProgress=="function"&&A.upload&&A.upload.addEventListener("progress",h.onUploadProgress),h.cancelToken&&h.cancelToken.promise.then(function(W){A&&(A.abort(),g(W),A=null)}),v||(v=null),A.send(v)})},uE}var _n=$r,_N=hX,yX=EU,wX={"Content-Type":"application/x-www-form-urlencoded"};function vN(t,e){!_n.isUndefined(t)&&_n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function EX(){var t;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(t=mN()),t}function SX(t,e,n){if(_n.isString(t))try{return(e||JSON.parse)(t),_n.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}var Uv={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:EX(),transformRequest:[function(e,n){return _N(n,"Accept"),_N(n,"Content-Type"),_n.isFormData(e)||_n.isArrayBuffer(e)||_n.isBuffer(e)||_n.isStream(e)||_n.isFile(e)||_n.isBlob(e)?e:_n.isArrayBufferView(e)?e.buffer:_n.isURLSearchParams(e)?(vN(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):_n.isObject(e)||n&&n["Content-Type"]==="application/json"?(vN(n,"application/json"),SX(e)):e}],transformResponse:[function(e){var n=this.transitional,r=n&&n.silentJSONParsing,i=n&&n.forcedJSONParsing,s=!r&&this.responseType==="json";if(s||i&&_n.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(s)throw o.name==="SyntaxError"?yX(o,this,"E_JSON_PARSE"):o}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};Uv.headers={common:{Accept:"application/json, text/plain, */*"}};_n.forEach(["delete","get","head"],function(e){Uv.headers[e]={}});_n.forEach(["post","put","patch"],function(e){Uv.headers[e]=_n.merge(wX)});var qI=Uv,TX=$r,IX=qI,CX=function(e,n,r){var i=this||IX;return TX.forEach(r,function(o){e=o.call(i,e,n)}),e},lE,yN;function TU(){return yN||(yN=1,lE=function(e){return!!(e&&e.__CANCEL__)}),lE}var wN=$r,cE=CX,RX=TU(),AX=qI;function hE(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var PX=function(e){hE(e),e.headers=e.headers||{},e.data=cE.call(e,e.data,e.headers,e.transformRequest),e.headers=wN.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),wN.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var n=e.adapter||AX.adapter;return n(e).then(function(i){return hE(e),i.data=cE.call(e,i.data,i.headers,e.transformResponse),i},function(i){return RX(i)||(hE(e),i&&i.response&&(i.response.data=cE.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},On=$r,IU=function(e,n){n=n||{};var r={},i=["url","method","data"],s=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],u=["validateStatus"];function l(g,v){return On.isPlainObject(g)&&On.isPlainObject(v)?On.merge(g,v):On.isPlainObject(v)?On.merge({},v):On.isArray(v)?v.slice():v}function h(g){On.isUndefined(n[g])?On.isUndefined(e[g])||(r[g]=l(void 0,e[g])):r[g]=l(e[g],n[g])}On.forEach(i,function(v){On.isUndefined(n[v])||(r[v]=l(void 0,n[v]))}),On.forEach(s,h),On.forEach(o,function(v){On.isUndefined(n[v])?On.isUndefined(e[v])||(r[v]=l(void 0,e[v])):r[v]=l(void 0,n[v])}),On.forEach(u,function(v){v in n?r[v]=l(e[v],n[v]):v in e&&(r[v]=l(void 0,e[v]))});var f=i.concat(s).concat(o).concat(u),p=Object.keys(e).concat(Object.keys(n)).filter(function(v){return f.indexOf(v)===-1});return On.forEach(p,h),r};const kX="axios",bX="0.21.4",OX="Promise based HTTP client for the browser and node.js",NX="index.js",xX={test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},DX={type:"git",url:"https://github.com/axios/axios.git"},LX=["xhr","http","ajax","promise","node"],MX="Matt Zabriskie",UX="MIT",FX={url:"https://github.com/axios/axios/issues"},$X="https://axios-http.com",VX={coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},WX={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},jX="dist/axios.min.js",BX="dist/axios.min.js",zX="./index.d.ts",HX={"follow-redirects":"^1.14.0"},qX=[{path:"./dist/axios.min.js",threshold:"5kB"}],GX={name:kX,version:bX,description:OX,main:NX,scripts:xX,repository:DX,keywords:LX,author:MX,license:UX,bugs:FX,homepage:$X,devDependencies:VX,browser:WX,jsdelivr:jX,unpkg:BX,typings:zX,dependencies:HX,bundlesize:qX};var CU=GX,GI={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){GI[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});var EN={},YX=CU.version.split(".");function RU(t,e){for(var n=e?e.split("."):YX,r=t.split("."),i=0;i<3;i++){if(n[i]>r[i])return!0;if(n[i]<r[i])return!1}return!1}GI.transitional=function(e,n,r){var i=n&&RU(n);function s(o,u){return"[Axios v"+CU.version+"] Transitional option '"+o+"'"+u+(r?". "+r:"")}return function(o,u,l){if(e===!1)throw new Error(s(u," has been removed in "+n));return i&&!EN[u]&&(EN[u]=!0,console.warn(s(u," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,u,l):!0}};function KX(t,e,n){if(typeof t!="object")throw new TypeError("options must be an object");for(var r=Object.keys(t),i=r.length;i-- >0;){var s=r[i],o=e[s];if(o){var u=t[s],l=u===void 0||o(u,s,t);if(l!==!0)throw new TypeError("option "+s+" must be "+l);continue}if(n!==!0)throw Error("Unknown option "+s)}}var QX={isOlderVersion:RU,assertOptions:KX,validators:GI},AU=$r,XX=wU,SN=lX,TN=PX,Fv=IU,PU=QX,Qu=PU.validators;function Ed(t){this.defaults=t,this.interceptors={request:new SN,response:new SN}}Ed.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=Fv(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var n=e.transitional;n!==void 0&&PU.assertOptions(n,{silentJSONParsing:Qu.transitional(Qu.boolean,"1.0.0"),forcedJSONParsing:Qu.transitional(Qu.boolean,"1.0.0"),clarifyTimeoutError:Qu.transitional(Qu.boolean,"1.0.0")},!1);var r=[],i=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(e)===!1||(i=i&&g.synchronous,r.unshift(g.fulfilled,g.rejected))});var s=[];this.interceptors.response.forEach(function(g){s.push(g.fulfilled,g.rejected)});var o;if(!i){var u=[TN,void 0];for(Array.prototype.unshift.apply(u,r),u=u.concat(s),o=Promise.resolve(e);u.length;)o=o.then(u.shift(),u.shift());return o}for(var l=e;r.length;){var h=r.shift(),f=r.shift();try{l=h(l)}catch(p){f(p);break}}try{o=TN(l)}catch(p){return Promise.reject(p)}for(;s.length;)o=o.then(s.shift(),s.shift());return o};Ed.prototype.getUri=function(e){return e=Fv(this.defaults,e),XX(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};AU.forEach(["delete","get","head","options"],function(e){Ed.prototype[e]=function(n,r){return this.request(Fv(r||{},{method:e,url:n,data:(r||{}).data}))}});AU.forEach(["post","put","patch"],function(e){Ed.prototype[e]=function(n,r,i){return this.request(Fv(i||{},{method:e,url:n,data:r}))}});var JX=Ed,fE,IN;function kU(){if(IN)return fE;IN=1;function t(e){this.message=e}return t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,fE=t,fE}var dE,CN;function ZX(){if(CN)return dE;CN=1;var t=kU();function e(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(o){r=o});var i=this;n(function(o){i.reason||(i.reason=new t(o),r(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.source=function(){var r,i=new e(function(o){r=o});return{token:i,cancel:r}},dE=e,dE}var pE,RN;function eJ(){return RN||(RN=1,pE=function(e){return function(r){return e.apply(null,r)}}),pE}var gE,AN;function tJ(){return AN||(AN=1,gE=function(e){return typeof e=="object"&&e.isAxiosError===!0}),gE}var PN=$r,nJ=_U,Jg=JX,rJ=IU,iJ=qI;function bU(t){var e=new Jg(t),n=nJ(Jg.prototype.request,e);return PN.extend(n,Jg.prototype,e),PN.extend(n,e),n}var Oi=bU(iJ);Oi.Axios=Jg;Oi.create=function(e){return bU(rJ(Oi.defaults,e))};Oi.Cancel=kU();Oi.CancelToken=ZX();Oi.isCancel=TU();Oi.all=function(e){return Promise.all(e)};Oi.spread=eJ();Oi.isAxiosError=tJ();HQ.exports=Oi;Jm.default=Oi;(function(t){t.exports=Jm})(zQ);var OU;function sJ(t){return t&&typeof t=="object"&&"default"in t?t.default:t}Object.defineProperty(xn,"__esModule",{value:!0});var Mf=sJ(gS),Da=function(){return(Da=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},mE=function(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(h){try{l(r.next(h))}catch(f){s(f)}}function u(h){try{l(r.throw(h))}catch(f){s(f)}}function l(h){h.done?i(h.value):new n(function(f){f(h.value)}).then(o,u)}l((r=r.apply(t,e||[])).next())})},_E=function(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(l){return function(h){return function(f){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&f[0]?r.return:f[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,f[1])).done)return i;switch(r=0,i&&(f=[2&f[0],i.value]),f[0]){case 0:case 1:i=f;break;case 4:return o.label++,{value:f[1],done:!1};case 5:o.label++,r=f[1],f=[0];continue;case 7:f=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){o=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){o.label=f[1];break}if(f[0]===6&&o.label<i[1]){o.label=i[1],i=f;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(f);break}i[2]&&o.ops.pop(),o.trys.pop();continue}f=e.call(t,o)}catch(p){f=[6,p],r=0}finally{n=i=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}([l,h])}}},kN=void 0,bN=function(t){return t instanceof Date?t.getTime():typeof t=="number"||t===null||t===void 0?t:Number(t)},YI=function(t,e,n){return n>=t&&n<=e},ON=function(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"},KI={Accept:"application/json","Content-Type":"application/json"},oJ={timeout:0},QI=null,XI="CLIENT_ERROR",JI="SERVER_ERROR",ZI="TIMEOUT_ERROR",eC="CONNECTION_ERROR",tC="NETWORK_ERROR",Uf="UNKNOWN_ERROR",NU="CANCEL_ERROR",aJ=["ECONNABORTED"],uJ=["ENOTFOUND","ECONNREFUSED","ECONNRESET"],xU=function(t){return YI(200,299,t)},lJ=function(t){return YI(400,499,t)},cJ=function(t){return YI(500,599,t)},DU=function(t){return t.message==="Network Error"?tC:Mf.isCancel(t)?NU:t.code?aJ.includes(t.code)?ZI:uJ.includes(t.code)?eC:Uf:nC(t.response?t.response.status:null)},nC=function(t){return t?xU(t)?QI:lJ(t)?XI:cJ(t)?JI:Uf:Uf},LU=function(t){var e,n=Da({},KI,t.headers||{});if(t.axiosInstance)e=t.axiosInstance;else{var r=Da({},t,{headers:void 0}),i=Da({},oJ,r);e=Mf.create(i)}var s=[],o=[],u=[],l=[],h=[],f=function(A,S){return n[A]=S,e},p=function(A){return function(S,T,k){return T===void 0&&(T={}),k===void 0&&(k={}),v(Da({},k,{url:S,params:T,method:A}))}},g=function(A){return function(S,T,k){return k===void 0&&(k={}),v(Da({},k,{url:S,method:A,data:T}))}},v=function(A){return mE(kN,void 0,void 0,function(){var S,T,k,b,F=this;return _E(this,function(V){switch(V.label){case 0:if(A.headers=Da({},n,A.headers),o.length>0&&o.forEach(function(W){return W(A)}),!(u.length>0))return[3,6];S=0,V.label=1;case 1:return S<u.length?(T=u[S](A),ON(T)?[4,T]:[3,3]):[3,6];case 2:return V.sent(),[3,5];case 3:return[4,T(A)];case 4:V.sent(),V.label=5;case 5:return S++,[3,1];case 6:return k=bN(new Date),b=function(W){return mE(F,void 0,void 0,function(){var G;return _E(this,function(ie){switch(ie.label){case 0:return[4,C(k,W)];case 1:return G=ie.sent(),[2,E(G)]}})})},[2,e.request(A).then(b).catch(b)]}})})},E=function(A){return s.forEach(function(S){try{S(A)}catch{}}),A},C=function(A,S){return mE(kN,void 0,void 0,function(){var T,k,b,F,V,W,G,ie,re,Ne,I,_,w,N,D,O;return _E(this,function(M){switch(M.label){case 0:if(T=bN(new Date),k=T-A,b=S instanceof Error||Mf.isCancel(S),F=S,V=S,W=b?V.response:F,G=W&&W.status||null,ie=b?DU(S):nC(G),re=b?V:null,Ne=xU(G),I=S.config||null,_=W&&W.headers||null,w=W&&W.data||null,N={duration:k,problem:ie,originalError:re,ok:Ne,status:G,headers:_,config:I,data:w},l.length>0&&l.forEach(function(B){return B(N)}),!(h.length>0))return[3,6];D=0,M.label=1;case 1:return D<h.length?(O=h[D](N),ON(O)?[4,O]:[3,3]):[3,6];case 2:return M.sent(),[3,5];case 3:return[4,O(N)];case 4:M.sent(),M.label=5;case 5:return D++,[3,1];case 6:return[2,N]}})})};return{axiosInstance:e,monitors:s,addMonitor:function(A){s.push(A)},requestTransforms:o,asyncRequestTransforms:u,responseTransforms:l,asyncResponseTransforms:h,addRequestTransform:function(A){return o.push(A)},addAsyncRequestTransform:function(A){return u.push(A)},addResponseTransform:function(A){return l.push(A)},addAsyncResponseTransform:function(A){return h.push(A)},setHeader:f,setHeaders:function(A){return Object.keys(A).forEach(function(S){return f(S,A[S])}),e},deleteHeader:function(A){return delete n[A],e},headers:n,setBaseURL:function(A){return e.defaults.baseURL=A,e},getBaseURL:function(){return e.defaults.baseURL},any:v,get:p("get"),delete:p("delete"),head:p("head"),post:g("post"),put:g("put"),patch:g("patch"),link:p("link"),unlink:p("unlink")}},MU=Mf.isCancel,UU=Mf.CancelToken,hJ={DEFAULT_HEADERS:KI,NONE:QI,CLIENT_ERROR:XI,SERVER_ERROR:JI,TIMEOUT_ERROR:ZI,CONNECTION_ERROR:eC,NETWORK_ERROR:tC,UNKNOWN_ERROR:Uf,create:LU,isCancel:MU,CancelToken:UU};xn.DEFAULT_HEADERS=KI,xn.NONE=QI,xn.CLIENT_ERROR=XI,xn.SERVER_ERROR=JI,xn.TIMEOUT_ERROR=ZI,xn.CONNECTION_ERROR=eC,xn.NETWORK_ERROR=tC,xn.UNKNOWN_ERROR=Uf,xn.CANCEL_ERROR=NU,xn.getProblemFromError=DU,xn.getProblemFromStatus=nC,xn.create=LU,xn.isCancel=MU,xn.CancelToken=UU,OU=xn.default=hJ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne=function(t,e){if(!t)throw Sc(e)},Sc=function(t){return new Error("Firebase Database ("+FU.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fJ=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],u=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},rC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,u=o?t[i+1]:0,l=i+2<t.length,h=l?t[i+2]:0,f=s>>2,p=(s&3)<<4|u>>4;let g=(u&15)<<2|h>>6,v=h&63;l||(v=64,o||(g=64)),r.push(n[f],n[p],n[g],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($U(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fJ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||h==null||p==null)throw new dJ;const g=s<<2|u>>4;if(r.push(g),h!==64){const v=u<<4&240|h>>2;if(r.push(v),p!==64){const E=h<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dJ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VU=function(t){const e=$U(t);return rC.encodeByteArray(e,!0)},Zm=function(t){return VU(t).replace(/\./g,"")},e_=function(t){try{return rC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pJ(t){return WU(void 0,t)}function WU(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!gJ(n)||(t[n]=WU(t[n],e[n]));return t}function gJ(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mJ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _J=()=>mJ().__FIREBASE_DEFAULTS__,vJ=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yJ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&e_(t[1]);return e&&JSON.parse(e)},$v=()=>{try{return _J()||vJ()||yJ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jU=t=>{var e,n;return(n=(e=$v())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},iC=t=>{const e=jU(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},BU=()=>{var t;return(t=$v())===null||t===void 0?void 0:t.config},zU=t=>{var e;return(e=$v())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),u="";return[Zm(JSON.stringify(n)),Zm(JSON.stringify(o)),u].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zn())}function wJ(){var t;const e=(t=$v())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EJ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SJ(){const t=zn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qU(){return FU.NODE_ADMIN===!0}function TJ(){try{return typeof indexedDB=="object"}catch{return!1}}function IJ(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CJ="FirebaseError";class ls extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=CJ,Object.setPrototypeOf(this,ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Td.prototype.create)}}class Td{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?RJ(s,r):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new ls(i,u,r)}}function RJ(t,e){return t.replace(AJ,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const AJ=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(t){return JSON.parse(t)}function Zt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Ff(e_(s[0])||""),n=Ff(e_(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},PJ=function(t){const e=GU(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},kJ=function(t){const e=GU(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ec(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function vS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function t_(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function n_(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(NN(s)&&NN(o)){if(!n_(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function NN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Dh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bJ{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)r[p]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)r[p]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let p=16;p<80;p++){const g=r[p-3]^r[p-8]^r[p-14]^r[p-16];r[p]=(g<<1|g>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],u=this.chain_[3],l=this.chain_[4],h,f;for(let p=0;p<80;p++){p<40?p<20?(h=u^s&(o^u),f=1518500249):(h=s^o^u,f=1859775393):p<60?(h=s&o|u&(s|o),f=2400959708):(h=s^o^u,f=3395469782);const g=(i<<5|i>>>27)+h+l+f+r[p]&4294967295;l=u,u=o,o=(s<<30|s>>>2)&4294967295,s=i,i=g}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function OJ(t,e){const n=new NJ(t,e);return n.subscribe.bind(n)}class NJ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");xJ(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=vE),i.error===void 0&&(i.error=vE),i.complete===void 0&&(i.complete=vE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xJ(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vE(){}function Vv(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DJ=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,ne(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Wv=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t){return t&&t._delegate?t._delegate:t}class Ks{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LJ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Sd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UJ(e))try{this.getOrInitializeService({instanceIdentifier:La})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=La){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=La){return this.instances.has(e)}getOptions(e=La){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:MJ(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=La){return this.component?this.component.multipleInstances?e:La:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MJ(t){return t===La?void 0:t}function UJ(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FJ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new LJ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qe||(qe={}));const $J={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},VJ=qe.INFO,WJ={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},jJ=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=WJ[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let jv=class{constructor(e){this.name=e,this._logLevel=VJ,this._logHandler=jJ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$J[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}};const BJ=(t,e)=>e.some(n=>t instanceof n);let xN,DN;function zJ(){return xN||(xN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HJ(){return DN||(DN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YU=new WeakMap,yS=new WeakMap,KU=new WeakMap,yE=new WeakMap,aC=new WeakMap;function qJ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Go(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&YU.set(n,t)}).catch(()=>{}),aC.set(e,t),e}function GJ(t){if(yS.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});yS.set(t,e)}let wS={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yS.get(t);if(e==="objectStoreNames")return t.objectStoreNames||KU.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Go(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function YJ(t){wS=t(wS)}function KJ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(wE(this),e,...n);return KU.set(r,e.sort?e.sort():[e]),Go(r)}:HJ().includes(t)?function(...e){return t.apply(wE(this),e),Go(YU.get(this))}:function(...e){return Go(t.apply(wE(this),e))}}function QJ(t){return typeof t=="function"?KJ(t):(t instanceof IDBTransaction&&GJ(t),BJ(t,zJ())?new Proxy(t,wS):t)}function Go(t){if(t instanceof IDBRequest)return qJ(t);if(yE.has(t))return yE.get(t);const e=QJ(t);return e!==t&&(yE.set(t,e),aC.set(e,t)),e}const wE=t=>aC.get(t);function XJ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),u=Go(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Go(o.result),l.oldVersion,l.newVersion,Go(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),u.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const JJ=["get","getKey","getAll","getAllKeys","count"],ZJ=["put","add","delete","clear"],EE=new Map;function LN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(EE.get(e))return EE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ZJ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||JJ.includes(n)))return;const s=async function(o,...u){const l=this.transaction(o,i?"readwrite":"readonly");let h=l.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&l.done]))[0]};return EE.set(e,s),s}YJ(t=>({...t,get:(e,n,r)=>LN(e,n)||t.get(e,n,r),has:(e,n)=>!!LN(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eZ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tZ(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function tZ(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ES="@firebase/app",MN="0.9.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=new jv("@firebase/app"),nZ="@firebase/app-compat",rZ="@firebase/analytics-compat",iZ="@firebase/analytics",sZ="@firebase/app-check-compat",oZ="@firebase/app-check",aZ="@firebase/auth",uZ="@firebase/auth-compat",lZ="@firebase/database",cZ="@firebase/database-compat",hZ="@firebase/functions",fZ="@firebase/functions-compat",dZ="@firebase/installations",pZ="@firebase/installations-compat",gZ="@firebase/messaging",mZ="@firebase/messaging-compat",_Z="@firebase/performance",vZ="@firebase/performance-compat",yZ="@firebase/remote-config",wZ="@firebase/remote-config-compat",EZ="@firebase/storage",SZ="@firebase/storage-compat",TZ="@firebase/firestore",IZ="@firebase/firestore-compat",CZ="firebase",RZ="10.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="[DEFAULT]",AZ={[ES]:"fire-core",[nZ]:"fire-core-compat",[iZ]:"fire-analytics",[rZ]:"fire-analytics-compat",[oZ]:"fire-app-check",[sZ]:"fire-app-check-compat",[aZ]:"fire-auth",[uZ]:"fire-auth-compat",[lZ]:"fire-rtdb",[cZ]:"fire-rtdb-compat",[hZ]:"fire-fn",[fZ]:"fire-fn-compat",[dZ]:"fire-iid",[pZ]:"fire-iid-compat",[gZ]:"fire-fcm",[mZ]:"fire-fcm-compat",[_Z]:"fire-perf",[vZ]:"fire-perf-compat",[yZ]:"fire-rc",[wZ]:"fire-rc-compat",[EZ]:"fire-gcs",[SZ]:"fire-gcs-compat",[TZ]:"fire-fst",[IZ]:"fire-fst-compat","fire-js":"fire-js",[CZ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=new Map,TS=new Map;function PZ(t,e){try{t.container.addComponent(e)}catch(n){au.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function sa(t){const e=t.name;if(TS.has(e))return au.debug(`There were multiple attempts to register component ${e}.`),!1;TS.set(e,t);for(const n of r_.values())PZ(n,t);return!0}function Id(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kZ={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Yo=new Td("app","Firebase",kZ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bZ{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=RZ;function QU(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:SS,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Yo.create("bad-app-name",{appName:String(i)});if(n||(n=BU()),!n)throw Yo.create("no-options");const s=r_.get(i);if(s){if(n_(n,s.options)&&n_(r,s.config))return s;throw Yo.create("duplicate-app",{appName:i})}const o=new FJ(i);for(const l of TS.values())o.addComponent(l);const u=new bZ(n,r,o);return r_.set(i,u),u}function Bv(t=SS){const e=r_.get(t);if(!e&&t===SS&&BU())return QU();if(!e)throw Yo.create("no-app",{appName:t});return e}function si(t,e,n){var r;let i=(r=AZ[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),au.warn(u.join(" "));return}sa(new Ks(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OZ="firebase-heartbeat-database",NZ=1,$f="firebase-heartbeat-store";let SE=null;function XU(){return SE||(SE=XJ(OZ,NZ,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore($f)}}}).catch(t=>{throw Yo.create("idb-open",{originalErrorMessage:t.message})})),SE}async function xZ(t){try{return await(await XU()).transaction($f).objectStore($f).get(JU(t))}catch(e){if(e instanceof ls)au.warn(e.message);else{const n=Yo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});au.warn(n.message)}}}async function UN(t,e){try{const r=(await XU()).transaction($f,"readwrite");await r.objectStore($f).put(e,JU(t)),await r.done}catch(n){if(n instanceof ls)au.warn(n.message);else{const r=Yo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});au.warn(r.message)}}}function JU(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DZ=1024,LZ=30*24*60*60*1e3;class MZ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FZ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=FN();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=LZ}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=FN(),{heartbeatsToSend:n,unsentEntries:r}=UZ(this._heartbeatsCache.heartbeats),i=Zm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function FN(){return new Date().toISOString().substring(0,10)}function UZ(t,e=DZ){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),$N(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$N(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class FZ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TJ()?IJ().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await xZ(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return UN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return UN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function $N(t){return Zm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Z(t){sa(new Ks("platform-logger",e=>new eZ(e),"PRIVATE")),sa(new Ks("heartbeat",e=>new MZ(e),"PRIVATE")),si(ES,MN,t),si(ES,MN,"esm2017"),si("fire-js","")}$Z("");var VZ="firebase",WZ="10.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */si(VZ,WZ,"app");function uC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ZU(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jZ=ZU,eF=new Td("auth","Firebase",ZU());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=new jv("@firebase/auth");function BZ(t,...e){i_.logLevel<=qe.WARN&&i_.warn(`Auth (${ma}): ${t}`,...e)}function Zg(t,...e){i_.logLevel<=qe.ERROR&&i_.error(`Auth (${ma}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(t,...e){throw lC(t,...e)}function rs(t,...e){return lC(t,...e)}function zZ(t,e,n){const r=Object.assign(Object.assign({},jZ()),{[e]:n});return new Td("auth","Firebase",r).create(e,{appName:t.name})}function lC(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return eF.create(t,...e)}function Te(t,e,...n){if(!t)throw lC(e,...n)}function Ds(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zg(e),new Error(e)}function Qs(t,e){t||Ds(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function HZ(){return VN()==="http:"||VN()==="https:"}function VN(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qZ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HZ()||EJ()||"connection"in navigator)?navigator.onLine:!0}function GZ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qs(n>e,"Short delay should be less than long delay!"),this.isMobile=oC()||HU()}get(){return qZ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t,e){Qs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KZ=new Cd(3e4,6e4);function Ic(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Iu(t,e,n,r,i={}){return nF(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const u=Tc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),tF.fetch()(rF(t,t.config.apiHost,n,u),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function nF(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},YZ),e);try{const i=new QZ(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw hg(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const u=s.ok?o.errorMessage:o.error.message,[l,h]=u.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw hg(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw hg(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw hg(t,"user-disabled",o);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw zZ(t,f,h);Ni(t,f)}}catch(i){if(i instanceof ls)throw i;Ni(t,"network-request-failed",{message:String(i)})}}async function Rd(t,e,n,r,i={}){const s=await Iu(t,e,n,r,i);return"mfaPendingCredential"in s&&Ni(t,"multi-factor-auth-required",{_serverResponse:s}),s}function rF(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?cC(t.config,i):`${t.config.apiScheme}://${i}`}class QZ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(rs(this.auth,"network-request-failed")),KZ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=rs(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XZ(t,e){return Iu(t,"POST","/v1/accounts:delete",e)}async function JZ(t,e){return Iu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZZ(t,e=!1){const n=ct(t),r=await n.getIdToken(e),i=hC(r);Te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Jh(TE(i.auth_time)),issuedAtTime:Jh(TE(i.iat)),expirationTime:Jh(TE(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function TE(t){return Number(t)*1e3}function hC(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zg("JWT malformed, contained fewer than 3 sections"),null;try{const i=e_(n);return i?JSON.parse(i):(Zg("Failed to decode base64 JWT payload"),null)}catch(i){return Zg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function eee(t){const e=hC(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ls&&tee(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function tee({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jh(this.lastLoginAt),this.creationTime=Jh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s_(t){var e;const n=t.auth,r=await t.getIdToken(),i=await tc(t,JZ(n,{idToken:r}));Te(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?see(s.providerUserInfo):[],u=iee(t.providerData,o),l=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(u!=null&&u.length),f=l?h:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new iF(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,p)}async function ree(t){const e=ct(t);await s_(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iee(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function see(t){return t.map(e=>{var{providerId:n}=e,r=uC(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oee(t,e){const n=await nF(t,{},async()=>{const r=Tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=rF(t,i,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",tF.fetch()(o,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eee(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Te(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await oee(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Vf;return r&&(Te(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Te(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Te(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vf,this.toJSON())}_performRefresh(){return Ds("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ka{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=uC(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new iF(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await tc(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZZ(this,e)}reload(){return ree(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ka(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await s_(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await tc(this,XZ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,u,l,h,f;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,C=(u=n.tenantId)!==null&&u!==void 0?u:void 0,A=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,S=(h=n.createdAt)!==null&&h!==void 0?h:void 0,T=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:k,emailVerified:b,isAnonymous:F,providerData:V,stsTokenManager:W}=n;Te(k&&W,e,"internal-error");const G=Vf.fromJSON(this.name,W);Te(typeof k=="string",e,"internal-error"),_o(p,e.name),_o(g,e.name),Te(typeof b=="boolean",e,"internal-error"),Te(typeof F=="boolean",e,"internal-error"),_o(v,e.name),_o(E,e.name),_o(C,e.name),_o(A,e.name),_o(S,e.name),_o(T,e.name);const ie=new Ka({uid:k,auth:e,email:g,emailVerified:b,displayName:p,isAnonymous:F,photoURL:E,phoneNumber:v,tenantId:C,stsTokenManager:G,createdAt:S,lastLoginAt:T});return V&&Array.isArray(V)&&(ie.providerData=V.map(re=>Object.assign({},re))),A&&(ie._redirectEventId=A),ie}static async _fromIdTokenResponse(e,n,r=!1){const i=new Vf;i.updateFromServerResponse(n);const s=new Ka({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await s_(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=new Map;function Ls(t){Qs(t instanceof Function,"Expected a class definition");let e=WN.get(t);return e?(Qs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,WN.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sF.type="NONE";const jN=sF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(t,e,n){return`firebase:${t}:${e}:${n}`}class Ol{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=em(this.userKey,i.apiKey,s),this.fullPersistenceKey=em("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ka._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ol(Ls(jN),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Ls(jN);const o=em(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const f=await h._get(o);if(f){const p=Ka._fromJSON(e,f);h!==s&&(u=p),s=h;break}}catch{}const l=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ol(s,e,r):(s=l[0],u&&await s._set(o,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new Ol(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cF(e))return"Blackberry";if(hF(e))return"Webos";if(fC(e))return"Safari";if((e.includes("chrome/")||aF(e))&&!e.includes("edge/"))return"Chrome";if(lF(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function oF(t=zn()){return/firefox\//i.test(t)}function fC(t=zn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aF(t=zn()){return/crios\//i.test(t)}function uF(t=zn()){return/iemobile/i.test(t)}function lF(t=zn()){return/android/i.test(t)}function cF(t=zn()){return/blackberry/i.test(t)}function hF(t=zn()){return/webos/i.test(t)}function zv(t=zn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function aee(t=zn()){var e;return zv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function uee(){return SJ()&&document.documentMode===10}function fF(t=zn()){return zv(t)||lF(t)||hF(t)||cF(t)||/windows phone/i.test(t)||uF(t)}function lee(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(t,e=[]){let n;switch(t){case"Browser":n=BN(zn());break;case"Worker":n=`${BN(zn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ma}/${r}`}async function pF(t,e){return Iu(t,"GET","/v2/recaptchaConfig",Ic(t,e))}function zN(t){return t!==void 0&&t.enterprise!==void 0}class gF{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cee(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function mF(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=rs("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",cee().appendChild(r)})}function hee(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const fee="https://www.google.com/recaptcha/enterprise.js?render=",dee="recaptcha-enterprise",pee="NO_RECAPTCHA";class _F{constructor(e){this.type=dee,this.auth=Cc(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,u)=>{pF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new gF(l);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,o(h.siteKey)}}).catch(l=>{u(l)})})}function i(s,o,u){const l=window.grecaptcha;zN(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(h=>{o(h)}).catch(()=>{o(pee)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(u=>{if(!n&&zN(window.grecaptcha))i(u,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}mF(fee+u).then(()=>{i(u,s,o)}).catch(l=>{o(l)})}}).catch(u=>{o(u)})})}}async function o_(t,e,n,r=!1){const i=new _F(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gee{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,u)=>{try{const l=e(s);o(l)}catch(l){u(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mee{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HN(this),this.idTokenSubscription=new HN(this),this.beforeStateQueue=new gee(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ls(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ol.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===u)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await s_(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GZ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ct(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ls(e))})}async initializeRecaptchaConfig(){const e=await pF(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new gF(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new _F(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Td("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ls(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await Ol.create(this,[Ls(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Te(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&BZ(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Cc(t){return ct(t)}class HN{constructor(e){this.auth=e,this.observer=null,this.addObserver=OJ(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ee(t,e){const n=Id(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(n_(s,e??{}))return i;Ni(i,"already-initialized")}return n.initialize({options:e})}function vee(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ls);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function yee(t,e,n){const r=Cc(t);Te(r._canInitEmulator,r,"emulator-config-failed"),Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=vF(e),{host:o,port:u}=wee(e),l=u===null?"":`:${u}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Eee()}function vF(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wee(t){const e=vF(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:qN(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:qN(o)}}}function qN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Eee(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ds("not implemented")}_getIdTokenResponse(e){return Ds("not implemented")}_linkToIdToken(e,n){return Ds("not implemented")}_getReauthenticationResolver(e){return Ds("not implemented")}}async function See(t,e){return Iu(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IE(t,e){return Rd(t,"POST","/v1/accounts:signInWithPassword",Ic(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tee(t,e){return Rd(t,"POST","/v1/accounts:signInWithEmailLink",Ic(t,e))}async function Iee(t,e){return Rd(t,"POST","/v1/accounts:signInWithEmailLink",Ic(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf extends dC{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Wf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Wf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await o_(e,r,"signInWithPassword");return IE(e,i)}else return IE(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await o_(e,r,"signInWithPassword");return IE(e,s)}else return Promise.reject(i)});case"emailLink":return Tee(e,{email:this._email,oobCode:this._password});default:Ni(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return See(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Iee(e,{idToken:n,email:this._email,oobCode:this._password});default:Ni(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(t,e){return Rd(t,"POST","/v1/accounts:signInWithIdp",Ic(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cee="http://localhost";class uu extends dC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new uu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=uC(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new uu(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Nl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Nl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Nl(e,n)}buildRequest(){const e={requestUri:Cee,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ree(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Aee(t){const e=xh(Dh(t)).link,n=e?xh(Dh(e)).deep_link_id:null,r=xh(Dh(t)).deep_link_id;return(r?xh(Dh(r)).link:null)||r||n||e||t}class pC{constructor(e){var n,r,i,s,o,u;const l=xh(Dh(e)),h=(n=l.apiKey)!==null&&n!==void 0?n:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,p=Ree((i=l.mode)!==null&&i!==void 0?i:null);Te(h&&f&&p,"argument-error"),this.apiKey=h,this.operation=p,this.code=f,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(u=l.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=Aee(e);try{return new pC(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(){this.providerId=Rc.PROVIDER_ID}static credential(e,n){return Wf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=pC.parseLink(n);return Te(r,"argument-error"),Wf._fromEmailAndCode(e,r.code,r.tenantId)}}Rc.PROVIDER_ID="password";Rc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Rc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad extends yF{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends Ad{constructor(){super("facebook.com")}static credential(e){return uu._fromParams({providerId:To.PROVIDER_ID,signInMethod:To.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return To.credentialFromTaggedObject(e)}static credentialFromError(e){return To.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return To.credential(e.oauthAccessToken)}catch{return null}}}To.FACEBOOK_SIGN_IN_METHOD="facebook.com";To.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends Ad{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return uu._fromParams({providerId:Io.PROVIDER_ID,signInMethod:Io.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Io.credentialFromTaggedObject(e)}static credentialFromError(e){return Io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Io.credential(n,r)}catch{return null}}}Io.GOOGLE_SIGN_IN_METHOD="google.com";Io.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co extends Ad{constructor(){super("github.com")}static credential(e){return uu._fromParams({providerId:Co.PROVIDER_ID,signInMethod:Co.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Co.credentialFromTaggedObject(e)}static credentialFromError(e){return Co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Co.credential(e.oauthAccessToken)}catch{return null}}}Co.GITHUB_SIGN_IN_METHOD="github.com";Co.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends Ad{constructor(){super("twitter.com")}static credential(e,n){return uu._fromParams({providerId:Ro.PROVIDER_ID,signInMethod:Ro.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ro.credentialFromTaggedObject(e)}static credentialFromError(e){return Ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ro.credential(n,r)}catch{return null}}}Ro.TWITTER_SIGN_IN_METHOD="twitter.com";Ro.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CE(t,e){return Rd(t,"POST","/v1/accounts:signUp",Ic(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ka._fromIdTokenResponse(e,r,i),o=GN(r);return new lu({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=GN(r);return new lu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function GN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_ extends ls{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,a_.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new a_(e,n,r,i)}}function wF(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?a_._fromErrorAndOperation(t,s,e,r):s})}async function Pee(t,e,n=!1){const r=await tc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return lu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kee(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await tc(t,wF(r,i,e,t),n);Te(s.idToken,r,"internal-error");const o=hC(s.idToken);Te(o,r,"internal-error");const{sub:u}=o;return Te(t.uid===u,r,"user-mismatch"),lu._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ni(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EF(t,e,n=!1){const r="signIn",i=await wF(t,r,e),s=await lu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function bee(t,e){return EF(Cc(t),e)}async function Oee(t,e,n){var r;const i=Cc(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const h=await o_(i,s,"signUpPassword");o=CE(i,h)}else o=CE(i,s).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const f=await o_(i,s,"signUpPassword");return CE(i,f)}else return Promise.reject(h)});const u=await o.catch(h=>Promise.reject(h)),l=await lu._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(l.user),l}function Nee(t,e,n){return bee(ct(t),Rc.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xee(t,e){return Iu(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YN(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ct(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await tc(r,xee(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const u=r.providerData.find(({providerId:l})=>l==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function Dee(t,e,n,r){return ct(t).onIdTokenChanged(e,n,r)}function Lee(t,e,n){return ct(t).beforeAuthStateChanged(e,n)}const u_="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(u_,"1"),this.storage.removeItem(u_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mee(){const t=zn();return fC(t)||zv(t)}const Uee=1e3,Fee=10;class TF extends SF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Mee()&&lee(),this.fallbackToPolling=fF(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,u,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);uee()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Fee):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Uee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}TF.type="LOCAL";const $ee=TF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF extends SF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}IF.type="SESSION";const CF=IF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vee(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Hv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(o).map(async h=>h(n.origin,s)),l=await Vee(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wee{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((u,l)=>{const h=gC("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===h)switch(g.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(g.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(){return window}function jee(t){is().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RF(){return typeof is().WorkerGlobalScope<"u"&&typeof is().importScripts=="function"}async function Bee(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zee(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Hee(){return RF()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF="firebaseLocalStorageDb",qee=1,l_="firebaseLocalStorage",PF="fbase_key";class Pd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qv(t,e){return t.transaction([l_],e?"readwrite":"readonly").objectStore(l_)}function Gee(){const t=indexedDB.deleteDatabase(AF);return new Pd(t).toPromise()}function CS(){const t=indexedDB.open(AF,qee);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(l_,{keyPath:PF})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(l_)?e(r):(r.close(),await Gee(),e(await CS()))})})}async function KN(t,e,n){const r=qv(t,!0).put({[PF]:e,value:n});return new Pd(r).toPromise()}async function Yee(t,e){const n=qv(t,!1).get(e),r=await new Pd(n).toPromise();return r===void 0?null:r.value}function QN(t,e){const n=qv(t,!0).delete(e);return new Pd(n).toPromise()}const Kee=800,Qee=3;class kF{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await CS(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Qee)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RF()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hv._getInstance(Hee()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Bee(),!this.activeServiceWorker)return;this.sender=new Wee(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zee()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await CS();return await KN(e,u_,"1"),await QN(e,u_),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>KN(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Yee(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>QN(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=qv(i,!1).getAll();return new Pd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Kee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kF.type="LOCAL";const Xee=kF;new Cd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jee(t,e){return e?Ls(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC extends dC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Nl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Nl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Zee(t){return EF(t.auth,new mC(t),t.bypassAuthState)}function ete(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),kee(n,new mC(t),t.bypassAuthState)}async function tte(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),Pee(n,new mC(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:u}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(l))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Zee;case"linkViaPopup":case"linkViaRedirect":return tte;case"reauthViaPopup":case"reauthViaRedirect":return ete;default:Ni(this.auth,"internal-error")}}resolve(e){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nte=new Cd(2e3,1e4);class yl extends bF{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,yl.currentPopupAction&&yl.currentPopupAction.cancel(),yl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Qs(this.filter.length===1,"Popup operations only handle one event");const e=gC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(rs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(rs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nte.get())};e()}}yl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rte="pendingRedirect",tm=new Map;class ite extends bF{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=tm.get(this.auth._key());if(!e){try{const r=await ste(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}tm.set(this.auth._key(),e)}return this.bypassAuthState||tm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ste(t,e){const n=ute(e),r=ate(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function ote(t,e){tm.set(t._key(),e)}function ate(t){return Ls(t._redirectPersistence)}function ute(t){return em(rte,t.config.apiKey,t.name)}async function lte(t,e,n=!1){const r=Cc(t),i=Jee(r,e),o=await new ite(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cte=10*60*1e3;class hte{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fte(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!OF(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(rs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cte&&this.cachedEventUids.clear(),this.cachedEventUids.has(XN(e))}saveEventToCache(e){this.cachedEventUids.add(XN(e)),this.lastProcessedEventTime=Date.now()}}function XN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function OF({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function fte(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OF(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dte(t,e={}){return Iu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pte=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gte=/^https?/;async function mte(t){if(t.config.emulator)return;const{authorizedDomains:e}=await dte(t);for(const n of e)try{if(_te(n))return}catch{}Ni(t,"unauthorized-domain")}function _te(t){const e=IS(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!gte.test(n))return!1;if(pte.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vte=new Cd(3e4,6e4);function JN(){const t=is().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function yte(t){return new Promise((e,n)=>{var r,i,s;function o(){JN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{JN(),n(rs(t,"network-request-failed"))},timeout:vte.get()})}if(!((i=(r=is().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=is().gapi)===null||s===void 0)&&s.load)o();else{const u=hee("iframefcb");return is()[u]=()=>{gapi.load?o():n(rs(t,"network-request-failed"))},mF(`https://apis.google.com/js/api.js?onload=${u}`).catch(l=>n(l))}}).catch(e=>{throw nm=null,e})}let nm=null;function wte(t){return nm=nm||yte(t),nm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ete=new Cd(5e3,15e3),Ste="__/auth/iframe",Tte="emulator/auth/iframe",Ite={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cte=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rte(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cC(e,Tte):`https://${t.config.authDomain}/${Ste}`,r={apiKey:e.apiKey,appName:t.name,v:ma},i=Cte.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Tc(r).slice(1)}`}async function Ate(t){const e=await wte(t),n=is().gapi;return Te(n,t,"internal-error"),e.open({where:document.body,url:Rte(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ite,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=rs(t,"network-request-failed"),u=is().setTimeout(()=>{s(o)},Ete.get());function l(){is().clearTimeout(u),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pte={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kte=500,bte=600,Ote="_blank",Nte="http://localhost";class ZN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xte(t,e,n,r=kte,i=bte){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const l=Object.assign(Object.assign({},Pte),{width:r.toString(),height:i.toString(),top:s,left:o}),h=zn().toLowerCase();n&&(u=aF(h)?Ote:n),oF(h)&&(e=e||Nte,l.scrollbars="yes");const f=Object.entries(l).reduce((g,[v,E])=>`${g}${v}=${E},`,"");if(aee(h)&&u!=="_self")return Dte(e||"",u),new ZN(null);const p=window.open(e||"",u,f);Te(p,t,"popup-blocked");try{p.focus()}catch{}return new ZN(p)}function Dte(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lte="__/auth/handler",Mte="emulator/auth/handler",Ute=encodeURIComponent("fac");async function ex(t,e,n,r,i,s){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ma,eventId:i};if(e instanceof yF){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",vS(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries(s||{}))o[f]=p}if(e instanceof Ad){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const u=o;for(const f of Object.keys(u))u[f]===void 0&&delete u[f];const l=await t._getAppCheckToken(),h=l?`#${Ute}=${encodeURIComponent(l)}`:"";return`${Fte(t)}?${Tc(u).slice(1)}${h}`}function Fte({config:t}){return t.emulator?cC(t,Mte):`https://${t.authDomain}/${Lte}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="webStorageSupport";class $te{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CF,this._completeRedirectFn=lte,this._overrideRedirectResult=ote}async _openPopup(e,n,r,i){var s;Qs((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await ex(e,n,r,IS(),i);return xte(e,o,gC())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await ex(e,n,r,IS(),i);return jee(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Qs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Ate(e),r=new hte(e);return n.register("authEvent",i=>(Te(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(RE,{type:RE},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[RE];o!==void 0&&n(!!o),Ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mte(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fF()||fC()||zv()}}const Vte=$te;var tx="@firebase/auth",nx="1.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wte{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jte(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Bte(t){sa(new Ks("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=r.options;Te(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dF(t)},h=new mee(r,i,s,l);return vee(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),sa(new Ks("auth-internal",e=>{const n=Cc(e.getProvider("auth").getImmediate());return(r=>new Wte(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),si(tx,nx,jte(t)),si(tx,nx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zte=5*60,Hte=zU("authIdTokenMaxAge")||zte;let rx=null;const qte=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Hte)return;const i=n==null?void 0:n.token;rx!==i&&(rx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Gte(t=Bv()){const e=Id(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_ee(t,{popupRedirectResolver:Vte,persistence:[Xee,$ee,CF]}),r=zU("authTokenSyncURL");if(r){const s=qte(r);Lee(n,s,()=>s(n.currentUser)),Dee(n,o=>s(o))}const i=jU("auth");return i&&yee(n,`http://${i}`),n}Bte("Browser");const ix="@firebase/database",sx="1.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NF="";function Yte(t){NF=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kte{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Zt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ff(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qte{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return cs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xF=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Kte(e)}}catch{}return new Qte},Wa=xF("localStorage"),RS=xF("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=new jv("@firebase/database"),Xte=function(){let t=1;return function(){return t++}}(),DF=function(t){const e=DJ(t),n=new bJ;n.update(e);const r=n.digest();return rC.encodeByteArray(r)},kd=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=kd.apply(null,r):typeof r=="object"?e+=Zt(r):e+=r,e+=" "}return e};let Qa=null,ox=!0;const Jte=function(t,e){ne(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(xl.logLevel=qe.VERBOSE,Qa=xl.log.bind(xl),e&&RS.set("logging_enabled",!0)):typeof t=="function"?Qa=t:(Qa=null,RS.remove("logging_enabled"))},yn=function(...t){if(ox===!0&&(ox=!1,Qa===null&&RS.get("logging_enabled")===!0&&Jte(!0)),Qa){const e=kd.apply(null,t);Qa(e)}},bd=function(t){return function(...e){yn(t,...e)}},AS=function(...t){const e="FIREBASE INTERNAL ERROR: "+kd(...t);xl.error(e)},Xs=function(...t){const e=`FIREBASE FATAL ERROR: ${kd(...t)}`;throw xl.error(e),new Error(e)},ir=function(...t){const e="FIREBASE WARNING: "+kd(...t);xl.warn(e)},Zte=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ir("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},_C=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},ene=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},nc="[MIN_NAME]",cu="[MAX_NAME]",Cu=function(t,e){if(t===e)return 0;if(t===nc||e===cu)return-1;if(e===nc||t===cu)return 1;{const n=ax(t),r=ax(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},tne=function(t,e){return t===e?0:t<e?-1:1},vh=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Zt(e))},vC=function(t){if(typeof t!="object"||t===null)return Zt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Zt(e[r]),n+=":",n+=vC(t[e[r]]);return n+="}",n},LF=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Cn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const MF=function(t){ne(!_C(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,u,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(u=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=u+r,o=Math.round(t*Math.pow(2,n-u)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const h=[];for(l=n;l;l-=1)h.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();const f=h.join("");let p="";for(l=0;l<64;l+=8){let g=parseInt(f.substr(l,8),2).toString(16);g.length===1&&(g="0"+g),p=p+g}return p.toLowerCase()},nne=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},rne=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function ine(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const sne=new RegExp("^-?(0*)\\d{1,10}$"),one=-2147483648,ane=2147483647,ax=function(t){if(sne.test(t)){const e=Number(t);if(e>=one&&e<=ane)return e}return null},Ac=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ir("Exception was thrown by user callback.",n),e},Math.floor(0))}},une=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Zh=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lne{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ir(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cne{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(yn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ir(e)}}class Dl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Dl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="5",UF="v",FF="s",$F="r",VF="f",WF=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,jF="ls",BF="p",PS="ac",zF="websocket",HF="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e,n,r,i,s=!1,o="",u=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Wa.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Wa.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function hne(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function GF(t,e,n){ne(typeof e=="string","typeof type must == string"),ne(typeof n=="object","typeof params must == object");let r;if(e===zF)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===HF)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);hne(t)&&(n.ns=t.namespace);const i=[];return Cn(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fne{constructor(){this.counters_={}}incrementCounter(e,n=1){cs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return pJ(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE={},PE={};function wC(t){const e=t.toString();return AE[e]||(AE[e]=new fne),AE[e]}function dne(t,e){const n=t.toString();return PE[n]||(PE[n]=e()),PE[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pne{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ac(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="start",gne="close",mne="pLPCommand",_ne="pRTLPCB",YF="id",KF="pw",QF="ser",vne="cb",yne="seg",wne="ts",Ene="d",Sne="dframe",XF=1870,JF=30,Tne=XF-JF,Ine=25e3,Cne=3e4;class wl{constructor(e,n,r,i,s,o,u){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=bd(e),this.stats_=wC(n),this.urlFn=l=>(this.appCheckToken&&(l[PS]=this.appCheckToken),GF(n,HF,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new pne(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Cne)),ene(()=>{if(this.isClosed_)return;this.scriptTagHolder=new EC((...s)=>{const[o,u,l,h,f]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===ux)this.id=u,this.password=l;else if(o===gne)u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,u]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,u)},()=>{this.onClosed_()},this.urlFn);const r={};r[ux]="t",r[QF]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[vne]=this.scriptTagHolder.uniqueCallbackIdentifier),r[UF]=yC,this.transportSessionId&&(r[FF]=this.transportSessionId),this.lastSessionId&&(r[jF]=this.lastSessionId),this.applicationId&&(r[BF]=this.applicationId),this.appCheckToken&&(r[PS]=this.appCheckToken),typeof location<"u"&&location.hostname&&WF.test(location.hostname)&&(r[$F]=VF);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){wl.forceAllow_=!0}static forceDisallow(){wl.forceDisallow_=!0}static isAvailable(){return wl.forceAllow_?!0:!wl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!nne()&&!rne()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Zt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=VU(n),i=LF(r,Tne);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Sne]="t",r[YF]=e,r[KF]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Zt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class EC{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Xte(),window[mne+this.uniqueCallbackIdentifier]=e,window[_ne+this.uniqueCallbackIdentifier]=n,this.myIFrame=EC.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(u){yn("frame writing exception"),u.stack&&yn(u.stack),yn(u)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||yn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[YF]=this.myID,e[KF]=this.myPW,e[QF]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+JF+r.length<=XF;){const o=this.pendingSegs.shift();r=r+"&"+yne+i+"="+o.seg+"&"+wne+i+"="+o.ts+"&"+Ene+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Ine)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{yn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rne=16384,Ane=45e3;let c_=null;typeof MozWebSocket<"u"?c_=MozWebSocket:typeof WebSocket<"u"&&(c_=WebSocket);class Ti{constructor(e,n,r,i,s,o,u){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=bd(this.connId),this.stats_=wC(n),this.connURL=Ti.connectionURL_(n,o,u,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[UF]=yC,typeof location<"u"&&location.hostname&&WF.test(location.hostname)&&(o[$F]=VF),n&&(o[FF]=n),r&&(o[jF]=r),i&&(o[PS]=i),s&&(o[BF]=s),GF(e,zF,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Wa.set("previous_websocket_failure",!0);try{let r;qU(),this.mySock=new c_(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Ti.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&c_!==null&&!Ti.forceDisallow_}static previouslyFailed(){return Wa.isInMemoryStorage||Wa.get("previous_websocket_failure")===!0}markConnectionHealthy(){Wa.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ff(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ne(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Zt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=LF(n,Rne);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Ane))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ti.responsesRequiredToBeHealthy=2;Ti.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[wl,Ti]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Ti&&Ti.isAvailable();let r=n&&!Ti.previouslyFailed();if(e.webSocketOnly&&(n||ir("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ti];else{const i=this.transports_=[];for(const s of jf.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);jf.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}jf.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pne=6e4,kne=5e3,bne=10*1024,One=100*1024,kE="t",lx="d",Nne="s",cx="r",xne="e",hx="o",fx="a",dx="n",px="p",Dne="h";class Lne{constructor(e,n,r,i,s,o,u,l,h,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=u,this.onDisconnect_=l,this.onKill_=h,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=bd("c:"+this.id+":"),this.transportManager_=new jf(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Zh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>One?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>bne?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(kE in e){const n=e[kE];n===fx?this.upgradeIfSecondaryHealthy_():n===cx?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===hx&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=vh("t",e),r=vh("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:px,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:fx,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:dx,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=vh("t",e),r=vh("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=vh(kE,e);if(lx in e){const r=e[lx];if(n===Dne){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===dx){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Nne?this.onConnectionShutdown_(r):n===cx?this.onReset_(r):n===xne?AS("Server Error: "+r):n===hx?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):AS("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),yC!==r&&ir("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Zh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Pne))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Zh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(kne))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:px,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Wa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e$=class{constructor(e){this.allowedEvents_=e,this.listeners_={},ne(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){ne(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_ extends e${constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!oC()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new h_}getInitialEvent(e){return ne(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=32,mx=768;class at{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ke(){return new at("")}function Le(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function oa(t){return t.pieces_.length-t.pieceNum_}function dt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new at(t.pieces_,e)}function SC(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Mne(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Bf(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function t$(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new at(e,0)}function Lt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof at)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new at(n,0)}function $e(t){return t.pieceNum_>=t.pieces_.length}function er(t,e){const n=Le(t),r=Le(e);if(n===null)return e;if(n===r)return er(dt(t),dt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Une(t,e){const n=Bf(t,0),r=Bf(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Cu(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function TC(t,e){if(oa(t)!==oa(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function ri(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(oa(t)>oa(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Fne{constructor(e,n){this.errorPrefix_=n,this.parts_=Bf(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Wv(this.parts_[r]);n$(this)}}function $ne(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Wv(e),n$(t)}function Vne(t){const e=t.parts_.pop();t.byteLength_-=Wv(e),t.parts_.length>0&&(t.byteLength_-=1)}function n$(t){if(t.byteLength_>mx)throw new Error(t.errorPrefix_+"has a key path longer than "+mx+" bytes ("+t.byteLength_+").");if(t.parts_.length>gx)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+gx+") or object contains a cycle "+Ma(t))}function Ma(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC extends e${constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new IC}getInitialEvent(e){return ne(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=1e3,Wne=60*5*1e3,_x=30*1e3,jne=1.3,Bne=3e4,zne="server_kill",vx=3;class Ws extends ZF{constructor(e,n,r,i,s,o,u,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=u,this.authOverride_=l,this.id=Ws.nextPersistentConnectionId_++,this.log_=bd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=yh,this.maxReconnectDelay_=Wne,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!qU())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");IC.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&h_.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Zt(s)),ne(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Sd,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const u=o.d;o.s==="ok"?n.resolve(u):n.reject(u)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ne(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const u={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,u),this.connected_&&this.sendListen_(u)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,u=>{const l=u.d,h=u.s;Ws.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",u),h!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(h,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&cs(e,"w")){const r=ec(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();ir(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||kJ(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=_x)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=PJ(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Zt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):AS("Unrecognized action received from server: "+Zt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ne(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=yh,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=yh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Bne&&(this.reconnectDelay_=yh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*jne)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Ws.nextConnectionId_++,s=this.lastSessionId;let o=!1,u=null;const l=function(){u?u.close():(o=!0,r())},h=function(p){ne(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(p)};this.realtime_={close:l,sendRequest:h};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[p,g]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);o?yn("getToken() completed but was canceled"):(yn("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=g&&g.token,u=new Lne(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,v=>{ir(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(zne)},s))}catch(p){this.log_("Failed to get token: "+p),o||(this.repoInfo_.nodeAdmin&&ir(p),l())}}}interrupt(e){yn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){yn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],vS(this.interruptReasons_)&&(this.reconnectDelay_=yh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>vC(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new at(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){yn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=vx&&(this.reconnectDelay_=_x,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){yn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=vx&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+NF.replace(/\./g,"-")]=1,oC()?e["framework.cordova"]=1:HU()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=h_.getInstance().currentlyOnline();return vS(this.interruptReasons_)&&e}}Ws.nextPersistentConnectionId_=0;Ws.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Me(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Me(nc,e),i=new Me(nc,n);return this.compare(r,i)!==0}minPost(){return Me.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fg;class r$ extends Gv{static get __EMPTY_NODE(){return fg}static set __EMPTY_NODE(e){fg=e}compare(e,n){return Cu(e.name,n.name)}isDefinedOn(e){throw Sc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Me.MIN}maxPost(){return new Me(cu,fg)}makePost(e,n){return ne(typeof e=="string","KeyIndex indexValue must always be a string."),new Me(e,fg)}toString(){return".key"}}const Ll=new r$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dg=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Pr=class Lh{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Lh.RED,this.left=i??Ki.EMPTY_NODE,this.right=s??Ki.EMPTY_NODE}copy(e,n,r,i,s){return new Lh(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ki.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Ki.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Lh.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Lh.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};Pr.RED=!0;Pr.BLACK=!1;class Hne{copy(e,n,r,i,s){return this}insert(e,n,r){return new Pr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let Ki=class rm{constructor(e,n=rm.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new rm(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Pr.BLACK,null,null))}remove(e){return new rm(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Pr.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new dg(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new dg(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new dg(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new dg(this.root_,null,this.comparator_,!0,e)}};Ki.EMPTY_NODE=new Hne;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qne(t,e){return Cu(t.name,e.name)}function CC(t,e){return Cu(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kS;function Gne(t){kS=t}const i$=function(t){return typeof t=="number"?"number:"+MF(t):"string:"+t},s$=function(t){if(t.isLeafNode()){const e=t.val();ne(typeof e=="string"||typeof e=="number"||typeof e=="object"&&cs(e,".sv"),"Priority must be a string or number.")}else ne(t===kS||t.isEmpty(),"priority of unexpected type.");ne(t===kS||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yx;class sn{constructor(e,n=sn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ne(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),s$(this.priorityNode_)}static set __childrenNodeConstructor(e){yx=e}static get __childrenNodeConstructor(){return yx}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new sn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:sn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return $e(e)?this:Le(e)===".priority"?this.priorityNode_:sn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:sn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Le(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ne(r!==".priority"||oa(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,sn.__childrenNodeConstructor.EMPTY_NODE.updateChild(dt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+i$(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=MF(this.value_):e+=this.value_,this.lazyHash_=DF(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===sn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof sn.__childrenNodeConstructor?-1:(ne(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=sn.VALUE_TYPE_ORDER.indexOf(n),s=sn.VALUE_TYPE_ORDER.indexOf(r);return ne(i>=0,"Unknown leaf type: "+n),ne(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}sn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o$,a$;function Yne(t){o$=t}function Kne(t){a$=t}class Qne extends Gv{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Cu(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Me.MIN}maxPost(){return new Me(cu,new sn("[PRIORITY-POST]",a$))}makePost(e,n){const r=o$(e);return new Me(n,new sn("[PRIORITY-POST]",r))}toString(){return".priority"}}const Mt=new Qne;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xne=Math.log(2);class Jne{constructor(e){const n=s=>parseInt(Math.log(s)/Xne,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const f_=function(t,e,n,r){t.sort(e);const i=function(l,h){const f=h-l;let p,g;if(f===0)return null;if(f===1)return p=t[l],g=n?n(p):p,new Pr(g,p.node,Pr.BLACK,null,null);{const v=parseInt(f/2,10)+l,E=i(l,v),C=i(v+1,h);return p=t[v],g=n?n(p):p,new Pr(g,p.node,Pr.BLACK,E,C)}},s=function(l){let h=null,f=null,p=t.length;const g=function(E,C){const A=p-E,S=p;p-=E;const T=i(A+1,S),k=t[A],b=n?n(k):k;v(new Pr(b,k.node,C,null,T))},v=function(E){h?(h.left=E,h=E):(f=E,h=E)};for(let E=0;E<l.count;++E){const C=l.nextBitIsOne(),A=Math.pow(2,l.count-(E+1));C?g(A,Pr.BLACK):(g(A,Pr.BLACK),g(A,Pr.RED))}return f},o=new Jne(t.length),u=s(o);return new Ki(r||e,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bE;const Xu={};class Ms{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return ne(Xu&&Mt,"ChildrenNode.ts has not been loaded"),bE=bE||new Ms({".priority":Xu},{".priority":Mt}),bE}get(e){const n=ec(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ki?n:null}hasIndex(e){return cs(this.indexSet_,e.toString())}addIndex(e,n){ne(e!==Ll,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Me.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let u;i?u=f_(r,e.getCompare()):u=Xu;const l=e.toString(),h=Object.assign({},this.indexSet_);h[l]=e;const f=Object.assign({},this.indexes_);return f[l]=u,new Ms(f,h)}addToIndexes(e,n){const r=t_(this.indexes_,(i,s)=>{const o=ec(this.indexSet_,s);if(ne(o,"Missing index implementation for "+s),i===Xu)if(o.isDefinedOn(e.node)){const u=[],l=n.getIterator(Me.Wrap);let h=l.getNext();for(;h;)h.name!==e.name&&u.push(h),h=l.getNext();return u.push(e),f_(u,o.getCompare())}else return Xu;else{const u=n.get(e.name);let l=i;return u&&(l=l.remove(new Me(e.name,u))),l.insert(e,e.node)}});return new Ms(r,this.indexSet_)}removeFromIndexes(e,n){const r=t_(this.indexes_,i=>{if(i===Xu)return i;{const s=n.get(e.name);return s?i.remove(new Me(e.name,s)):i}});return new Ms(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wh;class Ee{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&s$(this.priorityNode_),this.children_.isEmpty()&&ne(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return wh||(wh=new Ee(new Ki(CC),null,Ms.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||wh}updatePriority(e){return this.children_.isEmpty()?this:new Ee(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?wh:n}}getChild(e){const n=Le(e);return n===null?this:this.getImmediateChild(n).getChild(dt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ne(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Me(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?wh:this.priorityNode_;return new Ee(i,o,s)}}updateChild(e,n){const r=Le(e);if(r===null)return n;{ne(Le(e)!==".priority"||oa(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(dt(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Mt,(o,u)=>{n[o]=u.val(e),r++,s&&Ee.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const u in n)o[u]=n[u];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+i$(this.getPriority().val())+":"),this.forEachChild(Mt,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":DF(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Me(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Me(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Me(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Me.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Me.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Od?-1:0}withIndex(e){if(e===Ll||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ee(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ll||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Mt),i=n.getIterator(Mt);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ll?null:this.indexMap_.get(e.toString())}}Ee.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Zne extends Ee{constructor(){super(new Ki(CC),Ee.EMPTY_NODE,Ms.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ee.EMPTY_NODE}isEmpty(){return!1}}const Od=new Zne;Object.defineProperties(Me,{MIN:{value:new Me(nc,Ee.EMPTY_NODE)},MAX:{value:new Me(cu,Od)}});r$.__EMPTY_NODE=Ee.EMPTY_NODE;sn.__childrenNodeConstructor=Ee;Gne(Od);Kne(Od);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ere=!0;function Jt(t,e=null){if(t===null)return Ee.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ne(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new sn(n,Jt(e))}if(!(t instanceof Array)&&ere){const n=[];let r=!1;if(Cn(t,(o,u)=>{if(o.substring(0,1)!=="."){const l=Jt(u);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Me(o,l)))}}),n.length===0)return Ee.EMPTY_NODE;const s=f_(n,qne,o=>o.name,CC);if(r){const o=f_(n,Mt.getCompare());return new Ee(s,Jt(e),new Ms({".priority":o},{".priority":Mt}))}else return new Ee(s,Jt(e),Ms.Default)}else{let n=Ee.EMPTY_NODE;return Cn(t,(r,i)=>{if(cs(t,r)&&r.substring(0,1)!=="."){const s=Jt(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Jt(e))}}Yne(Jt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tre extends Gv{constructor(e){super(),this.indexPath_=e,ne(!$e(e)&&Le(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Cu(e.name,n.name):s}makePost(e,n){const r=Jt(e),i=Ee.EMPTY_NODE.updateChild(this.indexPath_,r);return new Me(n,i)}maxPost(){const e=Ee.EMPTY_NODE.updateChild(this.indexPath_,Od);return new Me(cu,e)}toString(){return Bf(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nre extends Gv{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Cu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Me.MIN}maxPost(){return Me.MAX}makePost(e,n){const r=Jt(e);return new Me(n,r)}toString(){return".value"}}const rre=new nre;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u$(t){return{type:"value",snapshotNode:t}}function rc(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function zf(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Hf(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function ire(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){ne(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=e.getImmediateChild(n);return u.getChild(i).equals(r.getChild(i))&&u.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(zf(n,u)):ne(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?o.trackChildChange(rc(n,r)):o.trackChildChange(Hf(n,r,u))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Mt,(i,s)=>{n.hasChild(i)||r.trackChildChange(zf(i,s))}),n.isLeafNode()||n.forEachChild(Mt,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Hf(i,s,o))}else r.trackChildChange(rc(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Ee.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e){this.indexedFilter_=new RC(e.getIndex()),this.index_=e.getIndex(),this.startPost_=qf.getStartPost_(e),this.endPost_=qf.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new Me(n,r))||(r=Ee.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Ee.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Ee.EMPTY_NODE);const s=this;return n.forEachChild(Mt,(o,u)=>{s.matches(new Me(o,u))||(i=i.updateImmediateChild(o,Ee.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sre{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new qf(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new Me(n,r))||(r=Ee.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Ee.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Ee.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const u=s.getNext();if(this.withinDirectionalStart(u))if(this.withinDirectionalEnd(u))i=i.updateImmediateChild(u.name,u.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Ee.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const u=s.getNext();o<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?o++:i=i.updateImmediateChild(u.name,Ee.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const p=this.index_.getCompare();o=(g,v)=>p(v,g)}else o=this.index_.getCompare();const u=e;ne(u.numChildren()===this.limit_,"");const l=new Me(n,r),h=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),f=this.rangedFilter_.matches(l);if(u.hasChild(n)){const p=u.getImmediateChild(n);let g=i.getChildAfterChild(this.index_,h,this.reverse_);for(;g!=null&&(g.name===n||u.hasChild(g.name));)g=i.getChildAfterChild(this.index_,g,this.reverse_);const v=g==null?1:o(g,l);if(f&&!r.isEmpty()&&v>=0)return s!=null&&s.trackChildChange(Hf(n,r,p)),u.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(zf(n,p));const C=u.updateImmediateChild(n,Ee.EMPTY_NODE);return g!=null&&this.rangedFilter_.matches(g)?(s!=null&&s.trackChildChange(rc(g.name,g.node)),C.updateImmediateChild(g.name,g.node)):C}}else return r.isEmpty()?e:f&&o(h,l)>=0?(s!=null&&(s.trackChildChange(zf(h.name,h.node)),s.trackChildChange(rc(n,r))),u.updateImmediateChild(n,r).updateImmediateChild(h.name,Ee.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Mt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ne(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ne(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:nc}hasEnd(){return this.endSet_}getIndexEndValue(){return ne(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ne(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:cu}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ne(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Mt}copy(){const e=new AC;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ore(t){return t.loadsAllData()?new RC(t.getIndex()):t.hasLimit()?new sre(t):new qf(t)}function wx(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Mt?n="$priority":t.index_===rre?n="$value":t.index_===Ll?n="$key":(ne(t.index_ instanceof tre,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Zt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Zt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Zt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Zt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Zt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Ex(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Mt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_ extends ZF{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=bd("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ne(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=d_.getListenId_(e,r),u={};this.listens_[o]=u;const l=wx(e._queryParams);this.restRequest_(s+".json",l,(h,f)=>{let p=f;if(h===404&&(p=null,h=null),h===null&&this.onDataUpdate_(s,p,!1,r),ec(this.listens_,o)===u){let g;h?h===401?g="permission_denied":g="rest_error:"+h:g="ok",i(g,null)}})}unlisten(e,n){const r=d_.getListenId_(e,n);delete this.listens_[r]}get(e){const n=wx(e._queryParams),r=e._path.toString(),i=new Sd;return this.restRequest_(r+".json",n,(s,o)=>{let u=o;s===404&&(u=null,s=null),s===null?(this.onDataUpdate_(r,u,!1,null),i.resolve(u)):i.reject(new Error(u))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Tc(n);this.log_("Sending REST request for "+o);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(r&&u.readyState===4){this.log_("REST Response for "+o+" received. status:",u.status,"response:",u.responseText);let l=null;if(u.status>=200&&u.status<300){try{l=Ff(u.responseText)}catch{ir("Failed to parse JSON response for "+o+": "+u.responseText)}r(null,l)}else u.status!==401&&u.status!==404&&ir("Got unsuccessful REST response for "+o+" Status: "+u.status),r(u.status);r=null}},u.open("GET",o,!0),u.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class are{constructor(){this.rootNode_=Ee.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(){return{value:null,children:new Map}}function l$(t,e,n){if($e(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Le(e);t.children.has(r)||t.children.set(r,p_());const i=t.children.get(r);e=dt(e),l$(i,e,n)}}function bS(t,e,n){t.value!==null?n(e,t.value):ure(t,(r,i)=>{const s=new at(e.toString()+"/"+r);bS(i,s,n)})}function ure(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lre{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Cn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=10*1e3,cre=30*1e3,hre=5*60*1e3;class fre{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new lre(e);const r=Sx+(cre-Sx)*Math.random();Zh(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Cn(e,(i,s)=>{s>0&&cs(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Zh(this.reportStats_.bind(this),Math.floor(Math.random()*2*hre))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ii;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ii||(Ii={}));function PC(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function kC(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function bC(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ii.ACK_USER_WRITE,this.source=PC()}operationForChild(e){if($e(this.path)){if(this.affectedTree.value!=null)return ne(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new at(e));return new g_(Ke(),n,this.revert)}}else return ne(Le(this.path)===e,"operationForChild called for unrelated child."),new g_(dt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n){this.source=e,this.path=n,this.type=Ii.LISTEN_COMPLETE}operationForChild(e){return $e(this.path)?new Gf(this.source,Ke()):new Gf(this.source,dt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ii.OVERWRITE}operationForChild(e){return $e(this.path)?new hu(this.source,Ke(),this.snap.getImmediateChild(e)):new hu(this.source,dt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ii.MERGE}operationForChild(e){if($e(this.path)){const n=this.children.subtree(new at(e));return n.isEmpty()?null:n.value?new hu(this.source,Ke(),n.value):new ic(this.source,Ke(),n)}else return ne(Le(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ic(this.source,dt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if($e(e))return this.isFullyInitialized()&&!this.filtered_;const n=Le(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dre{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function pre(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(ire(o.childName,o.snapshotNode))}),Eh(t,i,"child_removed",e,r,n),Eh(t,i,"child_added",e,r,n),Eh(t,i,"child_moved",s,r,n),Eh(t,i,"child_changed",e,r,n),Eh(t,i,"value",e,r,n),i}function Eh(t,e,n,r,i,s){const o=r.filter(u=>u.type===n);o.sort((u,l)=>mre(t,u,l)),o.forEach(u=>{const l=gre(t,u,s);i.forEach(h=>{h.respondsTo(u.type)&&e.push(h.createEvent(l,t.query_))})})}function gre(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function mre(t,e,n){if(e.childName==null||n.childName==null)throw Sc("Should only compare child_ events.");const r=new Me(e.childName,e.snapshotNode),i=new Me(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(t,e){return{eventCache:t,serverCache:e}}function ef(t,e,n,r){return Yv(new aa(e,n,r),t.serverCache)}function c$(t,e,n,r){return Yv(t.eventCache,new aa(e,n,r))}function m_(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function fu(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OE;const _re=()=>(OE||(OE=new Ki(tne)),OE);class ft{constructor(e,n=_re()){this.value=e,this.children=n}static fromObject(e){let n=new ft(null);return Cn(e,(r,i)=>{n=n.set(new at(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ke(),value:this.value};if($e(e))return null;{const r=Le(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(dt(e),n);return s!=null?{path:Lt(new at(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if($e(e))return this;{const n=Le(e),r=this.children.get(n);return r!==null?r.subtree(dt(e)):new ft(null)}}set(e,n){if($e(e))return new ft(n,this.children);{const r=Le(e),s=(this.children.get(r)||new ft(null)).set(dt(e),n),o=this.children.insert(r,s);return new ft(this.value,o)}}remove(e){if($e(e))return this.children.isEmpty()?new ft(null):new ft(null,this.children);{const n=Le(e),r=this.children.get(n);if(r){const i=r.remove(dt(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ft(null):new ft(this.value,s)}else return this}}get(e){if($e(e))return this.value;{const n=Le(e),r=this.children.get(n);return r?r.get(dt(e)):null}}setTree(e,n){if($e(e))return n;{const r=Le(e),s=(this.children.get(r)||new ft(null)).setTree(dt(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ft(this.value,o)}}fold(e){return this.fold_(Ke(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Lt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ke(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if($e(e))return null;{const s=Le(e),o=this.children.get(s);return o?o.findOnPath_(dt(e),Lt(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ke(),n)}foreachOnPath_(e,n,r){if($e(e))return this;{this.value&&r(n,this.value);const i=Le(e),s=this.children.get(i);return s?s.foreachOnPath_(dt(e),Lt(n,i),r):new ft(null)}}foreach(e){this.foreach_(Ke(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Lt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this.writeTree_=e}static empty(){return new ki(new ft(null))}}function tf(t,e,n){if($e(e))return new ki(new ft(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=er(i,e);return s=s.updateChild(o,n),new ki(t.writeTree_.set(i,s))}else{const i=new ft(n),s=t.writeTree_.setTree(e,i);return new ki(s)}}}function OS(t,e,n){let r=t;return Cn(n,(i,s)=>{r=tf(r,Lt(e,i),s)}),r}function Tx(t,e){if($e(e))return ki.empty();{const n=t.writeTree_.setTree(e,new ft(null));return new ki(n)}}function NS(t,e){return Ru(t,e)!=null}function Ru(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(er(n.path,e)):null}function Ix(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Mt,(r,i)=>{e.push(new Me(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Me(r,i.value))}),e}function Ko(t,e){if($e(e))return t;{const n=Ru(t,e);return n!=null?new ki(new ft(n)):new ki(t.writeTree_.subtree(e))}}function xS(t){return t.writeTree_.isEmpty()}function sc(t,e){return h$(Ke(),t.writeTree_,e)}function h$(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(ne(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=h$(Lt(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Lt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(t,e){return g$(e,t)}function vre(t,e,n,r,i){ne(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=tf(t.visibleWrites,e,n)),t.lastWriteId=r}function yre(t,e,n,r){ne(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=OS(t.visibleWrites,e,n),t.lastWriteId=r}function wre(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Ere(t,e){const n=t.allWrites.findIndex(u=>u.writeId===e);ne(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const u=t.allWrites[o];u.visible&&(o>=n&&Sre(u,r.path)?i=!1:ri(r.path,u.path)&&(s=!0)),o--}if(i){if(s)return Tre(t),!0;if(r.snap)t.visibleWrites=Tx(t.visibleWrites,r.path);else{const u=r.children;Cn(u,l=>{t.visibleWrites=Tx(t.visibleWrites,Lt(r.path,l))})}return!0}else return!1}function Sre(t,e){if(t.snap)return ri(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&ri(Lt(t.path,n),e))return!0;return!1}function Tre(t){t.visibleWrites=f$(t.allWrites,Ire,Ke()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Ire(t){return t.visible}function f$(t,e,n){let r=ki.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let u;if(s.snap)ri(n,o)?(u=er(n,o),r=tf(r,u,s.snap)):ri(o,n)&&(u=er(o,n),r=tf(r,Ke(),s.snap.getChild(u)));else if(s.children){if(ri(n,o))u=er(n,o),r=OS(r,u,s.children);else if(ri(o,n))if(u=er(o,n),$e(u))r=OS(r,Ke(),s.children);else{const l=ec(s.children,Le(u));if(l){const h=l.getChild(dt(u));r=tf(r,Ke(),h)}}}else throw Sc("WriteRecord should have .snap or .children")}}return r}function d$(t,e,n,r,i){if(!r&&!i){const s=Ru(t.visibleWrites,e);if(s!=null)return s;{const o=Ko(t.visibleWrites,e);if(xS(o))return n;if(n==null&&!NS(o,Ke()))return null;{const u=n||Ee.EMPTY_NODE;return sc(o,u)}}}else{const s=Ko(t.visibleWrites,e);if(!i&&xS(s))return n;if(!i&&n==null&&!NS(s,Ke()))return null;{const o=function(h){return(h.visible||i)&&(!r||!~r.indexOf(h.writeId))&&(ri(h.path,e)||ri(e,h.path))},u=f$(t.allWrites,o,e),l=n||Ee.EMPTY_NODE;return sc(u,l)}}}function Cre(t,e,n){let r=Ee.EMPTY_NODE;const i=Ru(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Mt,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Ko(t.visibleWrites,e);return n.forEachChild(Mt,(o,u)=>{const l=sc(Ko(s,new at(o)),u);r=r.updateImmediateChild(o,l)}),Ix(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Ko(t.visibleWrites,e);return Ix(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Rre(t,e,n,r,i){ne(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Lt(e,n);if(NS(t.visibleWrites,s))return null;{const o=Ko(t.visibleWrites,s);return xS(o)?i.getChild(n):sc(o,i.getChild(n))}}function Are(t,e,n,r){const i=Lt(e,n),s=Ru(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Ko(t.visibleWrites,i);return sc(o,r.getNode().getImmediateChild(n))}else return null}function Pre(t,e){return Ru(t.visibleWrites,e)}function kre(t,e,n,r,i,s,o){let u;const l=Ko(t.visibleWrites,e),h=Ru(l,Ke());if(h!=null)u=h;else if(n!=null)u=sc(l,n);else return[];if(u=u.withIndex(o),!u.isEmpty()&&!u.isLeafNode()){const f=[],p=o.getCompare(),g=s?u.getReverseIteratorFrom(r,o):u.getIteratorFrom(r,o);let v=g.getNext();for(;v&&f.length<i;)p(v,r)!==0&&f.push(v),v=g.getNext();return f}else return[]}function bre(){return{visibleWrites:ki.empty(),allWrites:[],lastWriteId:-1}}function __(t,e,n,r){return d$(t.writeTree,t.treePath,e,n,r)}function OC(t,e){return Cre(t.writeTree,t.treePath,e)}function Cx(t,e,n,r){return Rre(t.writeTree,t.treePath,e,n,r)}function v_(t,e){return Pre(t.writeTree,Lt(t.treePath,e))}function Ore(t,e,n,r,i,s){return kre(t.writeTree,t.treePath,e,n,r,i,s)}function NC(t,e,n){return Are(t.writeTree,t.treePath,e,n)}function p$(t,e){return g$(Lt(t.treePath,e),t.writeTree)}function g$(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nre{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ne(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ne(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Hf(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,zf(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,rc(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Hf(r,e.snapshotNode,i.oldSnap));else throw Sc("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xre{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const m$=new xre;class xC{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new aa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return NC(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:fu(this.viewCache_),s=Ore(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dre(t){return{filter:t}}function Lre(t,e){ne(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ne(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Mre(t,e,n,r,i){const s=new Nre;let o,u;if(n.type===Ii.OVERWRITE){const h=n;h.source.fromUser?o=DS(t,e,h.path,h.snap,r,i,s):(ne(h.source.fromServer,"Unknown source."),u=h.source.tagged||e.serverCache.isFiltered()&&!$e(h.path),o=y_(t,e,h.path,h.snap,r,i,u,s))}else if(n.type===Ii.MERGE){const h=n;h.source.fromUser?o=Fre(t,e,h.path,h.children,r,i,s):(ne(h.source.fromServer,"Unknown source."),u=h.source.tagged||e.serverCache.isFiltered(),o=LS(t,e,h.path,h.children,r,i,u,s))}else if(n.type===Ii.ACK_USER_WRITE){const h=n;h.revert?o=Wre(t,e,h.path,r,i,s):o=$re(t,e,h.path,h.affectedTree,r,i,s)}else if(n.type===Ii.LISTEN_COMPLETE)o=Vre(t,e,n.path,r,s);else throw Sc("Unknown operation type: "+n.type);const l=s.getChanges();return Ure(e,o,l),{viewCache:o,changes:l}}function Ure(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=m_(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(u$(m_(e)))}}function _$(t,e,n,r,i,s){const o=e.eventCache;if(v_(r,n)!=null)return e;{let u,l;if($e(n))if(ne(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=fu(e),f=h instanceof Ee?h:Ee.EMPTY_NODE,p=OC(r,f);u=t.filter.updateFullNode(e.eventCache.getNode(),p,s)}else{const h=__(r,fu(e));u=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const h=Le(n);if(h===".priority"){ne(oa(n)===1,"Can't have a priority with additional path components");const f=o.getNode();l=e.serverCache.getNode();const p=Cx(r,n,f,l);p!=null?u=t.filter.updatePriority(f,p):u=o.getNode()}else{const f=dt(n);let p;if(o.isCompleteForChild(h)){l=e.serverCache.getNode();const g=Cx(r,n,o.getNode(),l);g!=null?p=o.getNode().getImmediateChild(h).updateChild(f,g):p=o.getNode().getImmediateChild(h)}else p=NC(r,h,e.serverCache);p!=null?u=t.filter.updateChild(o.getNode(),h,p,f,i,s):u=o.getNode()}}return ef(e,u,o.isFullyInitialized()||$e(n),t.filter.filtersNodes())}}function y_(t,e,n,r,i,s,o,u){const l=e.serverCache;let h;const f=o?t.filter:t.filter.getIndexedFilter();if($e(n))h=f.updateFullNode(l.getNode(),r,null);else if(f.filtersNodes()&&!l.isFiltered()){const v=l.getNode().updateChild(n,r);h=f.updateFullNode(l.getNode(),v,null)}else{const v=Le(n);if(!l.isCompleteForPath(n)&&oa(n)>1)return e;const E=dt(n),A=l.getNode().getImmediateChild(v).updateChild(E,r);v===".priority"?h=f.updatePriority(l.getNode(),A):h=f.updateChild(l.getNode(),v,A,E,m$,null)}const p=c$(e,h,l.isFullyInitialized()||$e(n),f.filtersNodes()),g=new xC(i,p,s);return _$(t,p,n,i,g,u)}function DS(t,e,n,r,i,s,o){const u=e.eventCache;let l,h;const f=new xC(i,e,s);if($e(n))h=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=ef(e,h,!0,t.filter.filtersNodes());else{const p=Le(n);if(p===".priority")h=t.filter.updatePriority(e.eventCache.getNode(),r),l=ef(e,h,u.isFullyInitialized(),u.isFiltered());else{const g=dt(n),v=u.getNode().getImmediateChild(p);let E;if($e(g))E=r;else{const C=f.getCompleteChild(p);C!=null?SC(g)===".priority"&&C.getChild(t$(g)).isEmpty()?E=C:E=C.updateChild(g,r):E=Ee.EMPTY_NODE}if(v.equals(E))l=e;else{const C=t.filter.updateChild(u.getNode(),p,E,g,f,o);l=ef(e,C,u.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Rx(t,e){return t.eventCache.isCompleteForChild(e)}function Fre(t,e,n,r,i,s,o){let u=e;return r.foreach((l,h)=>{const f=Lt(n,l);Rx(e,Le(f))&&(u=DS(t,u,f,h,i,s,o))}),r.foreach((l,h)=>{const f=Lt(n,l);Rx(e,Le(f))||(u=DS(t,u,f,h,i,s,o))}),u}function Ax(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function LS(t,e,n,r,i,s,o,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,h;$e(n)?h=r:h=new ft(null).setTree(n,r);const f=e.serverCache.getNode();return h.children.inorderTraversal((p,g)=>{if(f.hasChild(p)){const v=e.serverCache.getNode().getImmediateChild(p),E=Ax(t,v,g);l=y_(t,l,new at(p),E,i,s,o,u)}}),h.children.inorderTraversal((p,g)=>{const v=!e.serverCache.isCompleteForChild(p)&&g.value===null;if(!f.hasChild(p)&&!v){const E=e.serverCache.getNode().getImmediateChild(p),C=Ax(t,E,g);l=y_(t,l,new at(p),C,i,s,o,u)}}),l}function $re(t,e,n,r,i,s,o){if(v_(i,n)!=null)return e;const u=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if($e(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return y_(t,e,n,l.getNode().getChild(n),i,s,u,o);if($e(n)){let h=new ft(null);return l.getNode().forEachChild(Ll,(f,p)=>{h=h.set(new at(f),p)}),LS(t,e,n,h,i,s,u,o)}else return e}else{let h=new ft(null);return r.foreach((f,p)=>{const g=Lt(n,f);l.isCompleteForPath(g)&&(h=h.set(f,l.getNode().getChild(g)))}),LS(t,e,n,h,i,s,u,o)}}function Vre(t,e,n,r,i){const s=e.serverCache,o=c$(e,s.getNode(),s.isFullyInitialized()||$e(n),s.isFiltered());return _$(t,o,n,r,m$,i)}function Wre(t,e,n,r,i,s){let o;if(v_(r,n)!=null)return e;{const u=new xC(r,e,i),l=e.eventCache.getNode();let h;if($e(n)||Le(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=__(r,fu(e));else{const p=e.serverCache.getNode();ne(p instanceof Ee,"serverChildren would be complete if leaf node"),f=OC(r,p)}f=f,h=t.filter.updateFullNode(l,f,s)}else{const f=Le(n);let p=NC(r,f,e.serverCache);p==null&&e.serverCache.isCompleteForChild(f)&&(p=l.getImmediateChild(f)),p!=null?h=t.filter.updateChild(l,f,p,dt(n),u,s):e.eventCache.getNode().hasChild(f)?h=t.filter.updateChild(l,f,Ee.EMPTY_NODE,dt(n),u,s):h=l,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=__(r,fu(e)),o.isLeafNode()&&(h=t.filter.updateFullNode(h,o,s)))}return o=e.serverCache.isFullyInitialized()||v_(r,Ke())!=null,ef(e,h,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jre{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new RC(r.getIndex()),s=ore(r);this.processor_=Dre(s);const o=n.serverCache,u=n.eventCache,l=i.updateFullNode(Ee.EMPTY_NODE,o.getNode(),null),h=s.updateFullNode(Ee.EMPTY_NODE,u.getNode(),null),f=new aa(l,o.isFullyInitialized(),i.filtersNodes()),p=new aa(h,u.isFullyInitialized(),s.filtersNodes());this.viewCache_=Yv(p,f),this.eventGenerator_=new dre(this.query_)}get query(){return this.query_}}function Bre(t){return t.viewCache_.serverCache.getNode()}function zre(t){return m_(t.viewCache_)}function Hre(t,e){const n=fu(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!$e(e)&&!n.getImmediateChild(Le(e)).isEmpty())?n.getChild(e):null}function Px(t){return t.eventRegistrations_.length===0}function qre(t,e){t.eventRegistrations_.push(e)}function kx(t,e,n){const r=[];if(n){ne(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function bx(t,e,n,r){e.type===Ii.MERGE&&e.source.queryId!==null&&(ne(fu(t.viewCache_),"We should always have a full cache before handling merges"),ne(m_(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=Mre(t.processor_,i,e,n,r);return Lre(t.processor_,s.viewCache),ne(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,v$(t,s.changes,s.viewCache.eventCache.getNode(),null)}function Gre(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Mt,(s,o)=>{r.push(rc(s,o))}),n.isFullyInitialized()&&r.push(u$(n.getNode())),v$(t,r,n.getNode(),e)}function v$(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return pre(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w_;class y${constructor(){this.views=new Map}}function Yre(t){ne(!w_,"__referenceConstructor has already been defined"),w_=t}function Kre(){return ne(w_,"Reference.ts has not been loaded"),w_}function Qre(t){return t.views.size===0}function DC(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return ne(s!=null,"SyncTree gave us an op for an invalid query."),bx(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(bx(o,e,n,r));return s}}function w$(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let u=__(n,i?r:null),l=!1;u?l=!0:r instanceof Ee?(u=OC(n,r),l=!1):(u=Ee.EMPTY_NODE,l=!1);const h=Yv(new aa(u,l,!1),new aa(r,i,!1));return new jre(e,h)}return o}function Xre(t,e,n,r,i,s){const o=w$(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),qre(o,n),Gre(o,n)}function Jre(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const u=ua(t);if(i==="default")for(const[l,h]of t.views.entries())o=o.concat(kx(h,n,r)),Px(h)&&(t.views.delete(l),h.query._queryParams.loadsAllData()||s.push(h.query));else{const l=t.views.get(i);l&&(o=o.concat(kx(l,n,r)),Px(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return u&&!ua(t)&&s.push(new(Kre())(e._repo,e._path)),{removed:s,events:o}}function E$(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Qo(t,e){let n=null;for(const r of t.views.values())n=n||Hre(r,e);return n}function S$(t,e){if(e._queryParams.loadsAllData())return Qv(t);{const r=e._queryIdentifier;return t.views.get(r)}}function T$(t,e){return S$(t,e)!=null}function ua(t){return Qv(t)!=null}function Qv(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let E_;function Zre(t){ne(!E_,"__referenceConstructor has already been defined"),E_=t}function eie(){return ne(E_,"Reference.ts has not been loaded"),E_}let tie=1;class Ox{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ft(null),this.pendingWriteTree_=bre(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function I$(t,e,n,r,i){return vre(t.pendingWriteTree_,e,n,r,i),i?Pc(t,new hu(PC(),e,n)):[]}function nie(t,e,n,r){yre(t.pendingWriteTree_,e,n,r);const i=ft.fromObject(n);return Pc(t,new ic(PC(),e,i))}function Oo(t,e,n=!1){const r=wre(t.pendingWriteTree_,e);if(Ere(t.pendingWriteTree_,e)){let s=new ft(null);return r.snap!=null?s=s.set(Ke(),!0):Cn(r.children,o=>{s=s.set(new at(o),!0)}),Pc(t,new g_(r.path,s,n))}else return[]}function Nd(t,e,n){return Pc(t,new hu(kC(),e,n))}function rie(t,e,n){const r=ft.fromObject(n);return Pc(t,new ic(kC(),e,r))}function iie(t,e){return Pc(t,new Gf(kC(),e))}function sie(t,e,n){const r=MC(t,n);if(r){const i=UC(r),s=i.path,o=i.queryId,u=er(s,e),l=new Gf(bC(o),u);return FC(t,s,l)}else return[]}function S_(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let u=[];if(o&&(e._queryIdentifier==="default"||T$(o,e))){const l=Jre(o,e,n,r);Qre(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const h=l.removed;if(u=l.events,!i){const f=h.findIndex(g=>g._queryParams.loadsAllData())!==-1,p=t.syncPointTree_.findOnPath(s,(g,v)=>ua(v));if(f&&!p){const g=t.syncPointTree_.subtree(s);if(!g.isEmpty()){const v=uie(g);for(let E=0;E<v.length;++E){const C=v[E],A=C.query,S=P$(t,C);t.listenProvider_.startListening(nf(A),Yf(t,A),S.hashFn,S.onComplete)}}}!p&&h.length>0&&!r&&(f?t.listenProvider_.stopListening(nf(e),null):h.forEach(g=>{const v=t.queryToTagMap.get(Xv(g));t.listenProvider_.stopListening(nf(g),v)}))}lie(t,h)}return u}function C$(t,e,n,r){const i=MC(t,r);if(i!=null){const s=UC(i),o=s.path,u=s.queryId,l=er(o,e),h=new hu(bC(u),l,n);return FC(t,o,h)}else return[]}function oie(t,e,n,r){const i=MC(t,r);if(i){const s=UC(i),o=s.path,u=s.queryId,l=er(o,e),h=ft.fromObject(n),f=new ic(bC(u),l,h);return FC(t,o,f)}else return[]}function MS(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(g,v)=>{const E=er(g,i);s=s||Qo(v,E),o=o||ua(v)});let u=t.syncPointTree_.get(i);u?(o=o||ua(u),s=s||Qo(u,Ke())):(u=new y$,t.syncPointTree_=t.syncPointTree_.set(i,u));let l;s!=null?l=!0:(l=!1,s=Ee.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((v,E)=>{const C=Qo(E,Ke());C&&(s=s.updateImmediateChild(v,C))}));const h=T$(u,e);if(!h&&!e._queryParams.loadsAllData()){const g=Xv(e);ne(!t.queryToTagMap.has(g),"View does not exist, but we have a tag");const v=cie();t.queryToTagMap.set(g,v),t.tagToQueryMap.set(v,g)}const f=Kv(t.pendingWriteTree_,i);let p=Xre(u,e,n,f,s,l);if(!h&&!o&&!r){const g=S$(u,e);p=p.concat(hie(t,e,g))}return p}function LC(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,u)=>{const l=er(o,e),h=Qo(u,l);if(h)return h});return d$(i,e,s,n,!0)}function aie(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(h,f)=>{const p=er(h,n);r=r||Qo(f,p)});let i=t.syncPointTree_.get(n);i?r=r||Qo(i,Ke()):(i=new y$,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new aa(r,!0,!1):null,u=Kv(t.pendingWriteTree_,e._path),l=w$(i,e,u,s?o.getNode():Ee.EMPTY_NODE,s);return zre(l)}function Pc(t,e){return R$(e,t.syncPointTree_,null,Kv(t.pendingWriteTree_,Ke()))}function R$(t,e,n,r){if($e(t.path))return A$(t,e,n,r);{const i=e.get(Ke());n==null&&i!=null&&(n=Qo(i,Ke()));let s=[];const o=Le(t.path),u=t.operationForChild(o),l=e.children.get(o);if(l&&u){const h=n?n.getImmediateChild(o):null,f=p$(r,o);s=s.concat(R$(u,l,h,f))}return i&&(s=s.concat(DC(i,t,r,n))),s}}function A$(t,e,n,r){const i=e.get(Ke());n==null&&i!=null&&(n=Qo(i,Ke()));let s=[];return e.children.inorderTraversal((o,u)=>{const l=n?n.getImmediateChild(o):null,h=p$(r,o),f=t.operationForChild(o);f&&(s=s.concat(A$(f,u,l,h)))}),i&&(s=s.concat(DC(i,t,r,n))),s}function P$(t,e){const n=e.query,r=Yf(t,n);return{hashFn:()=>(Bre(e)||Ee.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?sie(t,n._path,r):iie(t,n._path);{const s=ine(i,n);return S_(t,n,null,s)}}}}function Yf(t,e){const n=Xv(e);return t.queryToTagMap.get(n)}function Xv(t){return t._path.toString()+"$"+t._queryIdentifier}function MC(t,e){return t.tagToQueryMap.get(e)}function UC(t){const e=t.indexOf("$");return ne(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new at(t.substr(0,e))}}function FC(t,e,n){const r=t.syncPointTree_.get(e);ne(r,"Missing sync point for query tag that we're tracking");const i=Kv(t.pendingWriteTree_,e);return DC(r,n,i,null)}function uie(t){return t.fold((e,n,r)=>{if(n&&ua(n))return[Qv(n)];{let i=[];return n&&(i=E$(n)),Cn(r,(s,o)=>{i=i.concat(o)}),i}})}function nf(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(eie())(t._repo,t._path):t}function lie(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Xv(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function cie(){return tie++}function hie(t,e,n){const r=e._path,i=Yf(t,e),s=P$(t,n),o=t.listenProvider_.startListening(nf(e),i,s.hashFn,s.onComplete),u=t.syncPointTree_.subtree(r);if(i)ne(!ua(u.value),"If we're adding a query, it shouldn't be shadowed");else{const l=u.fold((h,f,p)=>{if(!$e(h)&&f&&ua(f))return[Qv(f).query];{let g=[];return f&&(g=g.concat(E$(f).map(v=>v.query))),Cn(p,(v,E)=>{g=g.concat(E)}),g}});for(let h=0;h<l.length;++h){const f=l[h];t.listenProvider_.stopListening(nf(f),Yf(t,f))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new $C(n)}node(){return this.node_}}class VC{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Lt(this.path_,e);return new VC(this.syncTree_,n)}node(){return LC(this.syncTree_,this.path_)}}const fie=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Nx=function(t,e,n){if(!t||typeof t!="object")return t;if(ne(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return die(t[".sv"],e,n);if(typeof t[".sv"]=="object")return pie(t[".sv"],e);ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},die=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ne(!1,"Unexpected server value: "+t)}},pie=function(t,e,n){t.hasOwnProperty("increment")||ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ne(!1,"Unexpected increment value: "+r);const i=e.node();if(ne(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},k$=function(t,e,n,r){return WC(e,new VC(n,t),r)},b$=function(t,e,n){return WC(t,new $C(e),n)};function WC(t,e,n){const r=t.getPriority().val(),i=Nx(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,u=Nx(o.getValue(),e,n);return u!==o.getValue()||i!==o.getPriority().val()?new sn(u,Jt(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new sn(i))),o.forEachChild(Mt,(u,l)=>{const h=WC(l,e.getImmediateChild(u),n);h!==l&&(s=s.updateImmediateChild(u,h))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function BC(t,e){let n=e instanceof at?e:new at(e),r=t,i=Le(n);for(;i!==null;){const s=ec(r.node.children,i)||{children:{},childCount:0};r=new jC(i,r,s),n=dt(n),i=Le(n)}return r}function kc(t){return t.node.value}function O$(t,e){t.node.value=e,US(t)}function N$(t){return t.node.childCount>0}function gie(t){return kc(t)===void 0&&!N$(t)}function Jv(t,e){Cn(t.node.children,(n,r)=>{e(new jC(n,t,r))})}function x$(t,e,n,r){n&&!r&&e(t),Jv(t,i=>{x$(i,e,!0,r)}),n&&r&&e(t)}function mie(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function xd(t){return new at(t.parent===null?t.name:xd(t.parent)+"/"+t.name)}function US(t){t.parent!==null&&_ie(t.parent,t.name,t)}function _ie(t,e,n){const r=gie(n),i=cs(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,US(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,US(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vie=/[\[\].#$\/\u0000-\u001F\u007F]/,yie=/[\[\].#$\u0000-\u001F\u007F]/,NE=10*1024*1024,zC=function(t){return typeof t=="string"&&t.length!==0&&!vie.test(t)},D$=function(t){return typeof t=="string"&&t.length!==0&&!yie.test(t)},wie=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),D$(t)},Eie=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!_C(t)||t&&typeof t=="object"&&cs(t,".sv")},L$=function(t,e,n,r){r&&e===void 0||Zv(Vv(t,"value"),e,n)},Zv=function(t,e,n){const r=n instanceof at?new Fne(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ma(r));if(typeof e=="function")throw new Error(t+"contains a function "+Ma(r)+" with contents = "+e.toString());if(_C(e))throw new Error(t+"contains "+e.toString()+" "+Ma(r));if(typeof e=="string"&&e.length>NE/3&&Wv(e)>NE)throw new Error(t+"contains a string greater than "+NE+" utf8 bytes "+Ma(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Cn(e,(o,u)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!zC(o)))throw new Error(t+" contains an invalid key ("+o+") "+Ma(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);$ne(r,o),Zv(t,u,r),Vne(r)}),i&&s)throw new Error(t+' contains ".value" child '+Ma(r)+" in addition to actual children.")}},Sie=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Bf(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!zC(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Une);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&ri(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},Tie=function(t,e,n,r){if(r&&e===void 0)return;const i=Vv(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Cn(e,(o,u)=>{const l=new at(o);if(Zv(i,u,Lt(n,l)),SC(l)===".priority"&&!Eie(u))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),Sie(i,s)},M$=function(t,e,n,r){if(!(r&&n===void 0)&&!D$(n))throw new Error(Vv(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Iie=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),M$(t,e,n,r)},U$=function(t,e){if(Le(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Cie=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!zC(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!wie(n))throw new Error(Vv(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rie{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ey(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!TC(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function F$(t,e,n){ey(t,n),$$(t,r=>TC(r,e))}function ui(t,e,n){ey(t,n),$$(t,r=>ri(r,e)||ri(e,r))}function $$(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(Aie(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Aie(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Qa&&yn("event: "+n.toString()),Ac(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pie="repo_interrupt",kie=25;class bie{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Rie,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=p_(),this.transactionQueueTree_=new jC,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Oie(t,e,n){if(t.stats_=wC(t.repoInfo_),t.forceRestClient_||une())t.server_=new d_(t.repoInfo_,(r,i,s,o)=>{xx(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Dx(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Zt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Ws(t.repoInfo_,e,(r,i,s,o)=>{xx(t,r,i,s,o)},r=>{Dx(t,r)},r=>{Nie(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=dne(t.repoInfo_,()=>new fre(t.stats_,t.server_)),t.infoData_=new are,t.infoSyncTree_=new Ox({startListening:(r,i,s,o)=>{let u=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(u=Nd(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),u},stopListening:()=>{}}),HC(t,"connected",!1),t.serverSyncTree_=new Ox({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(u,l)=>{const h=o(u,l);ui(t.eventQueue_,r._path,h)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function V$(t){const n=t.infoData_.getNode(new at(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ty(t){return fie({timestamp:V$(t)})}function xx(t,e,n,r,i){t.dataUpdateCount++;const s=new at(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=t_(n,h=>Jt(h));o=oie(t.serverSyncTree_,s,l,i)}else{const l=Jt(n);o=C$(t.serverSyncTree_,s,l,i)}else if(r){const l=t_(n,h=>Jt(h));o=rie(t.serverSyncTree_,s,l)}else{const l=Jt(n);o=Nd(t.serverSyncTree_,s,l)}let u=s;o.length>0&&(u=oc(t,s)),ui(t.eventQueue_,u,o)}function Dx(t,e){HC(t,"connected",e),e===!1&&Mie(t)}function Nie(t,e){Cn(e,(n,r)=>{HC(t,n,r)})}function HC(t,e,n){const r=new at("/.info/"+e),i=Jt(n);t.infoData_.updateSnapshot(r,i);const s=Nd(t.infoSyncTree_,r,i);ui(t.eventQueue_,r,s)}function qC(t){return t.nextWriteId_++}function xie(t,e,n){const r=aie(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Jt(i).withIndex(e._queryParams.getIndex());MS(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Nd(t.serverSyncTree_,e._path,s);else{const u=Yf(t.serverSyncTree_,e);o=C$(t.serverSyncTree_,e._path,s,u)}return ui(t.eventQueue_,e._path,o),S_(t.serverSyncTree_,e,n,null,!0),s},i=>(Dd(t,"get for query "+Zt(e)+" failed: "+i),Promise.reject(new Error(i))))}function Die(t,e,n,r,i){Dd(t,"set",{path:e.toString(),value:n,priority:r});const s=ty(t),o=Jt(n,r),u=LC(t.serverSyncTree_,e),l=b$(o,u,s),h=qC(t),f=I$(t.serverSyncTree_,e,l,h,!0);ey(t.eventQueue_,f),t.server_.put(e.toString(),o.val(!0),(g,v)=>{const E=g==="ok";E||ir("set at "+e+" failed: "+g);const C=Oo(t.serverSyncTree_,h,!E);ui(t.eventQueue_,e,C),FS(t,i,g,v)});const p=YC(t,e);oc(t,p),ui(t.eventQueue_,p,[])}function Lie(t,e,n,r){Dd(t,"update",{path:e.toString(),value:n});let i=!0;const s=ty(t),o={};if(Cn(n,(u,l)=>{i=!1,o[u]=k$(Lt(e,u),Jt(l),t.serverSyncTree_,s)}),i)yn("update() called with empty data.  Don't do anything."),FS(t,r,"ok",void 0);else{const u=qC(t),l=nie(t.serverSyncTree_,e,o,u);ey(t.eventQueue_,l),t.server_.merge(e.toString(),n,(h,f)=>{const p=h==="ok";p||ir("update at "+e+" failed: "+h);const g=Oo(t.serverSyncTree_,u,!p),v=g.length>0?oc(t,e):e;ui(t.eventQueue_,v,g),FS(t,r,h,f)}),Cn(n,h=>{const f=YC(t,Lt(e,h));oc(t,f)}),ui(t.eventQueue_,e,[])}}function Mie(t){Dd(t,"onDisconnectEvents");const e=ty(t),n=p_();bS(t.onDisconnect_,Ke(),(i,s)=>{const o=k$(i,s,t.serverSyncTree_,e);l$(n,i,o)});let r=[];bS(n,Ke(),(i,s)=>{r=r.concat(Nd(t.serverSyncTree_,i,s));const o=YC(t,i);oc(t,o)}),t.onDisconnect_=p_(),ui(t.eventQueue_,Ke(),r)}function Uie(t,e,n){let r;Le(e._path)===".info"?r=MS(t.infoSyncTree_,e,n):r=MS(t.serverSyncTree_,e,n),F$(t.eventQueue_,e._path,r)}function Lx(t,e,n){let r;Le(e._path)===".info"?r=S_(t.infoSyncTree_,e,n):r=S_(t.serverSyncTree_,e,n),F$(t.eventQueue_,e._path,r)}function Fie(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Pie)}function Dd(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),yn(n,...e)}function FS(t,e,n,r){e&&Ac(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function W$(t,e,n){return LC(t.serverSyncTree_,e,n)||Ee.EMPTY_NODE}function GC(t,e=t.transactionQueueTree_){if(e||ny(t,e),kc(e)){const n=B$(t,e);ne(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&$ie(t,xd(e),n)}else N$(e)&&Jv(e,n=>{GC(t,n)})}function $ie(t,e,n){const r=n.map(h=>h.currentWriteId),i=W$(t,e,r);let s=i;const o=i.hash();for(let h=0;h<n.length;h++){const f=n[h];ne(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const p=er(e,f.path);s=s.updateChild(p,f.currentOutputSnapshotRaw)}const u=s.val(!0),l=e;t.server_.put(l.toString(),u,h=>{Dd(t,"transaction put response",{path:l.toString(),status:h});let f=[];if(h==="ok"){const p=[];for(let g=0;g<n.length;g++)n[g].status=2,f=f.concat(Oo(t.serverSyncTree_,n[g].currentWriteId)),n[g].onComplete&&p.push(()=>n[g].onComplete(null,!0,n[g].currentOutputSnapshotResolved)),n[g].unwatcher();ny(t,BC(t.transactionQueueTree_,e)),GC(t,t.transactionQueueTree_),ui(t.eventQueue_,e,f);for(let g=0;g<p.length;g++)Ac(p[g])}else{if(h==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{ir("transaction at "+l.toString()+" failed: "+h);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=h}oc(t,e)}},o)}function oc(t,e){const n=j$(t,e),r=xd(n),i=B$(t,n);return Vie(t,i,r),r}function Vie(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(u=>u.status===0).map(u=>u.currentWriteId);for(let u=0;u<e.length;u++){const l=e[u],h=er(n,l.path);let f=!1,p;if(ne(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)f=!0,p=l.abortReason,i=i.concat(Oo(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=kie)f=!0,p="maxretry",i=i.concat(Oo(t.serverSyncTree_,l.currentWriteId,!0));else{const g=W$(t,l.path,o);l.currentInputSnapshot=g;const v=e[u].update(g.val());if(v!==void 0){Zv("transaction failed: Data returned ",v,l.path);let E=Jt(v);typeof v=="object"&&v!=null&&cs(v,".priority")||(E=E.updatePriority(g.getPriority()));const A=l.currentWriteId,S=ty(t),T=b$(E,g,S);l.currentOutputSnapshotRaw=E,l.currentOutputSnapshotResolved=T,l.currentWriteId=qC(t),o.splice(o.indexOf(A),1),i=i.concat(I$(t.serverSyncTree_,l.path,T,l.currentWriteId,l.applyLocally)),i=i.concat(Oo(t.serverSyncTree_,A,!0))}else f=!0,p="nodata",i=i.concat(Oo(t.serverSyncTree_,l.currentWriteId,!0))}ui(t.eventQueue_,n,i),i=[],f&&(e[u].status=2,function(g){setTimeout(g,Math.floor(0))}(e[u].unwatcher),e[u].onComplete&&(p==="nodata"?r.push(()=>e[u].onComplete(null,!1,e[u].currentInputSnapshot)):r.push(()=>e[u].onComplete(new Error(p),!1,null))))}ny(t,t.transactionQueueTree_);for(let u=0;u<r.length;u++)Ac(r[u]);GC(t,t.transactionQueueTree_)}function j$(t,e){let n,r=t.transactionQueueTree_;for(n=Le(e);n!==null&&kc(r)===void 0;)r=BC(r,n),e=dt(e),n=Le(e);return r}function B$(t,e){const n=[];return z$(t,e,n),n.sort((r,i)=>r.order-i.order),n}function z$(t,e,n){const r=kc(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Jv(e,i=>{z$(t,i,n)})}function ny(t,e){const n=kc(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,O$(e,n.length>0?n:void 0)}Jv(e,r=>{ny(t,r)})}function YC(t,e){const n=xd(j$(t,e)),r=BC(t.transactionQueueTree_,e);return mie(r,i=>{xE(t,i)}),xE(t,r),x$(r,i=>{xE(t,i)}),n}function xE(t,e){const n=kc(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(ne(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(ne(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Oo(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?O$(e,void 0):n.length=s+1,ui(t.eventQueue_,xd(e),i);for(let o=0;o<r.length;o++)Ac(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wie(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function jie(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ir(`Invalid query segment '${n}' in query '${t}'`)}return e}const Mx=function(t,e){const n=Bie(t),r=n.namespace;n.domain==="firebase.com"&&Xs(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Xs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Zte();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new qF(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new at(n.pathString)}},Bie=function(t){let e="",n="",r="",i="",s="",o=!0,u="https",l=443;if(typeof t=="string"){let h=t.indexOf("//");h>=0&&(u=t.substring(0,h-1),t=t.substring(h+2));let f=t.indexOf("/");f===-1&&(f=t.length);let p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(f,p)),f<p&&(i=Wie(t.substring(f,p)));const g=jie(t.substring(Math.min(t.length,p)));h=e.indexOf(":"),h>=0?(o=u==="https"||u==="wss",l=parseInt(e.substring(h+1),10)):h=e.length;const v=e.slice(0,h);if(v.toLowerCase()==="localhost")n="localhost";else if(v.split(".").length<=2)n=v;else{const E=e.indexOf(".");r=e.substring(0,E).toLowerCase(),n=e.substring(E+1),s=r}"ns"in g&&(s=g.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:u,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",zie=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Ux.charAt(n%64),n=Math.floor(n/64);ne(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=Ux.charAt(e[i]);return ne(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Zt(this.snapshot.exportVal())}}class q${constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return ne(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return $e(this._path)?null:SC(this._path)}get ref(){return new hs(this._repo,this._path)}get _queryIdentifier(){const e=Ex(this._queryParams),n=vC(e);return n==="{}"?"default":n}get _queryObject(){return Ex(this._queryParams)}isEqual(e){if(e=ct(e),!(e instanceof KC))return!1;const n=this._repo===e._repo,r=TC(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Mne(this._path)}}class hs extends KC{constructor(e,n){super(e,n,new AC,!1)}get parent(){const e=t$(this._path);return e===null?null:new hs(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class ac{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new at(e),r=os(this.ref,e);return new ac(this._node.getChild(n),r,Mt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new ac(i,os(this.ref,r),Mt)))}hasChild(e){const n=new at(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function pr(t,e){return t=ct(t),t._checkNotDeleted("ref"),e!==void 0?os(t._root,e):t._root}function os(t,e){return t=ct(t),Le(t._path)===null?Iie("child","path",e,!1):M$("child","path",e,!1),new hs(t._repo,Lt(t._path,e))}function Hie(t,e){t=ct(t),U$("push",t._path),L$("push",e,t._path,!0);const n=V$(t._repo),r=zie(n),i=os(t,r),s=os(t,r);let o;return e!=null?o=Ml(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function Ml(t,e){t=ct(t),U$("set",t._path),L$("set",e,t._path,!1);const n=new Sd;return Die(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function $S(t,e){Tie("update",e,t._path,!1);const n=new Sd;return Lie(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function T_(t){t=ct(t);const e=new G$(()=>{}),n=new ry(e);return xie(t._repo,t,n).then(r=>new ac(r,new hs(t._repo,t._path),t._queryParams.getIndex()))}class ry{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new H$("value",this,new ac(e.snapshotNode,new hs(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new q$(this,e,n):null}matches(e){return e instanceof ry?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class QC{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new q$(this,e,n):null}createEvent(e,n){ne(e.childName!=null,"Child events should have a childName.");const r=os(new hs(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new H$(e.type,this,new ac(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof QC?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function qie(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,h=(f,p)=>{Lx(t._repo,t,u),l(f,p)};h.userCallback=n.userCallback,h.context=n.context,n=h}const o=new G$(n,s||void 0),u=e==="value"?new ry(o):new QC(e,o);return Uie(t._repo,t,u),()=>Lx(t._repo,t,u)}function Y$(t,e,n,r){return qie(t,"value",e,n,r)}Yre(hs);Zre(hs);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gie="FIREBASE_DATABASE_EMULATOR_HOST",VS={};let Yie=!1;function Kie(t,e,n,r){t.repoInfo_=new qF(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function Qie(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Xs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),yn("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Mx(s,i),u=o.repoInfo,l,h;typeof process<"u"&&process.env&&(h=process.env[Gie]),h?(l=!0,s=`http://${h}?ns=${u.namespace}`,o=Mx(s,i),u=o.repoInfo):l=!o.repoInfo.secure;const f=i&&l?new Dl(Dl.OWNER):new cne(t.name,t.options,e);Cie("Invalid Firebase Database URL",o),$e(o.path)||Xs("Database URL must point to the root of a Firebase Database (not including a child path).");const p=Jie(u,t,f,new lne(t.name,n));return new Zie(p,t)}function Xie(t,e){const n=VS[e];(!n||n[t.key]!==t)&&Xs(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Fie(t),delete n[t.key]}function Jie(t,e,n,r){let i=VS[e.name];i||(i={},VS[e.name]=i);let s=i[t.toURLString()];return s&&Xs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new bie(t,Yie,n,r),i[t.toURLString()]=s,s}class Zie{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Oie(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new hs(this._repo,Ke())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Xie(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Xs("Cannot call "+e+" on a deleted database.")}}function XC(t=Bv(),e){const n=Id(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=iC("database");r&&ese(n,...r)}return n}function ese(t,e,n,r={}){t=ct(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Xs("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Xs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Dl(Dl.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:sC(r.mockUserToken,t.app.options.projectId);s=new Dl(o)}Kie(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tse(t){Yte(ma),sa(new Ks("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Qie(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),si(ix,sx,t),si(ix,sx,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nse={".sv":"timestamp"};function Ul(){return nse}Ws.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ws.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};tse();var rse=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oe,JC=JC||{},Ce=rse||self;function iy(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ld(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function ise(t){return Object.prototype.hasOwnProperty.call(t,DE)&&t[DE]||(t[DE]=++sse)}var DE="closure_uid_"+(1e9*Math.random()>>>0),sse=0;function ose(t,e,n){return t.call.apply(t.bind,arguments)}function ase(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function $n(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?$n=ose:$n=ase,$n.apply(null,arguments)}function pg(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function hn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),u=2;u<arguments.length;u++)o[u-2]=arguments[u];return e.prototype[i].apply(r,o)}}function _a(){this.s=this.s,this.o=this.o}var use=0;_a.prototype.s=!1;_a.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),use!=0)&&ise(this)};_a.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const K$=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function ZC(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Fx(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(iy(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Vn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Vn.prototype.h=function(){this.defaultPrevented=!0};var lse=function(){if(!Ce.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ce.addEventListener("test",()=>{},e),Ce.removeEventListener("test",()=>{},e)}catch{}return t}();function Kf(t){return/^[\s\xa0]*$/.test(t)}function sy(){var t=Ce.navigator;return t&&(t=t.userAgent)?t:""}function Gi(t){return sy().indexOf(t)!=-1}function eR(t){return eR[" "](t),t}eR[" "]=function(){};function cse(t,e){var n=noe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var hse=Gi("Opera"),uc=Gi("Trident")||Gi("MSIE"),Q$=Gi("Edge"),WS=Q$||uc,X$=Gi("Gecko")&&!(sy().toLowerCase().indexOf("webkit")!=-1&&!Gi("Edge"))&&!(Gi("Trident")||Gi("MSIE"))&&!Gi("Edge"),fse=sy().toLowerCase().indexOf("webkit")!=-1&&!Gi("Edge");function J$(){var t=Ce.document;return t?t.documentMode:void 0}var jS;e:{var LE="",ME=function(){var t=sy();if(X$)return/rv:([^\);]+)(\)|;)/.exec(t);if(Q$)return/Edge\/([\d\.]+)/.exec(t);if(uc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(fse)return/WebKit\/(\S+)/.exec(t);if(hse)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(ME&&(LE=ME?ME[1]:""),uc){var UE=J$();if(UE!=null&&UE>parseFloat(LE)){jS=String(UE);break e}}jS=LE}var BS;if(Ce.document&&uc){var $x=J$();BS=$x||parseInt(jS,10)||void 0}else BS=void 0;var dse=BS;function Qf(t,e){if(Vn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(X$){e:{try{eR(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:pse[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Qf.$.h.call(this)}}hn(Qf,Vn);var pse={2:"touch",3:"pen",4:"mouse"};Qf.prototype.h=function(){Qf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Md="closure_listenable_"+(1e6*Math.random()|0),gse=0;function mse(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++gse,this.fa=this.ia=!1}function oy(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function tR(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function _se(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Z$(t){const e={};for(const n in t)e[n]=t[n];return e}const Vx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function eV(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Vx.length;s++)n=Vx[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ay(t){this.src=t,this.g={},this.h=0}ay.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=HS(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new mse(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function zS(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=K$(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(oy(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function HS(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var nR="closure_lm_"+(1e6*Math.random()|0),FE={};function tV(t,e,n,r,i){if(r&&r.once)return rV(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)tV(t,e[s],n,r,i);return null}return n=sR(n),t&&t[Md]?t.O(e,n,Ld(r)?!!r.capture:!!r,i):nV(t,e,n,!1,r,i)}function nV(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ld(i)?!!i.capture:!!i,u=iR(t);if(u||(t[nR]=u=new ay(t)),n=u.add(e,n,r,o,s),n.proxy)return n;if(r=vse(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)lse||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(sV(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function vse(){function t(n){return e.call(t.src,t.listener,n)}const e=yse;return t}function rV(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)rV(t,e[s],n,r,i);return null}return n=sR(n),t&&t[Md]?t.P(e,n,Ld(r)?!!r.capture:!!r,i):nV(t,e,n,!0,r,i)}function iV(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)iV(t,e[s],n,r,i);else r=Ld(r)?!!r.capture:!!r,n=sR(n),t&&t[Md]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=HS(s,n,r,i),-1<n&&(oy(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=iR(t))&&(e=t.g[e.toString()],t=-1,e&&(t=HS(e,n,r,i)),(n=-1<t?e[t]:null)&&rR(n))}function rR(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Md])zS(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(sV(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=iR(e))?(zS(n,t),n.h==0&&(n.src=null,e[nR]=null)):oy(t)}}}function sV(t){return t in FE?FE[t]:FE[t]="on"+t}function yse(t,e){if(t.fa)t=!0;else{e=new Qf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&rR(t),t=n.call(r,e)}return t}function iR(t){return t=t[nR],t instanceof ay?t:null}var $E="__closure_events_fn_"+(1e9*Math.random()>>>0);function sR(t){return typeof t=="function"?t:(t[$E]||(t[$E]=function(e){return t.handleEvent(e)}),t[$E])}function ln(){_a.call(this),this.i=new ay(this),this.S=this,this.J=null}hn(ln,_a);ln.prototype[Md]=!0;ln.prototype.removeEventListener=function(t,e,n,r){iV(this,t,e,n,r)};function Tn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Vn(e,t);else if(e instanceof Vn)e.target=e.target||t;else{var i=e;e=new Vn(r,t),eV(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=gg(o,r,!0,e)&&i}if(o=e.g=t,i=gg(o,r,!0,e)&&i,i=gg(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=gg(o,r,!1,e)&&i}ln.prototype.N=function(){if(ln.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)oy(n[r]);delete t.g[e],t.h--}}this.J=null};ln.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ln.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function gg(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var u=o.listener,l=o.la||o.src;o.ia&&zS(t.i,o),i=u.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var oR=Ce.JSON.stringify;class wse{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Ese(){var t=aR;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Sse{constructor(){this.h=this.g=null}add(e,n){const r=oV.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var oV=new wse(()=>new Tse,t=>t.reset());class Tse{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Ise(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Cse(t){Ce.setTimeout(()=>{throw t},0)}let Xf,Jf=!1,aR=new Sse,aV=()=>{const t=Ce.Promise.resolve(void 0);Xf=()=>{t.then(Rse)}};var Rse=()=>{for(var t;t=Ese();){try{t.h.call(t.g)}catch(n){Cse(n)}var e=oV;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Jf=!1};function uy(t,e){ln.call(this),this.h=t||1,this.g=e||Ce,this.j=$n(this.qb,this),this.l=Date.now()}hn(uy,ln);oe=uy.prototype;oe.ga=!1;oe.T=null;oe.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Tn(this,"tick"),this.ga&&(uR(this),this.start()))}};oe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function uR(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}oe.N=function(){uy.$.N.call(this),uR(this),delete this.g};function lR(t,e,n){if(typeof t=="function")n&&(t=$n(t,n));else if(t&&typeof t.handleEvent=="function")t=$n(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ce.setTimeout(t,e||0)}function uV(t){t.g=lR(()=>{t.g=null,t.i&&(t.i=!1,uV(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Ase extends _a{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:uV(this)}N(){super.N(),this.g&&(Ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zf(t){_a.call(this),this.h=t,this.g={}}hn(Zf,_a);var Wx=[];function lV(t,e,n,r){Array.isArray(n)||(n&&(Wx[0]=n.toString()),n=Wx);for(var i=0;i<n.length;i++){var s=tV(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function cV(t){tR(t.g,function(e,n){this.g.hasOwnProperty(n)&&rR(e)},t),t.g={}}Zf.prototype.N=function(){Zf.$.N.call(this),cV(this)};Zf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ly(){this.g=!0}ly.prototype.Ea=function(){this.g=!1};function Pse(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",u=s.split("&"),l=0;l<u.length;l++){var h=u[l].split("=");if(1<h.length){var f=h[0];h=h[1];var p=f.split("_");o=2<=p.length&&p[1]=="type"?o+(f+"="+h+"&"):o+(f+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function kse(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function El(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Ose(t,n)+(r?" "+r:"")})}function bse(t,e){t.info(function(){return"TIMEOUT: "+e})}ly.prototype.info=function(){};function Ose(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return oR(n)}catch{return e}}var Au={},jx=null;function cy(){return jx=jx||new ln}Au.Ta="serverreachability";function hV(t){Vn.call(this,Au.Ta,t)}hn(hV,Vn);function ed(t){const e=cy();Tn(e,new hV(e))}Au.STAT_EVENT="statevent";function fV(t,e){Vn.call(this,Au.STAT_EVENT,t),this.stat=e}hn(fV,Vn);function tr(t){const e=cy();Tn(e,new fV(e,t))}Au.Ua="timingevent";function dV(t,e){Vn.call(this,Au.Ua,t),this.size=e}hn(dV,Vn);function Ud(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ce.setTimeout(function(){t()},e)}var hy={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},pV={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function cR(){}cR.prototype.h=null;function Bx(t){return t.h||(t.h=t.i())}function gV(){}var Fd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function hR(){Vn.call(this,"d")}hn(hR,Vn);function fR(){Vn.call(this,"c")}hn(fR,Vn);var qS;function fy(){}hn(fy,cR);fy.prototype.g=function(){return new XMLHttpRequest};fy.prototype.i=function(){return{}};qS=new fy;function $d(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Zf(this),this.P=Nse,t=WS?125:void 0,this.V=new uy(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new mV}function mV(){this.i=null,this.g="",this.h=!1}var Nse=45e3,GS={},I_={};oe=$d.prototype;oe.setTimeout=function(t){this.P=t};function YS(t,e,n){t.L=1,t.v=py(Js(e)),t.s=n,t.S=!0,_V(t,null)}function _V(t,e){t.G=Date.now(),Vd(t),t.A=Js(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),CV(n.i,"t",r),t.C=0,n=t.l.J,t.h=new mV,t.g=qV(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Ase($n(t.Pa,t,t.g),t.O)),lV(t.U,t.g,"readystatechange",t.nb),e=t.I?Z$(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),ed(),Pse(t.j,t.u,t.A,t.m,t.W,t.s)}oe.nb=function(t){t=t.target;const e=this.M;e&&Qi(t)==3?e.l():this.Pa(t)};oe.Pa=function(t){try{if(t==this.g)e:{const f=Qi(this.g);var e=this.g.Ia();const p=this.g.da();if(!(3>f)&&(f!=3||WS||this.g&&(this.h.h||this.g.ja()||Gx(this.g)))){this.J||f!=4||e==7||(e==8||0>=p?ed(3):ed(2)),dy(this);var n=this.g.da();this.ca=n;t:if(vV(this)){var r=Gx(this.g);t="";var i=r.length,s=Qi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ja(this),rf(this);var o="";break t}this.h.i=new Ce.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,kse(this.j,this.u,this.A,this.m,this.W,f,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kf(u)){var h=u;break t}}h=null}if(n=h)El(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,KS(this,n);else{this.i=!1,this.o=3,tr(12),ja(this),rf(this);break e}}this.S?(yV(this,f,o),WS&&this.i&&f==3&&(lV(this.U,this.V,"tick",this.mb),this.V.start())):(El(this.j,this.m,o,null),KS(this,o)),f==4&&ja(this),this.i&&!this.J&&(f==4?jV(this.l,this):(this.i=!1,Vd(this)))}else Zse(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,tr(12)):(this.o=0,tr(13)),ja(this),rf(this)}}}catch{}finally{}};function vV(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function yV(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=xse(t,n),i==I_){e==4&&(t.o=4,tr(14),r=!1),El(t.j,t.m,null,"[Incomplete Response]");break}else if(i==GS){t.o=4,tr(15),El(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else El(t.j,t.m,i,null),KS(t,i);vV(t)&&i!=I_&&i!=GS&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,tr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),vR(e),e.M=!0,tr(11))):(El(t.j,t.m,n,"[Invalid Chunked Response]"),ja(t),rf(t))}oe.mb=function(){if(this.g){var t=Qi(this.g),e=this.g.ja();this.C<e.length&&(dy(this),yV(this,t,e),this.i&&t!=4&&Vd(this))}};function xse(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?I_:(n=Number(e.substring(n,r)),isNaN(n)?GS:(r+=1,r+n>e.length?I_:(e=e.slice(r,r+n),t.C=r+n,e)))}oe.cancel=function(){this.J=!0,ja(this)};function Vd(t){t.Y=Date.now()+t.P,wV(t,t.P)}function wV(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Ud($n(t.lb,t),e)}function dy(t){t.B&&(Ce.clearTimeout(t.B),t.B=null)}oe.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(bse(this.j,this.A),this.L!=2&&(ed(),tr(17)),ja(this),this.o=2,rf(this)):wV(this,this.Y-t)};function rf(t){t.l.H==0||t.J||jV(t.l,t)}function ja(t){dy(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,uR(t.V),cV(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function KS(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||QS(n.i,t))){if(!t.K&&QS(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)A_(n),_y(n);else break e;_R(n),tr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ud($n(n.ib,n),6e3));if(1>=PV(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ba(n,11)}else if((t.K||n.g==t)&&A_(n),!Kf(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let h=i[e];if(n.V=h[0],h=h[1],n.H==2)if(h[0]=="c"){n.K=h[1],n.pa=h[2];const f=h[3];f!=null&&(n.ra=f,n.l.info("VER="+n.ra));const p=h[4];p!=null&&(n.Ga=p,n.l.info("SVER="+n.Ga));const g=h[5];g!=null&&typeof g=="number"&&0<g&&(r=1.5*g,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const v=t.g;if(v){const E=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(E){var s=r.i;s.g||E.indexOf("spdy")==-1&&E.indexOf("quic")==-1&&E.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(dR(s,s.h),s.h=null))}if(r.F){const C=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(r.Da=C,vt(r.I,r.F,C))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=HV(r,r.J?r.pa:null,r.Y),o.K){kV(r.i,o);var u=o,l=r.L;l&&u.setTimeout(l),u.B&&(dy(u),Vd(u)),r.g=o}else VV(r);0<n.j.length&&vy(n)}else h[0]!="stop"&&h[0]!="close"||Ba(n,7);else n.H==3&&(h[0]=="stop"||h[0]=="close"?h[0]=="stop"?Ba(n,7):mR(n):h[0]!="noop"&&n.h&&n.h.Aa(h),n.A=0)}}ed(4)}catch{}}function Dse(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(iy(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Lse(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(iy(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function EV(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(iy(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Lse(t),r=Dse(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var SV=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mse(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Xa(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Xa){this.h=t.h,C_(this,t.j),this.s=t.s,this.g=t.g,R_(this,t.m),this.l=t.l;var e=t.i,n=new td;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),zx(this,n),this.o=t.o}else t&&(e=String(t).match(SV))?(this.h=!1,C_(this,e[1]||"",!0),this.s=Mh(e[2]||""),this.g=Mh(e[3]||"",!0),R_(this,e[4]),this.l=Mh(e[5]||"",!0),zx(this,e[6]||"",!0),this.o=Mh(e[7]||"")):(this.h=!1,this.i=new td(null,this.h))}Xa.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Uh(e,Hx,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Uh(e,Hx,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Uh(n,n.charAt(0)=="/"?$se:Fse,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Uh(n,Wse)),t.join("")};function Js(t){return new Xa(t)}function C_(t,e,n){t.j=n?Mh(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function R_(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function zx(t,e,n){e instanceof td?(t.i=e,jse(t.i,t.h)):(n||(e=Uh(e,Vse)),t.i=new td(e,t.h))}function vt(t,e,n){t.i.set(e,n)}function py(t){return vt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Mh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Uh(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Use),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Use(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Hx=/[#\/\?@]/g,Fse=/[#\?:]/g,$se=/[#\?]/g,Vse=/[#\?@]/g,Wse=/#/g;function td(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function va(t){t.g||(t.g=new Map,t.h=0,t.i&&Mse(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}oe=td.prototype;oe.add=function(t,e){va(this),this.i=null,t=bc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function TV(t,e){va(t),e=bc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function IV(t,e){return va(t),e=bc(t,e),t.g.has(e)}oe.forEach=function(t,e){va(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};oe.ta=function(){va(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};oe.Z=function(t){va(this);let e=[];if(typeof t=="string")IV(this,t)&&(e=e.concat(this.g.get(bc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};oe.set=function(t,e){return va(this),this.i=null,t=bc(this,t),IV(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};oe.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function CV(t,e,n){TV(t,e),0<n.length&&(t.i=null,t.g.set(bc(t,e),ZC(n)),t.h+=n.length)}oe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function bc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function jse(t,e){e&&!t.j&&(va(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(TV(this,r),CV(this,i,n))},t)),t.j=e}var Bse=class{constructor(t,e){this.g=t,this.map=e}};function RV(t){this.l=t||zse,Ce.PerformanceNavigationTiming?(t=Ce.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ce.g&&Ce.g.Ka&&Ce.g.Ka()&&Ce.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var zse=10;function AV(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function PV(t){return t.h?1:t.g?t.g.size:0}function QS(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function dR(t,e){t.g?t.g.add(e):t.h=e}function kV(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}RV.prototype.cancel=function(){if(this.i=bV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function bV(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return ZC(t.i)}var Hse=class{stringify(t){return Ce.JSON.stringify(t,void 0)}parse(t){return Ce.JSON.parse(t,void 0)}};function qse(){this.g=new Hse}function Gse(t,e,n){const r=n||"";try{EV(t,function(i,s){let o=i;Ld(i)&&(o=oR(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Yse(t,e){const n=new ly;if(Ce.Image){const r=new Image;r.onload=pg(mg,n,r,"TestLoadImage: loaded",!0,e),r.onerror=pg(mg,n,r,"TestLoadImage: error",!1,e),r.onabort=pg(mg,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=pg(mg,n,r,"TestLoadImage: timeout",!1,e),Ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function mg(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Wd(t){this.l=t.fc||null,this.j=t.ob||!1}hn(Wd,cR);Wd.prototype.g=function(){return new gy(this.l,this.j)};Wd.prototype.i=function(t){return function(){return t}}({});function gy(t,e){ln.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=pR,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hn(gy,ln);var pR=0;oe=gy.prototype;oe.open=function(t,e){if(this.readyState!=pR)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,nd(this)};oe.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ce).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};oe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jd(this)),this.readyState=pR};oe.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,nd(this)),this.g&&(this.readyState=3,nd(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ce.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;OV(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function OV(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}oe.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?jd(this):nd(this),this.readyState==3&&OV(this)}};oe.Za=function(t){this.g&&(this.response=this.responseText=t,jd(this))};oe.Ya=function(t){this.g&&(this.response=t,jd(this))};oe.ka=function(){this.g&&jd(this)};function jd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,nd(t)}oe.setRequestHeader=function(t,e){this.v.append(t,e)};oe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};oe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function nd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(gy.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Kse=Ce.JSON.parse;function Ut(t){ln.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=NV,this.L=this.M=!1}hn(Ut,ln);var NV="",Qse=/^https?$/i,Xse=["POST","PUT"];oe=Ut.prototype;oe.Oa=function(t){this.M=t};oe.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():qS.g(),this.C=this.u?Bx(this.u):Bx(qS),this.g.onreadystatechange=$n(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){qx(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Ce.FormData&&t instanceof Ce.FormData,!(0<=K$(Xse,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{LV(this),0<this.B&&((this.L=Jse(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$n(this.ua,this)):this.A=lR(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){qx(this,s)}};function Jse(t){return uc&&typeof t.timeout=="number"&&t.ontimeout!==void 0}oe.ua=function(){typeof JC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tn(this,"timeout"),this.abort(8))};function qx(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,xV(t),my(t)}function xV(t){t.F||(t.F=!0,Tn(t,"complete"),Tn(t,"error"))}oe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Tn(this,"complete"),Tn(this,"abort"),my(this))};oe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),my(this,!0)),Ut.$.N.call(this)};oe.La=function(){this.s||(this.G||this.v||this.l?DV(this):this.kb())};oe.kb=function(){DV(this)};function DV(t){if(t.h&&typeof JC<"u"&&(!t.C[1]||Qi(t)!=4||t.da()!=2)){if(t.v&&Qi(t)==4)lR(t.La,0,t);else if(Tn(t,"readystatechange"),Qi(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(SV)[1]||null;!i&&Ce.self&&Ce.self.location&&(i=Ce.self.location.protocol.slice(0,-1)),r=!Qse.test(i?i.toLowerCase():"")}n=r}if(n)Tn(t,"complete"),Tn(t,"success");else{t.m=6;try{var s=2<Qi(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",xV(t)}}finally{my(t)}}}}function my(t,e){if(t.g){LV(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Tn(t,"ready");try{n.onreadystatechange=r}catch{}}}function LV(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ce.clearTimeout(t.A),t.A=null)}oe.isActive=function(){return!!this.g};function Qi(t){return t.g?t.g.readyState:0}oe.da=function(){try{return 2<Qi(this)?this.g.status:-1}catch{return-1}};oe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};oe.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Kse(e)}};function Gx(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case NV:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Zse(t){const e={};t=(t.g&&2<=Qi(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Kf(t[r]))continue;var n=Ise(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}_se(e,function(r){return r.join(", ")})}oe.Ia=function(){return this.m};oe.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function MV(t){let e="";return tR(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function gR(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=MV(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):vt(t,e,n))}function Sh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function UV(t){this.Ga=0,this.j=[],this.l=new ly,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Sh("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Sh("baseRetryDelayMs",5e3,t),this.hb=Sh("retryDelaySeedMs",1e4,t),this.eb=Sh("forwardChannelMaxRetries",2,t),this.xa=Sh("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new RV(t&&t.concurrentRequestLimit),this.Ja=new qse,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}oe=UV.prototype;oe.ra=8;oe.H=1;function mR(t){if(FV(t),t.H==3){var e=t.W++,n=Js(t.I);if(vt(n,"SID",t.K),vt(n,"RID",e),vt(n,"TYPE","terminate"),Bd(t,n),e=new $d(t,t.l,e),e.L=2,e.v=py(Js(n)),n=!1,Ce.navigator&&Ce.navigator.sendBeacon)try{n=Ce.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Ce.Image&&(new Image().src=e.v,n=!0),n||(e.g=qV(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Vd(e)}zV(t)}function _y(t){t.g&&(vR(t),t.g.cancel(),t.g=null)}function FV(t){_y(t),t.u&&(Ce.clearTimeout(t.u),t.u=null),A_(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ce.clearTimeout(t.m),t.m=null)}function vy(t){if(!AV(t.i)&&!t.m){t.m=!0;var e=t.Na;Xf||aV(),Jf||(Xf(),Jf=!0),aR.add(e,t),t.C=0}}function eoe(t,e){return PV(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ud($n(t.Na,t,e),BV(t,t.C)),t.C++,!0)}oe.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new $d(this,this.l,t);let s=this.s;if(this.U&&(s?(s=Z$(s),eV(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=$V(this,i,e),n=Js(this.I),vt(n,"RID",t),vt(n,"CVER",22),this.F&&vt(n,"X-HTTP-Session-Id",this.F),Bd(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(MV(s)))+"&"+e:this.o&&gR(n,this.o,s)),dR(this.i,i),this.bb&&vt(n,"TYPE","init"),this.P?(vt(n,"$req",e),vt(n,"SID","null"),i.aa=!0,YS(i,n,null)):YS(i,n,e),this.H=2}}else this.H==3&&(t?Yx(this,t):this.j.length==0||AV(this.i)||Yx(this))};function Yx(t,e){var n;e?n=e.m:n=t.W++;const r=Js(t.I);vt(r,"SID",t.K),vt(r,"RID",n),vt(r,"AID",t.V),Bd(t,r),t.o&&t.s&&gR(r,t.o,t.s),n=new $d(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=$V(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),dR(t.i,n),YS(n,r,e)}function Bd(t,e){t.na&&tR(t.na,function(n,r){vt(e,r,n)}),t.h&&EV({},function(n,r){vt(e,r,n)})}function $V(t,e,n){n=Math.min(t.j.length,n);var r=t.h?$n(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let u=!0;for(let l=0;l<n;l++){let h=i[l].g;const f=i[l].map;if(h-=s,0>h)s=Math.max(0,i[l].g-100),u=!1;else try{Gse(f,o,"req"+h+"_")}catch{r&&r(f)}}if(u){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function VV(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Xf||aV(),Jf||(Xf(),Jf=!0),aR.add(e,t),t.A=0}}function _R(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ud($n(t.Ma,t),BV(t,t.A)),t.A++,!0)}oe.Ma=function(){if(this.u=null,WV(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ud($n(this.jb,this),t)}};oe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,tr(10),_y(this),WV(this))};function vR(t){t.B!=null&&(Ce.clearTimeout(t.B),t.B=null)}function WV(t){t.g=new $d(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Js(t.wa);vt(e,"RID","rpc"),vt(e,"SID",t.K),vt(e,"AID",t.V),vt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&vt(e,"TO",t.qa),vt(e,"TYPE","xmlhttp"),Bd(t,e),t.o&&t.s&&gR(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=py(Js(e)),n.s=null,n.S=!0,_V(n,t)}oe.ib=function(){this.v!=null&&(this.v=null,_y(this),_R(this),tr(19))};function A_(t){t.v!=null&&(Ce.clearTimeout(t.v),t.v=null)}function jV(t,e){var n=null;if(t.g==e){A_(t),vR(t),t.g=null;var r=2}else if(QS(t.i,e))n=e.F,kV(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=cy(),Tn(r,new dV(r,n)),vy(t)}else VV(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&eoe(t,e)||r==2&&_R(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ba(t,5);break;case 4:Ba(t,10);break;case 3:Ba(t,6);break;default:Ba(t,2)}}}function BV(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ba(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=$n(t.pb,t);n||(n=new Xa("//www.google.com/images/cleardot.gif"),Ce.location&&Ce.location.protocol=="http"||C_(n,"https"),py(n)),Yse(n.toString(),r)}else tr(2);t.H=0,t.h&&t.h.za(e),zV(t),FV(t)}oe.pb=function(t){t?(this.l.info("Successfully pinged google.com"),tr(2)):(this.l.info("Failed to ping google.com"),tr(1))};function zV(t){if(t.H=0,t.ma=[],t.h){const e=bV(t.i);(e.length!=0||t.j.length!=0)&&(Fx(t.ma,e),Fx(t.ma,t.j),t.i.i.length=0,ZC(t.j),t.j.length=0),t.h.ya()}}function HV(t,e,n){var r=n instanceof Xa?Js(n):new Xa(n);if(r.g!="")e&&(r.g=e+"."+r.g),R_(r,r.m);else{var i=Ce.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Xa(null);r&&C_(s,r),e&&(s.g=e),i&&R_(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&vt(r,n,e),vt(r,"VER",t.ra),Bd(t,r),r}function qV(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Ut(new Wd({ob:!0})):new Ut(t.va),e.Oa(t.J),e}oe.isActive=function(){return!!this.h&&this.h.isActive(this)};function GV(){}oe=GV.prototype;oe.Ba=function(){};oe.Aa=function(){};oe.za=function(){};oe.ya=function(){};oe.isActive=function(){return!0};oe.Va=function(){};function P_(){if(uc&&!(10<=Number(dse)))throw Error("Environmental error: no available transport.")}P_.prototype.g=function(t,e){return new Lr(t,e)};function Lr(t,e){ln.call(this),this.g=new UV(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Kf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Kf(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Oc(this)}hn(Lr,ln);Lr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;tr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=HV(t,null,t.Y),vy(t)};Lr.prototype.close=function(){mR(this.g)};Lr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=oR(t),t=n);e.j.push(new Bse(e.fb++,t)),e.H==3&&vy(e)};Lr.prototype.N=function(){this.g.h=null,delete this.j,mR(this.g),delete this.g,Lr.$.N.call(this)};function YV(t){hR.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}hn(YV,hR);function KV(){fR.call(this),this.status=1}hn(KV,fR);function Oc(t){this.g=t}hn(Oc,GV);Oc.prototype.Ba=function(){Tn(this.g,"a")};Oc.prototype.Aa=function(t){Tn(this.g,new YV(t))};Oc.prototype.za=function(t){Tn(this.g,new KV)};Oc.prototype.ya=function(){Tn(this.g,"b")};function toe(){this.blockSize=-1}function xi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}hn(xi,toe);xi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function VE(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}xi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)VE(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){VE(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){VE(this,r),i=0;break}}this.h=i,this.i+=e};xi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function it(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var noe={};function yR(t){return-128<=t&&128>t?cse(t,function(e){return new it([e|0],0>e?-1:0)}):new it([t|0],0>t?-1:0)}function Xi(t){if(isNaN(t)||!isFinite(t))return Fl;if(0>t)return wn(Xi(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=XS;return new it(e,0)}function QV(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return wn(QV(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Xi(Math.pow(e,8)),r=Fl,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Xi(Math.pow(e,s)),r=r.R(s).add(Xi(o))):(r=r.R(n),r=r.add(Xi(o)))}return r}var XS=4294967296,Fl=yR(0),JS=yR(1),Kx=yR(16777216);oe=it.prototype;oe.ea=function(){if(Zr(this))return-wn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:XS+r)*e,e*=XS}return t};oe.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Us(this))return"0";if(Zr(this))return"-"+wn(this).toString(t);for(var e=Xi(Math.pow(t,6)),n=this,r="";;){var i=b_(n,e).g;n=k_(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Us(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};oe.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Us(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Zr(t){return t.h==-1}oe.X=function(t){return t=k_(this,t),Zr(t)?-1:Us(t)?0:1};function wn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new it(n,~t.h).add(JS)}oe.abs=function(){return Zr(this)?wn(this):this};oe.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new it(n,n[n.length-1]&-2147483648?-1:0)};function k_(t,e){return t.add(wn(e))}oe.R=function(t){if(Us(this)||Us(t))return Fl;if(Zr(this))return Zr(t)?wn(this).R(wn(t)):wn(wn(this).R(t));if(Zr(t))return wn(this.R(wn(t)));if(0>this.X(Kx)&&0>t.X(Kx))return Xi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,u=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,_g(n,2*r+2*i),n[2*r+2*i+1]+=s*l,_g(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,_g(n,2*r+2*i+1),n[2*r+2*i+2]+=s*u,_g(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new it(n,0)};function _g(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Th(t,e){this.g=t,this.h=e}function b_(t,e){if(Us(e))throw Error("division by zero");if(Us(t))return new Th(Fl,Fl);if(Zr(t))return e=b_(wn(t),e),new Th(wn(e.g),wn(e.h));if(Zr(e))return e=b_(t,wn(e)),new Th(wn(e.g),e.h);if(30<t.g.length){if(Zr(t)||Zr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=JS,r=e;0>=r.X(t);)n=Qx(n),r=Qx(r);var i=Ju(n,1),s=Ju(r,1);for(r=Ju(r,2),n=Ju(n,2);!Us(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Ju(r,1),n=Ju(n,1)}return e=k_(t,i.R(e)),new Th(i,e)}for(i=Fl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Xi(n),o=s.R(e);Zr(o)||0<o.X(t);)n-=r,s=Xi(n),o=s.R(e);Us(s)&&(s=JS),i=i.add(s),t=k_(t,o)}return new Th(i,t)}oe.gb=function(t){return b_(this,t).h};oe.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new it(n,this.h&t.h)};oe.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new it(n,this.h|t.h)};oe.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new it(n,this.h^t.h)};function Qx(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new it(n,t.h)}function Ju(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new it(i,t.h)}P_.prototype.createWebChannel=P_.prototype.g;Lr.prototype.send=Lr.prototype.u;Lr.prototype.open=Lr.prototype.m;Lr.prototype.close=Lr.prototype.close;hy.NO_ERROR=0;hy.TIMEOUT=8;hy.HTTP_ERROR=6;pV.COMPLETE="complete";gV.EventType=Fd;Fd.OPEN="a";Fd.CLOSE="b";Fd.ERROR="c";Fd.MESSAGE="d";ln.prototype.listen=ln.prototype.O;Ut.prototype.listenOnce=Ut.prototype.P;Ut.prototype.getLastError=Ut.prototype.Sa;Ut.prototype.getLastErrorCode=Ut.prototype.Ia;Ut.prototype.getStatus=Ut.prototype.da;Ut.prototype.getResponseJson=Ut.prototype.Wa;Ut.prototype.getResponseText=Ut.prototype.ja;Ut.prototype.send=Ut.prototype.ha;Ut.prototype.setWithCredentials=Ut.prototype.Oa;xi.prototype.digest=xi.prototype.l;xi.prototype.reset=xi.prototype.reset;xi.prototype.update=xi.prototype.j;it.prototype.add=it.prototype.add;it.prototype.multiply=it.prototype.R;it.prototype.modulo=it.prototype.gb;it.prototype.compare=it.prototype.X;it.prototype.toNumber=it.prototype.ea;it.prototype.toString=it.prototype.toString;it.prototype.getBits=it.prototype.D;it.fromNumber=Xi;it.fromString=QV;var roe=function(){return new P_},ioe=function(){return cy()},WE=hy,soe=pV,ooe=Au,Xx={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},aoe=Wd,vg=gV,uoe=Ut,loe=xi,$l=it;const Jx="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc="10.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=new jv("@firebase/firestore");function Zx(){return du.logLevel}function ge(t,...e){if(du.logLevel<=qe.DEBUG){const n=e.map(wR);du.debug(`Firestore (${Nc}): ${t}`,...n)}}function Zs(t,...e){if(du.logLevel<=qe.ERROR){const n=e.map(wR);du.error(`Firestore (${Nc}): ${t}`,...n)}}function lc(t,...e){if(du.logLevel<=qe.WARN){const n=e.map(wR);du.warn(`Firestore (${Nc}): ${t}`,...n)}}function wR(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(t="Unexpected state"){const e=`FIRESTORE (${Nc}) INTERNAL ASSERTION FAILED: `+t;throw Zs(e),new Error(e)}function Et(t,e){t||Ie()}function ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends ls{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class coe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ln.UNAUTHENTICATED))}shutdown(){}}class hoe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class foe{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Xo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Xo,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},u=l=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Xo)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Et(typeof r.accessToken=="string"),new XV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string"),new Ln(e)}}class doe{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class poe{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new doe(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class goe{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class moe{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ge("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Et(typeof n.token=="string"),this.R=n.token,new goe(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _oe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=_oe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function et(t,e){return t<e?-1:t>e?1:0}function cc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new de(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nn.fromMillis(Date.now())}static fromDate(e){return nn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new nn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new nn(0,0))}static max(){return new Ae(new nn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ie(),r===void 0?r=e.length-n:r>e.length-n&&Ie(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return rd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class yt extends rd{construct(e,n,r){return new yt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new yt(n)}static emptyPath(){return new yt([])}}const voe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fn extends rd{construct(e,n,r){return new Fn(e,n,r)}static isValidIdentifier(e){return voe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Fn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new de(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new de(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new de(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else u==="`"?(o=!o,i++):u!=="."||o?(r+=u,i++):(s(),i++)}if(s(),o)throw new de(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fn(n)}static emptyPath(){return new Fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(yt.fromString(e))}static fromName(e){return new _e(yt.fromString(e).popFirst(5))}static empty(){return new _e(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return yt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new yt(e.slice()))}}function yoe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ae.fromTimestamp(r===1e9?new nn(n+1,0):new nn(n,r));return new la(i,_e.empty(),e)}function woe(t){return new la(t.readTime,t.key,-1)}class la{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new la(Ae.min(),_e.empty(),-1)}static max(){return new la(Ae.max(),_e.empty(),-1)}}function Eoe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Soe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Toe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zd(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==Soe)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,r)=>{n(e)})}static reject(e){return new ee((n,r)=>{r(e)})}static waitFor(e){return new ee((n,r)=>{let i=0,s=0,o=!1;e.forEach(u=>{++i,u.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next(i=>i?ee.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ee((r,i)=>{const s=e.length,o=new Array(s);let u=0;for(let l=0;l<s;l++){const h=l;n(e[h]).next(f=>{o[h]=f,++u,u===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new ee((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Hd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ER.ae=-1;function yy(t){return t==null}function O_(t){return t===0&&1/t==-1/0}function Ioe(t){return typeof t=="number"&&Number.isInteger(t)&&!O_(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ZV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new Nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yg(this.root,e,this.comparator,!1)}getReverseIterator(){return new yg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yg(this.root,e,this.comparator,!0)}}class yg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??vn.RED,this.left=i??vn.EMPTY,this.right=s??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new vn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return vn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,n,r,i,s){return this}insert(e,n,r){return new vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tD(this.data.getIterator())}getIteratorFrom(e){return new tD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Wn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Wn(this.comparator);return n.data=e,n}}class tD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.fields=e,e.sort(Fn.comparator)}static empty(){return new Ci([])}unionWith(e){let n=new Wn(Fn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ci(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return cc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new e4("Invalid base64 string: "+s):s}}(e);return new Hn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hn.EMPTY_BYTE_STRING=new Hn("");const Coe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ca(t){if(Et(!!t),typeof t=="string"){let e=0;const n=Coe.exec(t);if(Et(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ht(t.seconds),nanos:Ht(t.nanos)}}function Ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function pu(t){return typeof t=="string"?Hn.fromBase64String(t):Hn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function TR(t){const e=t.mapValue.fields.__previous_value__;return SR(e)?TR(e):e}function id(t){const e=ca(t.mapValue.fields.__local_write_time__.timestampValue);return new nn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Roe{constructor(e,n,r,i,s,o,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=l,this.useFetchStreams=h}}class sd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new sd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof sd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function gu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?SR(t)?4:Aoe(t)?9007199254740991:10:Ie()}function as(t,e){if(t===e)return!0;const n=gu(t);if(n!==gu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return id(t).isEqual(id(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ca(i.timestampValue),u=ca(s.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return pu(i.bytesValue).isEqual(pu(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ht(i.geoPointValue.latitude)===Ht(s.geoPointValue.latitude)&&Ht(i.geoPointValue.longitude)===Ht(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ht(i.integerValue)===Ht(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ht(i.doubleValue),u=Ht(s.doubleValue);return o===u?O_(o)===O_(u):isNaN(o)&&isNaN(u)}return!1}(t,e);case 9:return cc(t.arrayValue.values||[],e.arrayValue.values||[],as);case 10:return function(i,s){const o=i.mapValue.fields||{},u=s.mapValue.fields||{};if(eD(o)!==eD(u))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(u[l]===void 0||!as(o[l],u[l])))return!1;return!0}(t,e);default:return Ie()}}function od(t,e){return(t.values||[]).find(n=>as(n,e))!==void 0}function hc(t,e){if(t===e)return 0;const n=gu(t),r=gu(e);if(n!==r)return et(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(t.booleanValue,e.booleanValue);case 2:return function(s,o){const u=Ht(s.integerValue||s.doubleValue),l=Ht(o.integerValue||o.doubleValue);return u<l?-1:u>l?1:u===l?0:isNaN(u)?isNaN(l)?0:-1:1}(t,e);case 3:return nD(t.timestampValue,e.timestampValue);case 4:return nD(id(t),id(e));case 5:return et(t.stringValue,e.stringValue);case 6:return function(s,o){const u=pu(s),l=pu(o);return u.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const u=s.split("/"),l=o.split("/");for(let h=0;h<u.length&&h<l.length;h++){const f=et(u[h],l[h]);if(f!==0)return f}return et(u.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const u=et(Ht(s.latitude),Ht(o.latitude));return u!==0?u:et(Ht(s.longitude),Ht(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const u=s.values||[],l=o.values||[];for(let h=0;h<u.length&&h<l.length;++h){const f=hc(u[h],l[h]);if(f)return f}return et(u.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===wg.mapValue&&o===wg.mapValue)return 0;if(s===wg.mapValue)return 1;if(o===wg.mapValue)return-1;const u=s.fields||{},l=Object.keys(u),h=o.fields||{},f=Object.keys(h);l.sort(),f.sort();for(let p=0;p<l.length&&p<f.length;++p){const g=et(l[p],f[p]);if(g!==0)return g;const v=hc(u[l[p]],h[f[p]]);if(v!==0)return v}return et(l.length,f.length)}(t.mapValue,e.mapValue);default:throw Ie()}}function nD(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return et(t,e);const n=ca(t),r=ca(e),i=et(n.seconds,r.seconds);return i!==0?i:et(n.nanos,r.nanos)}function fc(t){return ZS(t)}function ZS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ca(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return pu(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=ZS(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${ZS(n.fields[o])}`;return i+"}"}(t.mapValue):Ie()}function rD(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function eT(t){return!!t&&"integerValue"in t}function IR(t){return!!t&&"arrayValue"in t}function iD(t){return!!t&&"nullValue"in t}function sD(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function im(t){return!!t&&"mapValue"in t}function sf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return xc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=sf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Aoe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this.value=e}static empty(){return new ei({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!im(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sf(n)}setAll(e){let n=Fn.emptyPath(),r={},i=[];e.forEach((o,u)=>{if(!n.isImmediateParentOf(u)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=u.popLast()}o?r[u.lastSegment()]=sf(o):i.push(u.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());im(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return as(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];im(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){xc(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ei(sf(this.value))}}function t4(t){const e=[];return xc(t.fields,(n,r)=>{const i=new Fn([n]);if(im(r)){const s=t4(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ci(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,n,r,i,s,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=u}static newInvalidDocument(e){return new Un(e,0,Ae.min(),Ae.min(),Ae.min(),ei.empty(),0)}static newFoundDocument(e,n,r,i){return new Un(e,1,n,Ae.min(),r,i,0)}static newNoDocument(e,n){return new Un(e,2,n,Ae.min(),Ae.min(),ei.empty(),0)}static newUnknownDocument(e,n){return new Un(e,3,n,Ae.min(),Ae.min(),ei.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ei.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,n){this.position=e,this.inclusive=n}}function oD(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=_e.comparator(_e.fromName(o.referenceValue),n.key):r=hc(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function aD(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!as(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n="asc"){this.field=e,this.dir=n}}function Poe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{}class Gt extends n4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new boe(e,n,r):n==="array-contains"?new xoe(e,r):n==="in"?new Doe(e,r):n==="not-in"?new Loe(e,r):n==="array-contains-any"?new Moe(e,r):new Gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ooe(e,r):new Noe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(hc(n,this.value)):n!==null&&gu(this.value)===gu(n)&&this.matchesComparison(hc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Di extends n4{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Di(e,n)}matches(e){return r4(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function r4(t){return t.op==="and"}function i4(t){return koe(t)&&r4(t)}function koe(t){for(const e of t.filters)if(e instanceof Di)return!1;return!0}function tT(t){if(t instanceof Gt)return t.field.canonicalString()+t.op.toString()+fc(t.value);if(i4(t))return t.filters.map(e=>tT(e)).join(",");{const e=t.filters.map(n=>tT(n)).join(",");return`${t.op}(${e})`}}function s4(t,e){return t instanceof Gt?function(r,i){return i instanceof Gt&&r.op===i.op&&r.field.isEqual(i.field)&&as(r.value,i.value)}(t,e):t instanceof Di?function(r,i){return i instanceof Di&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,u)=>s&&s4(o,i.filters[u]),!0):!1}(t,e):void Ie()}function o4(t){return t instanceof Gt?function(n){return`${n.field.canonicalString()} ${n.op} ${fc(n.value)}`}(t):t instanceof Di?function(n){return n.op.toString()+" {"+n.getFilters().map(o4).join(" ,")+"}"}(t):"Filter"}class boe extends Gt{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ooe extends Gt{constructor(e,n){super(e,"in",n),this.keys=a4("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Noe extends Gt{constructor(e,n){super(e,"not-in",n),this.keys=a4("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function a4(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>_e.fromName(r.referenceValue))}class xoe extends Gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return IR(n)&&od(n.arrayValue,this.value)}}class Doe extends Gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&od(this.value.arrayValue,n)}}class Loe extends Gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(od(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!od(this.value.arrayValue,n)}}class Moe extends Gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!IR(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>od(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uoe{constructor(e,n=null,r=[],i=[],s=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=u,this.he=null}}function uD(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Uoe(t,e,n,r,i,s,o)}function CR(t){const e=ke(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>tT(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),yy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fc(r)).join(",")),e.he=n}return e.he}function RR(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Poe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!s4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!aD(t.startAt,e.startAt)&&aD(t.endAt,e.endAt)}function nT(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n=null,r=[],i=[],s=null,o="F",u=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=u,this.endAt=l,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function Foe(t,e,n,r,i,s,o,u){return new qd(t,e,n,r,i,s,o,u)}function u4(t){return new qd(t)}function lD(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function l4(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function AR(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function c4(t){return t.collectionGroup!==null}function Vl(t){const e=ke(t);if(e.Pe===null){e.Pe=[];const n=AR(e),r=l4(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new of(n)),e.Pe.push(new of(Fn.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new of(Fn.keyField(),s))}}}return e.Pe}function eo(t){const e=ke(t);if(!e.Ie)if(e.limitType==="F")e.Ie=uD(e.path,e.collectionGroup,Vl(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Vl(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new of(s.field,o))}const r=e.endAt?new N_(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new N_(e.startAt.position,e.startAt.inclusive):null;e.Ie=uD(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.Ie}function rT(t,e){e.getFirstInequalityField(),AR(t);const n=t.filters.concat([e]);return new qd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function iT(t,e,n){return new qd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wy(t,e){return RR(eo(t),eo(e))&&t.limitType===e.limitType}function h4(t){return`${CR(eo(t))}|lt:${t.limitType}`}function sT(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>o4(i)).join(", ")}]`),yy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>fc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>fc(i)).join(",")),`Target(${r})`}(eo(t))}; limitType=${t.limitType})`}function Ey(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):_e.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Vl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,u,l){const h=oD(o,u,l);return o.inclusive?h<=0:h<0}(r.startAt,Vl(r),i)||r.endAt&&!function(o,u,l){const h=oD(o,u,l);return o.inclusive?h>=0:h>0}(r.endAt,Vl(r),i))}(t,e)}function $oe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function f4(t){return(e,n)=>{let r=!1;for(const i of Vl(t)){const s=Voe(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Voe(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):function(s,o,u){const l=o.data.field(s),h=u.data.field(s);return l!==null&&h!==null?hc(l,h):Ie()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xc(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return ZV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Woe=new Nt(_e.comparator);function to(){return Woe}const d4=new Nt(_e.comparator);function Fh(...t){let e=d4;for(const n of t)e=e.insert(n.key,n);return e}function p4(t){let e=d4;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function za(){return af()}function g4(){return af()}function af(){return new Dc(t=>t.toString(),(t,e)=>t.isEqual(e))}const joe=new Nt(_e.comparator),Boe=new Wn(_e.comparator);function We(...t){let e=Boe;for(const n of t)e=e.add(n);return e}const zoe=new Wn(et);function Hoe(){return zoe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:O_(e)?"-0":e}}function _4(t){return{integerValue:""+t}}function qoe(t,e){return Ioe(e)?_4(e):m4(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(){this._=void 0}}function Goe(t,e,n){return t instanceof x_?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&SR(s)&&(s=TR(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ad?y4(t,e):t instanceof ud?w4(t,e):function(i,s){const o=v4(i,s),u=cD(o)+cD(i.Te);return eT(o)&&eT(i.Te)?_4(u):m4(i.serializer,u)}(t,e)}function Yoe(t,e,n){return t instanceof ad?y4(t,e):t instanceof ud?w4(t,e):n}function v4(t,e){return t instanceof D_?function(r){return eT(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class x_ extends Sy{}class ad extends Sy{constructor(e){super(),this.elements=e}}function y4(t,e){const n=E4(e);for(const r of t.elements)n.some(i=>as(i,r))||n.push(r);return{arrayValue:{values:n}}}class ud extends Sy{constructor(e){super(),this.elements=e}}function w4(t,e){let n=E4(e);for(const r of t.elements)n=n.filter(i=>!as(i,r));return{arrayValue:{values:n}}}class D_ extends Sy{constructor(e,n){super(),this.serializer=e,this.Te=n}}function cD(t){return Ht(t.integerValue||t.doubleValue)}function E4(t){return IR(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Koe(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ad&&i instanceof ad||r instanceof ud&&i instanceof ud?cc(r.elements,i.elements,as):r instanceof D_&&i instanceof D_?as(r.Te,i.Te):r instanceof x_&&i instanceof x_}(t.transform,e.transform)}class Qoe{constructor(e,n){this.version=e,this.transformResults=n}}class js{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new js}static exists(e){return new js(void 0,e)}static updateTime(e){return new js(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ty{}function S4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new I4(t.key,js.none()):new Gd(t.key,t.data,js.none());{const n=t.data,r=ei.empty();let i=new Wn(Fn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Pu(t.key,r,new Ci(i.toArray()),js.none())}}function Xoe(t,e,n){t instanceof Gd?function(i,s,o){const u=i.value.clone(),l=fD(i.fieldTransforms,s,o.transformResults);u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):t instanceof Pu?function(i,s,o){if(!sm(i.precondition,s))return void s.convertToUnknownDocument(o.version);const u=fD(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(T4(i)),l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function uf(t,e,n,r){return t instanceof Gd?function(s,o,u,l){if(!sm(s.precondition,o))return u;const h=s.value.clone(),f=dD(s.fieldTransforms,l,o);return h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof Pu?function(s,o,u,l){if(!sm(s.precondition,o))return u;const h=dD(s.fieldTransforms,l,o),f=o.data;return f.setAll(T4(s)),f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,u){return sm(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u}(t,e,n)}function Joe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=v4(r.transform,i||null);s!=null&&(n===null&&(n=ei.empty()),n.set(r.field,s))}return n||null}function hD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&cc(r,i,(s,o)=>Koe(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Gd extends Ty{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Pu extends Ty{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function T4(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function fD(t,e,n){const r=new Map;Et(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,u=e.data.field(s.field);r.set(s.field,Yoe(o,u,n[i]))}return r}function dD(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Goe(s,o,e))}return r}class I4 extends Ty{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Zoe extends Ty{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eae{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Xoe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=uf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=uf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=g4();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let u=this.applyToLocalView(o,s.mutatedFields);u=n.has(i.key)?null:u;const l=S4(o,u);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),We())}isEqual(e){return this.batchId===e.batchId&&cc(this.mutations,e.mutations,(n,r)=>hD(n,r))&&cc(this.baseMutations,e.baseMutations,(n,r)=>hD(n,r))}}class PR{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Et(e.mutations.length===r.length);let i=function(){return joe}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new PR(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tae{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nae{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,ze;function rae(t){switch(t){default:return Ie();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function C4(t){if(t===void 0)return Zs("GRPC error has no .code"),K.UNKNOWN;switch(t){case zt.OK:return K.OK;case zt.CANCELLED:return K.CANCELLED;case zt.UNKNOWN:return K.UNKNOWN;case zt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case zt.INTERNAL:return K.INTERNAL;case zt.UNAVAILABLE:return K.UNAVAILABLE;case zt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case zt.NOT_FOUND:return K.NOT_FOUND;case zt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case zt.ABORTED:return K.ABORTED;case zt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case zt.DATA_LOSS:return K.DATA_LOSS;default:return Ie()}}(ze=zt||(zt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Eg}static getOrCreateInstance(){return Eg===null&&(Eg=new kR),Eg}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Eg=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iae(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sae=new $l([4294967295,4294967295],0);function pD(t){const e=iae().encode(t),n=new loe;return n.update(e),new Uint8Array(n.digest())}function gD(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new $l([n,r],0),new $l([i,s],0)]}class bR{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $h(`Invalid padding: ${n}`);if(r<0)throw new $h(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $h(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $h(`Invalid padding when bitmap length is 0: ${n}`);this.de=8*e.length-n,this.Ae=$l.fromNumber(this.de)}Re(e,n,r){let i=e.add(n.multiply($l.fromNumber(r)));return i.compare(sae)===1&&(i=new $l([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ae).toNumber()}Ve(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.de===0)return!1;const n=pD(e),[r,i]=gD(n);for(let s=0;s<this.hashCount;s++){const o=this.Re(r,i,s);if(!this.Ve(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new bR(s,i,n);return r.forEach(u=>o.insert(u)),o}insert(e){if(this.de===0)return;const n=pD(e),[r,i]=gD(n);for(let s=0;s<this.hashCount;s++){const o=this.Re(r,i,s);this.me(o)}}me(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $h extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Yd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Iy(Ae.min(),i,new Nt(et),to(),We())}}class Yd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Yd(r,n,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,n,r,i){this.fe=e,this.removedTargetIds=n,this.key=r,this.ge=i}}class R4{constructor(e,n){this.targetId=e,this.pe=n}}class A4{constructor(e,n,r=Hn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class mD{constructor(){this.ye=0,this.we=vD(),this.Se=Hn.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}get current(){return this.be}get resumeToken(){return this.Se}get ve(){return this.ye!==0}get Ce(){return this.De}Fe(e){e.approximateByteSize()>0&&(this.De=!0,this.Se=e)}Me(){let e=We(),n=We(),r=We();return this.we.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ie()}}),new Yd(this.Se,this.be,e,n,r)}xe(){this.De=!1,this.we=vD()}Oe(e,n){this.De=!0,this.we=this.we.insert(e,n)}Ne(e){this.De=!0,this.we=this.we.remove(e)}Be(){this.ye+=1}Le(){this.ye-=1}ke(){this.De=!0,this.be=!0}}class oae{constructor(e){this.qe=e,this.Qe=new Map,this.Ke=to(),this.$e=_D(),this.Ue=new Nt(et)}We(e){for(const n of e.fe)e.ge&&e.ge.isFoundDocument()?this.Ge(n,e.ge):this.ze(n,e.key,e.ge);for(const n of e.removedTargetIds)this.ze(n,e.key,e.ge)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Fe(e.resumeToken);break;case 1:r.Le(),r.ve||r.xe(),r.Fe(e.resumeToken);break;case 2:r.Le(),r.ve||this.removeTarget(n);break;case 3:this.Je(n)&&(r.ke(),r.Fe(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Fe(e.resumeToken));break;default:Ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){var n,r;const i=e.targetId,s=e.pe.count,o=this.Xe(i);if(o){const u=o.target;if(nT(u))if(s===0){const l=new _e(u.path);this.ze(i,l,Un.newNoDocument(l,Ae.min()))}else Et(s===1);else{const l=this.et(i);if(l!==s){const h=this.tt(e,l);if(h.status!==0){this.Ye(i);const f=h.status===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,f)}(n=kR.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(p,g,v,E){var C,A,S,T,k,b;const F={localCacheCount:v,existenceFilterCount:E.count},V=E.unchangedNames;return V&&(F.bloomFilter={applied:p===0,hashCount:(C=V==null?void 0:V.hashCount)!==null&&C!==void 0?C:0,bitmapLength:(T=(S=(A=V==null?void 0:V.bits)===null||A===void 0?void 0:A.bitmap)===null||S===void 0?void 0:S.length)!==null&&T!==void 0?T:0,padding:(b=(k=V==null?void 0:V.bits)===null||k===void 0?void 0:k.padding)!==null&&b!==void 0?b:0},g&&(F.bloomFilter.mightContain=g)),F}(h.status,(r=h.nt)!==null&&r!==void 0?r:null,l,e.pe))}}}}tt(e,n){const{unchangedNames:r,count:i}=e.pe;if(!r||!r.bits)return{status:1};const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=r;let l,h;try{l=pu(s).toUint8Array()}catch(p){if(p instanceof e4)return lc("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw p}try{h=new bR(l,o,u)}catch(p){return lc(p instanceof $h?"BloomFilter error: ":"Applying bloom filter failed: ",p),{status:1}}const f=p=>{const g=this.qe.rt();return h.mightContain(`projects/${g.projectId}/databases/${g.database}/documents/${p}`)};return h.de===0?{status:1}:{status:i===n-this.it(e.targetId,f)?0:2,nt:f}}it(e,n){const r=this.qe.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{n(s.path.canonicalString())||(this.ze(e,s,null),i++)}),i}st(e){const n=new Map;this.Qe.forEach((s,o)=>{const u=this.Xe(o);if(u){if(s.current&&nT(u.target)){const l=new _e(u.target.path);this.Ke.get(l)!==null||this.ot(o,l)||this.ze(o,l,Un.newNoDocument(l,e))}s.Ce&&(n.set(o,s.Me()),s.xe())}});let r=We();this.$e.forEach((s,o)=>{let u=!0;o.forEachWhile(l=>{const h=this.Xe(l);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.Ke.forEach((s,o)=>o.setReadTime(e));const i=new Iy(e,n,this.Ue,this.Ke,r);return this.Ke=to(),this.$e=_D(),this.Ue=new Nt(et),i}Ge(e,n){if(!this.Je(e))return;const r=this.ot(e,n.key)?2:0;this.He(e).Oe(n.key,r),this.Ke=this.Ke.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ot(e,n)?i.Oe(n,1):i.Ne(n),this.$e=this.$e.insert(n,this._t(n).delete(e)),r&&(this.Ke=this.Ke.insert(n,r))}removeTarget(e){this.Qe.delete(e)}et(e){const n=this.He(e).Me();return this.qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Be(e){this.He(e).Be()}He(e){let n=this.Qe.get(e);return n||(n=new mD,this.Qe.set(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Wn(et),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.Qe.get(e);return n&&n.ve?null:this.qe.ut(e)}Ye(e){this.Qe.set(e,new mD),this.qe.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ot(e,n){return this.qe.getRemoteKeysForTarget(e).has(n)}}function _D(){return new Nt(_e.comparator)}function vD(){return new Nt(_e.comparator)}const aae=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),uae=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),lae=(()=>({and:"AND",or:"OR"}))();class cae{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function oT(t,e){return t.useProto3Json||yy(e)?e:{value:e}}function L_(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function P4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hae(t,e){return L_(t,e.toTimestamp())}function ss(t){return Et(!!t),Ae.fromTimestamp(function(n){const r=ca(n);return new nn(r.seconds,r.nanos)}(t))}function OR(t,e){return function(r){return new yt(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function k4(t){const e=yt.fromString(t);return Et(x4(e)),e}function aT(t,e){return OR(t.databaseId,e.path)}function jE(t,e){const n=k4(e);if(n.get(1)!==t.databaseId.projectId)throw new de(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(b4(n))}function uT(t,e){return OR(t.databaseId,e)}function fae(t){const e=k4(t);return e.length===4?yt.emptyPath():b4(e)}function lT(t){return new yt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function b4(t){return Et(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function yD(t,e,n){return{name:aT(t,e),fields:n.value.mapValue.fields}}function dae(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,f){return h.useProto3Json?(Et(f===void 0||typeof f=="string"),Hn.fromBase64String(f||"")):(Et(f===void 0||f instanceof Uint8Array),Hn.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&function(h){const f=h.code===void 0?K.UNKNOWN:C4(h.code);return new de(f,h.message||"")}(o);n=new A4(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=jE(t,r.document.name),s=ss(r.document.updateTime),o=r.document.createTime?ss(r.document.createTime):Ae.min(),u=new ei({mapValue:{fields:r.document.fields}}),l=Un.newFoundDocument(i,s,o,u),h=r.targetIds||[],f=r.removedTargetIds||[];n=new om(h,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=jE(t,r.document),s=r.readTime?ss(r.readTime):Ae.min(),o=Un.newNoDocument(i,s),u=r.removedTargetIds||[];n=new om([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=jE(t,r.document),s=r.removedTargetIds||[];n=new om([],s,i,null)}else{if(!("filter"in e))return Ie();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new nae(i,s),u=r.targetId;n=new R4(u,o)}}return n}function pae(t,e){let n;if(e instanceof Gd)n={update:yD(t,e.key,e.value)};else if(e instanceof I4)n={delete:aT(t,e.key)};else if(e instanceof Pu)n={update:yD(t,e.key,e.data),updateMask:Tae(e.fieldMask)};else{if(!(e instanceof Zoe))return Ie();n={verify:aT(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const u=o.transform;if(u instanceof x_)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof ad)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ud)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof D_)return{fieldPath:o.field.canonicalString(),increment:u.Te};throw Ie()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:hae(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ie()}(t,e.precondition)),n}function gae(t,e){return t&&t.length>0?(Et(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ss(i.updateTime):ss(s);return o.isEqual(Ae.min())&&(o=ss(s)),new Qoe(o,i.transformResults||[])}(n,e))):[]}function mae(t,e){return{documents:[uT(t,e.path)]}}function _ae(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=uT(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=uT(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return N4(Di.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(h=>function(p){return{field:il(p.field),direction:wae(p.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=oT(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function vae(t){let e=fae(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Et(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(p){const g=O4(p);return g instanceof Di&&i4(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(g=>function(E){return new of(sl(E.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(g))}(n.orderBy));let u=null;n.limit&&(u=function(p){let g;return g=typeof p=="object"?p.value:p,yy(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(p){const g=!!p.before,v=p.values||[];return new N_(v,g)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const g=!p.before,v=p.values||[];return new N_(v,g)}(n.endAt)),Foe(e,i,o,s,u,"F",l,h)}function yae(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function O4(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=sl(n.unaryFilter.field);return Gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=sl(n.unaryFilter.field);return Gt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=sl(n.unaryFilter.field);return Gt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=sl(n.unaryFilter.field);return Gt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(t):t.fieldFilter!==void 0?function(n){return Gt.create(sl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Di.create(n.compositeFilter.filters.map(r=>O4(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ie()}}(n.compositeFilter.op))}(t):Ie()}function wae(t){return aae[t]}function Eae(t){return uae[t]}function Sae(t){return lae[t]}function il(t){return{fieldPath:t.canonicalString()}}function sl(t){return Fn.fromServerFormat(t.fieldPath)}function N4(t){return t instanceof Gt?function(n){if(n.op==="=="){if(sD(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NAN"}};if(iD(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sD(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NOT_NAN"}};if(iD(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:il(n.field),op:Eae(n.op),value:n.value}}}(t):t instanceof Di?function(n){const r=n.getFilters().map(i=>N4(i));return r.length===1?r[0]:{compositeFilter:{op:Sae(n.op),filters:r}}}(t):Ie()}function Tae(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function x4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n,r,i,s=Ae.min(),o=Ae.min(),u=Hn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=l}withSequenceNumber(e){return new No(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iae{constructor(e){this.ct=e}}function Cae(t){const e=vae({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?iT(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rae{constructor(){this.sn=new Aae}addToCollectionParentIndex(e,n){return this.sn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.sn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(la.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(la.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class Aae{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Wn(yt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Wn(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e){this.Mn=e}next(){return this.Mn+=2,this.Mn}static xn(){return new dc(0)}static On(){return new dc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pae{constructor(){this.changes=new Dc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kae{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bae{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&uf(r.mutation,i,Ci.empty(),nn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,We()).next(()=>r))}getLocalViewOfDocuments(e,n,r=We()){const i=za();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Fh();return s.forEach((u,l)=>{o=o.insert(u,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=za();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,We()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,u)=>{n.set(o,u)})})}computeViews(e,n,r,i){let s=to();const o=af(),u=function(){return af()}();return n.forEach((l,h)=>{const f=r.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof Pu)?s=s.insert(h.key,h):f!==void 0?(o.set(h.key,f.mutation.getFieldMask()),uf(f.mutation,h,f.mutation.getFieldMask(),nn.now())):o.set(h.key,Ci.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((h,f)=>o.set(h,f)),n.forEach((h,f)=>{var p;return u.set(h,new kae(f,(p=o.get(h))!==null&&p!==void 0?p:null))}),u))}recalculateAndSaveOverlays(e,n){const r=af();let i=new Nt((o,u)=>o-u),s=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const u of o)u.keys().forEach(l=>{const h=n.get(l);if(h===null)return;let f=r.get(l)||Ci.empty();f=u.applyToLocalView(h,f),r.set(l,f);const p=(i.get(u.batchId)||We()).add(l);i=i.insert(u.batchId,p)})}).next(()=>{const o=[],u=i.getReverseIterator();for(;u.hasNext();){const l=u.getNext(),h=l.key,f=l.value,p=g4();f.forEach(g=>{if(!s.has(g)){const v=S4(n.get(g),r.get(g));v!==null&&p.set(g,v),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,p))}return ee.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):c4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ee.resolve(za());let u=-1,l=s;return o.next(h=>ee.forEach(h,(f,p)=>(u<p.largestBatchId&&(u=p.largestBatchId),s.get(f)?ee.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{l=l.insert(f,g)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,l,h,We())).next(f=>({batchId:u,changes:p4(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(r=>{let i=Fh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Fh();return this.indexManager.getCollectionParents(e,i).next(o=>ee.forEach(o,u=>{const l=function(f,p){return new qd(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(h=>{h.forEach((f,p)=>{s=s.insert(f,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((u,l)=>{const h=l.getKey();s.get(h)===null&&(s=s.insert(h,Un.newInvalidDocument(h)))});let o=Fh();return s.forEach((u,l)=>{const h=i.get(u);h!==void 0&&uf(h.mutation,l,Ci.empty(),nn.now()),Ey(n,l)&&(o=o.insert(u,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oae{constructor(e){this.serializer=e,this.ar=new Map,this.ur=new Map}getBundleMetadata(e,n){return ee.resolve(this.ar.get(n))}saveBundleMetadata(e,n){return this.ar.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ss(i.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.ur.get(n))}saveNamedQuery(e,n){return this.ur.set(n.name,function(i){return{name:i.name,query:Cae(i.bundledQuery),readTime:ss(i.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nae{constructor(){this.overlays=new Nt(_e.comparator),this.cr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=za();return ee.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.cr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.cr.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const i=za(),s=n.length+1,o=new _e(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const l=u.getNext().value,h=l.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Nt((h,f)=>h-f);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=s.get(h.largestBatchId);f===null&&(f=za(),s=s.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const u=za(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((h,f)=>u.set(h,f)),!(u.size()>=i)););return ee.resolve(u)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.cr.get(i.largestBatchId).delete(r.key);this.cr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new tae(n,r));let s=this.cr.get(n);s===void 0&&(s=We(),this.cr.set(n,s)),this.cr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.lr=new Wn(on.hr),this.Pr=new Wn(on.Ir)}isEmpty(){return this.lr.isEmpty()}addReference(e,n){const r=new on(e,n);this.lr=this.lr.add(r),this.Pr=this.Pr.add(r)}Tr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Er(new on(e,n))}dr(e,n){e.forEach(r=>this.removeReference(r,n))}Ar(e){const n=new _e(new yt([])),r=new on(n,e),i=new on(n,e+1),s=[];return this.Pr.forEachInRange([r,i],o=>{this.Er(o),s.push(o.key)}),s}Rr(){this.lr.forEach(e=>this.Er(e))}Er(e){this.lr=this.lr.delete(e),this.Pr=this.Pr.delete(e)}Vr(e){const n=new _e(new yt([])),r=new on(n,e),i=new on(n,e+1);let s=We();return this.Pr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new on(e,0),r=this.lr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class on{constructor(e,n){this.key=e,this.mr=n}static hr(e,n){return _e.comparator(e.key,n.key)||et(e.mr,n.mr)}static Ir(e,n){return et(e.mr,n.mr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xae{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new Wn(on.hr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new eae(s,n,r,i);this.mutationQueue.push(o);for(const u of i)this.pr=this.pr.add(new on(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ee.resolve(o)}lookupMutationBatch(e,n){return ee.resolve(this.yr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.wr(r),s=i<0?0:i;return ee.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.gr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new on(n,0),i=new on(n,Number.POSITIVE_INFINITY),s=[];return this.pr.forEachInRange([r,i],o=>{const u=this.yr(o.mr);s.push(u)}),ee.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wn(et);return n.forEach(i=>{const s=new on(i,0),o=new on(i,Number.POSITIVE_INFINITY);this.pr.forEachInRange([s,o],u=>{r=r.add(u.mr)})}),ee.resolve(this.Sr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;_e.isDocumentKey(s)||(s=s.child(""));const o=new on(new _e(s),0);let u=new Wn(et);return this.pr.forEachWhile(l=>{const h=l.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(l.mr)),!0)},o),ee.resolve(this.Sr(u))}Sr(e){const n=[];return e.forEach(r=>{const i=this.yr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Et(this.br(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.pr;return ee.forEach(n.mutations,i=>{const s=new on(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.pr=r})}Cn(e){}containsKey(e,n){const r=new on(n,0),i=this.pr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}br(e,n){return this.wr(e)}wr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}yr(e){const n=this.wr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dae{constructor(e){this.Dr=e,this.docs=function(){return new Nt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Dr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():Un.newInvalidDocument(n))}getEntries(e,n){let r=to();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Un.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=to();const o=n.path,u=new _e(o.child("")),l=this.docs.getIteratorFrom(u);for(;l.hasNext();){const{key:h,value:{document:f}}=l.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||Eoe(woe(f),r)<=0||(i.has(f.key)||Ey(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return ee.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ie()}vr(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Lae(this)}getSize(e){return ee.resolve(this.size)}}class Lae extends Pae{constructor(e){super(),this.sr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.sr.addEntry(e,i)):this.sr.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.sr.getEntry(e,n)}getAllFromCache(e,n){return this.sr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mae{constructor(e){this.persistence=e,this.Cr=new Dc(n=>CR(n),RR),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new NR,this.targetCount=0,this.Or=dc.xn()}forEachTarget(e,n){return this.Cr.forEach((r,i)=>n(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.Fr)}allocateTargetId(e){return this.highestTargetId=this.Or.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Fr&&(this.Fr=n),ee.resolve()}Ln(e){this.Cr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Or=new dc(n),this.highestTargetId=n),e.sequenceNumber>this.Fr&&(this.Fr=e.sequenceNumber)}addTargetData(e,n){return this.Ln(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Ln(n),ee.resolve()}removeTargetData(e,n){return this.Cr.delete(n.target),this.Mr.Ar(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Cr.forEach((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Cr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),ee.waitFor(s).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.Cr.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.Mr.Tr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.Mr.dr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ee.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Mr.Ar(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Mr.Vr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.Mr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uae{constructor(e,n){this.Nr={},this.overlays={},this.Br=new ER(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=e(this),this.kr=new Mae(this),this.indexManager=new Rae,this.remoteDocumentCache=function(i){return new Dae(i)}(r=>this.referenceDelegate.qr(r)),this.serializer=new Iae(n),this.Qr=new Oae(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Lr=!1,Promise.resolve()}get started(){return this.Lr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Nae,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Nr[e.toKey()];return r||(r=new xae(n,this.referenceDelegate),this.Nr[e.toKey()]=r),r}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Qr}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const i=new Fae(this.Br.next());return this.referenceDelegate.Kr(),r(i).next(s=>this.referenceDelegate.$r(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ur(e,n){return ee.or(Object.values(this.Nr).map(r=>()=>r.containsKey(e,n)))}}class Fae extends Toe{constructor(e){super(),this.currentSequenceNumber=e}}class xR{constructor(e){this.persistence=e,this.Wr=new NR,this.Gr=null}static zr(e){return new xR(e)}get jr(){if(this.Gr)return this.Gr;throw Ie()}addReference(e,n,r){return this.Wr.addReference(r,n),this.jr.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Wr.removeReference(r,n),this.jr.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.jr.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Wr.Ar(n.targetId).forEach(i=>this.jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Kr(){this.Gr=new Set}$r(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.jr,r=>{const i=_e.fromPath(r);return this.Hr(e,i).next(s=>{s||n.removeEntry(i,Ae.min())})}).next(()=>(this.Gr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hr(e,n).next(r=>{r?this.jr.delete(n.toString()):this.jr.add(n.toString())})}qr(e){return 0}Hr(e,n){return ee.or([()=>ee.resolve(this.Wr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ur(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Li=r,this.ki=i}static qi(e,n){let r=We(),i=We();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new DR(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ae{constructor(){this.Qi=!1}initialize(e,n){this.Ki=e,this.indexManager=n,this.Qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.$i(e,n).next(s=>s||this.Ui(e,n,i,r)).next(s=>s||this.Wi(e,n))}$i(e,n){if(lD(n))return ee.resolve(null);let r=eo(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=iT(n,null,"F"),r=eo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=We(...s);return this.Ki.getDocuments(e,o).next(u=>this.indexManager.getMinOffset(e,r).next(l=>{const h=this.Gi(n,u);return this.zi(n,h,o,l.readTime)?this.$i(e,iT(n,null,"F")):this.ji(e,h,n,l)}))})))}Ui(e,n,r,i){return lD(n)||i.isEqual(Ae.min())?this.Wi(e,n):this.Ki.getDocuments(e,r).next(s=>{const o=this.Gi(n,s);return this.zi(n,o,r,i)?this.Wi(e,n):(Zx()<=qe.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),sT(n)),this.ji(e,o,n,yoe(i,-1)))})}Gi(e,n){let r=new Wn(f4(e));return n.forEach((i,s)=>{Ey(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Wi(e,n){return Zx()<=qe.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",sT(n)),this.Ki.getDocumentsMatchingQuery(e,n,la.min())}ji(e,n,r,i){return this.Ki.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vae{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Nt(et),this.Yi=new Dc(s=>CR(s),RR),this.Zi=new Map,this.Xi=e.getRemoteDocumentCache(),this.kr=e.getTargetCache(),this.Qr=e.getBundleCache(),this.es(r)}es(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bae(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function Wae(t,e,n,r){return new Vae(t,e,n,r)}async function D4(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.es(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],u=[];let l=We();for(const h of i){o.push(h.batchId);for(const f of h.mutations)l=l.add(f.key)}for(const h of s){u.push(h.batchId);for(const f of h.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(h=>({ts:h,removedBatchIds:o,addedBatchIds:u}))})})}function jae(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Xi.newChangeBuffer({trackRemovals:!0});return function(u,l,h,f){const p=h.batch,g=p.keys();let v=ee.resolve();return g.forEach(E=>{v=v.next(()=>f.getEntry(l,E)).next(C=>{const A=h.docVersions.get(E);Et(A!==null),C.version.compareTo(A)<0&&(p.applyToRemoteDocument(C,h),C.isValidDocument()&&(C.setReadTime(h.commitVersion),f.addEntry(C)))})}),v.next(()=>u.mutationQueue.removeMutationBatch(l,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let l=We();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(l=l.add(u.batch.mutations[h].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function L4(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.kr.getLastRemoteSnapshotVersion(n))}function Bae(t,e){const n=ke(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const u=[];e.targetChanges.forEach((f,p)=>{const g=i.get(p);if(!g)return;u.push(n.kr.removeMatchingKeys(s,f.removedDocuments,p).next(()=>n.kr.addMatchingKeys(s,f.addedDocuments,p)));let v=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(Hn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,r)),i=i.insert(p,v),function(C,A,S){return C.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(g,v,f)&&u.push(n.kr.updateTargetData(s,v))});let l=to(),h=We();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),u.push(zae(s,o,e.documentUpdates).next(f=>{l=f.ns,h=f.rs})),!r.isEqual(Ae.min())){const f=n.kr.getLastRemoteSnapshotVersion(s).next(p=>n.kr.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(f)}return ee.waitFor(u).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,h)).next(()=>l)}).then(s=>(n.Ji=i,s))}function zae(t,e,n){let r=We(),i=We();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=to();return n.forEach((u,l)=>{const h=s.get(u);l.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),l.isNoDocument()&&l.version.isEqual(Ae.min())?(e.removeEntry(u,l.readTime),o=o.insert(u,l)):!h.isValidDocument()||l.version.compareTo(h.version)>0||l.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(l),o=o.insert(u,l)):ge("LocalStore","Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",l.version)}),{ns:o,rs:i}})}function Hae(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qae(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.kr.getTargetData(r,e).next(s=>s?(i=s,ee.resolve(i)):n.kr.allocateTargetId(r).next(o=>(i=new No(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function cT(t,e,n){const r=ke(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Hd(o))throw o;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function wD(t,e,n){const r=ke(t);let i=Ae.min(),s=We();return r.persistence.runTransaction("Execute query","readonly",o=>function(l,h,f){const p=ke(l),g=p.Yi.get(f);return g!==void 0?ee.resolve(p.Ji.get(g)):p.kr.getTargetData(h,f)}(r,o,eo(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.kr.getMatchingKeysForTargetId(o,u.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:Ae.min(),n?s:We())).next(u=>(Gae(r,$oe(e),u),{documents:u,ss:s})))}function Gae(t,e,n){let r=t.Zi.get(e)||Ae.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Zi.set(e,r)}class ED{constructor(){this.activeTargetIds=Hoe()}hs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ps(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ls(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Yae{constructor(){this.Hs=new ED,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hs.hs(e),this.Js[e]||"not-current"}updateQueryState(e,n,r){this.Js[e]=n}removeLocalQueryTarget(e){this.Hs.Ps(e)}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){delete this.Js[e]}getAllActiveQueryTargets(){return this.Hs.activeTargetIds}isActiveQueryTarget(e){return this.Hs.activeTargetIds.has(e)}start(){return this.Hs=new ED,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kae{Ys(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.Zs=()=>this.Xs(),this.eo=()=>this.no(),this.ro=[],this.io()}Ys(e){this.ro.push(e)}shutdown(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}Xs(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ro)e(0)}no(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ro)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sg=null;function BE(){return Sg===null?Sg=function(){return 268435456+Math.round(2147483648*Math.random())}():Sg++,"0x"+Sg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qae={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xae{constructor(e){this.so=e.so,this.oo=e.oo}_o(e){this.ao=e}uo(e){this.co=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.so(e)}ho(){this.ao()}Po(e){this.co(e)}Io(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="WebChannelConnection";class Jae extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http";this.To=r+"://"+n.host,this.Eo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get Ao(){return!1}Ro(n,r,i,s,o){const u=BE(),l=this.Vo(n,r);ge("RestConnection",`Sending RPC '${n}' ${u}:`,l,i);const h={};return this.mo(h,s,o),this.fo(n,l,h,i).then(f=>(ge("RestConnection",`Received RPC '${n}' ${u}: `,f),f),f=>{throw lc("RestConnection",`RPC '${n}' ${u} failed with error: `,f,"url: ",l,"request:",i),f})}po(n,r,i,s,o,u){return this.Ro(n,r,i,s,o)}mo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Nc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Vo(n,r){const i=Qae[n];return`${this.To}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}fo(e,n,r,i){const s=BE();return new Promise((o,u)=>{const l=new uoe;l.setWithCredentials(!0),l.listenOnce(soe.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case WE.NO_ERROR:const f=l.getResponseJson();ge(Nn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case WE.TIMEOUT:ge(Nn,`RPC '${e}' ${s} timed out`),u(new de(K.DEADLINE_EXCEEDED,"Request time out"));break;case WE.HTTP_ERROR:const p=l.getStatus();if(ge(Nn,`RPC '${e}' ${s} failed with status:`,p,"response text:",l.getResponseText()),p>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g==null?void 0:g.error;if(v&&v.status&&v.message){const E=function(A){const S=A.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(S)>=0?S:K.UNKNOWN}(v.status);u(new de(E,v.message))}else u(new de(K.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new de(K.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{ge(Nn,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);ge(Nn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}yo(e,n,r){const i=BE(),s=[this.To,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=roe(),u=ioe(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(l.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(l.xmlHttpFactory=new aoe({})),this.mo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=s.join("");ge(Nn,`Creating RPC '${e}' stream ${i}: ${f}`,l);const p=o.createWebChannel(f,l);let g=!1,v=!1;const E=new Xae({so:A=>{v?ge(Nn,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(g||(ge(Nn,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),ge(Nn,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},oo:()=>p.close()}),C=(A,S,T)=>{A.listen(S,k=>{try{T(k)}catch(b){setTimeout(()=>{throw b},0)}})};return C(p,vg.EventType.OPEN,()=>{v||ge(Nn,`RPC '${e}' stream ${i} transport opened.`)}),C(p,vg.EventType.CLOSE,()=>{v||(v=!0,ge(Nn,`RPC '${e}' stream ${i} transport closed`),E.Po())}),C(p,vg.EventType.ERROR,A=>{v||(v=!0,lc(Nn,`RPC '${e}' stream ${i} transport errored:`,A),E.Po(new de(K.UNAVAILABLE,"The operation could not be completed")))}),C(p,vg.EventType.MESSAGE,A=>{var S;if(!v){const T=A.data[0];Et(!!T);const k=T,b=k.error||((S=k[0])===null||S===void 0?void 0:S.error);if(b){ge(Nn,`RPC '${e}' stream ${i} received error:`,b);const F=b.status;let V=function(ie){const re=zt[ie];if(re!==void 0)return C4(re)}(F),W=b.message;V===void 0&&(V=K.INTERNAL,W="Unknown error status: "+F+" with message "+b.message),v=!0,E.Po(new de(V,W)),p.close()}else ge(Nn,`RPC '${e}' stream ${i} received:`,T),E.Io(T)}}),C(u,ooe.STAT_EVENT,A=>{A.stat===Xx.PROXY?ge(Nn,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Xx.NOPROXY&&ge(Nn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.ho()},0),E}}function zE(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(t){return new cae(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.wo=r,this.So=i,this.bo=s,this.Do=0,this.vo=null,this.Co=Date.now(),this.reset()}reset(){this.Do=0}Fo(){this.Do=this.bo}Mo(e){this.cancel();const n=Math.floor(this.Do+this.xo()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Do} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.vo=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.Do*=this.So,this.Do<this.wo&&(this.Do=this.wo),this.Do>this.bo&&(this.Do=this.bo)}Oo(){this.vo!==null&&(this.vo.skipDelay(),this.vo=null)}cancel(){this.vo!==null&&(this.vo.cancel(),this.vo=null)}xo(){return(Math.random()-.5)*this.Do}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,n,r,i,s,o,u,l){this.ii=e,this.No=r,this.Bo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=l,this.state=0,this.Lo=0,this.ko=null,this.qo=null,this.stream=null,this.Qo=new M4(e,n)}Ko(){return this.state===1||this.state===5||this.$o()}$o(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Uo()}async stop(){this.Ko()&&await this.close(0)}Wo(){this.state=0,this.Qo.reset()}Go(){this.$o()&&this.ko===null&&(this.ko=this.ii.enqueueAfterDelay(this.No,6e4,()=>this.zo()))}jo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.$o())return this.close(0)}Ho(){this.ko&&(this.ko.cancel(),this.ko=null)}Jo(){this.qo&&(this.qo.cancel(),this.qo=null)}async close(e,n){this.Ho(),this.Jo(),this.Qo.cancel(),this.Lo++,e!==4?this.Qo.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(Zs(n.toString()),Zs("Using maximum backoff delay to prevent overloading the backend."),this.Qo.Fo()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.uo(n)}Yo(){}auth(){this.state=1;const e=this.Zo(this.Lo),n=this.Lo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Lo===n&&this.Xo(r,i)},r=>{e(()=>{const i=new de(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.e_(i)})})}Xo(e,n){const r=this.Zo(this.Lo);this.stream=this.t_(e,n),this.stream._o(()=>{r(()=>(this.state=2,this.qo=this.ii.enqueueAfterDelay(this.Bo,1e4,()=>(this.$o()&&(this.state=3),Promise.resolve())),this.listener._o()))}),this.stream.uo(i=>{r(()=>this.e_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Uo(){this.state=5,this.Qo.Mo(async()=>{this.state=0,this.start()})}e_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Zo(e){return n=>{this.ii.enqueueAndForget(()=>this.Lo===e?n():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Zae extends U4{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}t_(e,n){return this.connection.yo("Listen",e,n)}onMessage(e){this.Qo.reset();const n=dae(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ae.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ae.min():o.readTime?ss(o.readTime):Ae.min()}(e);return this.listener.n_(n,r)}r_(e){const n={};n.database=lT(this.serializer),n.addTarget=function(s,o){let u;const l=o.target;if(u=nT(l)?{documents:mae(s,l)}:{query:_ae(s,l)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=P4(s,o.resumeToken);const h=oT(s,o.expectedCount);h!==null&&(u.expectedCount=h)}else if(o.snapshotVersion.compareTo(Ae.min())>0){u.readTime=L_(s,o.snapshotVersion.toTimestamp());const h=oT(s,o.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=yae(this.serializer,e);r&&(n.labels=r),this.jo(n)}i_(e){const n={};n.database=lT(this.serializer),n.removeTarget=e,this.jo(n)}}class eue extends U4{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.s_=!1}get o_(){return this.s_}start(){this.s_=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.s_&&this.__([])}t_(e,n){return this.connection.yo("Write",e,n)}onMessage(e){if(Et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.s_){this.Qo.reset();const n=gae(e.writeResults,e.commitTime),r=ss(e.commitTime);return this.listener.a_(r,n)}return Et(!e.writeResults||e.writeResults.length===0),this.s_=!0,this.listener.u_()}c_(){const e={};e.database=lT(this.serializer),this.jo(e)}__(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>pae(this.serializer,r))};this.jo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tue extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.l_=!1}h_(){if(this.l_)throw new de(K.FAILED_PRECONDITION,"The client has already been terminated.")}Ro(e,n,r){return this.h_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Ro(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new de(K.UNKNOWN,i.toString())})}po(e,n,r,i){return this.h_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.po(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new de(K.UNKNOWN,s.toString())})}terminate(){this.l_=!0}}class nue{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.I_=0,this.T_=null,this.E_=!0}d_(){this.I_===0&&(this.A_("Unknown"),this.T_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.T_=null,this.R_("Backend didn't respond within 10 seconds."),this.A_("Offline"),Promise.resolve())))}V_(e){this.state==="Online"?this.A_("Unknown"):(this.I_++,this.I_>=1&&(this.m_(),this.R_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.A_("Offline")))}set(e){this.m_(),this.I_=0,e==="Online"&&(this.E_=!1),this.A_(e)}A_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}R_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.E_?(Zs(n),this.E_=!1):ge("OnlineStateTracker",n)}m_(){this.T_!==null&&(this.T_.cancel(),this.T_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rue{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.f_=[],this.g_=new Map,this.p_=new Set,this.y_=[],this.w_=s,this.w_.Ys(o=>{r.enqueueAndForget(async()=>{ku(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(l){const h=ke(l);h.p_.add(4),await Kd(h),h.S_.set("Unknown"),h.p_.delete(4),await Ry(h)}(this))})}),this.S_=new nue(r,i)}}async function Ry(t){if(ku(t))for(const e of t.y_)await e(!0)}async function Kd(t){for(const e of t.y_)await e(!1)}function F4(t,e){const n=ke(t);n.g_.has(e.targetId)||(n.g_.set(e.targetId,e),UR(n)?MR(n):Lc(n).$o()&&LR(n,e))}function $4(t,e){const n=ke(t),r=Lc(n);n.g_.delete(e),r.$o()&&V4(n,e),n.g_.size===0&&(r.$o()?r.Go():ku(n)&&n.S_.set("Unknown"))}function LR(t,e){if(t.b_.Be(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lc(t).r_(e)}function V4(t,e){t.b_.Be(e),Lc(t).i_(e)}function MR(t){t.b_=new oae({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.g_.get(e)||null,rt:()=>t.datastore.serializer.databaseId}),Lc(t).start(),t.S_.d_()}function UR(t){return ku(t)&&!Lc(t).Ko()&&t.g_.size>0}function ku(t){return ke(t).p_.size===0}function W4(t){t.b_=void 0}async function iue(t){t.g_.forEach((e,n)=>{LR(t,e)})}async function sue(t,e){W4(t),UR(t)?(t.S_.V_(e),MR(t)):t.S_.set("Unknown")}async function oue(t,e,n){if(t.S_.set("Online"),e instanceof A4&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const u of s.targetIds)i.g_.has(u)&&(await i.remoteSyncer.rejectListen(u,o),i.g_.delete(u),i.b_.removeTarget(u))}(t,e)}catch(r){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await M_(t,r)}else if(e instanceof om?t.b_.We(e):e instanceof R4?t.b_.Ze(e):t.b_.je(e),!n.isEqual(Ae.min()))try{const r=await L4(t.localStore);n.compareTo(r)>=0&&await function(s,o){const u=s.b_.st(o);return u.targetChanges.forEach((l,h)=>{if(l.resumeToken.approximateByteSize()>0){const f=s.g_.get(h);f&&s.g_.set(h,f.withResumeToken(l.resumeToken,o))}}),u.targetMismatches.forEach((l,h)=>{const f=s.g_.get(l);if(!f)return;s.g_.set(l,f.withResumeToken(Hn.EMPTY_BYTE_STRING,f.snapshotVersion)),V4(s,l);const p=new No(f.target,l,h,f.sequenceNumber);LR(s,p)}),s.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){ge("RemoteStore","Failed to raise snapshot:",r),await M_(t,r)}}async function M_(t,e,n){if(!Hd(e))throw e;t.p_.add(1),await Kd(t),t.S_.set("Offline"),n||(n=()=>L4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await n(),t.p_.delete(1),await Ry(t)})}function j4(t,e){return e().catch(n=>M_(t,n,e))}async function Ay(t){const e=ke(t),n=ha(e);let r=e.f_.length>0?e.f_[e.f_.length-1].batchId:-1;for(;aue(e);)try{const i=await Hae(e.localStore,r);if(i===null){e.f_.length===0&&n.Go();break}r=i.batchId,uue(e,i)}catch(i){await M_(e,i)}B4(e)&&z4(e)}function aue(t){return ku(t)&&t.f_.length<10}function uue(t,e){t.f_.push(e);const n=ha(t);n.$o()&&n.o_&&n.__(e.mutations)}function B4(t){return ku(t)&&!ha(t).Ko()&&t.f_.length>0}function z4(t){ha(t).start()}async function lue(t){ha(t).c_()}async function cue(t){const e=ha(t);for(const n of t.f_)e.__(n.mutations)}async function hue(t,e,n){const r=t.f_.shift(),i=PR.from(r,e,n);await j4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ay(t)}async function fue(t,e){e&&ha(t).o_&&await async function(r,i){if(function(o){return rae(o)&&o!==K.ABORTED}(i.code)){const s=r.f_.shift();ha(r).Wo(),await j4(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ay(r)}}(t,e),B4(t)&&z4(t)}async function TD(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const r=ku(n);n.p_.add(3),await Kd(n),r&&n.S_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.p_.delete(3),await Ry(n)}async function due(t,e){const n=ke(t);e?(n.p_.delete(2),await Ry(n)):e||(n.p_.add(2),await Kd(n),n.S_.set("Unknown"))}function Lc(t){return t.D_||(t.D_=function(n,r,i){const s=ke(n);return s.h_(),new Zae(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{_o:iue.bind(null,t),uo:sue.bind(null,t),n_:oue.bind(null,t)}),t.y_.push(async e=>{e?(t.D_.Wo(),UR(t)?MR(t):t.S_.set("Unknown")):(await t.D_.stop(),W4(t))})),t.D_}function ha(t){return t.v_||(t.v_=function(n,r,i){const s=ke(n);return s.h_(),new eue(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{_o:lue.bind(null,t),uo:fue.bind(null,t),u_:cue.bind(null,t),a_:hue.bind(null,t)}),t.y_.push(async e=>{e?(t.v_.Wo(),await Ay(t)):(await t.v_.stop(),t.f_.length>0&&(ge("RemoteStore",`Stopping write stream with ${t.f_.length} pending writes`),t.f_=[]))})),t.v_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Xo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,u=new FR(e,n,o,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $R(t,e){if(Zs("AsyncQueue",`${e}: ${t}`),Hd(t))return new de(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=Fh(),this.sortedSet=new Nt(this.comparator)}static emptySet(e){return new Wl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Wl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this.C_=new Nt(_e.comparator)}track(e){const n=e.doc.key,r=this.C_.get(n);r?e.type!==0&&r.type===3?this.C_=this.C_.insert(n,e):e.type===3&&r.type!==1?this.C_=this.C_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.C_=this.C_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.C_=this.C_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.C_=this.C_.remove(n):e.type===1&&r.type===2?this.C_=this.C_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.C_=this.C_.insert(n,{type:2,doc:e.doc}):Ie():this.C_=this.C_.insert(n,e)}F_(){const e=[];return this.C_.inorderTraversal((n,r)=>{e.push(r)}),e}}class pc{constructor(e,n,r,i,s,o,u,l,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=l,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(u=>{o.push({type:0,doc:u})}),new pc(e,n,Wl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pue{constructor(){this.M_=void 0,this.listeners=[]}}class gue{constructor(){this.queries=new Dc(e=>h4(e),wy),this.onlineState="Unknown",this.x_=new Set}}async function mue(t,e){const n=ke(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new pue),i)try{s.M_=await n.onListen(r)}catch(o){const u=$R(o,`Initialization of query '${sT(e.query)}' failed`);return void e.onError(u)}n.queries.set(r,s),s.listeners.push(e),e.O_(n.onlineState),s.M_&&e.N_(s.M_)&&VR(n)}async function _ue(t,e){const n=ke(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function vue(t,e){const n=ke(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const u of o.listeners)u.N_(i)&&(r=!0);o.M_=i}}r&&VR(n)}function yue(t,e,n){const r=ke(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function VR(t){t.x_.forEach(e=>{e.next()})}class wue{constructor(e,n,r){this.query=e,this.B_=n,this.L_=!1,this.k_=null,this.onlineState="Unknown",this.options=r||{}}N_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new pc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.L_?this.q_(e)&&(this.B_.next(e),n=!0):this.Q_(e,this.onlineState)&&(this.K_(e),n=!0),this.k_=e,n}onError(e){this.B_.error(e)}O_(e){this.onlineState=e;let n=!1;return this.k_&&!this.L_&&this.Q_(this.k_,e)&&(this.K_(this.k_),n=!0),n}Q_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.U_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}q_(e){if(e.docChanges.length>0)return!0;const n=this.k_&&this.k_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}K_(e){e=pc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.L_=!0,this.B_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e){this.key=e}}class q4{constructor(e){this.key=e}}class Eue{constructor(e,n){this.query=e,this.Z_=n,this.X_=null,this.hasCachedResults=!1,this.current=!1,this.ea=We(),this.mutatedKeys=We(),this.ta=f4(e),this.na=new Wl(this.ta)}get ra(){return this.Z_}ia(e,n){const r=n?n.sa:new ID,i=n?n.na:this.na;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,u=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{const g=i.get(f),v=Ey(this.query,p)?p:null,E=!!g&&this.mutatedKeys.has(g.key),C=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let A=!1;g&&v?g.data.isEqual(v.data)?E!==C&&(r.track({type:3,doc:v}),A=!0):this.oa(g,v)||(r.track({type:2,doc:v}),A=!0,(l&&this.ta(v,l)>0||h&&this.ta(v,h)<0)&&(u=!0)):!g&&v?(r.track({type:0,doc:v}),A=!0):g&&!v&&(r.track({type:1,doc:g}),A=!0,(l||h)&&(u=!0)),A&&(v?(o=o.add(v),s=C?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{na:o,sa:r,zi:u,mutatedKeys:s}}oa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.na;this.na=e.na,this.mutatedKeys=e.mutatedKeys;const s=e.sa.F_();s.sort((h,f)=>function(g,v){const E=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return E(g)-E(v)}(h.type,f.type)||this.ta(h.doc,f.doc)),this._a(r);const o=n?this.aa():[],u=this.ea.size===0&&this.current?1:0,l=u!==this.X_;return this.X_=u,s.length!==0||l?{snapshot:new pc(this.query,e.na,i,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ua:o}:{ua:o}}O_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({na:this.na,sa:new ID,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ua:[]}}ca(e){return!this.Z_.has(e)&&!!this.na.has(e)&&!this.na.get(e).hasLocalMutations}_a(e){e&&(e.addedDocuments.forEach(n=>this.Z_=this.Z_.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Z_=this.Z_.delete(n)),this.current=e.current)}aa(){if(!this.current)return[];const e=this.ea;this.ea=We(),this.na.forEach(r=>{this.ca(r.key)&&(this.ea=this.ea.add(r.key))});const n=[];return e.forEach(r=>{this.ea.has(r)||n.push(new q4(r))}),this.ea.forEach(r=>{e.has(r)||n.push(new H4(r))}),n}la(e){this.Z_=e.ss,this.ea=We();const n=this.ia(e.documents);return this.applyChanges(n,!0)}ha(){return pc.fromInitialDocuments(this.query,this.na,this.mutatedKeys,this.X_===0,this.hasCachedResults)}}class Sue{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Tue{constructor(e){this.key=e,this.Pa=!1}}class Iue{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ia={},this.Ta=new Dc(u=>h4(u),wy),this.Ea=new Map,this.da=new Set,this.Aa=new Nt(_e.comparator),this.Ra=new Map,this.Va=new NR,this.ma={},this.fa=new Map,this.ga=dc.On(),this.onlineState="Unknown",this.pa=void 0}get isPrimaryClient(){return this.pa===!0}}async function Cue(t,e){const n=Lue(t);let r,i;const s=n.Ta.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ha();else{const o=await qae(n.localStore,eo(e)),u=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await Rue(n,e,r,u==="current",o.resumeToken),n.isPrimaryClient&&F4(n.remoteStore,o)}return i}async function Rue(t,e,n,r,i){t.ya=(p,g,v)=>async function(C,A,S,T){let k=A.view.ia(S);k.zi&&(k=await wD(C.localStore,A.query,!1).then(({documents:V})=>A.view.ia(V,k)));const b=T&&T.targetChanges.get(A.targetId),F=A.view.applyChanges(k,C.isPrimaryClient,b);return RD(C,A.targetId,F.ua),F.snapshot}(t,p,g,v);const s=await wD(t.localStore,e,!0),o=new Eue(e,s.ss),u=o.ia(s.documents),l=Yd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(u,t.isPrimaryClient,l);RD(t,n,h.ua);const f=new Sue(e,n,o);return t.Ta.set(e,f),t.Ea.has(n)?t.Ea.get(n).push(e):t.Ea.set(n,[e]),h.snapshot}async function Aue(t,e){const n=ke(t),r=n.Ta.get(e),i=n.Ea.get(r.targetId);if(i.length>1)return n.Ea.set(r.targetId,i.filter(s=>!wy(s,e))),void n.Ta.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await cT(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),$4(n.remoteStore,r.targetId),hT(n,r.targetId)}).catch(zd)):(hT(n,r.targetId),await cT(n.localStore,r.targetId,!0))}async function Pue(t,e,n){const r=Mue(t);try{const i=await function(o,u){const l=ke(o),h=nn.now(),f=u.reduce((v,E)=>v.add(E.key),We());let p,g;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let E=to(),C=We();return l.Xi.getEntries(v,f).next(A=>{E=A,E.forEach((S,T)=>{T.isValidDocument()||(C=C.add(S))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,E)).next(A=>{p=A;const S=[];for(const T of u){const k=Joe(T,p.get(T.key).overlayedDocument);k!=null&&S.push(new Pu(T.key,k,t4(k.value.mapValue),js.exists(!0)))}return l.mutationQueue.addMutationBatch(v,h,S,u)}).next(A=>{g=A;const S=A.applyToLocalDocumentSet(p,C);return l.documentOverlayCache.saveOverlays(v,A.batchId,S)})}).then(()=>({batchId:g.batchId,changes:p4(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,u,l){let h=o.ma[o.currentUser.toKey()];h||(h=new Nt(et)),h=h.insert(u,l),o.ma[o.currentUser.toKey()]=h}(r,i.batchId,n),await Qd(r,i.changes),await Ay(r.remoteStore)}catch(i){const s=$R(i,"Failed to persist write");n.reject(s)}}async function G4(t,e){const n=ke(t);try{const r=await Bae(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ra.get(s);o&&(Et(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Pa=!0:i.modifiedDocuments.size>0?Et(o.Pa):i.removedDocuments.size>0&&(Et(o.Pa),o.Pa=!1))}),await Qd(n,r,e)}catch(r){await zd(r)}}function CD(t,e,n){const r=ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Ta.forEach((s,o)=>{const u=o.view.O_(e);u.snapshot&&i.push(u.snapshot)}),function(o,u){const l=ke(o);l.onlineState=u;let h=!1;l.queries.forEach((f,p)=>{for(const g of p.listeners)g.O_(u)&&(h=!0)}),h&&VR(l)}(r.eventManager,e),i.length&&r.Ia.n_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kue(t,e,n){const r=ke(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ra.get(e),s=i&&i.key;if(s){let o=new Nt(_e.comparator);o=o.insert(s,Un.newNoDocument(s,Ae.min()));const u=We().add(s),l=new Iy(Ae.min(),new Map,new Nt(et),o,u);await G4(r,l),r.Aa=r.Aa.remove(s),r.Ra.delete(e),WR(r)}else await cT(r.localStore,e,!1).then(()=>hT(r,e,n)).catch(zd)}async function bue(t,e){const n=ke(t),r=e.batch.batchId;try{const i=await jae(n.localStore,e);K4(n,r,null),Y4(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qd(n,i)}catch(i){await zd(i)}}async function Oue(t,e,n){const r=ke(t);try{const i=await function(o,u){const l=ke(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return l.mutationQueue.lookupMutationBatch(h,u).next(p=>(Et(p!==null),f=p.keys(),l.mutationQueue.removeMutationBatch(h,p))).next(()=>l.mutationQueue.performConsistencyCheck(h)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(h,f,u)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>l.localDocuments.getDocuments(h,f))})}(r.localStore,e);K4(r,e,n),Y4(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Qd(r,i)}catch(i){await zd(i)}}function Y4(t,e){(t.fa.get(e)||[]).forEach(n=>{n.resolve()}),t.fa.delete(e)}function K4(t,e,n){const r=ke(t);let i=r.ma[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ma[r.currentUser.toKey()]=i}}function hT(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ea.get(e))t.Ta.delete(r),n&&t.Ia.wa(r,n);t.Ea.delete(e),t.isPrimaryClient&&t.Va.Ar(e).forEach(r=>{t.Va.containsKey(r)||Q4(t,r)})}function Q4(t,e){t.da.delete(e.path.canonicalString());const n=t.Aa.get(e);n!==null&&($4(t.remoteStore,n),t.Aa=t.Aa.remove(e),t.Ra.delete(n),WR(t))}function RD(t,e,n){for(const r of n)r instanceof H4?(t.Va.addReference(r.key,e),Nue(t,r)):r instanceof q4?(ge("SyncEngine","Document no longer in limbo: "+r.key),t.Va.removeReference(r.key,e),t.Va.containsKey(r.key)||Q4(t,r.key)):Ie()}function Nue(t,e){const n=e.key,r=n.path.canonicalString();t.Aa.get(n)||t.da.has(r)||(ge("SyncEngine","New document in limbo: "+n),t.da.add(r),WR(t))}function WR(t){for(;t.da.size>0&&t.Aa.size<t.maxConcurrentLimboResolutions;){const e=t.da.values().next().value;t.da.delete(e);const n=new _e(yt.fromString(e)),r=t.ga.next();t.Ra.set(r,new Tue(n)),t.Aa=t.Aa.insert(n,r),F4(t.remoteStore,new No(eo(u4(n.path)),r,"TargetPurposeLimboResolution",ER.ae))}}async function Qd(t,e,n){const r=ke(t),i=[],s=[],o=[];r.Ta.isEmpty()||(r.Ta.forEach((u,l)=>{o.push(r.ya(l,e,n).then(h=>{if((h||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,h!=null&&h.fromCache?"not-current":"current"),h){i.push(h);const f=DR.qi(l.targetId,h);s.push(f)}}))}),await Promise.all(o),r.Ia.n_(i),await async function(l,h){const f=ke(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>ee.forEach(h,g=>ee.forEach(g.Li,v=>f.persistence.referenceDelegate.addReference(p,g.targetId,v)).next(()=>ee.forEach(g.ki,v=>f.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))}catch(p){if(!Hd(p))throw p;ge("LocalStore","Failed to update sequence numbers: "+p)}for(const p of h){const g=p.targetId;if(!p.fromCache){const v=f.Ji.get(g),E=v.snapshotVersion,C=v.withLastLimboFreeSnapshotVersion(E);f.Ji=f.Ji.insert(g,C)}}}(r.localStore,s))}async function xue(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const r=await D4(n.localStore,e);n.currentUser=e,function(s,o){s.fa.forEach(u=>{u.forEach(l=>{l.reject(new de(K.CANCELLED,o))})}),s.fa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Qd(n,r.ts)}}function Due(t,e){const n=ke(t),r=n.Ra.get(e);if(r&&r.Pa)return We().add(r.key);{let i=We();const s=n.Ea.get(e);if(!s)return i;for(const o of s){const u=n.Ta.get(o);i=i.unionWith(u.view.ra)}return i}}function Lue(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=G4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Due.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kue.bind(null,e),e.Ia.n_=vue.bind(null,e.eventManager),e.Ia.wa=yue.bind(null,e.eventManager),e}function Mue(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bue.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Oue.bind(null,e),e}class AD{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Cy(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Wae(this.persistence,new $ae,e.initialUser,this.serializer)}createPersistence(e){return new Uae(xR.zr,this.serializer)}createSharedClientState(e){return new Yae}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Uue{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>CD(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xue.bind(null,this.syncEngine),await due(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gue}()}createDatastore(e){const n=Cy(e.databaseInfo.databaseId),r=function(s){return new Jae(s)}(e.databaseInfo);return function(s,o,u,l){return new tue(s,o,u,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,u){return new rue(r,i,s,o,u)}(this.localStore,this.datastore,e.asyncQueue,n=>CD(this.syncEngine,n,0),function(){return SD.v()?new SD:new Kae}())}createSyncEngine(e,n){return function(i,s,o,u,l,h,f){const p=new Iue(i,s,o,u,l,h);return f&&(p.pa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ke(n);ge("RemoteStore","RemoteStore shutting down."),r.p_.add(5),await Kd(r),r.w_.shutdown(),r.S_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fue{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Da(this.observer.next,e)}error(e){this.observer.error?this.Da(this.observer.error,e):Zs("Uncaught Error in snapshot listener:",e.toString())}va(){this.muted=!0}Da(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ue{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ln.UNAUTHENTICATED,this.clientId=JV.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ge("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ge("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new de(K.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$R(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function HE(t,e){t.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await D4(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function PD(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Wue(t);ge("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>TD(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>TD(e.remoteStore,s)),t._onlineComponents=e}function Vue(t){return t.name==="FirebaseError"?t.code===K.FAILED_PRECONDITION||t.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Wue(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await HE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Vue(n))throw n;lc("Error using user provided cache. Falling back to memory cache: "+n),await HE(t,new AD)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await HE(t,new AD);return t._offlineComponents}async function X4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await PD(t,t._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await PD(t,new Uue))),t._onlineComponents}function jue(t){return X4(t).then(e=>e.syncEngine)}async function Bue(t){const e=await X4(t),n=e.eventManager;return n.onListen=Cue.bind(null,e.syncEngine),n.onUnlisten=Aue.bind(null,e.syncEngine),n}function zue(t,e,n={}){const r=new Xo;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,u,l,h){const f=new Fue({next:g=>{o.enqueueAndForget(()=>_ue(s,p)),g.fromCache&&l.source==="server"?h.reject(new de(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),p=new wue(u,f,{includeMetadataChanges:!0,U_:!0});return mue(s,p)}(await Bue(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(t,e,n){if(!n)throw new de(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Hue(t,e,n,r){if(e===!0&&r===!0)throw new de(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function bD(t){if(!_e.isDocumentKey(t))throw new de(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function OD(t){if(_e.isDocumentKey(t))throw new de(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Py(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie()}function ld(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Py(t);throw new de(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new de(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Hue("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=J4((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new de(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new de(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new de(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ky{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ND({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new de(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new de(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ND(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new coe;switch(r.type){case"firstParty":return new poe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=kD.get(n);r&&(ge("ComponentProvider","Removing Datastore"),kD.delete(n),r.terminate())}(this),Promise.resolve()}}function que(t,e,n,r={}){var i;const s=(t=ld(t,ky))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&lc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let u,l;if(typeof r.mockUserToken=="string")u=r.mockUserToken,l=Ln.MOCK_USER;else{u=sC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new de(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ln(h)}t._authCredentials=new hoe(new XV(u,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mc(this.firestore,e,this._query)}}class Nr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nr(this.firestore,e,this._key)}}class Jo extends Mc{constructor(e,n,r){super(e,n,u4(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nr(this.firestore,null,new _e(e))}withConverter(e){return new Jo(this.firestore,e,this._path)}}function Gue(t,e,...n){if(t=ct(t),Z4("collection","path",e),t instanceof ky){const r=yt.fromString(e,...n);return OD(r),new Jo(t,null,r)}{if(!(t instanceof Nr||t instanceof Jo))throw new de(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yt.fromString(e,...n));return OD(r),new Jo(t.firestore,null,r)}}function Yue(t,e,...n){if(t=ct(t),arguments.length===1&&(e=JV.V()),Z4("doc","path",e),t instanceof ky){const r=yt.fromString(e,...n);return bD(r),new Nr(t,null,new _e(r))}{if(!(t instanceof Nr||t instanceof Jo))throw new de(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yt.fromString(e,...n));return bD(r),new Nr(t.firestore,t instanceof Jo?t.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kue{constructor(){this.Ua=Promise.resolve(),this.Wa=[],this.Ga=!1,this.za=[],this.ja=null,this.Ha=!1,this.Ja=!1,this.Ya=[],this.Qo=new M4(this,"async_queue_retry"),this.Za=()=>{const n=zE();n&&ge("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Qo.Oo()};const e=zE();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Za)}get isShuttingDown(){return this.Ga}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xa(),this.eu(e)}enterRestrictedMode(e){if(!this.Ga){this.Ga=!0,this.Ja=e||!1;const n=zE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Za)}}enqueue(e){if(this.Xa(),this.Ga)return new Promise(()=>{});const n=new Xo;return this.eu(()=>this.Ga&&this.Ja?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Wa.push(e),this.tu()))}async tu(){if(this.Wa.length!==0){try{await this.Wa[0](),this.Wa.shift(),this.Qo.reset()}catch(e){if(!Hd(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.Wa.length>0&&this.Qo.Mo(()=>this.tu())}}eu(e){const n=this.Ua.then(()=>(this.Ha=!0,e().catch(r=>{this.ja=r,this.Ha=!1;const i=function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),u}(r);throw Zs("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ha=!1,r))));return this.Ua=n,n}enqueueAfterDelay(e,n,r){this.Xa(),this.Ya.indexOf(e)>-1&&(n=0);const i=FR.createAndSchedule(this,e,n,r,s=>this.nu(s));return this.za.push(i),i}Xa(){this.ja&&Ie()}verifyOperationInProgress(){}async ru(){let e;do e=this.Ua,await e;while(e!==this.Ua)}iu(e){for(const n of this.za)if(n.timerId===e)return!0;return!1}su(e){return this.ru().then(()=>{this.za.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.za)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ru()})}ou(e){this.Ya.push(e)}nu(e){const n=this.za.indexOf(e);this.za.splice(n,1)}}class jR extends ky{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Kue}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||t3(this),this._firestoreClient.terminate()}}function Que(t,e){const n=typeof t=="object"?t:Bv(),r=typeof t=="string"?t:e||"(default)",i=Id(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=iC("firestore");s&&que(i,...s)}return i}function e3(t){return t._firestoreClient||t3(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function t3(t){var e,n,r;const i=t._freezeSettings(),s=function(u,l,h,f){return new Roe(u,l,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,J4(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new $ue(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gc(Hn.fromBase64String(e))}catch(n){throw new de(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gc(Hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xue=/^__.*__$/;class Jue{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Pu(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gd(e,this.data,n,this.fieldTransforms)}}function r3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class HR{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this._u(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get au(){return this.settings.au}uu(e){return new HR(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.uu({path:r,lu:!1});return i.hu(e),i}Pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.uu({path:r,lu:!1});return i._u(),i}Iu(e){return this.uu({path:void 0,lu:!0})}Tu(e){return U_(e,this.settings.methodName,this.settings.Eu||!1,this.path,this.settings.du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_u(){if(this.path)for(let e=0;e<this.path.length;e++)this.hu(this.path.get(e))}hu(e){if(e.length===0)throw this.Tu("Document fields must not be empty");if(r3(this.au)&&Xue.test(e))throw this.Tu('Document fields cannot begin and end with "__"')}}class Zue{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Cy(e)}Au(e,n,r,i=!1){return new HR({au:e,methodName:n,du:r,path:Fn.emptyPath(),lu:!1,Eu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function i3(t){const e=t._freezeSettings(),n=Cy(t._databaseId);return new Zue(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ele(t,e,n,r,i,s={}){const o=t.Au(s.merge||s.mergeFields?2:0,e,n,i);a3("Data must be an object, but it was:",o,r);const u=s3(r,o);let l,h;if(s.merge)l=new Ci(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const p of s.mergeFields){const g=nle(e,p,n);if(!o.contains(g))throw new de(K.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);ile(f,g)||f.push(g)}l=new Ci(f),h=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,h=o.fieldTransforms;return new Jue(new ei(u),l,h)}function tle(t,e,n,r=!1){return qR(n,t.Au(r?4:3,e))}function qR(t,e){if(o3(t=ct(t)))return a3("Unsupported field value:",e,t),s3(t,e);if(t instanceof n3)return function(r,i){if(!r3(i.au))throw i.Tu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.lu&&e.au!==4)throw e.Tu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const u of r){let l=qR(u,i.Iu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qoe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=nn.fromDate(r);return{timestampValue:L_(i.serializer,s)}}if(r instanceof nn){const s=new nn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:L_(i.serializer,s)}}if(r instanceof zR)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof gc)return{bytesValue:P4(i.serializer,r._byteString)};if(r instanceof Nr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Tu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:OR(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Tu(`Unsupported field value: ${Py(r)}`)}(t,e)}function s3(t,e){const n={};return ZV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xc(t,(r,i)=>{const s=qR(i,e.cu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function o3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nn||t instanceof zR||t instanceof gc||t instanceof Nr||t instanceof n3)}function a3(t,e,n){if(!o3(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Py(n);throw r==="an object"?e.Tu(t+" a custom object"):e.Tu(t+" "+r)}}function nle(t,e,n){if((e=ct(e))instanceof BR)return e._internalPath;if(typeof e=="string")return u3(t,e);throw U_("Field path arguments must be of type string or ",t,!1,void 0,n)}const rle=new RegExp("[~\\*/\\[\\]]");function u3(t,e,n){if(e.search(rle)>=0)throw U_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new BR(...e.split("."))._internalPath}catch{throw U_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function U_(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new de(K.INVALID_ARGUMENT,u+t+l)}function ile(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Nr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sle(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(GR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sle extends l3{data(){return super.data()}}function GR(t,e){return typeof e=="string"?u3(t,e):e instanceof BR?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ole(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class YR{}class ale extends YR{}function ule(t,e,...n){let r=[];e instanceof YR&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof KR).length,u=s.filter(l=>l instanceof by).length;if(o>1||o>0&&u>0)throw new de(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class by extends ale{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new by(e,n,r)}_apply(e){const n=this._parse(e);return c3(e._query,n),new Mc(e.firestore,e.converter,rT(e._query,n))}_parse(e){const n=i3(e.firestore);return function(s,o,u,l,h,f,p){let g;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new de(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){LD(p,f);const v=[];for(const E of p)v.push(DD(l,s,E));g={arrayValue:{values:v}}}else g=DD(l,s,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||LD(p,f),g=tle(u,o,p,f==="in"||f==="not-in");return Gt.create(h,f,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function xD(t,e,n){const r=e,i=GR("where",t);return by._create(i,r,n)}class KR extends YR{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new KR(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Di.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const u=s.getFlattenedFilters();for(const l of u)c3(o,l),o=rT(o,l)}(e._query,n),new Mc(e.firestore,e.converter,rT(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function DD(t,e,n){if(typeof(n=ct(n))=="string"){if(n==="")throw new de(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!c4(e)&&n.indexOf("/")!==-1)throw new de(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(yt.fromString(n));if(!_e.isDocumentKey(r))throw new de(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rD(t,new _e(r))}if(n instanceof Nr)return rD(t,n._key);throw new de(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Py(n)}.`)}function LD(t,e){if(!Array.isArray(t)||t.length===0)throw new de(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function c3(t,e){if(e.isInequality()){const r=AR(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new de(K.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=l4(t);s!==null&&lle(t,i,s)}const n=function(i,s){for(const o of i)for(const u of o.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new de(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function lle(t,e,n){if(!n.isEqual(e))throw new de(K.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class cle{convertValue(e,n="none"){switch(gu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xc(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new zR(Ht(e.latitude),Ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=TR(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(id(e));default:return null}}convertTimestamp(e){const n=ca(e);return new nn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=yt.fromString(e);Et(x4(r));const i=new sd(r.get(1),r.get(3)),s=new _e(r.popFirst(5));return i.isEqual(n)||Zs(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hle(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fle extends l3{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new am(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(GR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class am extends fle{data(e={}){return super.data(e)}}class dle{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Tg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new am(this._firestore,this._userDataWriter,r.key,r,new Tg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>{const l=new am(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Tg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const l=new am(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Tg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,f=-1;return u.type!==0&&(h=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),f=o.indexOf(u.doc.key)),{type:ple(u.type),doc:l,oldIndex:h,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ple(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}class gle extends cle{constructor(e){super(),this.firestore=e}convertBytes(e){return new gc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nr(this.firestore,null,n)}}function mle(t){t=ld(t,Mc);const e=ld(t.firestore,jR),n=e3(e),r=new gle(e);return ole(t._query),zue(n,t._query).then(i=>new dle(e,r,t,i))}function _le(t,e,n){t=ld(t,Nr);const r=ld(t.firestore,jR),i=hle(t.converter,e,n);return vle(r,[ele(i3(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,js.none())])}function vle(t,e){return function(r,i){const s=new Xo;return r.asyncQueue.enqueueAndForget(async()=>Pue(await jue(r),i,s)),s.promise}(e3(t),e)}(function(e,n=!0){(function(i){Nc=i})(ma),sa(new Ks("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),u=new jR(new foe(r.getProvider("auth-internal")),new moe(r.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new de(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sd(h.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),si(Jx,"4.0.0",e),si(Jx,"4.0.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3="firebasestorage.googleapis.com",f3="storageBucket",yle=2*60*1e3,wle=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t extends ls{constructor(e,n,r=0){super(qE(e),`Firebase Storage: ${n} (${qE(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return qE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ft;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ft||(Ft={}));function qE(t){return"storage/"+t}function QR(){const t="An unknown error occurred, please check the error payload for server response.";return new $t(Ft.UNKNOWN,t)}function Ele(t){return new $t(Ft.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Sle(t){return new $t(Ft.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Tle(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new $t(Ft.UNAUTHENTICATED,t)}function Ile(){return new $t(Ft.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Cle(t){return new $t(Ft.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Rle(){return new $t(Ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ale(){return new $t(Ft.CANCELED,"User canceled the upload/download.")}function Ple(t){return new $t(Ft.INVALID_URL,"Invalid URL '"+t+"'.")}function kle(t){return new $t(Ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function ble(){return new $t(Ft.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+f3+"' property when initializing the app?")}function Ole(){return new $t(Ft.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Nle(){return new $t(Ft.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function xle(t){return new $t(Ft.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function fT(t){return new $t(Ft.INVALID_ARGUMENT,t)}function d3(){return new $t(Ft.APP_DELETED,"The Firebase app was deleted.")}function Dle(t){return new $t(Ft.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lf(t,e){return new $t(Ft.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ih(t){throw new $t(Ft.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=nr.makeFromUrl(e,n)}catch{return new nr(e,"")}if(r.path==="")return r;throw kle(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const o="(/(.*))?$",u=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function h(b){b.path_=decodeURIComponent(b.path)}const f="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",v=new RegExp(`^https?://${p}/${f}/b/${i}/o${g}`,"i"),E={bucket:1,path:3},C=n===h3?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",S=new RegExp(`^https?://${C}/${i}/${A}`,"i"),k=[{regex:u,indices:l,postModify:s},{regex:v,indices:E,postModify:h},{regex:S,indices:{bucket:1,path:2},postModify:h}];for(let b=0;b<k.length;b++){const F=k[b],V=F.regex.exec(e);if(V){const W=V[F.indices.bucket];let G=V[F.indices.path];G||(G=""),r=new nr(W,G),F.postModify(r);break}}if(r==null)throw Ple(e);return r}}class Lle{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mle(t,e,n){let r=1,i=null,s=null,o=!1,u=0;function l(){return u===2}let h=!1;function f(...A){h||(h=!0,e.apply(null,A))}function p(A){i=setTimeout(()=>{i=null,t(v,l())},A)}function g(){s&&clearTimeout(s)}function v(A,...S){if(h){g();return}if(A){g(),f.call(null,A,...S);return}if(l()||o){g(),f.call(null,A,...S);return}r<64&&(r*=2);let k;u===1?(u=2,k=0):k=(r+Math.random())*1e3,p(k)}let E=!1;function C(A){E||(E=!0,g(),!h&&(i!==null?(A||(u=2),clearTimeout(i),p(0)):A||(u=1)))}return p(0),s=setTimeout(()=>{o=!0,C(!0)},n),C}function Ule(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fle(t){return t!==void 0}function $le(t){return typeof t=="object"&&!Array.isArray(t)}function XR(t){return typeof t=="string"||t instanceof String}function MD(t){return JR()&&t instanceof Blob}function JR(){return typeof Blob<"u"&&!wJ()}function dT(t,e,n,r){if(r<e)throw fT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw fT(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function p3(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ja;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ja||(Ja={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vle(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wle{constructor(e,n,r,i,s,o,u,l,h,f,p,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=l,this.timeout_=h,this.progressCallback_=f,this.connectionFactory_=p,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,E)=>{this.resolve_=v,this.reject_=E,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ig(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=u=>{const l=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,h)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const u=s.getErrorCode()===Ja.NO_ERROR,l=s.getStatus();if(!u||Vle(l,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===Ja.ABORT;r(!1,new Ig(!1,null,f));return}const h=this.successCodes_.indexOf(l)!==-1;r(!0,new Ig(h,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(u,u.getResponse());Fle(l)?s(l):s()}catch(l){o(l)}else if(u!==null){const l=QR();l.serverResponse=u.getErrorText(),this.errorCallback_?o(this.errorCallback_(u,l)):o(l)}else if(i.canceled){const l=this.appDelete_?d3():Ale();o(l)}else{const l=Rle();o(l)}};this.canceled_?n(!1,new Ig(!1,null,!0)):this.backoffId_=Mle(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Ule(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ig{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function jle(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Ble(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function zle(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Hle(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function qle(t,e,n,r,i,s,o=!0){const u=p3(t.urlParams),l=t.url+u,h=Object.assign({},t.headers);return zle(h,e),jle(h,n),Ble(h,s),Hle(h,r),new Wle(l,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gle(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Yle(...t){const e=Gle();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(JR())return new Blob(t);throw new $t(Ft.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Kle(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qle(t){if(typeof atob>"u")throw xle("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class GE{constructor(e,n){this.data=e,this.contentType=n||null}}function Xle(t,e){switch(t){case Ji.RAW:return new GE(g3(e));case Ji.BASE64:case Ji.BASE64URL:return new GE(m3(t,e));case Ji.DATA_URL:return new GE(Zle(e),ece(e))}throw QR()}function g3(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Jle(t){let e;try{e=decodeURIComponent(t)}catch{throw lf(Ji.DATA_URL,"Malformed data URL.")}return g3(e)}function m3(t,e){switch(t){case Ji.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw lf(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ji.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw lf(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Qle(e)}catch(i){throw i.message.includes("polyfill")?i:lf(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class _3{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw lf(Ji.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=tce(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Zle(t){const e=new _3(t);return e.base64?m3(Ji.BASE64,e.rest):Jle(e.rest)}function ece(t){return new _3(t).contentType}function tce(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n){let r=0,i="";MD(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(MD(this.data_)){const r=this.data_,i=Kle(r,e,n);return i===null?null:new Ao(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ao(r,!0)}}static getBlob(...e){if(JR()){const n=e.map(r=>r instanceof Ao?r.data_:r);return new Ao(Yle.apply(null,n))}else{const n=e.map(o=>XR(o)?Xle(Ji.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let u=0;u<o.length;u++)i[s++]=o[u]}),new Ao(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(t){let e;try{e=JSON.parse(t)}catch{return null}return $le(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nce(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function rce(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function v3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ice(t,e){return e}class Xn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||ice}}let Cg=null;function sce(t){return!XR(t)||t.length<2?t:v3(t)}function y3(){if(Cg)return Cg;const t=[];t.push(new Xn("bucket")),t.push(new Xn("generation")),t.push(new Xn("metageneration")),t.push(new Xn("name","fullPath",!0));function e(s,o){return sce(o)}const n=new Xn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Xn("size");return i.xform=r,t.push(i),t.push(new Xn("timeCreated")),t.push(new Xn("updated")),t.push(new Xn("md5Hash",null,!0)),t.push(new Xn("cacheControl",null,!0)),t.push(new Xn("contentDisposition",null,!0)),t.push(new Xn("contentEncoding",null,!0)),t.push(new Xn("contentLanguage",null,!0)),t.push(new Xn("contentType",null,!0)),t.push(new Xn("metadata","customMetadata",!0)),Cg=t,Cg}function oce(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new nr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function ace(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return oce(r,t),r}function w3(t,e,n){const r=ZR(e);return r===null?null:ace(t,r,n)}function uce(t,e,n,r){const i=ZR(e);if(i===null||!XR(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(h=>{const f=t.bucket,p=t.fullPath,g="/b/"+o(f)+"/o/"+o(p),v=Xd(g,n,r),E=p3({alt:"media",token:h});return v+E})[0]}function lce(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD="prefixes",FD="items";function cce(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[UD])for(const i of n[UD]){const s=i.replace(/\/$/,""),o=t._makeStorageReference(new nr(e,s));r.prefixes.push(o)}if(n[FD])for(const i of n[FD]){const s=t._makeStorageReference(new nr(e,i.name));r.items.push(s)}return r}function hce(t,e,n){const r=ZR(n);return r===null?null:cce(t,e,r)}class Oy{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(t){if(!t)throw QR()}function fce(t,e){function n(r,i){const s=w3(t,i,e);return eA(s!==null),s}return n}function dce(t,e){function n(r,i){const s=hce(t,e,i);return eA(s!==null),s}return n}function pce(t,e){function n(r,i){const s=w3(t,i,e);return eA(s!==null),uce(s,i,t.host,t._protocol)}return n}function tA(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Ile():i=Tle():n.getStatus()===402?i=Sle(t.bucket):n.getStatus()===403?i=Cle(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function E3(t){const e=tA(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Ele(t.path)),s.serverResponse=i.serverResponse,s}return n}function gce(t,e,n,r,i){const s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=e.bucketOnlyServerUrl(),u=Xd(o,t.host,t._protocol),l="GET",h=t.maxOperationRetryTime,f=new Oy(u,l,dce(t,e.bucket),h);return f.urlParams=s,f.errorHandler=tA(e),f}function mce(t,e,n){const r=e.fullServerUrl(),i=Xd(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,u=new Oy(i,s,pce(t,n),o);return u.errorHandler=E3(e),u}function _ce(t,e){const n=e.fullServerUrl(),r=Xd(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,h){}const u=new Oy(r,i,o,s);return u.successCodes=[200,204],u.errorHandler=E3(e),u}function vce(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function yce(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=vce(null,e)),r}function wce(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function u(){let k="";for(let b=0;b<2;b++)k=k+Math.random().toString().slice(2);return k}const l=u();o["Content-Type"]="multipart/related; boundary="+l;const h=yce(e,r,i),f=lce(h,n),p="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+l+`\r
Content-Type: `+h.contentType+`\r
\r
`,g=`\r
--`+l+"--",v=Ao.getBlob(p,r,g);if(v===null)throw Ole();const E={name:h.fullPath},C=Xd(s,t.host,t._protocol),A="POST",S=t.maxUploadRetryTime,T=new Oy(C,A,fce(t,n),S);return T.urlParams=E,T.headers=o,T.body=v.uploadData(),T.errorHandler=tA(e),T}class Ece{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ja.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ja.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ja.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Ih("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ih("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ih("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ih("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ih("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Sce extends Ece{initXhr(){this.xhr_.responseType="text"}}function Ny(){return new Sce}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n){this._service=e,n instanceof nr?this._location=n:this._location=nr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new mu(e,n)}get root(){const e=new nr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return v3(this._location.path)}get storage(){return this._service}get parent(){const e=nce(this._location.path);if(e===null)return null;const n=new nr(this._location.bucket,e);return new mu(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Dle(e)}}function Tce(t,e,n){t._throwIfRoot("uploadBytes");const r=wce(t.storage,t._location,y3(),new Ao(e,!0),n);return t.storage.makeRequestWithTokens(r,Ny).then(i=>({metadata:i,ref:t}))}function Ice(t){const e={prefixes:[],items:[]};return S3(t,e).then(()=>e)}async function S3(t,e,n){const i=await Cce(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await S3(t,e,i.nextPageToken)}function Cce(t,e){e!=null&&typeof e.maxResults=="number"&&dT("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=gce(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Ny)}function Rce(t){t._throwIfRoot("getDownloadURL");const e=mce(t.storage,t._location,y3());return t.storage.makeRequestWithTokens(e,Ny).then(n=>{if(n===null)throw Nle();return n})}function Ace(t){t._throwIfRoot("deleteObject");const e=_ce(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Ny)}function Pce(t,e){const n=rce(t._location.path,e),r=new nr(t._location.bucket,n);return new mu(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kce(t){return/^[A-Za-z]+:\/\//.test(t)}function bce(t,e){return new mu(t,e)}function T3(t,e){if(t instanceof nA){const n=t;if(n._bucket==null)throw ble();const r=new mu(n,n._bucket);return e!=null?T3(r,e):r}else return e!==void 0?Pce(t,e):t}function Oce(t,e){if(e&&kce(e)){if(t instanceof nA)return bce(t,e);throw fT("To use ref(service, url), the first argument must be a Storage instance.")}else return T3(t,e)}function $D(t,e){const n=e==null?void 0:e[f3];return n==null?null:nr.makeFromBucketSpec(n,t)}function Nce(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:sC(i,t.app.options.projectId))}class nA{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=h3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=yle,this._maxUploadRetryTime=wle,this._requests=new Set,i!=null?this._bucket=nr.makeFromBucketSpec(i,this._host):this._bucket=$D(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=nr.makeFromBucketSpec(this._url,e):this._bucket=$D(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){dT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){dT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new mu(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Lle(d3());{const o=qle(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const VD="@firebase/storage",WD="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3="storage";function C3(t,e,n){return t=ct(t),Tce(t,e,n)}function xce(t){return t=ct(t),Ice(t)}function R3(t){return t=ct(t),Rce(t)}function Dce(t){return t=ct(t),Ace(t)}function rA(t,e){return t=ct(t),Oce(t,e)}function Lce(t=Bv(),e){t=ct(t);const r=Id(t,I3).getImmediate({identifier:e}),i=iC("storage");return i&&Mce(r,...i),r}function Mce(t,e,n,r={}){Nce(t,e,n,r)}function Uce(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new nA(n,r,i,e,ma)}function Fce(){sa(new Ks(I3,Uce,"PUBLIC").setMultipleInstances(!0)),si(VD,WD,""),si(VD,WD,"esm2017")}Fce();let Rg;const $ce=new Uint8Array(16);function Vce(){if(!Rg&&(Rg=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Rg))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Rg($ce)}const gn=[];for(let t=0;t<256;++t)gn.push((t+256).toString(16).slice(1));function Wce(t,e=0){return(gn[t[e+0]]+gn[t[e+1]]+gn[t[e+2]]+gn[t[e+3]]+"-"+gn[t[e+4]]+gn[t[e+5]]+"-"+gn[t[e+6]]+gn[t[e+7]]+"-"+gn[t[e+8]]+gn[t[e+9]]+"-"+gn[t[e+10]]+gn[t[e+11]]+gn[t[e+12]]+gn[t[e+13]]+gn[t[e+14]]+gn[t[e+15]]).toLowerCase()}const jce=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),jD={randomUUID:jce};function Bce(t,e,n){if(jD.randomUUID&&!e&&!t)return jD.randomUUID();t=t||{};const r=t.random||(t.rng||Vce)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return Wce(r)}var zce={apiKey:"AIzaSyAS70hZZxcHz-tNpYJtP0t3-f5vKPKa_xc",authDomain:"react-chat-app-5d058.firebaseapp.com",projectId:"react-chat-app-5d058",storageBucket:"react-chat-app-5d058.appspot.com",messagingSenderId:"464613708419",appId:"1:464613708419:web:a616818e812b956df041b6"},A3=function(e){return e.split("/").join(".").split("-").join("_")},_t;(function(t){t.Avatars="avatars",t.Attachments="attachments",t.Chats="chats",t.Users="users",t.UserChats="user_chats",t.Messages="messages"})(_t||(_t={}));function mc(t){return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(t)}function Vh(t,e,n){return e=Hce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hce(t){var e=qce(t,"string");return mc(e)==="symbol"?e:String(e)}function qce(t,e){if(mc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sr(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */sr=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(I,_,w){I[_]=w.value},i=typeof Symbol=="function"?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(I,_,w){return Object.defineProperty(I,_,{value:w,enumerable:!0,configurable:!0,writable:!0}),I[_]}try{l({},"")}catch{l=function(w,N,D){return w[N]=D}}function h(I,_,w,N){var D=_&&_.prototype instanceof g?_:g,O=Object.create(D.prototype),M=new ie(N||[]);return r(O,"_invoke",{value:F(I,w,M)}),O}function f(I,_,w){try{return{type:"normal",arg:I.call(_,w)}}catch(N){return{type:"throw",arg:N}}}t.wrap=h;var p={};function g(){}function v(){}function E(){}var C={};l(C,s,function(){return this});var A=Object.getPrototypeOf,S=A&&A(A(re([])));S&&S!==e&&n.call(S,s)&&(C=S);var T=E.prototype=g.prototype=Object.create(C);function k(I){["next","throw","return"].forEach(function(_){l(I,_,function(w){return this._invoke(_,w)})})}function b(I,_){function w(D,O,M,B){var H=f(I[D],I,O);if(H.type!=="throw"){var ue=H.arg,fe=ue.value;return fe&&mc(fe)=="object"&&n.call(fe,"__await")?_.resolve(fe.__await).then(function(Se){w("next",Se,M,B)},function(Se){w("throw",Se,M,B)}):_.resolve(fe).then(function(Se){ue.value=Se,M(ue)},function(Se){return w("throw",Se,M,B)})}B(H.arg)}var N;r(this,"_invoke",{value:function(O,M){function B(){return new _(function(H,ue){w(O,M,H,ue)})}return N=N?N.then(B,B):B()}})}function F(I,_,w){var N="suspendedStart";return function(D,O){if(N==="executing")throw new Error("Generator is already running");if(N==="completed"){if(D==="throw")throw O;return Ne()}for(w.method=D,w.arg=O;;){var M=w.delegate;if(M){var B=V(M,w);if(B){if(B===p)continue;return B}}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(N==="suspendedStart")throw N="completed",w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);N="executing";var H=f(I,_,w);if(H.type==="normal"){if(N=w.done?"completed":"suspendedYield",H.arg===p)continue;return{value:H.arg,done:w.done}}H.type==="throw"&&(N="completed",w.method="throw",w.arg=H.arg)}}}function V(I,_){var w=_.method,N=I.iterator[w];if(N===void 0)return _.delegate=null,w==="throw"&&I.iterator.return&&(_.method="return",_.arg=void 0,V(I,_),_.method==="throw")||w!=="return"&&(_.method="throw",_.arg=new TypeError("The iterator does not provide a '"+w+"' method")),p;var D=f(N,I.iterator,_.arg);if(D.type==="throw")return _.method="throw",_.arg=D.arg,_.delegate=null,p;var O=D.arg;return O?O.done?(_[I.resultName]=O.value,_.next=I.nextLoc,_.method!=="return"&&(_.method="next",_.arg=void 0),_.delegate=null,p):O:(_.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,p)}function W(I){var _={tryLoc:I[0]};1 in I&&(_.catchLoc=I[1]),2 in I&&(_.finallyLoc=I[2],_.afterLoc=I[3]),this.tryEntries.push(_)}function G(I){var _=I.completion||{};_.type="normal",delete _.arg,I.completion=_}function ie(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(W,this),this.reset(!0)}function re(I){if(I){var _=I[s];if(_)return _.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var w=-1,N=function D(){for(;++w<I.length;)if(n.call(I,w))return D.value=I[w],D.done=!1,D;return D.value=void 0,D.done=!0,D};return N.next=N}}return{next:Ne}}function Ne(){return{value:void 0,done:!0}}return v.prototype=E,r(T,"constructor",{value:E,configurable:!0}),r(E,"constructor",{value:v,configurable:!0}),v.displayName=l(E,u,"GeneratorFunction"),t.isGeneratorFunction=function(I){var _=typeof I=="function"&&I.constructor;return!!_&&(_===v||(_.displayName||_.name)==="GeneratorFunction")},t.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,E):(I.__proto__=E,l(I,u,"GeneratorFunction")),I.prototype=Object.create(T),I},t.awrap=function(I){return{__await:I}},k(b.prototype),l(b.prototype,o,function(){return this}),t.AsyncIterator=b,t.async=function(I,_,w,N,D){D===void 0&&(D=Promise);var O=new b(h(I,_,w,N),D);return t.isGeneratorFunction(_)?O:O.next().then(function(M){return M.done?M.value:O.next()})},k(T),l(T,u,"Generator"),l(T,s,function(){return this}),l(T,"toString",function(){return"[object Generator]"}),t.keys=function(I){var _=Object(I),w=[];for(var N in _)w.push(N);return w.reverse(),function D(){for(;w.length;){var O=w.pop();if(O in _)return D.value=O,D.done=!1,D}return D.done=!0,D}},t.values=re,ie.prototype={constructor:ie,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(G),!_)for(var w in this)w.charAt(0)==="t"&&n.call(this,w)&&!isNaN(+w.slice(1))&&(this[w]=void 0)},stop:function(){this.done=!0;var _=this.tryEntries[0].completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var w=this;function N(ue,fe){return M.type="throw",M.arg=_,w.next=ue,fe&&(w.method="next",w.arg=void 0),!!fe}for(var D=this.tryEntries.length-1;D>=0;--D){var O=this.tryEntries[D],M=O.completion;if(O.tryLoc==="root")return N("end");if(O.tryLoc<=this.prev){var B=n.call(O,"catchLoc"),H=n.call(O,"finallyLoc");if(B&&H){if(this.prev<O.catchLoc)return N(O.catchLoc,!0);if(this.prev<O.finallyLoc)return N(O.finallyLoc)}else if(B){if(this.prev<O.catchLoc)return N(O.catchLoc,!0)}else{if(!H)throw new Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return N(O.finallyLoc)}}}},abrupt:function(_,w){for(var N=this.tryEntries.length-1;N>=0;--N){var D=this.tryEntries[N];if(D.tryLoc<=this.prev&&n.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var O=D;break}}O&&(_==="break"||_==="continue")&&O.tryLoc<=w&&w<=O.finallyLoc&&(O=null);var M=O?O.completion:{};return M.type=_,M.arg=w,O?(this.method="next",this.next=O.finallyLoc,p):this.complete(M)},complete:function(_,w){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&w&&(this.next=w),p},finish:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.finallyLoc===_)return this.complete(N.completion,N.afterLoc),G(N),p}},catch:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.tryLoc===_){var D=N.completion;if(D.type==="throw"){var O=D.arg;G(N)}return O}}throw new Error("illegal catch attempt")},delegateYield:function(_,w,N){return this.delegate={iterator:re(_),resultName:w,nextLoc:N},this.method==="next"&&(this.arg=void 0),p}},t}function BD(t,e,n,r,i,s,o){try{var u=t[s](o),l=u.value}catch(h){n(h);return}u.done?e(l):Promise.resolve(l).then(r,i)}function bu(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(l){BD(s,r,i,o,u,"next",l)}function u(l){BD(s,r,i,o,u,"throw",l)}o(void 0)})}}QU(zce);var bs=Gte(),iA=Lce(),P3=Que(),ti=XC(),Ha=function(){var e;return(e=bs.currentUser)===null||e===void 0?void 0:e.uid},Gce=function(){var t=bu(sr().mark(function e(n){var r,i,s,o,u,l,h;return sr().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return r=n.avatar,i=n.email,s=n.nickname,o=n.password,u={user:null,error:null},l="",p.prev=3,p.next=6,Oee(bs,i,o);case 6:u.user=p.sent.user,p.next=12;break;case 9:p.prev=9,p.t0=p.catch(3),u.error=A3(p.t0.code);case 12:if(!(!u.error&&u.user)){p.next=28;break}if(h=rA(iA,"".concat(_t.Avatars,"/").concat(i)),!r){p.next=24;break}return p.next=17,C3(h,r);case 17:return p.next=19,R3(h);case 19:return l=p.sent,p.next=22,YN(u.user,{displayName:s,photoURL:l});case 22:p.next=26;break;case 24:return p.next=26,YN(u.user,{displayName:s});case 26:return p.next=28,_le(Yue(P3,_t.Users,u.user.uid),{uid:u.user.uid,nickname:s,email:i,avatarUrl:l});case 28:return p.abrupt("return",u);case 29:case"end":return p.stop()}},e,null,[[3,9]])}));return function(n){return t.apply(this,arguments)}}(),Yce=function(){var t=bu(sr().mark(function e(n){var r,i,s;return sr().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return r=n.email,i=n.password,s={user:null,error:null},u.prev=2,u.next=5,Nee(bs,r,i);case 5:s.user=u.sent.user,u.next=11;break;case 8:u.prev=8,u.t0=u.catch(2),s.error=A3(u.t0.code);case 11:return u.abrupt("return",s);case 12:case"end":return u.stop()}},e,null,[[2,8]])}));return function(n){return t.apply(this,arguments)}}(),Kce=function(){var t=bu(sr().mark(function e(n){var r,i,s,o;return sr().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return r={users:[],error:null},i=[],s=ule(Gue(P3,_t.Users),xD("nickname",">=",n),xD("nickname","<","".concat(n,""))),l.prev=3,l.next=6,mle(s);case 6:o=l.sent,o.forEach(function(h){i.push(h.data())}),l.next=13;break;case 10:l.prev=10,l.t0=l.catch(3),r.error="firestoreSearchUser";case 13:return r.users=i,l.abrupt("return",r);case 15:case"end":return l.stop()}},e,null,[[3,10]])}));return function(n){return t.apply(this,arguments)}}(),Qce=function(){var t=bu(sr().mark(function e(n){var r,i,s,o,u,l,h,f;return sr().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return i={chat:null,error:null},s=(r=Ha())!==null&&r!==void 0?r:"",o=s>n.uid?s+n.uid:n.uid+s,g.prev=3,g.next=6,T_(os(pr(ti),"".concat(_t.Chats,"/").concat(o)));case 6:if(l=g.sent,!(!l.exists()&&bs.currentUser)){g.next=14;break}return g.next=10,Ml(pr(ti,"".concat(_t.Chats,"/").concat(o)),{createdAt:Ul()});case 10:return g.next=12,Ml(pr(ti,"".concat(_t.UserChats,"/").concat(s,"/").concat(o)),{interlocutorInfo:{avatarUrl:n.avatarUrl,nickname:n.nickname,uid:n.uid},lastUpdate:Ul(),chatUid:o});case 12:return g.next=14,Ml(pr(ti,"".concat(_t.UserChats,"/").concat(n.uid,"/").concat(o)),{interlocutorInfo:{avatarUrl:(h=bs.currentUser.photoURL)!==null&&h!==void 0?h:"",nickname:(f=bs.currentUser.displayName)!==null&&f!==void 0?f:"",uid:bs.currentUser.uid},lastUpdate:Ul(),chatUid:o});case 14:return g.next=16,T_(os(pr(ti),"".concat(_t.UserChats,"/").concat((u=bs.currentUser)===null||u===void 0?void 0:u.uid,"/").concat(o)));case 16:i.chat=g.sent.val(),g.next=22;break;case 19:g.prev=19,g.t0=g.catch(3),i.error="firebaseGetUserChat";case 22:return g.abrupt("return",i);case 23:case"end":return g.stop()}},e,null,[[3,19]])}));return function(n){return t.apply(this,arguments)}}(),Xce=function(){var t=bu(sr().mark(function e(n,r,i){var s,o,u,l,h,f,p,g;return sr().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(u=pr(ti,"".concat(_t.Chats,"/").concat(r,"/").concat(_t.Messages)),l=Hie(u),h="",f=Bce(),!i){E.next=11;break}return p=rA(iA,"".concat(_t.Attachments,"/").concat(r,"/").concat(f)),E.next=8,C3(p,i);case 8:return E.next=10,R3(p);case 10:h=E.sent;case 11:return Ml(l,{text:n,senderId:Ha(),id:f,createdAt:Ul(),imgUrl:h}),E.next=14,T_(os(pr(ti),"".concat(_t.UserChats,"/").concat(Ha(),"/").concat(r)));case 14:return g=E.sent.val(),E.next=17,$S(pr(ti),(s={},Vh(s,"".concat(_t.UserChats,"/").concat(Ha(),"/").concat(r,"/lastUpdate"),Ul()),Vh(s,"".concat(_t.UserChats,"/").concat(Ha(),"/").concat(r,"/lastMessage"),n||h&&"[ attachment ]"),s));case 17:return E.next=19,$S(pr(ti),(o={},Vh(o,"".concat(_t.UserChats,"/").concat(g.interlocutorInfo.uid,"/").concat(r,"/lastUpdate"),Ul()),Vh(o,"".concat(_t.UserChats,"/").concat(g.interlocutorInfo.uid,"/").concat(r,"/lastMessage"),n||h&&"[ attachment ]"),o));case 19:case"end":return E.stop()}},e)}));return function(n,r,i){return t.apply(this,arguments)}}(),Jce=function(){var t=bu(sr().mark(function e(n){var r,i,s;return sr().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,T_(os(pr(ti),"".concat(_t.Chats,"/").concat(n)));case 2:if(r=u.sent,!(r.exists()&&bs.currentUser)){u.next=11;break}return u.next=6,Ml(pr(ti,"".concat(_t.Chats,"/").concat(n)),{messages:""});case 6:return i=rA(iA,"".concat(_t.Attachments,"/").concat(n)),u.next=9,xce(i);case 9:s=u.sent,s.items.map(function(l){return Dce(l)});case 11:case"end":return u.stop()}},e)}));return function(n){return t.apply(this,arguments)}}(),Zce=function(){var t=bu(sr().mark(function e(n,r){return sr().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,$S(pr(ti),Vh({},"".concat(_t.UserChats,"/").concat(Ha(),"/").concat(n,"/interlocutorInfo/alias"),r));case 2:case"end":return s.stop()}},e)}));return function(n,r){return t.apply(this,arguments)}}(),ehe={getCurrentUser:Ha,registerUser:Gce,loginUser:Yce,searchUser:Kce,getUserChat:Qce,sendMessage:Xce,clearChatHistory:Jce,setUserAlias:Zce};OU.create({baseURL:"https://dummyjson.com/auth/login",timeout:1e4,headers:{"Content-Type":"application/json"}});var _u={firebase:ehe};const the="GCX",nhe="eAv",zD={container:the,menu:nhe};var rhe=function(){var e=yr(function(o){return o.user}),n=e.chat,r=Su(),i=function(){if(n){var u=prompt("Enter the user's alias. To remove an alias, leave the line empty.");u!==null&&(_u.firebase.setUserAlias(n.chatUid,u),r(Ge.actions.getInterlocutor(n.interlocutorInfo)))}},s=function(){n&&_u.firebase.clearChatHistory(n.chatUid)};return Qe("div",{className:zD.container,children:[te(Lv.Options,{}),Qe("div",{className:zD.menu,children:[te("button",{onClick:i,children:"Rename"}),te("button",{onClick:s,children:"Clear history"})]})]})};const ihe="AXt",she={container:ihe};function ohe(t,e){return che(t)||lhe(t,e)||uhe(t,e)||ahe()}function ahe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uhe(t,e){if(t){if(typeof t=="string")return HD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HD(t,e)}}function HD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,u=[],l=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(f){h=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function che(t){if(Array.isArray(t))return t}var hhe=function(){var e=X.useState([]),n=ohe(e,2),r=n[0],i=n[1],s=yr(function(f){return f.user}),o=s.chat,u=s.user,l=yr(function(f){return f.cache}),h=l.isChatOpened;return xI(function(){var f=pr(XC(),"".concat(_t.UserChats,"/").concat(u==null?void 0:u.uid)),p=Y$(f,function(g){if(g.val()){var v=Object.values(g.val());i(v.sort(function(E,C){return+C.lastUpdate-+E.lastUpdate}))}});return function(){p()}}),te("div",{className:she.container,children:ou.map(r,function(f){return te(ome,{chatInfo:f,isActive:f.chatUid===(o==null?void 0:o.chatUid)&&h},f.chatUid)})})};const fhe="zyS",dhe="_4EF",qD={container:fhe,sendContainer:dhe};function GD(t,e){return _he(t)||mhe(t,e)||ghe(t,e)||phe()}function phe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ghe(t,e){if(t){if(typeof t=="string")return YD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YD(t,e)}}function YD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,u=[],l=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(f){h=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function _he(t){if(Array.isArray(t))return t}var vhe=function(){var e=X.useState(""),n=GD(e,2),r=n[0],i=n[1],s=X.useState(),o=GD(s,2),u=o[0],l=o[1],h=yr(function(E){return E.user}),f=h.chat,p=function(C){C==null||C.preventDefault(),(r||u)&&f&&(_u.firebase.sendMessage(r,f.chatUid,u),i(""))},g=function(C){if(C.target.files){var A=C.target.files[0];A&&l(A)}},v=function(C){i(C.target.value)};return Qe("form",{className:qD.container,onSubmit:p,children:[te("input",{placeholder:"Type something...",type:"text",value:r,onChange:v}),Qe("div",{className:qD.sendContainer,children:[Qe("label",{htmlFor:"file",children:[te(Lv.AddAvatar,{}),te("input",{hidden:!0,accept:"image/*",id:"file",type:"file",onChange:g})]}),te("button",{children:"Send"})]})]})},yhe=function(){return te("div",{className:"layout",children:te(sU,{})})};function pT(t){return pT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pT(t)}var Uc=function(){for(var e=[],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ou.map(r,function(s){if(s)switch(pT(s)){case"string":e.push(s);break;case"object":ou(s).entries().map(function(o){return o[1]&&e.push(o[0]),null});break}return null}),e.join(" ")};const whe="-uQ",Ehe="mI2",KD={container:whe,dotFlashing:Ehe};var She=function(e){var n=e.className;return te("span",{className:Uc(KD.container,n),children:te("span",{className:KD.dotFlashing})})};//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var k3;function ae(){return k3.apply(null,arguments)}function The(t){k3=t}function Li(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function Za(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Xe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function sA(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Xe(t,e))return!1;return!0}function fr(t){return t===void 0}function no(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Jd(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function b3(t,e){var n=[],r,i=t.length;for(r=0;r<i;++r)n.push(e(t[r],r));return n}function xo(t,e){for(var n in e)Xe(e,n)&&(t[n]=e[n]);return Xe(e,"toString")&&(t.toString=e.toString),Xe(e,"valueOf")&&(t.valueOf=e.valueOf),t}function fs(t,e,n,r){return e6(t,e,n,r,!0).utc()}function Ihe(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Oe(t){return t._pf==null&&(t._pf=Ihe()),t._pf}var gT;Array.prototype.some?gT=Array.prototype.some:gT=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function oA(t){if(t._isValid==null){var e=Oe(t),n=gT.call(e.parsedDateParts,function(i){return i!=null}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r}return t._isValid}function xy(t){var e=fs(NaN);return t!=null?xo(Oe(e),t):Oe(e).userInvalidated=!0,e}var QD=ae.momentProperties=[],YE=!1;function aA(t,e){var n,r,i,s=QD.length;if(fr(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),fr(e._i)||(t._i=e._i),fr(e._f)||(t._f=e._f),fr(e._l)||(t._l=e._l),fr(e._strict)||(t._strict=e._strict),fr(e._tzm)||(t._tzm=e._tzm),fr(e._isUTC)||(t._isUTC=e._isUTC),fr(e._offset)||(t._offset=e._offset),fr(e._pf)||(t._pf=Oe(e)),fr(e._locale)||(t._locale=e._locale),s>0)for(n=0;n<s;n++)r=QD[n],i=e[r],fr(i)||(t[r]=i);return t}function Zd(t){aA(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),YE===!1&&(YE=!0,ae.updateOffset(this),YE=!1)}function Mi(t){return t instanceof Zd||t!=null&&t._isAMomentObject!=null}function O3(t){ae.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function ci(t,e){var n=!0;return xo(function(){if(ae.deprecationHandler!=null&&ae.deprecationHandler(null,t),n){var r=[],i,s,o,u=arguments.length;for(s=0;s<u;s++){if(i="",typeof arguments[s]=="object"){i+=`
[`+s+"] ";for(o in arguments[0])Xe(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[s];r.push(i)}O3(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var XD={};function N3(t,e){ae.deprecationHandler!=null&&ae.deprecationHandler(t,e),XD[t]||(O3(e),XD[t]=!0)}ae.suppressDeprecationWarnings=!1;ae.deprecationHandler=null;function ds(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function Che(t){var e,n;for(n in t)Xe(t,n)&&(e=t[n],ds(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function mT(t,e){var n=xo({},t),r;for(r in e)Xe(e,r)&&(Za(t[r])&&Za(e[r])?(n[r]={},xo(n[r],t[r]),xo(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)Xe(t,r)&&!Xe(e,r)&&Za(t[r])&&(n[r]=xo({},n[r]));return n}function uA(t){t!=null&&this.set(t)}var _T;Object.keys?_T=Object.keys:_T=function(t){var e,n=[];for(e in t)Xe(t,e)&&n.push(e);return n};var Rhe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Ahe(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return ds(r)?r.call(e,n):r}function us(t,e,n){var r=""+Math.abs(t),i=e-r.length,s=t>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var lA=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ag=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,KE={},jl={};function me(t,e,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),t&&(jl[t]=i),e&&(jl[e[0]]=function(){return us(i.apply(this,arguments),e[1],e[2])}),n&&(jl[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function Phe(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function khe(t){var e=t.match(lA),n,r;for(n=0,r=e.length;n<r;n++)jl[e[n]]?e[n]=jl[e[n]]:e[n]=Phe(e[n]);return function(i){var s="",o;for(o=0;o<r;o++)s+=ds(e[o])?e[o].call(i,t):e[o];return s}}function um(t,e){return t.isValid()?(e=x3(e,t.localeData()),KE[e]=KE[e]||khe(e),KE[e](t)):t.localeData().invalidDate()}function x3(t,e){var n=5;function r(i){return e.longDateFormat(i)||i}for(Ag.lastIndex=0;n>=0&&Ag.test(t);)t=t.replace(Ag,r),Ag.lastIndex=0,n-=1;return t}var bhe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Ohe(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(lA).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var Nhe="Invalid date";function xhe(){return this._invalidDate}var Dhe="%d",Lhe=/\d{1,2}/;function Mhe(t){return this._ordinal.replace("%d",t)}var Uhe={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Fhe(t,e,n,r){var i=this._relativeTime[n];return ds(i)?i(t,e,n,r):i.replace(/%d/i,t)}function $he(t,e){var n=this._relativeTime[t>0?"future":"past"];return ds(n)?n(e):n.replace(/%s/i,e)}var cf={};function qn(t,e){var n=t.toLowerCase();cf[n]=cf[n+"s"]=cf[e]=t}function hi(t){return typeof t=="string"?cf[t]||cf[t.toLowerCase()]:void 0}function cA(t){var e={},n,r;for(r in t)Xe(t,r)&&(n=hi(r),n&&(e[n]=t[r]));return e}var D3={};function Gn(t,e){D3[t]=e}function Vhe(t){var e=[],n;for(n in t)Xe(t,n)&&e.push({unit:n,priority:D3[n]});return e.sort(function(r,i){return r.priority-i.priority}),e}function Dy(t){return t%4===0&&t%100!==0||t%400===0}function Jr(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Ue(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=Jr(e)),n}function Fc(t,e){return function(n){return n!=null?(L3(this,t,n),ae.updateOffset(this,e),this):F_(this,t)}}function F_(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function L3(t,e,n){t.isValid()&&!isNaN(n)&&(e==="FullYear"&&Dy(t.year())&&t.month()===1&&t.date()===29?(n=Ue(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Vy(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function Whe(t){return t=hi(t),ds(this[t])?this[t]():this}function jhe(t,e){if(typeof t=="object"){t=cA(t);var n=Vhe(t),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](t[n[r].unit])}else if(t=hi(t),ds(this[t]))return this[t](e);return this}var M3=/\d/,Vr=/\d\d/,U3=/\d{3}/,hA=/\d{4}/,Ly=/[+-]?\d{6}/,Tt=/\d\d?/,F3=/\d\d\d\d?/,$3=/\d\d\d\d\d\d?/,My=/\d{1,3}/,fA=/\d{1,4}/,Uy=/[+-]?\d{1,6}/,$c=/\d+/,Fy=/[+-]?\d+/,Bhe=/Z|[+-]\d\d:?\d\d/gi,$y=/Z|[+-]\d\d(?::?\d\d)?/gi,zhe=/[+-]?\d+(\.\d{1,3})?/,ep=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,$_;$_={};function ce(t,e,n){$_[t]=ds(e)?e:function(r,i){return r&&n?n:e}}function Hhe(t,e){return Xe($_,t)?$_[t](e._strict,e._locale):new RegExp(qhe(t))}function qhe(t){return kr(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,i,s){return n||r||i||s}))}function kr(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var vT={};function ut(t,e){var n,r=e,i;for(typeof t=="string"&&(t=[t]),no(e)&&(r=function(s,o){o[e]=Ue(s)}),i=t.length,n=0;n<i;n++)vT[t[n]]=r}function tp(t,e){ut(t,function(n,r,i,s){i._w=i._w||{},e(n,i._w,i,s)})}function Ghe(t,e,n){e!=null&&Xe(vT,t)&&vT[t](e,n._a,n,t)}var jn=0,Fs=1,Yi=2,tn=3,Ri=4,$s=5,qa=6,Yhe=7,Khe=8;function Qhe(t,e){return(t%e+e)%e}var jt;Array.prototype.indexOf?jt=Array.prototype.indexOf:jt=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function Vy(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=Qhe(e,12);return t+=(e-n)/12,n===1?Dy(t)?29:28:31-n%7%2}me("M",["MM",2],"Mo",function(){return this.month()+1});me("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});me("MMMM",0,0,function(t){return this.localeData().months(this,t)});qn("month","M");Gn("month",8);ce("M",Tt);ce("MM",Tt,Vr);ce("MMM",function(t,e){return e.monthsShortRegex(t)});ce("MMMM",function(t,e){return e.monthsRegex(t)});ut(["M","MM"],function(t,e){e[Fs]=Ue(t)-1});ut(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);i!=null?e[Fs]=i:Oe(n).invalidMonth=t});var Xhe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),V3="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),W3=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Jhe=ep,Zhe=ep;function efe(t,e){return t?Li(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||W3).test(e)?"format":"standalone"][t.month()]:Li(this._months)?this._months:this._months.standalone}function tfe(t,e){return t?Li(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[W3.test(e)?"format":"standalone"][t.month()]:Li(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function nfe(t,e,n){var r,i,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=fs([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?e==="MMM"?(i=jt.call(this._shortMonthsParse,o),i!==-1?i:null):(i=jt.call(this._longMonthsParse,o),i!==-1?i:null):e==="MMM"?(i=jt.call(this._shortMonthsParse,o),i!==-1?i:(i=jt.call(this._longMonthsParse,o),i!==-1?i:null)):(i=jt.call(this._longMonthsParse,o),i!==-1?i:(i=jt.call(this._shortMonthsParse,o),i!==-1?i:null))}function rfe(t,e,n){var r,i,s;if(this._monthsParseExact)return nfe.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=fs([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function j3(t,e){var n;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Ue(e);else if(e=t.localeData().monthsParse(e),!no(e))return t}return n=Math.min(t.date(),Vy(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function B3(t){return t!=null?(j3(this,t),ae.updateOffset(this,!0),this):F_(this,"Month")}function ife(){return Vy(this.year(),this.month())}function sfe(t){return this._monthsParseExact?(Xe(this,"_monthsRegex")||z3.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Xe(this,"_monthsShortRegex")||(this._monthsShortRegex=Jhe),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function ofe(t){return this._monthsParseExact?(Xe(this,"_monthsRegex")||z3.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Xe(this,"_monthsRegex")||(this._monthsRegex=Zhe),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function z3(){function t(o,u){return u.length-o.length}var e=[],n=[],r=[],i,s;for(i=0;i<12;i++)s=fs([2e3,i]),e.push(this.monthsShort(s,"")),n.push(this.months(s,"")),r.push(this.months(s,"")),r.push(this.monthsShort(s,""));for(e.sort(t),n.sort(t),r.sort(t),i=0;i<12;i++)e[i]=kr(e[i]),n[i]=kr(n[i]);for(i=0;i<24;i++)r[i]=kr(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}me("Y",0,0,function(){var t=this.year();return t<=9999?us(t,4):"+"+t});me(0,["YY",2],0,function(){return this.year()%100});me(0,["YYYY",4],0,"year");me(0,["YYYYY",5],0,"year");me(0,["YYYYYY",6,!0],0,"year");qn("year","y");Gn("year",1);ce("Y",Fy);ce("YY",Tt,Vr);ce("YYYY",fA,hA);ce("YYYYY",Uy,Ly);ce("YYYYYY",Uy,Ly);ut(["YYYYY","YYYYYY"],jn);ut("YYYY",function(t,e){e[jn]=t.length===2?ae.parseTwoDigitYear(t):Ue(t)});ut("YY",function(t,e){e[jn]=ae.parseTwoDigitYear(t)});ut("Y",function(t,e){e[jn]=parseInt(t,10)});function hf(t){return Dy(t)?366:365}ae.parseTwoDigitYear=function(t){return Ue(t)+(Ue(t)>68?1900:2e3)};var H3=Fc("FullYear",!0);function afe(){return Dy(this.year())}function ufe(t,e,n,r,i,s,o){var u;return t<100&&t>=0?(u=new Date(t+400,e,n,r,i,s,o),isFinite(u.getFullYear())&&u.setFullYear(t)):u=new Date(t,e,n,r,i,s,o),u}function cd(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function V_(t,e,n){var r=7+e-n,i=(7+cd(t,0,r).getUTCDay()-e)%7;return-i+r-1}function q3(t,e,n,r,i){var s=(7+n-r)%7,o=V_(t,r,i),u=1+7*(e-1)+s+o,l,h;return u<=0?(l=t-1,h=hf(l)+u):u>hf(t)?(l=t+1,h=u-hf(t)):(l=t,h=u),{year:l,dayOfYear:h}}function hd(t,e,n){var r=V_(t.year(),e,n),i=Math.floor((t.dayOfYear()-r-1)/7)+1,s,o;return i<1?(o=t.year()-1,s=i+Bs(o,e,n)):i>Bs(t.year(),e,n)?(s=i-Bs(t.year(),e,n),o=t.year()+1):(o=t.year(),s=i),{week:s,year:o}}function Bs(t,e,n){var r=V_(t,e,n),i=V_(t+1,e,n);return(hf(t)-r+i)/7}me("w",["ww",2],"wo","week");me("W",["WW",2],"Wo","isoWeek");qn("week","w");qn("isoWeek","W");Gn("week",5);Gn("isoWeek",5);ce("w",Tt);ce("ww",Tt,Vr);ce("W",Tt);ce("WW",Tt,Vr);tp(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=Ue(t)});function lfe(t){return hd(t,this._week.dow,this._week.doy).week}var cfe={dow:0,doy:6};function hfe(){return this._week.dow}function ffe(){return this._week.doy}function dfe(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function pfe(t){var e=hd(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}me("d",0,"do","day");me("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});me("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});me("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});me("e",0,0,"weekday");me("E",0,0,"isoWeekday");qn("day","d");qn("weekday","e");qn("isoWeekday","E");Gn("day",11);Gn("weekday",11);Gn("isoWeekday",11);ce("d",Tt);ce("e",Tt);ce("E",Tt);ce("dd",function(t,e){return e.weekdaysMinRegex(t)});ce("ddd",function(t,e){return e.weekdaysShortRegex(t)});ce("dddd",function(t,e){return e.weekdaysRegex(t)});tp(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);i!=null?e.d=i:Oe(n).invalidWeekday=t});tp(["d","e","E"],function(t,e,n,r){e[r]=Ue(t)});function gfe(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function mfe(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function dA(t,e){return t.slice(e,7).concat(t.slice(0,e))}var _fe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),G3="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),vfe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),yfe=ep,wfe=ep,Efe=ep;function Sfe(t,e){var n=Li(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?dA(n,this._week.dow):t?n[t.day()]:n}function Tfe(t){return t===!0?dA(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Ife(t){return t===!0?dA(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Cfe(t,e,n){var r,i,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=fs([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?e==="dddd"?(i=jt.call(this._weekdaysParse,o),i!==-1?i:null):e==="ddd"?(i=jt.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=jt.call(this._minWeekdaysParse,o),i!==-1?i:null):e==="dddd"?(i=jt.call(this._weekdaysParse,o),i!==-1||(i=jt.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=jt.call(this._minWeekdaysParse,o),i!==-1?i:null)):e==="ddd"?(i=jt.call(this._shortWeekdaysParse,o),i!==-1||(i=jt.call(this._weekdaysParse,o),i!==-1)?i:(i=jt.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=jt.call(this._minWeekdaysParse,o),i!==-1||(i=jt.call(this._weekdaysParse,o),i!==-1)?i:(i=jt.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function Rfe(t,e,n){var r,i,s;if(this._weekdaysParseExact)return Cfe.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=fs([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function Afe(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=gfe(t,this.localeData()),this.add(t-e,"d")):e}function Pfe(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function kfe(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=mfe(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function bfe(t){return this._weekdaysParseExact?(Xe(this,"_weekdaysRegex")||pA.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Xe(this,"_weekdaysRegex")||(this._weekdaysRegex=yfe),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ofe(t){return this._weekdaysParseExact?(Xe(this,"_weekdaysRegex")||pA.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Xe(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=wfe),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Nfe(t){return this._weekdaysParseExact?(Xe(this,"_weekdaysRegex")||pA.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Xe(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Efe),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function pA(){function t(f,p){return p.length-f.length}var e=[],n=[],r=[],i=[],s,o,u,l,h;for(s=0;s<7;s++)o=fs([2e3,1]).day(s),u=kr(this.weekdaysMin(o,"")),l=kr(this.weekdaysShort(o,"")),h=kr(this.weekdays(o,"")),e.push(u),n.push(l),r.push(h),i.push(u),i.push(l),i.push(h);e.sort(t),n.sort(t),r.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function gA(){return this.hours()%12||12}function xfe(){return this.hours()||24}me("H",["HH",2],0,"hour");me("h",["hh",2],0,gA);me("k",["kk",2],0,xfe);me("hmm",0,0,function(){return""+gA.apply(this)+us(this.minutes(),2)});me("hmmss",0,0,function(){return""+gA.apply(this)+us(this.minutes(),2)+us(this.seconds(),2)});me("Hmm",0,0,function(){return""+this.hours()+us(this.minutes(),2)});me("Hmmss",0,0,function(){return""+this.hours()+us(this.minutes(),2)+us(this.seconds(),2)});function Y3(t,e){me(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}Y3("a",!0);Y3("A",!1);qn("hour","h");Gn("hour",13);function K3(t,e){return e._meridiemParse}ce("a",K3);ce("A",K3);ce("H",Tt);ce("h",Tt);ce("k",Tt);ce("HH",Tt,Vr);ce("hh",Tt,Vr);ce("kk",Tt,Vr);ce("hmm",F3);ce("hmmss",$3);ce("Hmm",F3);ce("Hmmss",$3);ut(["H","HH"],tn);ut(["k","kk"],function(t,e,n){var r=Ue(t);e[tn]=r===24?0:r});ut(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});ut(["h","hh"],function(t,e,n){e[tn]=Ue(t),Oe(n).bigHour=!0});ut("hmm",function(t,e,n){var r=t.length-2;e[tn]=Ue(t.substr(0,r)),e[Ri]=Ue(t.substr(r)),Oe(n).bigHour=!0});ut("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[tn]=Ue(t.substr(0,r)),e[Ri]=Ue(t.substr(r,2)),e[$s]=Ue(t.substr(i)),Oe(n).bigHour=!0});ut("Hmm",function(t,e,n){var r=t.length-2;e[tn]=Ue(t.substr(0,r)),e[Ri]=Ue(t.substr(r))});ut("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[tn]=Ue(t.substr(0,r)),e[Ri]=Ue(t.substr(r,2)),e[$s]=Ue(t.substr(i))});function Dfe(t){return(t+"").toLowerCase().charAt(0)==="p"}var Lfe=/[ap]\.?m?\.?/i,Mfe=Fc("Hours",!0);function Ufe(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var Q3={calendar:Rhe,longDateFormat:bhe,invalidDate:Nhe,ordinal:Dhe,dayOfMonthOrdinalParse:Lhe,relativeTime:Uhe,months:Xhe,monthsShort:V3,week:cfe,weekdays:_fe,weekdaysMin:vfe,weekdaysShort:G3,meridiemParse:Lfe},Ct={},Ch={},fd;function Ffe(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function JD(t){return t&&t.toLowerCase().replace("_","-")}function $fe(t){for(var e=0,n,r,i,s;e<t.length;){for(s=JD(t[e]).split("-"),n=s.length,r=JD(t[e+1]),r=r?r.split("-"):null;n>0;){if(i=Wy(s.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&Ffe(s,r)>=n-1)break;n--}e++}return fd}function Vfe(t){return t.match("^[^/\\\\]*$")!=null}function Wy(t){var e=null,n;if(Ct[t]===void 0&&typeof mm<"u"&&mm&&mm.exports&&Vfe(t))try{e=fd._abbr,n=require,n("./locale/"+t),Zo(e)}catch{Ct[t]=null}return Ct[t]}function Zo(t,e){var n;return t&&(fr(e)?n=io(t):n=mA(t,e),n?fd=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),fd._abbr}function mA(t,e){if(e!==null){var n,r=Q3;if(e.abbr=t,Ct[t]!=null)N3("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Ct[t]._config;else if(e.parentLocale!=null)if(Ct[e.parentLocale]!=null)r=Ct[e.parentLocale]._config;else if(n=Wy(e.parentLocale),n!=null)r=n._config;else return Ch[e.parentLocale]||(Ch[e.parentLocale]=[]),Ch[e.parentLocale].push({name:t,config:e}),null;return Ct[t]=new uA(mT(r,e)),Ch[t]&&Ch[t].forEach(function(i){mA(i.name,i.config)}),Zo(t),Ct[t]}else return delete Ct[t],null}function Wfe(t,e){if(e!=null){var n,r,i=Q3;Ct[t]!=null&&Ct[t].parentLocale!=null?Ct[t].set(mT(Ct[t]._config,e)):(r=Wy(t),r!=null&&(i=r._config),e=mT(i,e),r==null&&(e.abbr=t),n=new uA(e),n.parentLocale=Ct[t],Ct[t]=n),Zo(t)}else Ct[t]!=null&&(Ct[t].parentLocale!=null?(Ct[t]=Ct[t].parentLocale,t===Zo()&&Zo(t)):Ct[t]!=null&&delete Ct[t]);return Ct[t]}function io(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return fd;if(!Li(t)){if(e=Wy(t),e)return e;t=[t]}return $fe(t)}function jfe(){return _T(Ct)}function _A(t){var e,n=t._a;return n&&Oe(t).overflow===-2&&(e=n[Fs]<0||n[Fs]>11?Fs:n[Yi]<1||n[Yi]>Vy(n[jn],n[Fs])?Yi:n[tn]<0||n[tn]>24||n[tn]===24&&(n[Ri]!==0||n[$s]!==0||n[qa]!==0)?tn:n[Ri]<0||n[Ri]>59?Ri:n[$s]<0||n[$s]>59?$s:n[qa]<0||n[qa]>999?qa:-1,Oe(t)._overflowDayOfYear&&(e<jn||e>Yi)&&(e=Yi),Oe(t)._overflowWeeks&&e===-1&&(e=Yhe),Oe(t)._overflowWeekday&&e===-1&&(e=Khe),Oe(t).overflow=e),t}var Bfe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,zfe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Hfe=/Z|[+-]\d\d(?::?\d\d)?/,Pg=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],QE=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],qfe=/^\/?Date\((-?\d+)/i,Gfe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Yfe={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function X3(t){var e,n,r=t._i,i=Bfe.exec(r)||zfe.exec(r),s,o,u,l,h=Pg.length,f=QE.length;if(i){for(Oe(t).iso=!0,e=0,n=h;e<n;e++)if(Pg[e][1].exec(i[1])){o=Pg[e][0],s=Pg[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(i[3]){for(e=0,n=f;e<n;e++)if(QE[e][1].exec(i[3])){u=(i[2]||" ")+QE[e][0];break}if(u==null){t._isValid=!1;return}}if(!s&&u!=null){t._isValid=!1;return}if(i[4])if(Hfe.exec(i[4]))l="Z";else{t._isValid=!1;return}t._f=o+(u||"")+(l||""),yA(t)}else t._isValid=!1}function Kfe(t,e,n,r,i,s){var o=[Qfe(t),V3.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return s&&o.push(parseInt(s,10)),o}function Qfe(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function Xfe(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Jfe(t,e,n){if(t){var r=G3.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return Oe(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function Zfe(t,e,n){if(t)return Yfe[t];if(e)return 0;var r=parseInt(n,10),i=r%100,s=(r-i)/100;return s*60+i}function J3(t){var e=Gfe.exec(Xfe(t._i)),n;if(e){if(n=Kfe(e[4],e[3],e[2],e[5],e[6],e[7]),!Jfe(e[1],n,t))return;t._a=n,t._tzm=Zfe(e[8],e[9],e[10]),t._d=cd.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),Oe(t).rfc2822=!0}else t._isValid=!1}function ede(t){var e=qfe.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(X3(t),t._isValid===!1)delete t._isValid;else return;if(J3(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:ae.createFromInputFallback(t)}ae.createFromInputFallback=ci("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function ol(t,e,n){return t??e??n}function tde(t){var e=new Date(ae.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function vA(t){var e,n,r=[],i,s,o;if(!t._d){for(i=tde(t),t._w&&t._a[Yi]==null&&t._a[Fs]==null&&nde(t),t._dayOfYear!=null&&(o=ol(t._a[jn],i[jn]),(t._dayOfYear>hf(o)||t._dayOfYear===0)&&(Oe(t)._overflowDayOfYear=!0),n=cd(o,0,t._dayOfYear),t._a[Fs]=n.getUTCMonth(),t._a[Yi]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[tn]===24&&t._a[Ri]===0&&t._a[$s]===0&&t._a[qa]===0&&(t._nextDay=!0,t._a[tn]=0),t._d=(t._useUTC?cd:ufe).apply(null,r),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[tn]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==s&&(Oe(t).weekdayMismatch=!0)}}function nde(t){var e,n,r,i,s,o,u,l,h;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,o=4,n=ol(e.GG,t._a[jn],hd(St(),1,4).year),r=ol(e.W,1),i=ol(e.E,1),(i<1||i>7)&&(l=!0)):(s=t._locale._week.dow,o=t._locale._week.doy,h=hd(St(),s,o),n=ol(e.gg,t._a[jn],h.year),r=ol(e.w,h.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+s,(e.e<0||e.e>6)&&(l=!0)):i=s),r<1||r>Bs(n,s,o)?Oe(t)._overflowWeeks=!0:l!=null?Oe(t)._overflowWeekday=!0:(u=q3(n,r,i,s,o),t._a[jn]=u.year,t._dayOfYear=u.dayOfYear)}ae.ISO_8601=function(){};ae.RFC_2822=function(){};function yA(t){if(t._f===ae.ISO_8601){X3(t);return}if(t._f===ae.RFC_2822){J3(t);return}t._a=[],Oe(t).empty=!0;var e=""+t._i,n,r,i,s,o,u=e.length,l=0,h,f;for(i=x3(t._f,t._locale).match(lA)||[],f=i.length,n=0;n<f;n++)s=i[n],r=(e.match(Hhe(s,t))||[])[0],r&&(o=e.substr(0,e.indexOf(r)),o.length>0&&Oe(t).unusedInput.push(o),e=e.slice(e.indexOf(r)+r.length),l+=r.length),jl[s]?(r?Oe(t).empty=!1:Oe(t).unusedTokens.push(s),Ghe(s,r,t)):t._strict&&!r&&Oe(t).unusedTokens.push(s);Oe(t).charsLeftOver=u-l,e.length>0&&Oe(t).unusedInput.push(e),t._a[tn]<=12&&Oe(t).bigHour===!0&&t._a[tn]>0&&(Oe(t).bigHour=void 0),Oe(t).parsedDateParts=t._a.slice(0),Oe(t).meridiem=t._meridiem,t._a[tn]=rde(t._locale,t._a[tn],t._meridiem),h=Oe(t).era,h!==null&&(t._a[jn]=t._locale.erasConvertYear(h,t._a[jn])),vA(t),_A(t)}function rde(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function ide(t){var e,n,r,i,s,o,u=!1,l=t._f.length;if(l===0){Oe(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<l;i++)s=0,o=!1,e=aA({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],yA(e),oA(e)&&(o=!0),s+=Oe(e).charsLeftOver,s+=Oe(e).unusedTokens.length*10,Oe(e).score=s,u?s<r&&(r=s,n=e):(r==null||s<r||o)&&(r=s,n=e,o&&(u=!0));xo(t,n||e)}function sde(t){if(!t._d){var e=cA(t._i),n=e.day===void 0?e.date:e.day;t._a=b3([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),vA(t)}}function ode(t){var e=new Zd(_A(Z3(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Z3(t){var e=t._i,n=t._f;return t._locale=t._locale||io(t._l),e===null||n===void 0&&e===""?xy({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Mi(e)?new Zd(_A(e)):(Jd(e)?t._d=e:Li(n)?ide(t):n?yA(t):ade(t),oA(t)||(t._d=null),t))}function ade(t){var e=t._i;fr(e)?t._d=new Date(ae.now()):Jd(e)?t._d=new Date(e.valueOf()):typeof e=="string"?ede(t):Li(e)?(t._a=b3(e.slice(0),function(n){return parseInt(n,10)}),vA(t)):Za(e)?sde(t):no(e)?t._d=new Date(e):ae.createFromInputFallback(t)}function e6(t,e,n,r,i){var s={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(Za(t)&&sA(t)||Li(t)&&t.length===0)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=t,s._f=e,s._strict=r,ode(s)}function St(t,e,n,r){return e6(t,e,n,r,!1)}var ude=ci("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=St.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:xy()}),lde=ci("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=St.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:xy()});function t6(t,e){var n,r;if(e.length===1&&Li(e[0])&&(e=e[0]),!e.length)return St();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function cde(){var t=[].slice.call(arguments,0);return t6("isBefore",t)}function hde(){var t=[].slice.call(arguments,0);return t6("isAfter",t)}var fde=function(){return Date.now?Date.now():+new Date},Rh=["year","quarter","month","week","day","hour","minute","second","millisecond"];function dde(t){var e,n=!1,r,i=Rh.length;for(e in t)if(Xe(t,e)&&!(jt.call(Rh,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<i;++r)if(t[Rh[r]]){if(n)return!1;parseFloat(t[Rh[r]])!==Ue(t[Rh[r]])&&(n=!0)}return!0}function pde(){return this._isValid}function gde(){return Fi(NaN)}function jy(t){var e=cA(t),n=e.year||0,r=e.quarter||0,i=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,u=e.hour||0,l=e.minute||0,h=e.second||0,f=e.millisecond||0;this._isValid=dde(e),this._milliseconds=+f+h*1e3+l*6e4+u*1e3*60*60,this._days=+o+s*7,this._months=+i+r*3+n*12,this._data={},this._locale=io(),this._bubble()}function lm(t){return t instanceof jy}function yT(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function mde(t,e,n){var r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),s=0,o;for(o=0;o<r;o++)(n&&t[o]!==e[o]||!n&&Ue(t[o])!==Ue(e[o]))&&s++;return s+i}function n6(t,e){me(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+us(~~(n/60),2)+e+us(~~n%60,2)})}n6("Z",":");n6("ZZ","");ce("Z",$y);ce("ZZ",$y);ut(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=wA($y,t)});var _de=/([\+\-]|\d\d)/gi;function wA(t,e){var n=(e||"").match(t),r,i,s;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(_de)||["-",0,0],s=+(i[1]*60)+Ue(i[2]),s===0?0:i[0]==="+"?s:-s)}function EA(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(Mi(t)||Jd(t)?t.valueOf():St(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),ae.updateOffset(n,!1),n):St(t).local()}function wT(t){return-Math.round(t._d.getTimezoneOffset())}ae.updateOffset=function(){};function vde(t,e,n){var r=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=wA($y,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(i=wT(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?s6(this,Fi(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ae.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:wT(this)}function yde(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function wde(t){return this.utcOffset(0,t)}function Ede(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(wT(this),"m")),this}function Sde(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=wA(Bhe,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Tde(t){return this.isValid()?(t=t?St(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function Ide(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Cde(){if(!fr(this._isDSTShifted))return this._isDSTShifted;var t={},e;return aA(t,this),t=Z3(t),t._a?(e=t._isUTC?fs(t._a):St(t._a),this._isDSTShifted=this.isValid()&&mde(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Rde(){return this.isValid()?!this._isUTC:!1}function Ade(){return this.isValid()?this._isUTC:!1}function r6(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Pde=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,kde=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Fi(t,e){var n=t,r=null,i,s,o;return lm(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:no(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=Pde.exec(t))?(i=r[1]==="-"?-1:1,n={y:0,d:Ue(r[Yi])*i,h:Ue(r[tn])*i,m:Ue(r[Ri])*i,s:Ue(r[$s])*i,ms:Ue(yT(r[qa]*1e3))*i}):(r=kde.exec(t))?(i=r[1]==="-"?-1:1,n={y:ka(r[2],i),M:ka(r[3],i),w:ka(r[4],i),d:ka(r[5],i),h:ka(r[6],i),m:ka(r[7],i),s:ka(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=bde(St(n.from),St(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),s=new jy(n),lm(t)&&Xe(t,"_locale")&&(s._locale=t._locale),lm(t)&&Xe(t,"_isValid")&&(s._isValid=t._isValid),s}Fi.fn=jy.prototype;Fi.invalid=gde;function ka(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function ZD(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function bde(t,e){var n;return t.isValid()&&e.isValid()?(e=EA(e,t),t.isBefore(e)?n=ZD(t,e):(n=ZD(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function i6(t,e){return function(n,r){var i,s;return r!==null&&!isNaN(+r)&&(N3(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=r,r=s),i=Fi(n,r),s6(this,i,t),this}}function s6(t,e,n,r){var i=e._milliseconds,s=yT(e._days),o=yT(e._months);t.isValid()&&(r=r??!0,o&&j3(t,F_(t,"Month")+o*n),s&&L3(t,"Date",F_(t,"Date")+s*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&ae.updateOffset(t,s||o))}var Ode=i6(1,"add"),Nde=i6(-1,"subtract");function o6(t){return typeof t=="string"||t instanceof String}function xde(t){return Mi(t)||Jd(t)||o6(t)||no(t)||Lde(t)||Dde(t)||t===null||t===void 0}function Dde(t){var e=Za(t)&&!sA(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,s,o=r.length;for(i=0;i<o;i+=1)s=r[i],n=n||Xe(t,s);return e&&n}function Lde(t){var e=Li(t),n=!1;return e&&(n=t.filter(function(r){return!no(r)&&o6(t)}).length===0),e&&n}function Mde(t){var e=Za(t)&&!sA(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,s;for(i=0;i<r.length;i+=1)s=r[i],n=n||Xe(t,s);return e&&n}function Ude(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Fde(t,e){arguments.length===1&&(arguments[0]?xde(arguments[0])?(t=arguments[0],e=void 0):Mde(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||St(),r=EA(n,this).startOf("day"),i=ae.calendarFormat(this,r)||"sameElse",s=e&&(ds(e[i])?e[i].call(this,n):e[i]);return this.format(s||this.localeData().calendar(i,this,St(n)))}function $de(){return new Zd(this)}function Vde(t,e){var n=Mi(t)?t:St(t);return this.isValid()&&n.isValid()?(e=hi(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function Wde(t,e){var n=Mi(t)?t:St(t);return this.isValid()&&n.isValid()?(e=hi(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function jde(t,e,n,r){var i=Mi(t)?t:St(t),s=Mi(e)?e:St(e);return this.isValid()&&i.isValid()&&s.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(s,n):!this.isAfter(s,n))):!1}function Bde(t,e){var n=Mi(t)?t:St(t),r;return this.isValid()&&n.isValid()?(e=hi(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function zde(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Hde(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function qde(t,e,n){var r,i,s;if(!this.isValid())return NaN;if(r=EA(t,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,e=hi(e),e){case"year":s=cm(this,r)/12;break;case"month":s=cm(this,r);break;case"quarter":s=cm(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:Jr(s)}function cm(t,e){if(t.date()<e.date())return-cm(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),i,s;return e-r<0?(i=t.clone().add(n-1,"months"),s=(e-r)/(r-i)):(i=t.clone().add(n+1,"months"),s=(e-r)/(i-r)),-(n+s)||0}ae.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";ae.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Gde(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Yde(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?um(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ds(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",um(n,"Z")):um(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Kde(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,i,s;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(n+r+i+s)}function Qde(t){t||(t=this.isUtc()?ae.defaultFormatUtc:ae.defaultFormat);var e=um(this,t);return this.localeData().postformat(e)}function Xde(t,e){return this.isValid()&&(Mi(t)&&t.isValid()||St(t).isValid())?Fi({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Jde(t){return this.from(St(),t)}function Zde(t,e){return this.isValid()&&(Mi(t)&&t.isValid()||St(t).isValid())?Fi({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function epe(t){return this.to(St(),t)}function a6(t){var e;return t===void 0?this._locale._abbr:(e=io(t),e!=null&&(this._locale=e),this)}var u6=ci("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function l6(){return this._locale}var W_=1e3,Bl=60*W_,j_=60*Bl,c6=(365*400+97)*24*j_;function zl(t,e){return(t%e+e)%e}function h6(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-c6:new Date(t,e,n).valueOf()}function f6(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-c6:Date.UTC(t,e,n)}function tpe(t){var e,n;if(t=hi(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?f6:h6,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=zl(e+(this._isUTC?0:this.utcOffset()*Bl),j_);break;case"minute":e=this._d.valueOf(),e-=zl(e,Bl);break;case"second":e=this._d.valueOf(),e-=zl(e,W_);break}return this._d.setTime(e),ae.updateOffset(this,!0),this}function npe(t){var e,n;if(t=hi(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?f6:h6,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=j_-zl(e+(this._isUTC?0:this.utcOffset()*Bl),j_)-1;break;case"minute":e=this._d.valueOf(),e+=Bl-zl(e,Bl)-1;break;case"second":e=this._d.valueOf(),e+=W_-zl(e,W_)-1;break}return this._d.setTime(e),ae.updateOffset(this,!0),this}function rpe(){return this._d.valueOf()-(this._offset||0)*6e4}function ipe(){return Math.floor(this.valueOf()/1e3)}function spe(){return new Date(this.valueOf())}function ope(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function ape(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function upe(){return this.isValid()?this.toISOString():null}function lpe(){return oA(this)}function cpe(){return xo({},Oe(this))}function hpe(){return Oe(this).overflow}function fpe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}me("N",0,0,"eraAbbr");me("NN",0,0,"eraAbbr");me("NNN",0,0,"eraAbbr");me("NNNN",0,0,"eraName");me("NNNNN",0,0,"eraNarrow");me("y",["y",1],"yo","eraYear");me("y",["yy",2],0,"eraYear");me("y",["yyy",3],0,"eraYear");me("y",["yyyy",4],0,"eraYear");ce("N",SA);ce("NN",SA);ce("NNN",SA);ce("NNNN",Tpe);ce("NNNNN",Ipe);ut(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?Oe(n).era=i:Oe(n).invalidEra=t});ce("y",$c);ce("yy",$c);ce("yyy",$c);ce("yyyy",$c);ce("yo",Cpe);ut(["y","yy","yyy","yyyy"],jn);ut(["yo"],function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[jn]=n._locale.eraYearOrdinalParse(t,i):e[jn]=parseInt(t,10)});function dpe(t,e){var n,r,i,s=this._eras||io("en")._eras;for(n=0,r=s.length;n<r;++n){switch(typeof s[n].since){case"string":i=ae(s[n].since).startOf("day"),s[n].since=i.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":i=ae(s[n].until).startOf("day").valueOf(),s[n].until=i.valueOf();break}}return s}function ppe(t,e,n){var r,i,s=this.eras(),o,u,l;for(t=t.toUpperCase(),r=0,i=s.length;r<i;++r)if(o=s[r].name.toUpperCase(),u=s[r].abbr.toUpperCase(),l=s[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(u===t)return s[r];break;case"NNNN":if(o===t)return s[r];break;case"NNNNN":if(l===t)return s[r];break}else if([o,u,l].indexOf(t)>=0)return s[r]}function gpe(t,e){var n=t.since<=t.until?1:-1;return e===void 0?ae(t.since).year():ae(t.since).year()+(e-t.offset)*n}function mpe(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function _pe(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function vpe(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function ype(){var t,e,n,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until||i[t].until<=r&&r<=i[t].since)return(this.year()-ae(i[t].since).year())*n+i[t].offset;return this.year()}function wpe(t){return Xe(this,"_erasNameRegex")||TA.call(this),t?this._erasNameRegex:this._erasRegex}function Epe(t){return Xe(this,"_erasAbbrRegex")||TA.call(this),t?this._erasAbbrRegex:this._erasRegex}function Spe(t){return Xe(this,"_erasNarrowRegex")||TA.call(this),t?this._erasNarrowRegex:this._erasRegex}function SA(t,e){return e.erasAbbrRegex(t)}function Tpe(t,e){return e.erasNameRegex(t)}function Ipe(t,e){return e.erasNarrowRegex(t)}function Cpe(t,e){return e._eraYearOrdinalRegex||$c}function TA(){var t=[],e=[],n=[],r=[],i,s,o=this.eras();for(i=0,s=o.length;i<s;++i)e.push(kr(o[i].name)),t.push(kr(o[i].abbr)),n.push(kr(o[i].narrow)),r.push(kr(o[i].name)),r.push(kr(o[i].abbr)),r.push(kr(o[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}me(0,["gg",2],0,function(){return this.weekYear()%100});me(0,["GG",2],0,function(){return this.isoWeekYear()%100});function By(t,e){me(0,[t,t.length],0,e)}By("gggg","weekYear");By("ggggg","weekYear");By("GGGG","isoWeekYear");By("GGGGG","isoWeekYear");qn("weekYear","gg");qn("isoWeekYear","GG");Gn("weekYear",1);Gn("isoWeekYear",1);ce("G",Fy);ce("g",Fy);ce("GG",Tt,Vr);ce("gg",Tt,Vr);ce("GGGG",fA,hA);ce("gggg",fA,hA);ce("GGGGG",Uy,Ly);ce("ggggg",Uy,Ly);tp(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=Ue(t)});tp(["gg","GG"],function(t,e,n,r){e[r]=ae.parseTwoDigitYear(t)});function Rpe(t){return d6.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Ape(t){return d6.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Ppe(){return Bs(this.year(),1,4)}function kpe(){return Bs(this.isoWeekYear(),1,4)}function bpe(){var t=this.localeData()._week;return Bs(this.year(),t.dow,t.doy)}function Ope(){var t=this.localeData()._week;return Bs(this.weekYear(),t.dow,t.doy)}function d6(t,e,n,r,i){var s;return t==null?hd(this,r,i).year:(s=Bs(t,r,i),e>s&&(e=s),Npe.call(this,t,e,n,r,i))}function Npe(t,e,n,r,i){var s=q3(t,e,n,r,i),o=cd(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}me("Q",0,"Qo","quarter");qn("quarter","Q");Gn("quarter",7);ce("Q",M3);ut("Q",function(t,e){e[Fs]=(Ue(t)-1)*3});function xpe(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}me("D",["DD",2],"Do","date");qn("date","D");Gn("date",9);ce("D",Tt);ce("DD",Tt,Vr);ce("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});ut(["D","DD"],Yi);ut("Do",function(t,e){e[Yi]=Ue(t.match(Tt)[0])});var p6=Fc("Date",!0);me("DDD",["DDDD",3],"DDDo","dayOfYear");qn("dayOfYear","DDD");Gn("dayOfYear",4);ce("DDD",My);ce("DDDD",U3);ut(["DDD","DDDD"],function(t,e,n){n._dayOfYear=Ue(t)});function Dpe(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}me("m",["mm",2],0,"minute");qn("minute","m");Gn("minute",14);ce("m",Tt);ce("mm",Tt,Vr);ut(["m","mm"],Ri);var Lpe=Fc("Minutes",!1);me("s",["ss",2],0,"second");qn("second","s");Gn("second",15);ce("s",Tt);ce("ss",Tt,Vr);ut(["s","ss"],$s);var Mpe=Fc("Seconds",!1);me("S",0,0,function(){return~~(this.millisecond()/100)});me(0,["SS",2],0,function(){return~~(this.millisecond()/10)});me(0,["SSS",3],0,"millisecond");me(0,["SSSS",4],0,function(){return this.millisecond()*10});me(0,["SSSSS",5],0,function(){return this.millisecond()*100});me(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});me(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});me(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});me(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});qn("millisecond","ms");Gn("millisecond",16);ce("S",My,M3);ce("SS",My,Vr);ce("SSS",My,U3);var Do,g6;for(Do="SSSS";Do.length<=9;Do+="S")ce(Do,$c);function Upe(t,e){e[qa]=Ue(("0."+t)*1e3)}for(Do="S";Do.length<=9;Do+="S")ut(Do,Upe);g6=Fc("Milliseconds",!1);me("z",0,0,"zoneAbbr");me("zz",0,0,"zoneName");function Fpe(){return this._isUTC?"UTC":""}function $pe(){return this._isUTC?"Coordinated Universal Time":""}var Z=Zd.prototype;Z.add=Ode;Z.calendar=Fde;Z.clone=$de;Z.diff=qde;Z.endOf=npe;Z.format=Qde;Z.from=Xde;Z.fromNow=Jde;Z.to=Zde;Z.toNow=epe;Z.get=Whe;Z.invalidAt=hpe;Z.isAfter=Vde;Z.isBefore=Wde;Z.isBetween=jde;Z.isSame=Bde;Z.isSameOrAfter=zde;Z.isSameOrBefore=Hde;Z.isValid=lpe;Z.lang=u6;Z.locale=a6;Z.localeData=l6;Z.max=lde;Z.min=ude;Z.parsingFlags=cpe;Z.set=jhe;Z.startOf=tpe;Z.subtract=Nde;Z.toArray=ope;Z.toObject=ape;Z.toDate=spe;Z.toISOString=Yde;Z.inspect=Kde;typeof Symbol<"u"&&Symbol.for!=null&&(Z[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Z.toJSON=upe;Z.toString=Gde;Z.unix=ipe;Z.valueOf=rpe;Z.creationData=fpe;Z.eraName=mpe;Z.eraNarrow=_pe;Z.eraAbbr=vpe;Z.eraYear=ype;Z.year=H3;Z.isLeapYear=afe;Z.weekYear=Rpe;Z.isoWeekYear=Ape;Z.quarter=Z.quarters=xpe;Z.month=B3;Z.daysInMonth=ife;Z.week=Z.weeks=dfe;Z.isoWeek=Z.isoWeeks=pfe;Z.weeksInYear=bpe;Z.weeksInWeekYear=Ope;Z.isoWeeksInYear=Ppe;Z.isoWeeksInISOWeekYear=kpe;Z.date=p6;Z.day=Z.days=Afe;Z.weekday=Pfe;Z.isoWeekday=kfe;Z.dayOfYear=Dpe;Z.hour=Z.hours=Mfe;Z.minute=Z.minutes=Lpe;Z.second=Z.seconds=Mpe;Z.millisecond=Z.milliseconds=g6;Z.utcOffset=vde;Z.utc=wde;Z.local=Ede;Z.parseZone=Sde;Z.hasAlignedHourOffset=Tde;Z.isDST=Ide;Z.isLocal=Rde;Z.isUtcOffset=Ade;Z.isUtc=r6;Z.isUTC=r6;Z.zoneAbbr=Fpe;Z.zoneName=$pe;Z.dates=ci("dates accessor is deprecated. Use date instead.",p6);Z.months=ci("months accessor is deprecated. Use month instead",B3);Z.years=ci("years accessor is deprecated. Use year instead",H3);Z.zone=ci("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",yde);Z.isDSTShifted=ci("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Cde);function Vpe(t){return St(t*1e3)}function Wpe(){return St.apply(null,arguments).parseZone()}function m6(t){return t}var Je=uA.prototype;Je.calendar=Ahe;Je.longDateFormat=Ohe;Je.invalidDate=xhe;Je.ordinal=Mhe;Je.preparse=m6;Je.postformat=m6;Je.relativeTime=Fhe;Je.pastFuture=$he;Je.set=Che;Je.eras=dpe;Je.erasParse=ppe;Je.erasConvertYear=gpe;Je.erasAbbrRegex=Epe;Je.erasNameRegex=wpe;Je.erasNarrowRegex=Spe;Je.months=efe;Je.monthsShort=tfe;Je.monthsParse=rfe;Je.monthsRegex=ofe;Je.monthsShortRegex=sfe;Je.week=lfe;Je.firstDayOfYear=ffe;Je.firstDayOfWeek=hfe;Je.weekdays=Sfe;Je.weekdaysMin=Ife;Je.weekdaysShort=Tfe;Je.weekdaysParse=Rfe;Je.weekdaysRegex=bfe;Je.weekdaysShortRegex=Ofe;Je.weekdaysMinRegex=Nfe;Je.isPM=Dfe;Je.meridiem=Ufe;function B_(t,e,n,r){var i=io(),s=fs().set(r,e);return i[n](s,t)}function _6(t,e,n){if(no(t)&&(e=t,t=void 0),t=t||"",e!=null)return B_(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=B_(t,r,n,"month");return i}function IA(t,e,n,r){typeof t=="boolean"?(no(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,no(e)&&(n=e,e=void 0),e=e||"");var i=io(),s=t?i._week.dow:0,o,u=[];if(n!=null)return B_(e,(n+s)%7,r,"day");for(o=0;o<7;o++)u[o]=B_(e,(o+s)%7,r,"day");return u}function jpe(t,e){return _6(t,e,"months")}function Bpe(t,e){return _6(t,e,"monthsShort")}function zpe(t,e,n){return IA(t,e,n,"weekdays")}function Hpe(t,e,n){return IA(t,e,n,"weekdaysShort")}function qpe(t,e,n){return IA(t,e,n,"weekdaysMin")}Zo("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=Ue(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});ae.lang=ci("moment.lang is deprecated. Use moment.locale instead.",Zo);ae.langData=ci("moment.langData is deprecated. Use moment.localeData instead.",io);var Cs=Math.abs;function Gpe(){var t=this._data;return this._milliseconds=Cs(this._milliseconds),this._days=Cs(this._days),this._months=Cs(this._months),t.milliseconds=Cs(t.milliseconds),t.seconds=Cs(t.seconds),t.minutes=Cs(t.minutes),t.hours=Cs(t.hours),t.months=Cs(t.months),t.years=Cs(t.years),this}function v6(t,e,n,r){var i=Fi(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function Ype(t,e){return v6(this,t,e,1)}function Kpe(t,e){return v6(this,t,e,-1)}function eL(t){return t<0?Math.floor(t):Math.ceil(t)}function Qpe(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,i,s,o,u,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=eL(ET(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,i=Jr(t/1e3),r.seconds=i%60,s=Jr(i/60),r.minutes=s%60,o=Jr(s/60),r.hours=o%24,e+=Jr(o/24),l=Jr(y6(e)),n+=l,e-=eL(ET(l)),u=Jr(n/12),n%=12,r.days=e,r.months=n,r.years=u,this}function y6(t){return t*4800/146097}function ET(t){return t*146097/4800}function Xpe(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=hi(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+y6(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(ET(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function Jpe(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Ue(this._months/12)*31536e6:NaN}function so(t){return function(){return this.as(t)}}var Zpe=so("ms"),ege=so("s"),tge=so("m"),nge=so("h"),rge=so("d"),ige=so("w"),sge=so("M"),oge=so("Q"),age=so("y");function uge(){return Fi(this)}function lge(t){return t=hi(t),this.isValid()?this[t+"s"]():NaN}function Ou(t){return function(){return this.isValid()?this._data[t]:NaN}}var cge=Ou("milliseconds"),hge=Ou("seconds"),fge=Ou("minutes"),dge=Ou("hours"),pge=Ou("days"),gge=Ou("months"),mge=Ou("years");function _ge(){return Jr(this.days()/7)}var Ps=Math.round,Sl={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function vge(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function yge(t,e,n,r){var i=Fi(t).abs(),s=Ps(i.as("s")),o=Ps(i.as("m")),u=Ps(i.as("h")),l=Ps(i.as("d")),h=Ps(i.as("M")),f=Ps(i.as("w")),p=Ps(i.as("y")),g=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||o<=1&&["m"]||o<n.m&&["mm",o]||u<=1&&["h"]||u<n.h&&["hh",u]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(g=g||f<=1&&["w"]||f<n.w&&["ww",f]),g=g||h<=1&&["M"]||h<n.M&&["MM",h]||p<=1&&["y"]||["yy",p],g[2]=e,g[3]=+t>0,g[4]=r,vge.apply(null,g)}function wge(t){return t===void 0?Ps:typeof t=="function"?(Ps=t,!0):!1}function Ege(t,e){return Sl[t]===void 0?!1:e===void 0?Sl[t]:(Sl[t]=e,t==="s"&&(Sl.ss=e-1),!0)}function Sge(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Sl,i,s;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},Sl,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),i=this.localeData(),s=yge(this,!n,r,i),n&&(s=i.pastFuture(+this,s)),i.postformat(s)}var XE=Math.abs;function Zu(t){return(t>0)-(t<0)||+t}function zy(){if(!this.isValid())return this.localeData().invalidDate();var t=XE(this._milliseconds)/1e3,e=XE(this._days),n=XE(this._months),r,i,s,o,u=this.asSeconds(),l,h,f,p;return u?(r=Jr(t/60),i=Jr(r/60),t%=60,r%=60,s=Jr(n/12),n%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=u<0?"-":"",h=Zu(this._months)!==Zu(u)?"-":"",f=Zu(this._days)!==Zu(u)?"-":"",p=Zu(this._milliseconds)!==Zu(u)?"-":"",l+"P"+(s?h+s+"Y":"")+(n?h+n+"M":"")+(e?f+e+"D":"")+(i||r||t?"T":"")+(i?p+i+"H":"")+(r?p+r+"M":"")+(t?p+o+"S":"")):"P0D"}var He=jy.prototype;He.isValid=pde;He.abs=Gpe;He.add=Ype;He.subtract=Kpe;He.as=Xpe;He.asMilliseconds=Zpe;He.asSeconds=ege;He.asMinutes=tge;He.asHours=nge;He.asDays=rge;He.asWeeks=ige;He.asMonths=sge;He.asQuarters=oge;He.asYears=age;He.valueOf=Jpe;He._bubble=Qpe;He.clone=uge;He.get=lge;He.milliseconds=cge;He.seconds=hge;He.minutes=fge;He.hours=dge;He.days=pge;He.weeks=_ge;He.months=gge;He.years=mge;He.humanize=Sge;He.toISOString=zy;He.toString=zy;He.toJSON=zy;He.locale=a6;He.localeData=l6;He.toIsoString=ci("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",zy);He.lang=u6;me("X",0,0,"unix");me("x",0,0,"valueOf");ce("x",Fy);ce("X",zhe);ut("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});ut("x",function(t,e,n){n._d=new Date(Ue(t))});//! moment.js
ae.version="2.29.4";The(St);ae.fn=Z;ae.min=cde;ae.max=hde;ae.now=fde;ae.utc=fs;ae.unix=Vpe;ae.months=jpe;ae.isDate=Jd;ae.locale=Zo;ae.invalid=xy;ae.duration=Fi;ae.isMoment=Mi;ae.weekdays=zpe;ae.parseZone=Wpe;ae.localeData=io;ae.isDuration=lm;ae.monthsShort=Bpe;ae.weekdaysMin=qpe;ae.defineLocale=mA;ae.updateLocale=Wfe;ae.locales=jfe;ae.weekdaysShort=Hpe;ae.normalizeUnits=hi;ae.relativeTimeRounding=wge;ae.relativeTimeThreshold=Ege;ae.calendarFormat=Ude;ae.prototype=Z;ae.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const Tge="Pyf",Ige="i-p",Cge="F2M",Rge="_2Sx",kg={message:Tge,owner:Ige,content:Cge,info:Rge};var Age=function(e){var n=e.text,r=e.senderId,i=e.createdAt,s=e.imgUrl,o=yr(function(h){return h.user}),u=o.chat,l=o.user;return Qe("div",{className:Uc(kg.message,(l==null?void 0:l.uid)===r&&kg.owner),children:[Qe("div",{className:kg.info,children:[te("img",{alt:"avatar",src:(l==null?void 0:l.uid)===r?l.avatarUrl:u==null?void 0:u.interlocutorInfo.avatarUrl}),te("span",{children:ae(i).format("LT")})]}),Qe("div",{className:kg.content,children:[s&&te("img",{alt:"attached",src:s}),n&&te("p",{children:n})]})]})};const Pge="_6GP",kge={container:Pge};function bge(t,e){return Dge(t)||xge(t,e)||Nge(t,e)||Oge()}function Oge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nge(t,e){if(t){if(typeof t=="string")return tL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tL(t,e)}}function tL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,u=[],l=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(f){h=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function Dge(t){if(Array.isArray(t))return t}var Lge=function(){var e=yr(function(l){return l.user}),n=e.chat,r=X.useState([]),i=bge(r,2),s=i[0],o=i[1],u=X.useRef(null);return X.useEffect(function(){o([]);var l=pr(XC(),"".concat(_t.Chats,"/").concat(n==null?void 0:n.chatUid,"/").concat(_t.Messages)),h=Y$(l,function(f){if(f.val()){var p=Object.values(f.val());o(p)}});return function(){h()}},[n==null?void 0:n.chatUid]),X.useEffect(function(){if(u.current){var l;(l=u.current.lastElementChild)===null||l===void 0||l.scrollIntoView({behavior:"smooth"})}},[s]),te("div",{ref:u,className:kge.container,children:ou.map(s,function(l){return te(Age,{...l},l.id)})})};const Mge="zsV",Uge="LJZ",Fge="rML",$ge="bff",bg={container:Mge,logo:Uge,opened:Fge,user:$ge};var Vge=function(){var e=Su(),n=yr(function(u){return u.user}),r=n.user,i=yr(function(u){return u.cache}),s=i.isChatOpened,o=function(){e(Ge.actions.logout())};return Qe("div",{className:bg.container,children:[Qe(Dv,{className:Uc(bg.logo,s&&bg.opened),to:En.Root,children:[te("img",{alt:"logo",src:"./logo.png"}),"Chat"]}),Qe("div",{className:bg.user,children:[te("img",{alt:"avatar",src:r==null?void 0:r.avatarUrl}),te("span",{children:r==null?void 0:r.nickname}),te("button",{onClick:o,children:"logout"})]})]})},Wge=function(e){var n=e.children,r=yr(function(s){return s.user}),i=r.user;return i!=null&&i.uid?n:te(LK,{to:"".concat(En.Root).concat(En.Login)})};const jge="AAI",Bge="DfR",zge="jvh",Hge="_0Pa",Og={container:jge,chat:Bge,chatInfo:zge,username:Hge};function nL(t,e){return Kge(t)||Yge(t,e)||Gge(t,e)||qge()}function qge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gge(t,e){if(t){if(typeof t=="string")return rL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rL(t,e)}}function rL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,u=[],l=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(f){h=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function Kge(t){if(Array.isArray(t))return t}var Qge=function(){var e=X.useState(""),n=nL(e,2),r=n[0],i=n[1],s=X.useState(""),o=nL(s,2),u=o[0],l=o[1],h=Su(),f=yr(function(E){return E.user}),p=f.searchedUsers,g=function(C){if(C==null||C.preventDefault(),i(u),u===""){h(Ge.actions.clearSearchedUser());return}r!==u&&u!==""&&h(Ge.actions.searchUser(u))},v=function(C){l(C.target.value)};return xI(function(){h(Ge.actions.clearSearchedUser())}),Qe("form",{className:Og.container,onSubmit:g,children:[te("input",{placeholder:"Find a user",type:"text",value:u,onChange:v}),ou.map(p,function(E){var C=function(){l(""),i(""),h(Ge.actions.getInterlocutor(E)),h(Ge.actions.clearSearchedUser())};return Qe("button",{className:Og.chat,onClick:C,children:[te("img",{alt:"avatar",src:E.avatarUrl}),te("div",{className:Og.chatInfo,children:te("span",{className:Og.username,children:E.nickname})})]},E.uid)})]})};const Xge="eGh",Jge="FKL",Zge="QCC",JE={container:Xge,hide:Jge,content:Zge};var eme=function(){var e=yr(function(r){return r.cache}),n=e.isChatOpened;return Qe("div",{className:Uc(JE.container,n&&JE.hide),children:[te(Vge,{}),Qe("div",{className:JE.content,children:[te(Qge,{}),te(hhe,{})]})]})};const tme="PhY",nme="xxr",rme="uJq",ime="BZ4",Ng={chat:tme,active:nme,chatInfo:rme,username:ime};var sme=function(e){var n=e.chatInfo,r=e.isActive,i=Su(),s=function(){i(Ge.actions.getInterlocutor(ou.clone(n.interlocutorInfo))),i(Ge.actions.clearSearchedUser())};return Qe("button",{className:Uc(Ng.chat,r&&Ng.active),onClick:s,children:[te("img",{alt:"avatar",src:n.interlocutorInfo.avatarUrl}),Qe("div",{className:Ng.chatInfo,children:[te("span",{className:Ng.username,children:n.interlocutorInfo.alias||n.interlocutorInfo.nickname}),te("span",{children:ae(n.lastUpdate).fromNow()}),te("p",{children:n.lastMessage})]})]},n.interlocutorInfo.uid)},ome=X.memo(sme);const ame="Rbz",ume="ZJj",iL={container:ame,closed:ume};var lme=function(){var e=wd(),n=Su(),r=X.useMemo(function(){return!!e.pathname.match(/\/.+/g)},[e.pathname]);return X.useEffect(function(){n(mU.actions.setIsChatOpened(r))},[r]),Qe("div",{className:Uc(iL.container,!r&&iL.closed),children:[te(eme,{}),te(sU,{})]})};const cme="YEy",hme="nrP",fme="EIi",dme="_1Wn",pme="DjV",gme="Cim",el={container:cme,title:hme,subtitle:fme,form:dme,error:pme,login:gme};function ST(t){return ST=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ST(t)}function TT(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */TT=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(I,_,w){I[_]=w.value},i=typeof Symbol=="function"?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(I,_,w){return Object.defineProperty(I,_,{value:w,enumerable:!0,configurable:!0,writable:!0}),I[_]}try{l({},"")}catch{l=function(w,N,D){return w[N]=D}}function h(I,_,w,N){var D=_&&_.prototype instanceof g?_:g,O=Object.create(D.prototype),M=new ie(N||[]);return r(O,"_invoke",{value:F(I,w,M)}),O}function f(I,_,w){try{return{type:"normal",arg:I.call(_,w)}}catch(N){return{type:"throw",arg:N}}}t.wrap=h;var p={};function g(){}function v(){}function E(){}var C={};l(C,s,function(){return this});var A=Object.getPrototypeOf,S=A&&A(A(re([])));S&&S!==e&&n.call(S,s)&&(C=S);var T=E.prototype=g.prototype=Object.create(C);function k(I){["next","throw","return"].forEach(function(_){l(I,_,function(w){return this._invoke(_,w)})})}function b(I,_){function w(D,O,M,B){var H=f(I[D],I,O);if(H.type!=="throw"){var ue=H.arg,fe=ue.value;return fe&&ST(fe)=="object"&&n.call(fe,"__await")?_.resolve(fe.__await).then(function(Se){w("next",Se,M,B)},function(Se){w("throw",Se,M,B)}):_.resolve(fe).then(function(Se){ue.value=Se,M(ue)},function(Se){return w("throw",Se,M,B)})}B(H.arg)}var N;r(this,"_invoke",{value:function(O,M){function B(){return new _(function(H,ue){w(O,M,H,ue)})}return N=N?N.then(B,B):B()}})}function F(I,_,w){var N="suspendedStart";return function(D,O){if(N==="executing")throw new Error("Generator is already running");if(N==="completed"){if(D==="throw")throw O;return Ne()}for(w.method=D,w.arg=O;;){var M=w.delegate;if(M){var B=V(M,w);if(B){if(B===p)continue;return B}}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(N==="suspendedStart")throw N="completed",w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);N="executing";var H=f(I,_,w);if(H.type==="normal"){if(N=w.done?"completed":"suspendedYield",H.arg===p)continue;return{value:H.arg,done:w.done}}H.type==="throw"&&(N="completed",w.method="throw",w.arg=H.arg)}}}function V(I,_){var w=_.method,N=I.iterator[w];if(N===void 0)return _.delegate=null,w==="throw"&&I.iterator.return&&(_.method="return",_.arg=void 0,V(I,_),_.method==="throw")||w!=="return"&&(_.method="throw",_.arg=new TypeError("The iterator does not provide a '"+w+"' method")),p;var D=f(N,I.iterator,_.arg);if(D.type==="throw")return _.method="throw",_.arg=D.arg,_.delegate=null,p;var O=D.arg;return O?O.done?(_[I.resultName]=O.value,_.next=I.nextLoc,_.method!=="return"&&(_.method="next",_.arg=void 0),_.delegate=null,p):O:(_.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,p)}function W(I){var _={tryLoc:I[0]};1 in I&&(_.catchLoc=I[1]),2 in I&&(_.finallyLoc=I[2],_.afterLoc=I[3]),this.tryEntries.push(_)}function G(I){var _=I.completion||{};_.type="normal",delete _.arg,I.completion=_}function ie(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(W,this),this.reset(!0)}function re(I){if(I){var _=I[s];if(_)return _.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var w=-1,N=function D(){for(;++w<I.length;)if(n.call(I,w))return D.value=I[w],D.done=!1,D;return D.value=void 0,D.done=!0,D};return N.next=N}}return{next:Ne}}function Ne(){return{value:void 0,done:!0}}return v.prototype=E,r(T,"constructor",{value:E,configurable:!0}),r(E,"constructor",{value:v,configurable:!0}),v.displayName=l(E,u,"GeneratorFunction"),t.isGeneratorFunction=function(I){var _=typeof I=="function"&&I.constructor;return!!_&&(_===v||(_.displayName||_.name)==="GeneratorFunction")},t.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,E):(I.__proto__=E,l(I,u,"GeneratorFunction")),I.prototype=Object.create(T),I},t.awrap=function(I){return{__await:I}},k(b.prototype),l(b.prototype,o,function(){return this}),t.AsyncIterator=b,t.async=function(I,_,w,N,D){D===void 0&&(D=Promise);var O=new b(h(I,_,w,N),D);return t.isGeneratorFunction(_)?O:O.next().then(function(M){return M.done?M.value:O.next()})},k(T),l(T,u,"Generator"),l(T,s,function(){return this}),l(T,"toString",function(){return"[object Generator]"}),t.keys=function(I){var _=Object(I),w=[];for(var N in _)w.push(N);return w.reverse(),function D(){for(;w.length;){var O=w.pop();if(O in _)return D.value=O,D.done=!1,D}return D.done=!0,D}},t.values=re,ie.prototype={constructor:ie,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(G),!_)for(var w in this)w.charAt(0)==="t"&&n.call(this,w)&&!isNaN(+w.slice(1))&&(this[w]=void 0)},stop:function(){this.done=!0;var _=this.tryEntries[0].completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var w=this;function N(ue,fe){return M.type="throw",M.arg=_,w.next=ue,fe&&(w.method="next",w.arg=void 0),!!fe}for(var D=this.tryEntries.length-1;D>=0;--D){var O=this.tryEntries[D],M=O.completion;if(O.tryLoc==="root")return N("end");if(O.tryLoc<=this.prev){var B=n.call(O,"catchLoc"),H=n.call(O,"finallyLoc");if(B&&H){if(this.prev<O.catchLoc)return N(O.catchLoc,!0);if(this.prev<O.finallyLoc)return N(O.finallyLoc)}else if(B){if(this.prev<O.catchLoc)return N(O.catchLoc,!0)}else{if(!H)throw new Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return N(O.finallyLoc)}}}},abrupt:function(_,w){for(var N=this.tryEntries.length-1;N>=0;--N){var D=this.tryEntries[N];if(D.tryLoc<=this.prev&&n.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var O=D;break}}O&&(_==="break"||_==="continue")&&O.tryLoc<=w&&w<=O.finallyLoc&&(O=null);var M=O?O.completion:{};return M.type=_,M.arg=w,O?(this.method="next",this.next=O.finallyLoc,p):this.complete(M)},complete:function(_,w){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&w&&(this.next=w),p},finish:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.finallyLoc===_)return this.complete(N.completion,N.afterLoc),G(N),p}},catch:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.tryLoc===_){var D=N.completion;if(D.type==="throw"){var O=D.arg;G(N)}return O}}throw new Error("illegal catch attempt")},delegateYield:function(_,w,N){return this.delegate={iterator:re(_),resultName:w,nextLoc:N},this.method==="next"&&(this.arg=void 0),p}},t}function sL(t,e,n,r,i,s,o){try{var u=t[s](o),l=u.value}catch(h){n(h);return}u.done?e(l):Promise.resolve(l).then(r,i)}function mme(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(l){sL(s,r,i,o,u,"next",l)}function u(l){sL(s,r,i,o,u,"throw",l)}o(void 0)})}}var _me=function(){var e=$M(),n=e.t,r=Su(),i=yr(function(h){return h.app}),s=i.errors.loginUser,o=i.loading.isLoginUser,u=function(){var h=mme(TT().mark(function f(p){var g,v,E;return TT().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:p.preventDefault(),g=p.target,v=g.email,E=g.password,r(Ge.actions.loginUser({email:v.value,password:E.value}));case 3:case"end":return A.stop()}},f)}));return function(p){return h.apply(this,arguments)}}(),l=function(){r(BI.actions.resetErrors())};return Qe("div",{className:el.container,children:[te("h2",{className:el.title,children:"Chat"}),te("h3",{className:el.subtitle,children:"Login"}),Qe("form",{className:el.form,onSubmit:u,children:[te("input",{required:!0,name:Lo.Email,placeholder:"email@mail.com",type:"email"}),te("input",{required:!0,name:Lo.Password,placeholder:"password",type:"password"}),s&&te("p",{className:el.error,children:n(s)}),te("button",{disabled:o,type:"submit",children:"Sign in"})]}),Qe("p",{className:el.login,children:["Don't have an account?"," ",te(Dv,{to:"".concat(En.Root).concat(En.Register),onClick:l,children:"Register"})]})]})};function dd(t){return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function vme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w6(r.key),r)}}function yme(t,e,n){return e&&oL(t.prototype,e),n&&oL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wme(t,e,n){return e=w6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w6(t){var e=Eme(t,"string");return dd(e)==="symbol"?e:String(e)}function Eme(t,e){if(dd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vc=function(){function t(){vme(this,t)}return yme(t,null,[{key:"navigate",value:function(n,r){this.navigator&&(typeof n=="number"?this.navigator(n):this.navigator(n,r))}}]),t}();wme(Vc,"navigator",null);var Sme=function(){return Vc.navigator=NI(),null};const Tme="jS7",Ime="oSO",Cme="rMO",Rme="myD",xg={container:Tme,title:Ime,loading:Cme,loadingDots:Rme};var aL=function(){return xI(function(){setTimeout(function(){Vc.navigate(En.Root)},3e3)}),Qe("div",{className:xg.container,children:[te("p",{className:xg.title,children:"This page doesn't exist."}),Qe("p",{className:xg.loading,children:["Redirecting to the homepage",te(She,{className:xg.loadingDots})]})]})};const Ame="Kv-",Pme="Sx9",kme="ldd",bme="-ft",Ome="jUq",Nme="LLm",tl={container:Ame,title:Pme,subtitle:kme,form:bme,error:Ome,login:Nme};var Lo;(function(t){t.Nickname="nickname",t.Email="email",t.Password="password",t.File="file"})(Lo||(Lo={}));function IT(t){return IT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IT(t)}function CT(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */CT=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(I,_,w){I[_]=w.value},i=typeof Symbol=="function"?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(I,_,w){return Object.defineProperty(I,_,{value:w,enumerable:!0,configurable:!0,writable:!0}),I[_]}try{l({},"")}catch{l=function(w,N,D){return w[N]=D}}function h(I,_,w,N){var D=_&&_.prototype instanceof g?_:g,O=Object.create(D.prototype),M=new ie(N||[]);return r(O,"_invoke",{value:F(I,w,M)}),O}function f(I,_,w){try{return{type:"normal",arg:I.call(_,w)}}catch(N){return{type:"throw",arg:N}}}t.wrap=h;var p={};function g(){}function v(){}function E(){}var C={};l(C,s,function(){return this});var A=Object.getPrototypeOf,S=A&&A(A(re([])));S&&S!==e&&n.call(S,s)&&(C=S);var T=E.prototype=g.prototype=Object.create(C);function k(I){["next","throw","return"].forEach(function(_){l(I,_,function(w){return this._invoke(_,w)})})}function b(I,_){function w(D,O,M,B){var H=f(I[D],I,O);if(H.type!=="throw"){var ue=H.arg,fe=ue.value;return fe&&IT(fe)=="object"&&n.call(fe,"__await")?_.resolve(fe.__await).then(function(Se){w("next",Se,M,B)},function(Se){w("throw",Se,M,B)}):_.resolve(fe).then(function(Se){ue.value=Se,M(ue)},function(Se){return w("throw",Se,M,B)})}B(H.arg)}var N;r(this,"_invoke",{value:function(O,M){function B(){return new _(function(H,ue){w(O,M,H,ue)})}return N=N?N.then(B,B):B()}})}function F(I,_,w){var N="suspendedStart";return function(D,O){if(N==="executing")throw new Error("Generator is already running");if(N==="completed"){if(D==="throw")throw O;return Ne()}for(w.method=D,w.arg=O;;){var M=w.delegate;if(M){var B=V(M,w);if(B){if(B===p)continue;return B}}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(N==="suspendedStart")throw N="completed",w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);N="executing";var H=f(I,_,w);if(H.type==="normal"){if(N=w.done?"completed":"suspendedYield",H.arg===p)continue;return{value:H.arg,done:w.done}}H.type==="throw"&&(N="completed",w.method="throw",w.arg=H.arg)}}}function V(I,_){var w=_.method,N=I.iterator[w];if(N===void 0)return _.delegate=null,w==="throw"&&I.iterator.return&&(_.method="return",_.arg=void 0,V(I,_),_.method==="throw")||w!=="return"&&(_.method="throw",_.arg=new TypeError("The iterator does not provide a '"+w+"' method")),p;var D=f(N,I.iterator,_.arg);if(D.type==="throw")return _.method="throw",_.arg=D.arg,_.delegate=null,p;var O=D.arg;return O?O.done?(_[I.resultName]=O.value,_.next=I.nextLoc,_.method!=="return"&&(_.method="next",_.arg=void 0),_.delegate=null,p):O:(_.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,p)}function W(I){var _={tryLoc:I[0]};1 in I&&(_.catchLoc=I[1]),2 in I&&(_.finallyLoc=I[2],_.afterLoc=I[3]),this.tryEntries.push(_)}function G(I){var _=I.completion||{};_.type="normal",delete _.arg,I.completion=_}function ie(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(W,this),this.reset(!0)}function re(I){if(I){var _=I[s];if(_)return _.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var w=-1,N=function D(){for(;++w<I.length;)if(n.call(I,w))return D.value=I[w],D.done=!1,D;return D.value=void 0,D.done=!0,D};return N.next=N}}return{next:Ne}}function Ne(){return{value:void 0,done:!0}}return v.prototype=E,r(T,"constructor",{value:E,configurable:!0}),r(E,"constructor",{value:v,configurable:!0}),v.displayName=l(E,u,"GeneratorFunction"),t.isGeneratorFunction=function(I){var _=typeof I=="function"&&I.constructor;return!!_&&(_===v||(_.displayName||_.name)==="GeneratorFunction")},t.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,E):(I.__proto__=E,l(I,u,"GeneratorFunction")),I.prototype=Object.create(T),I},t.awrap=function(I){return{__await:I}},k(b.prototype),l(b.prototype,o,function(){return this}),t.AsyncIterator=b,t.async=function(I,_,w,N,D){D===void 0&&(D=Promise);var O=new b(h(I,_,w,N),D);return t.isGeneratorFunction(_)?O:O.next().then(function(M){return M.done?M.value:O.next()})},k(T),l(T,u,"Generator"),l(T,s,function(){return this}),l(T,"toString",function(){return"[object Generator]"}),t.keys=function(I){var _=Object(I),w=[];for(var N in _)w.push(N);return w.reverse(),function D(){for(;w.length;){var O=w.pop();if(O in _)return D.value=O,D.done=!1,D}return D.done=!0,D}},t.values=re,ie.prototype={constructor:ie,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(G),!_)for(var w in this)w.charAt(0)==="t"&&n.call(this,w)&&!isNaN(+w.slice(1))&&(this[w]=void 0)},stop:function(){this.done=!0;var _=this.tryEntries[0].completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var w=this;function N(ue,fe){return M.type="throw",M.arg=_,w.next=ue,fe&&(w.method="next",w.arg=void 0),!!fe}for(var D=this.tryEntries.length-1;D>=0;--D){var O=this.tryEntries[D],M=O.completion;if(O.tryLoc==="root")return N("end");if(O.tryLoc<=this.prev){var B=n.call(O,"catchLoc"),H=n.call(O,"finallyLoc");if(B&&H){if(this.prev<O.catchLoc)return N(O.catchLoc,!0);if(this.prev<O.finallyLoc)return N(O.finallyLoc)}else if(B){if(this.prev<O.catchLoc)return N(O.catchLoc,!0)}else{if(!H)throw new Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return N(O.finallyLoc)}}}},abrupt:function(_,w){for(var N=this.tryEntries.length-1;N>=0;--N){var D=this.tryEntries[N];if(D.tryLoc<=this.prev&&n.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var O=D;break}}O&&(_==="break"||_==="continue")&&O.tryLoc<=w&&w<=O.finallyLoc&&(O=null);var M=O?O.completion:{};return M.type=_,M.arg=w,O?(this.method="next",this.next=O.finallyLoc,p):this.complete(M)},complete:function(_,w){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&w&&(this.next=w),p},finish:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.finallyLoc===_)return this.complete(N.completion,N.afterLoc),G(N),p}},catch:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.tryLoc===_){var D=N.completion;if(D.type==="throw"){var O=D.arg;G(N)}return O}}throw new Error("illegal catch attempt")},delegateYield:function(_,w,N){return this.delegate={iterator:re(_),resultName:w,nextLoc:N},this.method==="next"&&(this.arg=void 0),p}},t}function uL(t,e,n,r,i,s,o){try{var u=t[s](o),l=u.value}catch(h){n(h);return}u.done?e(l):Promise.resolve(l).then(r,i)}function xme(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(l){uL(s,r,i,o,u,"next",l)}function u(l){uL(s,r,i,o,u,"throw",l)}o(void 0)})}}function Dme(t,e){return Fme(t)||Ume(t,e)||Mme(t,e)||Lme()}function Lme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mme(t,e){if(t){if(typeof t=="string")return lL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lL(t,e)}}function lL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ume(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,u=[],l=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(f){h=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function Fme(t){if(Array.isArray(t))return t}var $me=function(){var e=X.useState(""),n=Dme(e,2),r=n[0],i=n[1],s=$M(),o=s.t,u=Su(),l=yr(function(E){return E.app}),h=l.errors.registerUser,f=l.loading.isRegisterUser,p=function(C){if(C.target.files){var A=C.target.files[0],S=new FileReader;S.onload=function(){S.readyState===2&&typeof S.result=="string"&&i(S.result)},A&&S.readAsDataURL(A)}},g=function(){var E=xme(CT().mark(function C(A){var S,T,k,b,F;return CT().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:A.preventDefault(),S=A.target,T=S.nickname,k=S.email,b=S.password,F=S.file,u(Ge.actions.registerUser({nickname:T.value,email:k.value,password:b.value,avatar:F.files&&F.files[0]}));case 3:case"end":return W.stop()}},C)}));return function(A){return E.apply(this,arguments)}}(),v=function(){u(BI.actions.resetErrors())};return Qe("div",{className:tl.container,children:[te("h2",{className:tl.title,children:"Chat"}),te("h3",{className:tl.subtitle,children:"Register"}),Qe("form",{className:tl.form,onSubmit:g,children:[te("input",{required:!0,name:Lo.Nickname,placeholder:"Nickname",type:"text"}),te("input",{required:!0,name:Lo.Email,placeholder:"email@mail.com",type:"email"}),te("input",{required:!0,minLength:6,name:Lo.Password,placeholder:"password",type:"password"}),Qe("label",{htmlFor:"file",children:[te("input",{hidden:!0,accept:"image/*",id:"file",name:Lo.File,type:"file",onChange:p}),te(Lv.AddAvatar,{}),r?te("img",{alt:"avatar",src:r}):te("span",{children:"Add an avatar"})]}),h&&te("p",{className:tl.error,children:o(h)}),te("button",{disabled:f,type:"submit",children:"Sign up"})]}),Qe("p",{className:tl.login,children:["Do you already have an account?"," ",te(Dv,{to:"".concat(En.Root).concat(En.Login),onClick:v,children:"Login"})]})]})},Vme=function(){return Qe(jK,{children:[te(Sme,{}),Qe(UK,{children:[Qe(Na,{element:te(yhe,{}),errorElement:te(aL,{}),path:En.Root,children:[te(Na,{element:te(Wge,{children:te(lme,{})}),path:En.Root,children:te(Na,{element:te(QK,{}),path:":".concat(lS.ChatId)})}),te(Na,{element:te(_me,{}),path:En.Login}),te(Na,{element:te($me,{}),path:En.Register})]}),te(Na,{element:te(aL,{}),path:"*"})]})]})},CA="persist:",E6="persist/FLUSH",RA="persist/REHYDRATE",S6="persist/PAUSE",T6="persist/PERSIST",I6="persist/PURGE",C6="persist/REGISTER",Wme=-1;function hm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hm=function(n){return typeof n}:hm=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},hm(t)}function cL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jme(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cL(n,!0).forEach(function(r){Bme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cL(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bme(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zme(t,e,n,r){r.debug;var i=jme({},n);return t&&hm(t)==="object"&&Object.keys(t).forEach(function(s){s!=="_persist"&&e[s]===n[s]&&(i[s]=t[s])}),i}function Hme(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,s="".concat(t.keyPrefix!==void 0?t.keyPrefix:CA).concat(t.key),o=t.storage,u;t.serialize===!1?u=function(F){return F}:typeof t.serialize=="function"?u=t.serialize:u=qme;var l=t.writeFailHandler||null,h={},f={},p=[],g=null,v=null,E=function(F){Object.keys(F).forEach(function(V){S(V)&&h[V]!==F[V]&&p.indexOf(V)===-1&&p.push(V)}),Object.keys(h).forEach(function(V){F[V]===void 0&&S(V)&&p.indexOf(V)===-1&&h[V]!==void 0&&p.push(V)}),g===null&&(g=setInterval(C,i)),h=F};function C(){if(p.length===0){g&&clearInterval(g),g=null;return}var b=p.shift(),F=r.reduce(function(V,W){return W.in(V,b,h)},h[b]);if(F!==void 0)try{f[b]=u(F)}catch(V){console.error("redux-persist/createPersistoid: error serializing state",V)}else delete f[b];p.length===0&&A()}function A(){Object.keys(f).forEach(function(b){h[b]===void 0&&delete f[b]}),v=o.setItem(s,u(f)).catch(T)}function S(b){return!(n&&n.indexOf(b)===-1&&b!=="_persist"||e&&e.indexOf(b)!==-1)}function T(b){l&&l(b)}var k=function(){for(;p.length!==0;)C();return v||Promise.resolve()};return{update:E,flush:k}}function qme(t){return JSON.stringify(t)}function Gme(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:CA).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(o){return o}:typeof t.deserialize=="function"?i=t.deserialize:i=Yme,r.getItem(n).then(function(s){if(s)try{var o={},u=i(s);return Object.keys(u).forEach(function(l){o[l]=e.reduceRight(function(h,f){return f.out(h,l,u)},i(u[l]))}),o}catch(l){throw l}else return})}function Yme(t){return JSON.parse(t)}function Kme(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:CA).concat(t.key);return e.removeItem(n,Qme)}function Qme(t){}function hL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hL(n,!0).forEach(function(r){Xme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hL(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xme(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jme(t,e){if(t==null)return{};var n=Zme(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zme(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var e_e=5e3;function t_e(t,e){var n=t.version!==void 0?t.version:Wme;t.debug;var r=t.stateReconciler===void 0?zme:t.stateReconciler,i=t.getStoredState||Gme,s=t.timeout!==void 0?t.timeout:e_e,o=null,u=!1,l=!0,h=function(p){return p._persist.rehydrated&&o&&!l&&o.update(p),p};return function(f,p){var g=f||{},v=g._persist,E=Jme(g,["_persist"]),C=E;if(p.type===T6){var A=!1,S=function(G,ie){A||(p.rehydrate(t.key,G,ie),A=!0)};if(s&&setTimeout(function(){!A&&S(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},s),l=!1,o||(o=Hme(t)),v)return Rs({},e(C,p),{_persist:v});if(typeof p.rehydrate!="function"||typeof p.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return p.register(t.key),i(t).then(function(W){var G=t.migrate||function(ie,re){return Promise.resolve(ie)};G(W,n).then(function(ie){S(ie)},function(ie){S(void 0,ie)})},function(W){S(void 0,W)}),Rs({},e(C,p),{_persist:{version:n,rehydrated:!1}})}else{if(p.type===I6)return u=!0,p.result(Kme(t)),Rs({},e(C,p),{_persist:v});if(p.type===E6)return p.result(o&&o.flush()),Rs({},e(C,p),{_persist:v});if(p.type===S6)l=!0;else if(p.type===RA){if(u)return Rs({},C,{_persist:Rs({},v,{rehydrated:!0})});if(p.key===t.key){var T=e(C,p),k=p.payload,b=r!==!1&&k!==void 0?r(k,f,T,t):T,F=Rs({},b,{_persist:Rs({},v,{rehydrated:!0})});return h(F)}}}if(!v)return e(f,p);var V=e(C,p);return V===C?f:h(Rs({},V,{_persist:v}))}}function fL(t){return i_e(t)||r_e(t)||n_e()}function n_e(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function r_e(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function i_e(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function dL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dL(n,!0).forEach(function(r){s_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dL(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s_e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var R6={registry:[],bootstrapped:!1},o_e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:R6,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case C6:return RT({},e,{registry:[].concat(fL(e.registry),[n.key])});case RA:var r=e.registry.indexOf(n.key),i=fL(e.registry);return i.splice(r,1),RT({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function a_e(t,e,n){var r=n||!1,i=VI(o_e,R6,e&&e.enhancer?e.enhancer:void 0),s=function(h){i.dispatch({type:C6,key:h})},o=function(h,f,p){var g={type:RA,payload:f,err:p,key:h};t.dispatch(g),i.dispatch(g),r&&u.getState().bootstrapped&&(r(),r=!1)},u=RT({},i,{purge:function(){var h=[];return t.dispatch({type:I6,result:function(p){h.push(p)}}),Promise.all(h)},flush:function(){var h=[];return t.dispatch({type:E6,result:function(p){h.push(p)}}),Promise.all(h)},pause:function(){t.dispatch({type:S6})},persist:function(){t.dispatch({type:T6,register:s,rehydrate:o})}});return e&&e.manualPersist||u.persist(),u}var AA={},PA={};PA.__esModule=!0;PA.default=c_e;function fm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fm=function(n){return typeof n}:fm=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},fm(t)}function ZE(){}var u_e={getItem:ZE,setItem:ZE,removeItem:ZE};function l_e(t){if((typeof self>"u"?"undefined":fm(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function c_e(t){var e="".concat(t,"Storage");return l_e(e)?self[e]:u_e}AA.__esModule=!0;AA.default=d_e;var h_e=f_e(PA);function f_e(t){return t&&t.__esModule?t:{default:t}}function d_e(t){var e=(0,h_e.default)(t);return{getItem:function(r){return new Promise(function(i,s){i(e.getItem(r))})},setItem:function(r,i){return new Promise(function(s,o){s(e.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,s){i(e.removeItem(r))})}}}var A6=void 0,p_e=g_e(AA);function g_e(t){return t&&t.__esModule?t:{default:t}}var m_e=(0,p_e.default)("local");A6=m_e;var $i=function(e){return"@@redux-saga/"+e},__e=$i("CANCEL_PROMISE"),P6=$i("CHANNEL_END"),k6=$i("IO"),pL=$i("MATCH"),b6=$i("MULTICAST"),O6=$i("SAGA_ACTION"),N6=$i("SELF_CANCELLATION"),v_e=$i("TASK"),Hl=$i("TASK_CANCEL"),x6=$i("TERMINATE"),y_e=$i("LOCATION"),D6=function(e){return e==null},dm=function(e){return e!=null},wr=function(e){return typeof e=="function"},kA=function(e){return typeof e=="string"},ya=Array.isArray,Hy=function(e){return e&&wr(e.then)},bA=function(e){return e&&wr(e.next)&&wr(e.throw)},gL=function t(e){return e&&(kA(e)||M6(e)||wr(e)||ya(e)&&e.every(t))},OA=function(e){return e&&wr(e.take)&&wr(e.close)},L6=function(e){return wr(e)&&e.hasOwnProperty("toString")},M6=function(e){return Boolean(e)&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype},w_e=function(e){return OA(e)&&e[b6]},E_e=function(e){return function(){return e}},S_e=E_e(!0),Zn=function(){},T_e=function(e){return e},NA=function(e,n){Bm(e,n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(n).forEach(function(r){e[r]=n[r]})},I_e=function(e,n){var r;return(r=[]).concat.apply(r,n.map(e))};function qy(t,e){var n=t.indexOf(e);n>=0&&t.splice(n,1)}function C_e(t){var e=!1;return function(){e||(e=!0,t())}}var R_e=function(e){throw e},A_e=function(e){return{value:e,done:!0}};function AT(t,e,n){e===void 0&&(e=R_e),n===void 0&&(n="iterator");var r={meta:{name:n},next:t,throw:e,return:A_e,isSagaIterator:!0};return typeof Symbol<"u"&&(r[Symbol.iterator]=function(){return r}),r}function P_e(t,e){var n=e.sagaStack;console.error(t),console.error(n)}var U6=function(e){return Array.apply(null,new Array(e))},k_e=function(e){return function(n){return e(Object.defineProperty(n,O6,{value:!0}))}},F6=function(e){return e===x6},$6=function(e){return e===Hl},V6=function(e){return F6(e)||$6(e)};function W6(t,e){var n=Object.keys(t),r=n.length,i=0,s,o=ya(t)?U6(r):{},u={};function l(){i===r&&(s=!0,e(o))}return n.forEach(function(h){var f=function(g,v){s||(v||V6(g)?(e.cancel(),e(g,v)):(o[h]=g,i++,l()))};f.cancel=Zn,u[h]=f}),e.cancel=function(){s||(s=!0,n.forEach(function(h){return u[h].cancel()}))},u}function xA(t){return{name:t.name||"anonymous",location:j6(t)}}function j6(t){return t[y_e]}var b_e="Channel's Buffer overflow!",O_e=1,N_e=3,B6=4;function x_e(t,e){t===void 0&&(t=10);var n=new Array(t),r=0,i=0,s=0,o=function(f){n[i]=f,i=(i+1)%t,r++},u=function(){if(r!=0){var f=n[s];return n[s]=null,r--,s=(s+1)%t,f}},l=function(){for(var f=[];r;)f.push(u());return f};return{isEmpty:function(){return r==0},put:function(f){if(r<t)o(f);else{var p;switch(e){case O_e:throw new Error(b_e);case N_e:n[i]=f,i=(i+1)%t,s=i;break;case B6:p=2*t,n=l(),r=n.length,i=n.length,s=0,n.length=p,t=p,o(f);break}}},take:u,flush:l}}var D_e=function(e){return x_e(e,B6)},pm="TAKE",z6="PUT",H6="ALL",L_e="RACE",q6="CALL",M_e="CPS",G6="FORK",U_e="JOIN",Y6="CANCEL",F_e="SELECT",$_e="ACTION_CHANNEL",V_e="CANCELLED",W_e="FLUSH",j_e="GET_CONTEXT",B_e="SET_CONTEXT",ea=function(e,n){var r;return r={},r[k6]=!0,r.combinator=!1,r.type=e,r.payload=n,r};function z_e(t,e){if(t===void 0&&(t="*"),gL(t))return dm(e)&&console.warn("take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types"),ea(pm,{pattern:t});if(w_e(t)&&dm(e)&&gL(e))return ea(pm,{channel:t,pattern:e});if(OA(t))return dm(e)&&console.warn("take(channel) takes one argument but two were provided. Second argument is ignored."),ea(pm,{channel:t})}function fa(t,e){return D6(e)&&(e=t,t=void 0),ea(z6,{channel:t,action:e})}function H_e(t){var e=ea(H6,t);return e.combinator=!0,e}function K6(t,e){var n=null,r;return wr(t)?r=t:(ya(t)?(n=t[0],r=t[1]):(n=t.context,r=t.fn),n&&kA(r)&&wr(n[r])&&(r=n[r])),{context:n,fn:r,args:e}}function Gy(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return ea(q6,K6(t,n))}function Q6(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return ea(G6,K6(t,n))}function q_e(t){return t===void 0&&(t=N6),ea(Y6,t)}function G_e(){var t={};return t.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),t}var X6=[],Yy=0;function Y_e(t){try{DA(),t()}finally{eW()}}function J6(t){X6.push(t),Yy||(DA(),tW())}function Z6(t){try{return DA(),t()}finally{tW()}}function DA(){Yy++}function eW(){Yy--}function tW(){eW();for(var t;!Yy&&(t=X6.shift())!==void 0;)Y_e(t)}var K_e=function(e){return function(n){return e.some(function(r){return LA(r)(n)})}},Q_e=function(e){return function(n){return e(n)}},mL=function(e){return function(n){return n.type===String(e)}},X_e=function(e){return function(n){return n.type===e}},nW=function(){return S_e};function LA(t){var e=t==="*"?nW:kA(t)?mL:ya(t)?K_e:L6(t)?mL:wr(t)?Q_e:M6(t)?X_e:null;if(e===null)throw new Error("invalid pattern: "+t);return e(t)}var ff={type:P6},MA=function(e){return e&&e.type===P6};function J_e(t){t===void 0&&(t=D_e());var e=!1,n=[];function r(u){if(!e){if(n.length===0)return t.put(u);var l=n.shift();l(u)}}function i(u){e&&t.isEmpty()?u(ff):t.isEmpty()?(n.push(u),u.cancel=function(){qy(n,u)}):u(t.take())}function s(u){if(e&&t.isEmpty()){u(ff);return}u(t.flush())}function o(){if(!e){e=!0;var u=n;n=[];for(var l=0,h=u.length;l<h;l++){var f=u[l];f(ff)}}}return{take:i,put:r,flush:s,close:o}}function Z_e(){var t,e=!1,n=[],r=n,i=function(){r===n&&(r=n.slice())},s=function(){e=!0;var u=n=r;r=[],u.forEach(function(l){l(ff)})};return t={},t[b6]=!0,t.put=function(u){if(!e){if(MA(u)){s();return}for(var l=n=r,h=0,f=l.length;h<f;h++){var p=l[h];p[pL](u)&&(p.cancel(),p(u))}}},t.take=function(u,l){if(l===void 0&&(l=nW),e){u(ff);return}u[pL]=l,i(),r.push(u),u.cancel=C_e(function(){i(),qy(r,u)})},t.close=s,t}function rW(){var t=Z_e(),e=t.put;return t.put=function(n){if(n[O6]){e(n);return}J6(function(){e(n)})},t}var Ua=0,Os=1,gm=2,iW=3;function UA(t,e){var n=t[__e];wr(n)&&(e.cancel=n),t.then(e,function(r){e(r,!0)})}var np=0,sW=function(){return++np},pn;function eve(t,e){return t.isSagaIterator?{name:t.meta.name}:xA(e)}function tve(t){var e=t.context,n=t.fn,r=t.args;try{var i=n.apply(e,r);if(bA(i))return i;var s=!1,o=function(l){return s?{value:l,done:!0}:(s=!0,{value:i,done:!Hy(i)})};return AT(o)}catch(u){return AT(function(){throw u})}}function nve(t,e,n){var r=e.channel,i=e.action,s=e.resolve;J6(function(){var o;try{o=(r?r.put:t.dispatch)(i)}catch(u){n(u,!0);return}s&&Hy(o)?UA(o,n):n(o)})}function rve(t,e,n){var r=e.channel,i=r===void 0?t.channel:r,s=e.pattern,o=e.maybe,u=function(h){if(h instanceof Error){n(h,!0);return}if(MA(h)&&!o){n(x6);return}n(h)};try{i.take(u,dm(s)?LA(s):null)}catch(l){n(l,!0);return}n.cancel=u.cancel}function ive(t,e,n,r){var i=e.context,s=e.fn,o=e.args,u=r.task;try{var l=s.apply(i,o);if(Hy(l)){UA(l,n);return}if(bA(l)){Ky(t,l,u.context,np,xA(s),!1,n);return}n(l)}catch(h){n(h,!0)}}function sve(t,e,n){var r=e.context,i=e.fn,s=e.args;try{var o=function(l,h){D6(l)?n(h):n(l,!0)};i.apply(r,s.concat(o)),o.cancel&&(n.cancel=o.cancel)}catch(u){n(u,!0)}}function ove(t,e,n,r){var i=e.context,s=e.fn,o=e.args,u=e.detached,l=r.task,h=tve({context:i,fn:s,args:o}),f=eve(h,s);Z6(function(){var p=Ky(t,h,l.context,np,f,u,void 0);u?n(p):p.isRunning()?(l.queue.addTask(p),n(p)):p.isAborted()?l.queue.abort(p.error()):n(p)})}function ave(t,e,n,r){var i=r.task,s=function(l,h){if(l.isRunning()){var f={task:i,cb:h};h.cancel=function(){l.isRunning()&&qy(l.joiners,f)},l.joiners.push(f)}else l.isAborted()?h(l.error(),!0):h(l.result())};if(ya(e)){if(e.length===0){n([]);return}var o=W6(e,n);e.forEach(function(u,l){s(u,o[l])})}else s(e,n)}function e1(t){t.isRunning()&&t.cancel()}function uve(t,e,n,r){var i=r.task;e===N6?e1(i):ya(e)?e.forEach(e1):e1(e),n()}function lve(t,e,n,r){var i=r.digestEffect,s=np,o=Object.keys(e);if(o.length===0){n(ya(e)?[]:{});return}var u=W6(e,n);o.forEach(function(l){i(e[l],s,u[l],l)})}function cve(t,e,n,r){var i=r.digestEffect,s=np,o=Object.keys(e),u=ya(e)?U6(o.length):{},l={},h=!1;o.forEach(function(f){var p=function(v,E){h||(E||V6(v)?(n.cancel(),n(v,E)):(n.cancel(),h=!0,u[f]=v,n(u)))};p.cancel=Zn,l[f]=p}),n.cancel=function(){h||(h=!0,o.forEach(function(f){return l[f].cancel()}))},o.forEach(function(f){h||i(e[f],s,l[f],f)})}function hve(t,e,n){var r=e.selector,i=e.args;try{var s=r.apply(void 0,[t.getState()].concat(i));n(s)}catch(o){n(o,!0)}}function fve(t,e,n){var r=e.pattern,i=e.buffer,s=J_e(i),o=LA(r),u=function h(f){MA(f)||t.channel.take(h,o),s.put(f)},l=s.close;s.close=function(){u.cancel(),l()},t.channel.take(u,o),n(s)}function dve(t,e,n,r){var i=r.task;n(i.isCancelled())}function pve(t,e,n){e.flush(n)}function gve(t,e,n,r){var i=r.task;n(i.context[e])}function mve(t,e,n,r){var i=r.task;NA(i.context,e),n()}var _ve=(pn={},pn[pm]=rve,pn[z6]=nve,pn[H6]=lve,pn[L_e]=cve,pn[q6]=ive,pn[M_e]=sve,pn[G6]=ove,pn[U_e]=ave,pn[Y6]=uve,pn[F_e]=hve,pn[$_e]=fve,pn[V_e]=dve,pn[W_e]=pve,pn[j_e]=gve,pn[B_e]=mve,pn);function vve(t,e,n){var r=[],i,s=!1;l(t);var o=function(){return r};function u(f){e(),h(),n(f,!0)}function l(f){r.push(f),f.cont=function(p,g){s||(qy(r,f),f.cont=Zn,g?u(p):(f===t&&(i=p),r.length||(s=!0,n(i))))}}function h(){s||(s=!0,r.forEach(function(f){f.cont=Zn,f.cancel()}),r=[])}return{addTask:l,cancelAll:h,abort:u,getTasks:o}}function oW(t,e){return t+"?"+e}function yve(t){var e=j6(t);if(e){var n=e.code,r=e.fileName,i=e.lineNumber,s=n+"  "+oW(r,i);return s}return""}function _L(t){var e=t.name,n=t.location;return n?e+"  "+oW(n.fileName,n.lineNumber):e}function wve(t){var e=I_e(function(n){return n.cancelledTasks},t);return e.length?["Tasks cancelled due to error:"].concat(e).join(`
`):""}var FA=null,df=[],Eve=function(e){e.crashedEffect=FA,df.push(e)},aW=function(){FA=null,df.length=0},Sve=function(e){FA=e},Tve=function(){var e=df[0],n=df.slice(1),r=e.crashedEffect?yve(e.crashedEffect):null,i="The above error occurred in task "+_L(e.meta)+(r?` 
 when executing effect `+r:"");return[i].concat(n.map(function(s){return"    created by "+_L(s.meta)}),[wve(df)]).join(`
`)};function Ive(t,e,n,r,i,s,o){var u;o===void 0&&(o=Zn);var l=Ua,h,f,p=null,g=[],v=Object.create(n),E=vve(e,function(){g.push.apply(g,E.getTasks().map(function(F){return F.meta.name}))},A);function C(){l===Ua&&(l=Os,E.cancelAll(),A(Hl,!1))}function A(b,F){if(!F)b===Hl?l=Os:l!==Os&&(l=iW),h=b,p&&p.resolve(b);else{if(l=gm,Eve({meta:i,cancelledTasks:g}),k.isRoot){var V=Tve();aW(),t.onError(b,{sagaStack:V})}f=b,p&&p.reject(b)}k.cont(b,F),k.joiners.forEach(function(W){W.cb(b,F)}),k.joiners=null}function S(b){NA(v,b)}function T(){return p||(p=G_e(),l===gm?p.reject(f):l!==Ua&&p.resolve(h)),p.promise}var k=(u={},u[v_e]=!0,u.id=r,u.meta=i,u.isRoot=s,u.context=v,u.joiners=[],u.queue=E,u.cancel=C,u.cont=o,u.end=A,u.setContext=S,u.toPromise=T,u.isRunning=function(){return l===Ua},u.isCancelled=function(){return l===Os||l===Ua&&e.status===Os},u.isAborted=function(){return l===gm},u.result=function(){return h},u.error=function(){return f},u);return k}function Ky(t,e,n,r,i,s,o){var u=t.finalizeRunEffect(v);g.cancel=Zn;var l={meta:i,cancel:p,status:Ua},h=Ive(t,l,n,r,i,s,o),f={task:h,digestEffect:E};function p(){l.status===Ua&&(l.status=Os,g(Hl))}return o&&(o.cancel=h.cancel),g(),h;function g(C,A){try{var S;A?(S=e.throw(C),aW()):$6(C)?(l.status=Os,g.cancel(),S=wr(e.return)?e.return(Hl):{done:!0,value:Hl}):F6(C)?S=wr(e.return)?e.return():{done:!0}:S=e.next(C),S.done?(l.status!==Os&&(l.status=iW),l.cont(S.value)):E(S.value,r,g)}catch(T){if(l.status===Os)throw T;l.status=gm,l.cont(T,!0)}}function v(C,A,S){if(Hy(C))UA(C,S);else if(bA(C))Ky(t,C,h.context,A,i,!1,S);else if(C&&C[k6]){var T=_ve[C.type];T(t,C.payload,S,f)}else S(C)}function E(C,A,S,T){T===void 0&&(T="");var k=sW();t.sagaMonitor&&t.sagaMonitor.effectTriggered({effectId:k,parentEffectId:A,label:T,effect:C});var b;function F(V,W){b||(b=!0,S.cancel=Zn,t.sagaMonitor&&(W?t.sagaMonitor.effectRejected(k,V):t.sagaMonitor.effectResolved(k,V)),W&&Sve(C),S(V,W))}F.cancel=Zn,S.cancel=function(){b||(b=!0,F.cancel(),F.cancel=Zn,t.sagaMonitor&&t.sagaMonitor.effectCancelled(k))},u(C,k,F)}}function Cve(t,e){for(var n=t.channel,r=n===void 0?rW():n,i=t.dispatch,s=t.getState,o=t.context,u=o===void 0?{}:o,l=t.sagaMonitor,h=t.effectMiddlewares,f=t.onError,p=f===void 0?P_e:f,g=arguments.length,v=new Array(g>2?g-2:0),E=2;E<g;E++)v[E-2]=arguments[E];var C=e.apply(void 0,v),A=sW();l&&(l.rootSagaStarted=l.rootSagaStarted||Zn,l.effectTriggered=l.effectTriggered||Zn,l.effectResolved=l.effectResolved||Zn,l.effectRejected=l.effectRejected||Zn,l.effectCancelled=l.effectCancelled||Zn,l.actionDispatched=l.actionDispatched||Zn,l.rootSagaStarted({effectId:A,saga:e,args:v}));var S;if(h){var T=Lf.apply(void 0,h);S=function(F){return function(V,W,G){var ie=function(Ne){return F(Ne,W,G)};return T(ie)(V)}}}else S=T_e;var k={channel:r,dispatch:k_e(i),getState:s,sagaMonitor:l,onError:p,finalizeRunEffect:S};return Z6(function(){var b=Ky(k,C,u,A,xA(e),!0,void 0);return l&&l.effectResolved(A,b),b})}function Rve(t){var e=t===void 0?{}:t,n=e.context,r=n===void 0?{}:n,i=e.channel,s=i===void 0?rW():i,o=e.sagaMonitor,u=mY(e,["context","channel","sagaMonitor"]),l;function h(f){var p=f.getState,g=f.dispatch;return l=Cve.bind(null,Bm({},u,{context:r,channel:s,dispatch:g,getState:p,sagaMonitor:o})),function(v){return function(E){o&&o.actionDispatched&&o.actionDispatched(E);var C=v(E);return s.put(E),C}}}return h.run=function(){return l.apply(void 0,arguments)},h.setContext=function(f){NA(r,f)},h}var vL=function(e){return{done:!0,value:e}},t1={};function Ave(t){return OA(t)?"channel":L6(t)?String(t):wr(t)?t.name:String(t)}function Pve(t,e,n){var r,i,s,o=e;function u(l,h){if(o===t1)return vL(l);if(h&&!i)throw o=t1,h;r&&r(l);var f=h?t[i](h):t[o]();return o=f.nextState,s=f.effect,r=f.stateUpdater,i=f.errorState,o===t1?vL(l):s}return AT(u,function(l){return u(null,l)},n)}function kve(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s={done:!1,value:z_e(t)},o=function(v){return{done:!1,value:Q6.apply(void 0,[e].concat(r,[v]))}},u=function(v){return{done:!1,value:q_e(v)}},l,h,f=function(v){return l=v},p=function(v){return h=v};return Pve({q1:function(){return{nextState:"q2",effect:s,stateUpdater:p}},q2:function(){return l?{nextState:"q3",effect:u(l)}:{nextState:"q1",effect:o(h),stateUpdater:f}},q3:function(){return{nextState:"q1",effect:o(h),stateUpdater:f}}},"q1","takeLatest("+Ave(t)+", "+e.name+")")}function Dg(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return Q6.apply(void 0,[kve,t,e].concat(r))}function PT(t){return PT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PT(t)}var bve=Ui().mark(uW);function Ui(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ui=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(I,_,w){I[_]=w.value},i=typeof Symbol=="function"?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(I,_,w){return Object.defineProperty(I,_,{value:w,enumerable:!0,configurable:!0,writable:!0}),I[_]}try{l({},"")}catch{l=function(w,N,D){return w[N]=D}}function h(I,_,w,N){var D=_&&_.prototype instanceof g?_:g,O=Object.create(D.prototype),M=new ie(N||[]);return r(O,"_invoke",{value:F(I,w,M)}),O}function f(I,_,w){try{return{type:"normal",arg:I.call(_,w)}}catch(N){return{type:"throw",arg:N}}}t.wrap=h;var p={};function g(){}function v(){}function E(){}var C={};l(C,s,function(){return this});var A=Object.getPrototypeOf,S=A&&A(A(re([])));S&&S!==e&&n.call(S,s)&&(C=S);var T=E.prototype=g.prototype=Object.create(C);function k(I){["next","throw","return"].forEach(function(_){l(I,_,function(w){return this._invoke(_,w)})})}function b(I,_){function w(D,O,M,B){var H=f(I[D],I,O);if(H.type!=="throw"){var ue=H.arg,fe=ue.value;return fe&&PT(fe)=="object"&&n.call(fe,"__await")?_.resolve(fe.__await).then(function(Se){w("next",Se,M,B)},function(Se){w("throw",Se,M,B)}):_.resolve(fe).then(function(Se){ue.value=Se,M(ue)},function(Se){return w("throw",Se,M,B)})}B(H.arg)}var N;r(this,"_invoke",{value:function(O,M){function B(){return new _(function(H,ue){w(O,M,H,ue)})}return N=N?N.then(B,B):B()}})}function F(I,_,w){var N="suspendedStart";return function(D,O){if(N==="executing")throw new Error("Generator is already running");if(N==="completed"){if(D==="throw")throw O;return Ne()}for(w.method=D,w.arg=O;;){var M=w.delegate;if(M){var B=V(M,w);if(B){if(B===p)continue;return B}}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(N==="suspendedStart")throw N="completed",w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);N="executing";var H=f(I,_,w);if(H.type==="normal"){if(N=w.done?"completed":"suspendedYield",H.arg===p)continue;return{value:H.arg,done:w.done}}H.type==="throw"&&(N="completed",w.method="throw",w.arg=H.arg)}}}function V(I,_){var w=_.method,N=I.iterator[w];if(N===void 0)return _.delegate=null,w==="throw"&&I.iterator.return&&(_.method="return",_.arg=void 0,V(I,_),_.method==="throw")||w!=="return"&&(_.method="throw",_.arg=new TypeError("The iterator does not provide a '"+w+"' method")),p;var D=f(N,I.iterator,_.arg);if(D.type==="throw")return _.method="throw",_.arg=D.arg,_.delegate=null,p;var O=D.arg;return O?O.done?(_[I.resultName]=O.value,_.next=I.nextLoc,_.method!=="return"&&(_.method="next",_.arg=void 0),_.delegate=null,p):O:(_.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,p)}function W(I){var _={tryLoc:I[0]};1 in I&&(_.catchLoc=I[1]),2 in I&&(_.finallyLoc=I[2],_.afterLoc=I[3]),this.tryEntries.push(_)}function G(I){var _=I.completion||{};_.type="normal",delete _.arg,I.completion=_}function ie(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(W,this),this.reset(!0)}function re(I){if(I){var _=I[s];if(_)return _.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var w=-1,N=function D(){for(;++w<I.length;)if(n.call(I,w))return D.value=I[w],D.done=!1,D;return D.value=void 0,D.done=!0,D};return N.next=N}}return{next:Ne}}function Ne(){return{value:void 0,done:!0}}return v.prototype=E,r(T,"constructor",{value:E,configurable:!0}),r(E,"constructor",{value:v,configurable:!0}),v.displayName=l(E,u,"GeneratorFunction"),t.isGeneratorFunction=function(I){var _=typeof I=="function"&&I.constructor;return!!_&&(_===v||(_.displayName||_.name)==="GeneratorFunction")},t.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,E):(I.__proto__=E,l(I,u,"GeneratorFunction")),I.prototype=Object.create(T),I},t.awrap=function(I){return{__await:I}},k(b.prototype),l(b.prototype,o,function(){return this}),t.AsyncIterator=b,t.async=function(I,_,w,N,D){D===void 0&&(D=Promise);var O=new b(h(I,_,w,N),D);return t.isGeneratorFunction(_)?O:O.next().then(function(M){return M.done?M.value:O.next()})},k(T),l(T,u,"Generator"),l(T,s,function(){return this}),l(T,"toString",function(){return"[object Generator]"}),t.keys=function(I){var _=Object(I),w=[];for(var N in _)w.push(N);return w.reverse(),function D(){for(;w.length;){var O=w.pop();if(O in _)return D.value=O,D.done=!1,D}return D.done=!0,D}},t.values=re,ie.prototype={constructor:ie,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(G),!_)for(var w in this)w.charAt(0)==="t"&&n.call(this,w)&&!isNaN(+w.slice(1))&&(this[w]=void 0)},stop:function(){this.done=!0;var _=this.tryEntries[0].completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var w=this;function N(ue,fe){return M.type="throw",M.arg=_,w.next=ue,fe&&(w.method="next",w.arg=void 0),!!fe}for(var D=this.tryEntries.length-1;D>=0;--D){var O=this.tryEntries[D],M=O.completion;if(O.tryLoc==="root")return N("end");if(O.tryLoc<=this.prev){var B=n.call(O,"catchLoc"),H=n.call(O,"finallyLoc");if(B&&H){if(this.prev<O.catchLoc)return N(O.catchLoc,!0);if(this.prev<O.finallyLoc)return N(O.finallyLoc)}else if(B){if(this.prev<O.catchLoc)return N(O.catchLoc,!0)}else{if(!H)throw new Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return N(O.finallyLoc)}}}},abrupt:function(_,w){for(var N=this.tryEntries.length-1;N>=0;--N){var D=this.tryEntries[N];if(D.tryLoc<=this.prev&&n.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var O=D;break}}O&&(_==="break"||_==="continue")&&O.tryLoc<=w&&w<=O.finallyLoc&&(O=null);var M=O?O.completion:{};return M.type=_,M.arg=w,O?(this.method="next",this.next=O.finallyLoc,p):this.complete(M)},complete:function(_,w){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&w&&(this.next=w),p},finish:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.finallyLoc===_)return this.complete(N.completion,N.afterLoc),G(N),p}},catch:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.tryLoc===_){var D=N.completion;if(D.type==="throw"){var O=D.arg;G(N)}return O}}throw new Error("illegal catch attempt")},delegateYield:function(_,w,N){return this.delegate={iterator:re(_),resultName:w,nextLoc:N},this.method==="next"&&(this.arg=void 0),p}},t}function Ove(t){var e=t.payload;return Ui().mark(function n(){var r,i,s,o,u;return Ui().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,Gy(_u.firebase.registerUser,e);case 2:if(r=h.sent,!(!r.error&&r.user)){h.next=8;break}return u={avatarUrl:(i=r.user.photoURL)!==null&&i!==void 0?i:"",email:(s=r.user.email)!==null&&s!==void 0?s:"",nickname:(o=r.user.displayName)!==null&&o!==void 0?o:"",uid:r.user.uid},h.next=7,fa(Ge.actions.registerUserSuccess(u));case 7:Vc.navigate(En.Root);case 8:if(!r.error){h.next=11;break}return h.next=11,fa(Ge.actions.registerUserError(r.error));case 11:case"end":return h.stop()}},n)})()}function Nve(t){var e=t.payload;return Ui().mark(function n(){var r,i,s,o,u;return Ui().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,Gy(_u.firebase.loginUser,e);case 2:if(r=h.sent,!(!r.error&&r.user)){h.next=8;break}return u={avatarUrl:(i=r.user.photoURL)!==null&&i!==void 0?i:"",email:(s=r.user.email)!==null&&s!==void 0?s:"",nickname:(o=r.user.displayName)!==null&&o!==void 0?o:"",uid:r.user.uid},h.next=7,fa(Ge.actions.loginUserSuccess(u));case 7:Vc.navigate(En.Root);case 8:if(!r.error){h.next=11;break}return h.next=11,fa(Ge.actions.loginUserError(r.error));case 11:case"end":return h.stop()}},n)})()}function xve(t){var e=t.payload;return Ui().mark(function n(){var r;return Ui().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Gy(_u.firebase.searchUser,e);case 2:if(r=s.sent,!(!r.error&&r.users)){s.next=6;break}return s.next=6,fa(Ge.actions.searchUserSuccess(r.users));case 6:if(!r.error){s.next=9;break}return s.next=9,fa(Ge.actions.searchUserError(r.error));case 9:case"end":return s.stop()}},n)})()}function Dve(t){var e=t.payload;return Ui().mark(function n(){var r;return Ui().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Gy(_u.firebase.getUserChat,e);case 2:if(r=s.sent,!(!r.error&&r.chat)){s.next=7;break}return s.next=6,fa(Ge.actions.getInterlocutorSuccess(r.chat));case 6:Vc.navigate("".concat(r.chat.chatUid));case 7:if(!r.error){s.next=10;break}return s.next=10,fa(Ge.actions.getInterlocutorError(r.error));case 10:case"end":return s.stop()}},n)})()}function uW(){return Ui().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dg(Ge.actions.registerUser,Ove);case 2:return e.next=4,Dg(Ge.actions.loginUser,Nve);case 4:return e.next=6,Dg(Ge.actions.searchUser,xve);case 6:return e.next=8,Dg(Ge.actions.getInterlocutor,Dve);case 8:case"end":return e.stop()}},bve)}function kT(t){return kT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kT(t)}function $A(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */$A=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(I,_,w){I[_]=w.value},i=typeof Symbol=="function"?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(I,_,w){return Object.defineProperty(I,_,{value:w,enumerable:!0,configurable:!0,writable:!0}),I[_]}try{l({},"")}catch{l=function(w,N,D){return w[N]=D}}function h(I,_,w,N){var D=_&&_.prototype instanceof g?_:g,O=Object.create(D.prototype),M=new ie(N||[]);return r(O,"_invoke",{value:F(I,w,M)}),O}function f(I,_,w){try{return{type:"normal",arg:I.call(_,w)}}catch(N){return{type:"throw",arg:N}}}t.wrap=h;var p={};function g(){}function v(){}function E(){}var C={};l(C,s,function(){return this});var A=Object.getPrototypeOf,S=A&&A(A(re([])));S&&S!==e&&n.call(S,s)&&(C=S);var T=E.prototype=g.prototype=Object.create(C);function k(I){["next","throw","return"].forEach(function(_){l(I,_,function(w){return this._invoke(_,w)})})}function b(I,_){function w(D,O,M,B){var H=f(I[D],I,O);if(H.type!=="throw"){var ue=H.arg,fe=ue.value;return fe&&kT(fe)=="object"&&n.call(fe,"__await")?_.resolve(fe.__await).then(function(Se){w("next",Se,M,B)},function(Se){w("throw",Se,M,B)}):_.resolve(fe).then(function(Se){ue.value=Se,M(ue)},function(Se){return w("throw",Se,M,B)})}B(H.arg)}var N;r(this,"_invoke",{value:function(O,M){function B(){return new _(function(H,ue){w(O,M,H,ue)})}return N=N?N.then(B,B):B()}})}function F(I,_,w){var N="suspendedStart";return function(D,O){if(N==="executing")throw new Error("Generator is already running");if(N==="completed"){if(D==="throw")throw O;return Ne()}for(w.method=D,w.arg=O;;){var M=w.delegate;if(M){var B=V(M,w);if(B){if(B===p)continue;return B}}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(N==="suspendedStart")throw N="completed",w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);N="executing";var H=f(I,_,w);if(H.type==="normal"){if(N=w.done?"completed":"suspendedYield",H.arg===p)continue;return{value:H.arg,done:w.done}}H.type==="throw"&&(N="completed",w.method="throw",w.arg=H.arg)}}}function V(I,_){var w=_.method,N=I.iterator[w];if(N===void 0)return _.delegate=null,w==="throw"&&I.iterator.return&&(_.method="return",_.arg=void 0,V(I,_),_.method==="throw")||w!=="return"&&(_.method="throw",_.arg=new TypeError("The iterator does not provide a '"+w+"' method")),p;var D=f(N,I.iterator,_.arg);if(D.type==="throw")return _.method="throw",_.arg=D.arg,_.delegate=null,p;var O=D.arg;return O?O.done?(_[I.resultName]=O.value,_.next=I.nextLoc,_.method!=="return"&&(_.method="next",_.arg=void 0),_.delegate=null,p):O:(_.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,p)}function W(I){var _={tryLoc:I[0]};1 in I&&(_.catchLoc=I[1]),2 in I&&(_.finallyLoc=I[2],_.afterLoc=I[3]),this.tryEntries.push(_)}function G(I){var _=I.completion||{};_.type="normal",delete _.arg,I.completion=_}function ie(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(W,this),this.reset(!0)}function re(I){if(I){var _=I[s];if(_)return _.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var w=-1,N=function D(){for(;++w<I.length;)if(n.call(I,w))return D.value=I[w],D.done=!1,D;return D.value=void 0,D.done=!0,D};return N.next=N}}return{next:Ne}}function Ne(){return{value:void 0,done:!0}}return v.prototype=E,r(T,"constructor",{value:E,configurable:!0}),r(E,"constructor",{value:v,configurable:!0}),v.displayName=l(E,u,"GeneratorFunction"),t.isGeneratorFunction=function(I){var _=typeof I=="function"&&I.constructor;return!!_&&(_===v||(_.displayName||_.name)==="GeneratorFunction")},t.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,E):(I.__proto__=E,l(I,u,"GeneratorFunction")),I.prototype=Object.create(T),I},t.awrap=function(I){return{__await:I}},k(b.prototype),l(b.prototype,o,function(){return this}),t.AsyncIterator=b,t.async=function(I,_,w,N,D){D===void 0&&(D=Promise);var O=new b(h(I,_,w,N),D);return t.isGeneratorFunction(_)?O:O.next().then(function(M){return M.done?M.value:O.next()})},k(T),l(T,u,"Generator"),l(T,s,function(){return this}),l(T,"toString",function(){return"[object Generator]"}),t.keys=function(I){var _=Object(I),w=[];for(var N in _)w.push(N);return w.reverse(),function D(){for(;w.length;){var O=w.pop();if(O in _)return D.value=O,D.done=!1,D}return D.done=!0,D}},t.values=re,ie.prototype={constructor:ie,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(G),!_)for(var w in this)w.charAt(0)==="t"&&n.call(this,w)&&!isNaN(+w.slice(1))&&(this[w]=void 0)},stop:function(){this.done=!0;var _=this.tryEntries[0].completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var w=this;function N(ue,fe){return M.type="throw",M.arg=_,w.next=ue,fe&&(w.method="next",w.arg=void 0),!!fe}for(var D=this.tryEntries.length-1;D>=0;--D){var O=this.tryEntries[D],M=O.completion;if(O.tryLoc==="root")return N("end");if(O.tryLoc<=this.prev){var B=n.call(O,"catchLoc"),H=n.call(O,"finallyLoc");if(B&&H){if(this.prev<O.catchLoc)return N(O.catchLoc,!0);if(this.prev<O.finallyLoc)return N(O.finallyLoc)}else if(B){if(this.prev<O.catchLoc)return N(O.catchLoc,!0)}else{if(!H)throw new Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return N(O.finallyLoc)}}}},abrupt:function(_,w){for(var N=this.tryEntries.length-1;N>=0;--N){var D=this.tryEntries[N];if(D.tryLoc<=this.prev&&n.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var O=D;break}}O&&(_==="break"||_==="continue")&&O.tryLoc<=w&&w<=O.finallyLoc&&(O=null);var M=O?O.completion:{};return M.type=_,M.arg=w,O?(this.method="next",this.next=O.finallyLoc,p):this.complete(M)},complete:function(_,w){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&w&&(this.next=w),p},finish:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.finallyLoc===_)return this.complete(N.completion,N.afterLoc),G(N),p}},catch:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var N=this.tryEntries[w];if(N.tryLoc===_){var D=N.completion;if(D.type==="throw"){var O=D.arg;G(N)}return O}}throw new Error("illegal catch attempt")},delegateYield:function(_,w,N){return this.delegate={iterator:re(_),resultName:w,nextLoc:N},this.method==="next"&&(this.arg=void 0),p}},t}var Lve=$A().mark(lW);function lW(){return $A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H_e([uW()]);case 2:case"end":return e.stop()}},Lve)}var Mve=hU({app:BI.reducer,user:Ge.reducer,cache:mU.reducer}),Uve={key:"root",storage:A6},Fve=t_e(Uve,Mve),cW=Rve(),$ve=[fU(cW)],hW=AQ({reducer:Fve,enhancers:$ve,middleware:function(e){return e({thunk:!1,serializableCheck:!1})}});cW.run(lW);var Vve=a_e(hW);const Wve={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class z_{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||Wve,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new z_(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new z_(this.logger,e)}}var Zi=new z_;class Qy{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]=this.observers[r]||[],this.observers[r].push(n)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e]=this.observers[e].filter(r=>r!==n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[e]&&[].concat(this.observers[e]).forEach(o=>{o(...r)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(o=>{o.apply(o,[e,...r])})}}function Ah(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function yL(t){return t==null?"":""+t}function jve(t,e,n){t.forEach(r=>{e[r]&&(n[r]=e[r])})}function VA(t,e,n){function r(o){return o&&o.indexOf("###")>-1?o.replace(/###/g,"."):o}function i(){return!t||typeof t=="string"}const s=typeof e!="string"?[].concat(e):e.split(".");for(;s.length>1;){if(i())return{};const o=r(s.shift());!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={}}return i()?{}:{obj:t,k:r(s.shift())}}function wL(t,e,n){const{obj:r,k:i}=VA(t,e,Object);r[i]=n}function Bve(t,e,n,r){const{obj:i,k:s}=VA(t,e,Object);i[s]=i[s]||[],r&&(i[s]=i[s].concat(n)),r||i[s].push(n)}function H_(t,e){const{obj:n,k:r}=VA(t,e);if(n)return n[r]}function zve(t,e,n){const r=H_(t,n);return r!==void 0?r:H_(e,n)}function fW(t,e,n){for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):fW(t[r],e[r],n):t[r]=e[r]);return t}function nl(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Hve={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function qve(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,e=>Hve[e]):t}const Gve=[" ",",","?","!",";"];function Yve(t,e,n){e=e||"",n=n||"";const r=Gve.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const i=new RegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!i.test(t);if(!s){const o=t.indexOf(n);o>0&&!i.test(t.substring(0,o))&&(s=!0)}return s}function q_(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(n);let i=t;for(let s=0;s<r.length;++s){if(!i||typeof i[r[s]]=="string"&&s+1<r.length)return;if(i[r[s]]===void 0){let o=2,u=r.slice(s,s+o).join(n),l=i[u];for(;l===void 0&&r.length>s+o;)o++,u=r.slice(s,s+o).join(n),l=i[u];if(l===void 0)return;if(l===null)return null;if(e.endsWith(u)){if(typeof l=="string")return l;if(u&&typeof l[u]=="string")return l[u]}const h=r.slice(s+o).join(n);return h?q_(l,h,n):void 0}i=i[r[s]]}return i}function G_(t){return t&&t.indexOf("_")>0?t.replace("_","-"):t}class EL extends Qy{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let u=[e,n];r&&typeof r!="string"&&(u=u.concat(r)),r&&typeof r=="string"&&(u=u.concat(s?r.split(s):r)),e.indexOf(".")>-1&&(u=e.split("."));const l=H_(this.data,u);return l||!o||typeof r!="string"?l:q_(this.data&&this.data[e]&&this.data[e][n],r,s)}addResource(e,n,r,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let u=[e,n];r&&(u=u.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(u=e.split("."),i=n,n=u[1]),this.addNamespaces(n),wL(this.data,u,i),s.silent||this.emit("added",e,n,r,i)}addResources(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in r)(typeof r[s]=="string"||Object.prototype.toString.apply(r[s])==="[object Array]")&&this.addResource(e,n,s,r[s],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},u=[e,n];e.indexOf(".")>-1&&(u=e.split("."),i=r,r=n,n=u[1]),this.addNamespaces(n);let l=H_(this.data,u)||{};i?fW(l,r,s):l={...l,...r},wL(this.data,u,l),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var dW={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(s=>{this.processors[s]&&(e=this.processors[s].process(e,n,r,i))}),e}};const SL={};class Y_ extends Qy{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),jve(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Zi.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,n);return r&&r.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,u=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Yve(e,r,i);if(o&&!u){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:s};const h=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(h[0])>-1)&&(s=h.shift()),e=h.join(i)}return typeof s=="string"&&(s=[s]),{key:e,namespaces:s}}translate(e,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:u}=this.extractFromKey(e[e.length-1],n),l=u[u.length-1],h=n.lng||this.language,f=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h&&h.toLowerCase()==="cimode"){if(f){const b=n.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${b}${o}`,usedKey:o,exactUsedKey:o,usedLng:h,usedNS:l}:`${l}${b}${o}`}return i?{res:o,usedKey:o,exactUsedKey:o,usedLng:h,usedNS:l}:o}const p=this.resolve(e,n);let g=p&&p.res;const v=p&&p.usedKey||o,E=p&&p.exactUsedKey||o,C=Object.prototype.toString.apply(g),A=["[object Number]","[object Function]","[object RegExp]"],S=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,T=!this.i18nFormat||this.i18nFormat.handleAsObject;if(T&&g&&(typeof g!="string"&&typeof g!="boolean"&&typeof g!="number")&&A.indexOf(C)<0&&!(typeof S=="string"&&C==="[object Array]")){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const b=this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,g,{...n,ns:u}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(p.res=b,p):b}if(s){const b=C==="[object Array]",F=b?[]:{},V=b?E:v;for(const W in g)if(Object.prototype.hasOwnProperty.call(g,W)){const G=`${V}${s}${W}`;F[W]=this.translate(G,{...n,joinArrays:!1,ns:u}),F[W]===G&&(F[W]=g[W])}g=F}}else if(T&&typeof S=="string"&&C==="[object Array]")g=g.join(S),g&&(g=this.extendTranslation(g,e,n,r));else{let b=!1,F=!1;const V=n.count!==void 0&&typeof n.count!="string",W=Y_.hasDefaultValue(n),G=V?this.pluralResolver.getSuffix(h,n.count,n):"",ie=n.ordinal&&V?this.pluralResolver.getSuffix(h,n.count,{ordinal:!1}):"",re=n[`defaultValue${G}`]||n[`defaultValue${ie}`]||n.defaultValue;!this.isValidLookup(g)&&W&&(b=!0,g=re),this.isValidLookup(g)||(F=!0,g=o);const I=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&F?void 0:g,_=W&&re!==g&&this.options.updateMissing;if(F||b||_){if(this.logger.log(_?"updateKey":"missingKey",h,l,o,_?re:g),s){const O=this.resolve(o,{...n,keySeparator:!1});O&&O.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let w=[];const N=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&N&&N[0])for(let O=0;O<N.length;O++)w.push(N[O]);else this.options.saveMissingTo==="all"?w=this.languageUtils.toResolveHierarchy(n.lng||this.language):w.push(n.lng||this.language);const D=(O,M,B)=>{const H=W&&B!==g?B:I;this.options.missingKeyHandler?this.options.missingKeyHandler(O,l,M,H,_,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(O,l,M,H,_,n),this.emit("missingKey",O,l,M,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&V?w.forEach(O=>{this.pluralResolver.getSuffixes(O,n).forEach(M=>{D([O],o+M,n[`defaultValue${M}`]||re)})}):D(w,o,re))}g=this.extendTranslation(g,e,n,p,r),F&&g===o&&this.options.appendNamespaceToMissingKey&&(g=`${l}:${o}`),(F||b)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${o}`:o,b?g:void 0):g=this.options.parseMissingKeyHandler(g))}return i?(p.res=g,p):g}extendTranslation(e,n,r,i,s){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const h=typeof e=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(h){const g=e.match(this.interpolator.nestingRegexp);f=g&&g.length}let p=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,r.lng||this.language,r),h){const g=e.match(this.interpolator.nestingRegexp),v=g&&g.length;f<v&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var g=arguments.length,v=new Array(g),E=0;E<g;E++)v[E]=arguments[E];return s&&s[0]===v[0]&&!r.context?(o.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${n[0]}`),null):o.translate(...v,n)},r)),r.interpolation&&this.interpolator.reset()}const u=r.postProcess||this.options.postProcess,l=typeof u=="string"?[u]:u;return e!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(e=dW.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:i,...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,s,o,u;return typeof e=="string"&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const h=this.extractFromKey(l,n),f=h.key;i=f;let p=h.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));const g=n.count!==void 0&&typeof n.count!="string",v=g&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),E=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",C=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);p.forEach(A=>{this.isValidLookup(r)||(u=A,!SL[`${C[0]}-${A}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(u)&&(SL[`${C[0]}-${A}`]=!0,this.logger.warn(`key "${i}" for languages "${C.join(", ")}" won't get resolved as namespace "${u}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),C.forEach(S=>{if(this.isValidLookup(r))return;o=S;const T=[f];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(T,f,S,A,n);else{let b;g&&(b=this.pluralResolver.getSuffix(S,n.count,n));const F=`${this.options.pluralSeparator}zero`,V=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(g&&(T.push(f+b),n.ordinal&&b.indexOf(V)===0&&T.push(f+b.replace(V,this.options.pluralSeparator)),v&&T.push(f+F)),E){const W=`${f}${this.options.contextSeparator}${n.context}`;T.push(W),g&&(T.push(W+b),n.ordinal&&b.indexOf(V)===0&&T.push(W+b.replace(V,this.options.pluralSeparator)),v&&T.push(W+F))}}let k;for(;k=T.pop();)this.isValidLookup(r)||(s=k,r=this.getResource(S,A,k,n))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:u}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}function n1(t){return t.charAt(0).toUpperCase()+t.slice(1)}class TL{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Zi.create("languageUtils")}getScriptPartFromCode(e){if(e=G_(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=G_(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=n1(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=n1(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=n1(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(s=>{if(s===i)return s;if(!(s.indexOf("-")<0&&i.indexOf("-")<0)&&s.indexOf(i)===0)return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),typeof e=="string"&&(e=[e]),Object.prototype.toString.apply(e)==="[object Array]")return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),i=[],s=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):typeof e=="string"&&s(this.formatLanguageCode(e)),r.forEach(o=>{i.indexOf(o)<0&&s(this.formatLanguageCode(o))}),i}}let Kve=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Qve={1:function(t){return Number(t>1)},2:function(t){return Number(t!=1)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(t==1?0:t>=2&&t<=4?1:2)},7:function(t){return Number(t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(t==1?0:t==2?1:t!=8&&t!=11?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(t==1?0:t==2?1:t<7?2:t<11?3:4)},11:function(t){return Number(t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(t!==0)},14:function(t){return Number(t==1?0:t==2?1:t==3?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:t!==0?1:2)},17:function(t){return Number(t==1||t%10==1&&t%100!=11?0:1)},18:function(t){return Number(t==0?0:t==1?1:2)},19:function(t){return Number(t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(t==1?0:t==0||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3)}};const Xve=["v1","v2","v3"],Jve=["v4"],IL={zero:0,one:1,two:2,few:3,many:4,other:5};function Zve(){const t={};return Kve.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:Qve[e.fc]}})}),t}class eye{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=Zi.create("pluralResolver"),(!this.options.compatibilityJSON||Jve.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Zve()}addRule(e,n){this.rules[e]=n}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(G_(e),{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,s)=>IL[i]-IL[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(e,i,n)):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:this.getSuffixRetroCompatible(i,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const r=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let i=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const s=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?s():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!Xve.includes(this.options.compatibilityJSON)}}function CL(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=zve(t,e,n);return!s&&i&&typeof n=="string"&&(s=q_(t,n,r),s===void 0&&(s=q_(e,n,r))),s}class tye{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Zi.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const n=e.interpolation;this.escape=n.escape!==void 0?n.escape:qve,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?nl(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?nl(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?nl(n.nestingPrefix):n.nestingPrefixEscaped||nl("$t("),this.nestingSuffix=n.nestingSuffix?nl(n.nestingSuffix):n.nestingSuffixEscaped||nl(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=`${this.prefix}(.+?)${this.suffix}`;this.regexp=new RegExp(e,"g");const n=`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;this.regexpUnescape=new RegExp(n,"g");const r=`${this.nestingPrefix}(.+?)${this.nestingSuffix}`;this.nestingRegexp=new RegExp(r,"g")}interpolate(e,n,r,i){let s,o,u;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function h(E){return E.replace(/\$/g,"$$$$")}const f=E=>{if(E.indexOf(this.formatSeparator)<0){const T=CL(n,l,E,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(T,void 0,r,{...i,...n,interpolationkey:E}):T}const C=E.split(this.formatSeparator),A=C.shift().trim(),S=C.join(this.formatSeparator).trim();return this.format(CL(n,l,A,this.options.keySeparator,this.options.ignoreJSONStructure),S,r,{...i,...n,interpolationkey:A})};this.resetRegExp();const p=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,g=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:E=>h(E)},{regex:this.regexp,safeValue:E=>this.escapeValue?h(this.escape(E)):h(E)}].forEach(E=>{for(u=0;s=E.regex.exec(e);){const C=s[1].trim();if(o=f(C),o===void 0)if(typeof p=="function"){const S=p(e,s,i);o=typeof S=="string"?S:""}else if(i&&Object.prototype.hasOwnProperty.call(i,C))o="";else if(g){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${C} for interpolating ${e}`),o="";else typeof o!="string"&&!this.useRawValueToEscape&&(o=yL(o));const A=E.safeValue(o);if(e=e.replace(s[0],A),g?(E.regex.lastIndex+=o.length,E.regex.lastIndex-=s[0].length):E.regex.lastIndex=0,u++,u>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,s,o;function u(l,h){const f=this.nestingOptionsSeparator;if(l.indexOf(f)<0)return l;const p=l.split(new RegExp(`${f}[ ]*{`));let g=`{${p[1]}`;l=p[0],g=this.interpolate(g,o);const v=g.match(/'/g),E=g.match(/"/g);(v&&v.length%2===0&&!E||E.length%2!==0)&&(g=g.replace(/'/g,'"'));try{o=JSON.parse(g),h&&(o={...h,...o})}catch(C){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,C),`${l}${f}${g}`}return delete o.defaultValue,l}for(;i=this.nestingRegexp.exec(e);){let l=[];o={...r},o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let h=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const f=i[1].split(this.formatSeparator).map(p=>p.trim());i[1]=f.shift(),l=f,h=!0}if(s=n(u.call(this,i[1].trim(),o),o),s&&i[0]===e&&typeof s!="string")return s;typeof s!="string"&&(s=yL(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),h&&(s=l.reduce((f,p)=>this.format(f,p,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}function nye(t){let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(o=>{if(!o)return;const[u,...l]=o.split(":"),h=l.join(":").trim().replace(/^'+|'+$/g,"");n[u.trim()]||(n[u.trim()]=h),h==="false"&&(n[u.trim()]=!1),h==="true"&&(n[u.trim()]=!0),isNaN(h)||(n[u.trim()]=parseInt(h,10))})}return{formatName:e,formatOptions:n}}function rl(t){const e={};return function(r,i,s){const o=i+JSON.stringify(s);let u=e[o];return u||(u=t(G_(i),s),e[o]=u),u(r)}}class rye{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Zi.create("formatter"),this.options=e,this.formats={number:rl((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return s=>i.format(s)}),currency:rl((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return s=>i.format(s)}),datetime:rl((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return s=>i.format(s)}),relativetime:rl((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return s=>i.format(s,r.range||"day")}),list:rl((n,r)=>{const i=new Intl.ListFormat(n,{...r});return s=>i.format(s)})},this.init(e)}init(e){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=rl(n)}format(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return n.split(this.formatSeparator).reduce((u,l)=>{const{formatName:h,formatOptions:f}=nye(l);if(this.formats[h]){let p=u;try{const g=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},v=g.locale||g.lng||i.locale||i.lng||r;p=this.formats[h](u,v,{...f,...i,...g})}catch(g){this.logger.warn(g)}return p}else this.logger.warn(`there was no format function for ${h}`);return u},e)}}function iye(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}class sye extends Qy{constructor(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Zi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(e,n,r,i){const s={},o={},u={},l={};return e.forEach(h=>{let f=!0;n.forEach(p=>{const g=`${h}|${p}`;!r.reload&&this.store.hasResourceBundle(h,p)?this.state[g]=2:this.state[g]<0||(this.state[g]===1?o[g]===void 0&&(o[g]=!0):(this.state[g]=1,f=!1,o[g]===void 0&&(o[g]=!0),s[g]===void 0&&(s[g]=!0),l[p]===void 0&&(l[p]=!0)))}),f||(u[h]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(u),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const i=e.split("|"),s=i[0],o=i[1];n&&this.emit("failedLoading",s,o,n),r&&this.store.addResourceBundle(s,o,r),this.state[e]=n?-1:2;const u={};this.queue.forEach(l=>{Bve(l.loaded,[s],o),iye(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(h=>{u[h]||(u[h]={});const f=l.loaded[h];f.length&&f.forEach(p=>{u[h][p]===void 0&&(u[h][p]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:s,callback:o});return}this.readingCalls++;const u=(h,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(h&&f&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,s*2,o)},s);return}o(h,f)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const h=l(e,n);h&&typeof h.then=="function"?h.then(f=>u(null,f)).catch(u):u(null,h)}catch(h){u(h)}return}return l(e,n,u)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof n=="string"&&(n=[n]);const s=this.queueLoad(e,n,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(o,u)=>{o&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,o),!o&&u&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,u),this.loaded(e,o,u)})}saveMissing(e,n,r,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},u=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:s},h=this.backend.create.bind(this.backend);if(h.length<6)try{let f;h.length===5?f=h(e,n,r,i,l):f=h(e,n,r,i),f&&typeof f.then=="function"?f.then(p=>u(null,p)).catch(u):u(null,f)}catch(f){u(f)}else h(e,n,r,i,u,l)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}function RL(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let n={};if(typeof e[1]=="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(i=>{n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:(t,e,n,r)=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function AL(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function Lg(){}function oye(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}class pd extends Qy{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=AL(e),this.services={},this.logger=Zi,this.modules={external:[]},oye(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=RL();this.options={...i,...this.options,...AL(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);function s(f){return f?typeof f=="function"?new f:f:null}if(!this.options.isClone){this.modules.logger?Zi.init(s(this.modules.logger),this.options):Zi.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:typeof Intl<"u"&&(f=rye);const p=new TL(this.options);this.store=new EL(this.options.resources,this.options);const g=this.services;g.logger=Zi,g.resourceStore=this.store,g.languageUtils=p,g.pluralResolver=new eye(p,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),f&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(g.formatter=s(f),g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new tye(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new sye(s(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",function(v){for(var E=arguments.length,C=new Array(E>1?E-1:0),A=1;A<E;A++)C[A-1]=arguments[A];e.emit(v,...C)}),this.modules.languageDetector&&(g.languageDetector=s(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=s(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new Y_(this.services,this.options),this.translator.on("*",function(v){for(var E=arguments.length,C=new Array(E>1?E-1:0),A=1;A<E;A++)C[A-1]=arguments[A];e.emit(v,...C)}),this.modules.external.forEach(v=>{v.init&&v.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Lg),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=function(){return e.store[f](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=function(){return e.store[f](...arguments),e}});const l=Ah(),h=()=>{const f=(p,g)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(g),r(p,g)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initImmediate?h():setTimeout(h,0),l}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Lg;const i=typeof e=="string"?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode")return r();const s=[],o=u=>{if(!u)return;this.services.languageUtils.toResolveHierarchy(u).forEach(h=>{s.indexOf(h)<0&&s.push(h)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(u=>o(u)),this.services.backendConnector.load(s,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(u)})}else r(null)}reloadResources(e,n,r){const i=Ah();return e||(e=this.languages),n||(n=this.options.ns),r||(r=Lg),this.services.backendConnector.reload(e,n,s=>{i.resolve(),r(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&dW.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const i=Ah();this.emit("languageChanging",e);const s=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,h)=>{h?(s(h),this.translator.changeLanguage(h),this.isLanguageChangingTo=void 0,this.emit("languageChanged",h),this.logger.log("languageChanged",h)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},u=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const h=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);h&&(this.language||s(h),this.translator.language||this.translator.changeLanguage(h),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(h)),this.loadResources(h,f=>{o(f,h)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),i}getFixedT(e,n,r){var i=this;const s=function(o,u){let l;if(typeof u!="object"){for(var h=arguments.length,f=new Array(h>2?h-2:0),p=2;p<h;p++)f[p-2]=arguments[p];l=i.options.overloadTranslationOptionHandler([o,u].concat(f))}else l={...u};l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix=l.keyPrefix||r||s.keyPrefix;const g=i.options.keySeparator||".";let v;return l.keyPrefix&&Array.isArray(o)?v=o.map(E=>`${l.keyPrefix}${g}${E}`):v=l.keyPrefix?`${l.keyPrefix}${g}${o}`:o,i.t(v,l)};return typeof e=="string"?s.lng=e:s.lngs=e,s.ns=n,s.keyPrefix=r,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(u,l)=>{const h=this.services.backendConnector.state[`${u}|${l}`];return h===-1||h===2};if(n.precheck){const u=n.precheck(this,o);if(u!==void 0)return u}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!i||o(s,e)))}loadNamespaces(e,n){const r=Ah();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Ah();typeof e=="string"&&(e=[e]);const i=this.options.preload||[],s=e.filter(o=>i.indexOf(o)<0);return s.length?(this.options.preload=i.concat(s),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new TL(RL());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new pd(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Lg;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new pd(i);return(e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(u=>{s[u]=this[u]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r&&(s.store=new EL(this.store.data,i),s.services.resourceStore=s.store),s.translator=new Y_(s.services,i),s.translator.on("*",function(u){for(var l=arguments.length,h=new Array(l>1?l-1:0),f=1;f<l;f++)h[f-1]=arguments[f];s.emit(u,...h)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Rn=pd.createInstance();Rn.createInstance=pd.createInstance;Rn.createInstance;Rn.dir;Rn.init;Rn.loadResources;Rn.reloadResources;Rn.use;Rn.changeLanguage;Rn.getFixedT;Rn.t;Rn.exists;Rn.setDefaultNamespace;Rn.hasLoadedNamespace;Rn.loadNamespaces;Rn.loadLanguages;var aye={auth:{email_already_in_use:"This email address is already in use!",user_not_found:"User is not found!",wrong_password:"Wrong password!",weak_password:"Password should be at least 6 characters"}};Rn.use($7).init({resources:{en:{translation:aye}},lng:"en"});var uye=function(){return te(DT.StrictMode,{children:te(j7,{i18n:Rn,children:te(NY,{store:hW,children:te(QM,{persistor:Vve,children:te(Vme,{})})})})})};i1.createRoot(document.getElementById("root")).render(te(uye,{}))});export default lye();
